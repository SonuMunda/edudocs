var xU=Object.defineProperty;var cT=t=>{throw TypeError(t)};var bU=(t,e,n)=>e in t?xU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var qe=(t,e,n)=>bU(t,typeof e!="symbol"?e+"":e,n),_4=(t,e,n)=>e.has(t)||cT("Cannot "+n);var x=(t,e,n)=>(_4(t,e,"read from private field"),n?n.call(t):e.get(t)),L=(t,e,n)=>e.has(t)?cT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),F=(t,e,n,i)=>(_4(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),M=(t,e,n)=>(_4(t,e,"access private method"),n);var Ws=(t,e,n,i)=>({set _(s){F(t,e,s,n)},get _(){return x(t,e,i)}});function yU(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function $u(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var T4={exports:{}},hm={},I4={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT;function wU(){if(uT)return Ht;uT=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),d=Symbol.iterator;function p(X){return X===null||typeof X!="object"?null:(X=d&&X[d]||X["@@iterator"],typeof X=="function"?X:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,b={};function v(X,te,re){this.props=X,this.context=te,this.refs=b,this.updater=re||g}v.prototype.isReactComponent={},v.prototype.setState=function(X,te){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,te,"setState")},v.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function S(){}S.prototype=v.prototype;function C(X,te,re){this.props=X,this.context=te,this.refs=b,this.updater=re||g}var E=C.prototype=new S;E.constructor=C,m(E,v.prototype),E.isPureReactComponent=!0;var w=Array.isArray,A=Object.prototype.hasOwnProperty,T={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(X,te,re){var Ee,Re={},we=null,K=null;if(te!=null)for(Ee in te.ref!==void 0&&(K=te.ref),te.key!==void 0&&(we=""+te.key),te)A.call(te,Ee)&&!P.hasOwnProperty(Ee)&&(Re[Ee]=te[Ee]);var Z=arguments.length-2;if(Z===1)Re.children=re;else if(1<Z){for(var oe=Array(Z),de=0;de<Z;de++)oe[de]=arguments[de+2];Re.children=oe}if(X&&X.defaultProps)for(Ee in Z=X.defaultProps,Z)Re[Ee]===void 0&&(Re[Ee]=Z[Ee]);return{$$typeof:t,type:X,key:we,ref:K,props:Re,_owner:T.current}}function D(X,te){return{$$typeof:t,type:X.type,key:te,ref:X.ref,props:X.props,_owner:X._owner}}function O(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function B(X){var te={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(re){return te[re]})}var U=/\/+/g;function V(X,te){return typeof X=="object"&&X!==null&&X.key!=null?B(""+X.key):te.toString(36)}function ee(X,te,re,Ee,Re){var we=typeof X;(we==="undefined"||we==="boolean")&&(X=null);var K=!1;if(X===null)K=!0;else switch(we){case"string":case"number":K=!0;break;case"object":switch(X.$$typeof){case t:case e:K=!0}}if(K)return K=X,Re=Re(K),X=Ee===""?"."+V(K,0):Ee,w(Re)?(re="",X!=null&&(re=X.replace(U,"$&/")+"/"),ee(Re,te,re,"",function(de){return de})):Re!=null&&(O(Re)&&(Re=D(Re,re+(!Re.key||K&&K.key===Re.key?"":(""+Re.key).replace(U,"$&/")+"/")+X)),te.push(Re)),1;if(K=0,Ee=Ee===""?".":Ee+":",w(X))for(var Z=0;Z<X.length;Z++){we=X[Z];var oe=Ee+V(we,Z);K+=ee(we,te,re,oe,Re)}else if(oe=p(X),typeof oe=="function")for(X=oe.call(X),Z=0;!(we=X.next()).done;)we=we.value,oe=Ee+V(we,Z++),K+=ee(we,te,re,oe,Re);else if(we==="object")throw te=String(X),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return K}function Q(X,te,re){if(X==null)return X;var Ee=[],Re=0;return ee(X,Ee,"","",function(we){return te.call(re,we,Re++)}),Ee}function G(X){if(X._status===-1){var te=X._result;te=te(),te.then(function(re){(X._status===0||X._status===-1)&&(X._status=1,X._result=re)},function(re){(X._status===0||X._status===-1)&&(X._status=2,X._result=re)}),X._status===-1&&(X._status=0,X._result=te)}if(X._status===1)return X._result.default;throw X._result}var $={current:null},ie={transition:null},he={ReactCurrentDispatcher:$,ReactCurrentBatchConfig:ie,ReactCurrentOwner:T};function pe(){throw Error("act(...) is not supported in production builds of React.")}return Ht.Children={map:Q,forEach:function(X,te,re){Q(X,function(){te.apply(this,arguments)},re)},count:function(X){var te=0;return Q(X,function(){te++}),te},toArray:function(X){return Q(X,function(te){return te})||[]},only:function(X){if(!O(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Ht.Component=v,Ht.Fragment=n,Ht.Profiler=s,Ht.PureComponent=C,Ht.StrictMode=i,Ht.Suspense=l,Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Ht.act=pe,Ht.cloneElement=function(X,te,re){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var Ee=m({},X.props),Re=X.key,we=X.ref,K=X._owner;if(te!=null){if(te.ref!==void 0&&(we=te.ref,K=T.current),te.key!==void 0&&(Re=""+te.key),X.type&&X.type.defaultProps)var Z=X.type.defaultProps;for(oe in te)A.call(te,oe)&&!P.hasOwnProperty(oe)&&(Ee[oe]=te[oe]===void 0&&Z!==void 0?Z[oe]:te[oe])}var oe=arguments.length-2;if(oe===1)Ee.children=re;else if(1<oe){Z=Array(oe);for(var de=0;de<oe;de++)Z[de]=arguments[de+2];Ee.children=Z}return{$$typeof:t,type:X.type,key:Re,ref:we,props:Ee,_owner:K}},Ht.createContext=function(X){return X={$$typeof:a,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:r,_context:X},X.Consumer=X},Ht.createElement=R,Ht.createFactory=function(X){var te=R.bind(null,X);return te.type=X,te},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(X){return{$$typeof:o,render:X}},Ht.isValidElement=O,Ht.lazy=function(X){return{$$typeof:u,_payload:{_status:-1,_result:X},_init:G}},Ht.memo=function(X,te){return{$$typeof:c,type:X,compare:te===void 0?null:te}},Ht.startTransition=function(X){var te=ie.transition;ie.transition={};try{X()}finally{ie.transition=te}},Ht.unstable_act=pe,Ht.useCallback=function(X,te){return $.current.useCallback(X,te)},Ht.useContext=function(X){return $.current.useContext(X)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(X){return $.current.useDeferredValue(X)},Ht.useEffect=function(X,te){return $.current.useEffect(X,te)},Ht.useId=function(){return $.current.useId()},Ht.useImperativeHandle=function(X,te,re){return $.current.useImperativeHandle(X,te,re)},Ht.useInsertionEffect=function(X,te){return $.current.useInsertionEffect(X,te)},Ht.useLayoutEffect=function(X,te){return $.current.useLayoutEffect(X,te)},Ht.useMemo=function(X,te){return $.current.useMemo(X,te)},Ht.useReducer=function(X,te,re){return $.current.useReducer(X,te,re)},Ht.useRef=function(X){return $.current.useRef(X)},Ht.useState=function(X){return $.current.useState(X)},Ht.useSyncExternalStore=function(X,te,re){return $.current.useSyncExternalStore(X,te,re)},Ht.useTransition=function(){return $.current.useTransition()},Ht.version="18.3.1",Ht}var hT;function X8(){return hT||(hT=1,I4.exports=wU()),I4.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function vU(){if(dT)return hm;dT=1;var t=X8(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var u,d={},p=null,g=null;c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(g=l.ref);for(u in l)i.call(l,u)&&!r.hasOwnProperty(u)&&(d[u]=l[u]);if(o&&o.defaultProps)for(u in l=o.defaultProps,l)d[u]===void 0&&(d[u]=l[u]);return{$$typeof:e,type:o,key:p,ref:g,props:d,_owner:s.current}}return hm.Fragment=n,hm.jsx=a,hm.jsxs=a,hm}var fT;function SU(){return fT||(fT=1,T4.exports=vU()),T4.exports}var _=SU(),vb={},P4={exports:{}},vr={},N4={exports:{}},R4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT;function AU(){return pT||(pT=1,function(t){function e(ie,he){var pe=ie.length;ie.push(he);e:for(;0<pe;){var X=pe-1>>>1,te=ie[X];if(0<s(te,he))ie[X]=he,ie[pe]=te,pe=X;else break e}}function n(ie){return ie.length===0?null:ie[0]}function i(ie){if(ie.length===0)return null;var he=ie[0],pe=ie.pop();if(pe!==he){ie[0]=pe;e:for(var X=0,te=ie.length,re=te>>>1;X<re;){var Ee=2*(X+1)-1,Re=ie[Ee],we=Ee+1,K=ie[we];if(0>s(Re,pe))we<te&&0>s(K,Re)?(ie[X]=K,ie[we]=pe,X=we):(ie[X]=Re,ie[Ee]=pe,X=Ee);else if(we<te&&0>s(K,pe))ie[X]=K,ie[we]=pe,X=we;else break e}}return he}function s(ie,he){var pe=ie.sortIndex-he.sortIndex;return pe!==0?pe:ie.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,p=3,g=!1,m=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(ie){for(var he=n(c);he!==null;){if(he.callback===null)i(c);else if(he.startTime<=ie)i(c),he.sortIndex=he.expirationTime,e(l,he);else break;he=n(c)}}function w(ie){if(b=!1,E(ie),!m)if(n(l)!==null)m=!0,G(A);else{var he=n(c);he!==null&&$(w,he.startTime-ie)}}function A(ie,he){m=!1,b&&(b=!1,S(R),R=-1),g=!0;var pe=p;try{for(E(he),d=n(l);d!==null&&(!(d.expirationTime>he)||ie&&!B());){var X=d.callback;if(typeof X=="function"){d.callback=null,p=d.priorityLevel;var te=X(d.expirationTime<=he);he=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&i(l),E(he)}else i(l);d=n(l)}if(d!==null)var re=!0;else{var Ee=n(c);Ee!==null&&$(w,Ee.startTime-he),re=!1}return re}finally{d=null,p=pe,g=!1}}var T=!1,P=null,R=-1,D=5,O=-1;function B(){return!(t.unstable_now()-O<D)}function U(){if(P!==null){var ie=t.unstable_now();O=ie;var he=!0;try{he=P(!0,ie)}finally{he?V():(T=!1,P=null)}}else T=!1}var V;if(typeof C=="function")V=function(){C(U)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Q=ee.port2;ee.port1.onmessage=U,V=function(){Q.postMessage(null)}}else V=function(){v(U,0)};function G(ie){P=ie,T||(T=!0,V())}function $(ie,he){R=v(function(){ie(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,G(A))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ie){switch(p){case 1:case 2:case 3:var he=3;break;default:he=p}var pe=p;p=he;try{return ie()}finally{p=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,he){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var pe=p;p=ie;try{return he()}finally{p=pe}},t.unstable_scheduleCallback=function(ie,he,pe){var X=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?X+pe:X):pe=X,ie){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=pe+te,ie={id:u++,callback:he,priorityLevel:ie,startTime:pe,expirationTime:te,sortIndex:-1},pe>X?(ie.sortIndex=pe,e(c,ie),n(l)===null&&ie===n(c)&&(b?(S(R),R=-1):b=!0,$(w,pe-X))):(ie.sortIndex=te,e(l,ie),m||g||(m=!0,G(A))),ie},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(ie){var he=p;return function(){var pe=p;p=he;try{return ie.apply(this,arguments)}finally{p=pe}}}}(R4)),R4}var gT;function kU(){return gT||(gT=1,N4.exports=AU()),N4.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function CU(){if(mT)return vr;mT=1;var t=X8(),e=kU();function n(h){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+h,y=1;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function r(h,f){a(h,f),a(h+"Capture",f)}function a(h,f){for(s[h]=f,h=0;h<f.length;h++)i.add(f[h])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},d={};function p(h){return l.call(d,h)?!0:l.call(u,h)?!1:c.test(h)?d[h]=!0:(u[h]=!0,!1)}function g(h,f,y,k){if(y!==null&&y.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return k?!1:y!==null?!y.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function m(h,f,y,k){if(f===null||typeof f>"u"||g(h,f,y,k))return!0;if(k)return!1;if(y!==null)switch(y.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function b(h,f,y,k,I,N,j){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=k,this.attributeNamespace=I,this.mustUseProperty=y,this.propertyName=h,this.type=f,this.sanitizeURL=N,this.removeEmptyString=j}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){v[h]=new b(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var f=h[0];v[f]=new b(f,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){v[h]=new b(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){v[h]=new b(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){v[h]=new b(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){v[h]=new b(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){v[h]=new b(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){v[h]=new b(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){v[h]=new b(h,5,!1,h.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var f=h.replace(S,C);v[f]=new b(f,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var f=h.replace(S,C);v[f]=new b(f,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var f=h.replace(S,C);v[f]=new b(f,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){v[h]=new b(h,1,!1,h.toLowerCase(),null,!1,!1)}),v.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){v[h]=new b(h,1,!1,h.toLowerCase(),null,!0,!0)});function E(h,f,y,k){var I=v.hasOwnProperty(f)?v[f]:null;(I!==null?I.type!==0:k||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(m(f,y,I,k)&&(y=null),k||I===null?p(f)&&(y===null?h.removeAttribute(f):h.setAttribute(f,""+y)):I.mustUseProperty?h[I.propertyName]=y===null?I.type===3?!1:"":y:(f=I.attributeName,k=I.attributeNamespace,y===null?h.removeAttribute(f):(I=I.type,y=I===3||I===4&&y===!0?"":""+y,k?h.setAttributeNS(k,f,y):h.setAttribute(f,y))))}var w=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),T=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),B=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),ie=Symbol.iterator;function he(h){return h===null||typeof h!="object"?null:(h=ie&&h[ie]||h["@@iterator"],typeof h=="function"?h:null)}var pe=Object.assign,X;function te(h){if(X===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);X=f&&f[1]||""}return`
`+X+h}var re=!1;function Ee(h,f){if(!h||re)return"";re=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(Ae){var k=Ae}Reflect.construct(h,[],f)}else{try{f.call()}catch(Ae){k=Ae}h.call(f.prototype)}else{try{throw Error()}catch(Ae){k=Ae}h()}}catch(Ae){if(Ae&&k&&typeof Ae.stack=="string"){for(var I=Ae.stack.split(`
`),N=k.stack.split(`
`),j=I.length-1,Y=N.length-1;1<=j&&0<=Y&&I[j]!==N[Y];)Y--;for(;1<=j&&0<=Y;j--,Y--)if(I[j]!==N[Y]){if(j!==1||Y!==1)do if(j--,Y--,0>Y||I[j]!==N[Y]){var ne=`
`+I[j].replace(" at new "," at ");return h.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",h.displayName)),ne}while(1<=j&&0<=Y);break}}}finally{re=!1,Error.prepareStackTrace=y}return(h=h?h.displayName||h.name:"")?te(h):""}function Re(h){switch(h.tag){case 5:return te(h.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return h=Ee(h.type,!1),h;case 11:return h=Ee(h.type.render,!1),h;case 1:return h=Ee(h.type,!0),h;default:return""}}function we(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case P:return"Fragment";case T:return"Portal";case D:return"Profiler";case R:return"StrictMode";case V:return"Suspense";case ee:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case B:return(h.displayName||"Context")+".Consumer";case O:return(h._context.displayName||"Context")+".Provider";case U:var f=h.render;return h=h.displayName,h||(h=f.displayName||f.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case Q:return f=h.displayName||null,f!==null?f:we(h.type)||"Memo";case G:f=h._payload,h=h._init;try{return we(h(f))}catch{}}return null}function K(h){var f=h.type;switch(h.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=f.render,h=h.displayName||h.name||"",f.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(f);case 8:return f===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function Z(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function oe(h){var f=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function de(h){var f=oe(h)?"checked":"value",y=Object.getOwnPropertyDescriptor(h.constructor.prototype,f),k=""+h[f];if(!h.hasOwnProperty(f)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var I=y.get,N=y.set;return Object.defineProperty(h,f,{configurable:!0,get:function(){return I.call(this)},set:function(j){k=""+j,N.call(this,j)}}),Object.defineProperty(h,f,{enumerable:y.enumerable}),{getValue:function(){return k},setValue:function(j){k=""+j},stopTracking:function(){h._valueTracker=null,delete h[f]}}}}function Ie(h){h._valueTracker||(h._valueTracker=de(h))}function ye(h){if(!h)return!1;var f=h._valueTracker;if(!f)return!0;var y=f.getValue(),k="";return h&&(k=oe(h)?h.checked?"true":"false":h.value),h=k,h!==y?(f.setValue(h),!0):!1}function xe(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function se(h,f){var y=f.checked;return pe({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??h._wrapperState.initialChecked})}function Ue(h,f){var y=f.defaultValue==null?"":f.defaultValue,k=f.checked!=null?f.checked:f.defaultChecked;y=Z(f.value!=null?f.value:y),h._wrapperState={initialChecked:k,initialValue:y,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function Ve(h,f){f=f.checked,f!=null&&E(h,"checked",f,!1)}function Ke(h,f){Ve(h,f);var y=Z(f.value),k=f.type;if(y!=null)k==="number"?(y===0&&h.value===""||h.value!=y)&&(h.value=""+y):h.value!==""+y&&(h.value=""+y);else if(k==="submit"||k==="reset"){h.removeAttribute("value");return}f.hasOwnProperty("value")?He(h,f.type,y):f.hasOwnProperty("defaultValue")&&He(h,f.type,Z(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(h.defaultChecked=!!f.defaultChecked)}function Xe(h,f,y){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var k=f.type;if(!(k!=="submit"&&k!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+h._wrapperState.initialValue,y||f===h.value||(h.value=f),h.defaultValue=f}y=h.name,y!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,y!==""&&(h.name=y)}function He(h,f,y){(f!=="number"||xe(h.ownerDocument)!==h)&&(y==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+y&&(h.defaultValue=""+y))}var Le=Array.isArray;function tt(h,f,y,k){if(h=h.options,f){f={};for(var I=0;I<y.length;I++)f["$"+y[I]]=!0;for(y=0;y<h.length;y++)I=f.hasOwnProperty("$"+h[y].value),h[y].selected!==I&&(h[y].selected=I),I&&k&&(h[y].defaultSelected=!0)}else{for(y=""+Z(y),f=null,I=0;I<h.length;I++){if(h[I].value===y){h[I].selected=!0,k&&(h[I].defaultSelected=!0);return}f!==null||h[I].disabled||(f=h[I])}f!==null&&(f.selected=!0)}}function ce(h,f){if(f.dangerouslySetInnerHTML!=null)throw Error(n(91));return pe({},f,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function ge(h,f){var y=f.value;if(y==null){if(y=f.children,f=f.defaultValue,y!=null){if(f!=null)throw Error(n(92));if(Le(y)){if(1<y.length)throw Error(n(93));y=y[0]}f=y}f==null&&(f=""),y=f}h._wrapperState={initialValue:Z(y)}}function Te(h,f){var y=Z(f.value),k=Z(f.defaultValue);y!=null&&(y=""+y,y!==h.value&&(h.value=y),f.defaultValue==null&&h.defaultValue!==y&&(h.defaultValue=y)),k!=null&&(h.defaultValue=""+k)}function Ne(h){var f=h.textContent;f===h._wrapperState.initialValue&&f!==""&&f!==null&&(h.value=f)}function Ye(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pe(h,f){return h==null||h==="http://www.w3.org/1999/xhtml"?Ye(f):h==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var nt,Qe=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,y,k,I){MSApp.execUnsafeLocalFunction(function(){return h(f,y,k,I)})}:h}(function(h,f){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=f;else{for(nt=nt||document.createElement("div"),nt.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=nt.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;f.firstChild;)h.appendChild(f.firstChild)}});function vt(h,f){if(f){var y=h.firstChild;if(y&&y===h.lastChild&&y.nodeType===3){y.nodeValue=f;return}}h.textContent=f}var jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bi=["Webkit","ms","Moz","O"];Object.keys(jt).forEach(function(h){bi.forEach(function(f){f=f+h.charAt(0).toUpperCase()+h.substring(1),jt[f]=jt[h]})});function gr(h,f,y){return f==null||typeof f=="boolean"||f===""?"":y||typeof f!="number"||f===0||jt.hasOwnProperty(h)&&jt[h]?(""+f).trim():f+"px"}function $l(h,f){h=h.style;for(var y in f)if(f.hasOwnProperty(y)){var k=y.indexOf("--")===0,I=gr(y,f[y],k);y==="float"&&(y="cssFloat"),k?h.setProperty(y,I):h[y]=I}}var _f=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ku(h,f){if(f){if(_f[h]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(n(137,h));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(n(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(n(61))}if(f.style!=null&&typeof f.style!="object")throw Error(n(62))}}function Eg(h,f){if(h.indexOf("-")===-1)return typeof f.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _g=null;function Tg(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Tf=null,Ul=null,t0=null;function Ig(h){if(h=Yg(h)){if(typeof Tf!="function")throw Error(n(280));var f=h.stateNode;f&&(f=L3(f),Tf(h.stateNode,h.type,f))}}function h3(h){Ul?t0?t0.push(h):t0=[h]:Ul=h}function d3(){if(Ul){var h=Ul,f=t0;if(t0=Ul=null,Ig(h),f)for(h=0;h<f.length;h++)Ig(f[h])}}function f3(h,f){return h(f)}function p3(){}var Pg=!1;function g3(h,f,y){if(Pg)return h(f,y);Pg=!0;try{return f3(h,f,y)}finally{Pg=!1,(Ul!==null||t0!==null)&&(p3(),d3())}}function Yu(h,f){var y=h.stateNode;if(y===null)return null;var k=L3(y);if(k===null)return null;y=k[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(h=h.type,k=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!k;break e;default:h=!1}if(h)return null;if(y&&typeof y!="function")throw Error(n(231,f,typeof y));return y}var jr=!1;if(o)try{var Zu={};Object.defineProperty(Zu,"passive",{get:function(){jr=!0}}),window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch{jr=!1}function Ng(h,f,y,k,I,N,j,Y,ne){var Ae=Array.prototype.slice.call(arguments,3);try{f.apply(y,Ae)}catch($e){this.onError($e)}}var Ce=!1,Me=null,Je=!1,wt=null,St={onError:function(h){Ce=!0,Me=h}};function Xt(h,f,y,k,I,N,j,Y,ne){Ce=!1,Me=null,Ng.apply(St,arguments)}function Zt(h,f,y,k,I,N,j,Y,ne){if(Xt.apply(this,arguments),Ce){if(Ce){var Ae=Me;Ce=!1,Me=null}else throw Error(n(198));Je||(Je=!0,wt=Ae)}}function Zn(h){var f=h,y=h;if(h.alternate)for(;f.return;)f=f.return;else{h=f;do f=h,(f.flags&4098)!==0&&(y=f.return),h=f.return;while(h)}return f.tag===3?y:null}function dn(h){if(h.tag===13){var f=h.memoizedState;if(f===null&&(h=h.alternate,h!==null&&(f=h.memoizedState)),f!==null)return f.dehydrated}return null}function Ju(h){if(Zn(h)!==h)throw Error(n(188))}function wa(h){var f=h.alternate;if(!f){if(f=Zn(h),f===null)throw Error(n(188));return f!==h?null:h}for(var y=h,k=f;;){var I=y.return;if(I===null)break;var N=I.alternate;if(N===null){if(k=I.return,k!==null){y=k;continue}break}if(I.child===N.child){for(N=I.child;N;){if(N===y)return Ju(I),h;if(N===k)return Ju(I),f;N=N.sibling}throw Error(n(188))}if(y.return!==k.return)y=I,k=N;else{for(var j=!1,Y=I.child;Y;){if(Y===y){j=!0,y=I,k=N;break}if(Y===k){j=!0,k=I,y=N;break}Y=Y.sibling}if(!j){for(Y=N.child;Y;){if(Y===y){j=!0,y=N,k=I;break}if(Y===k){j=!0,k=N,y=I;break}Y=Y.sibling}if(!j)throw Error(n(189))}}if(y.alternate!==k)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?h:f}function MC(h){return h=wa(h),h!==null?DC(h):null}function DC(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var f=DC(h);if(f!==null)return f;h=h.sibling}return null}var LC=e.unstable_scheduleCallback,OC=e.unstable_cancelCallback,Tj=e.unstable_shouldYield,Ij=e.unstable_requestPaint,ui=e.unstable_now,Pj=e.unstable_getCurrentPriorityLevel,V6=e.unstable_ImmediatePriority,BC=e.unstable_UserBlockingPriority,m3=e.unstable_NormalPriority,Nj=e.unstable_LowPriority,jC=e.unstable_IdlePriority,x3=null,qo=null;function Rj(h){if(qo&&typeof qo.onCommitFiberRoot=="function")try{qo.onCommitFiberRoot(x3,h,void 0,(h.current.flags&128)===128)}catch{}}var to=Math.clz32?Math.clz32:Dj,Fj=Math.log,Mj=Math.LN2;function Dj(h){return h>>>=0,h===0?32:31-(Fj(h)/Mj|0)|0}var b3=64,y3=4194304;function Rg(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function w3(h,f){var y=h.pendingLanes;if(y===0)return 0;var k=0,I=h.suspendedLanes,N=h.pingedLanes,j=y&268435455;if(j!==0){var Y=j&~I;Y!==0?k=Rg(Y):(N&=j,N!==0&&(k=Rg(N)))}else j=y&~I,j!==0?k=Rg(j):N!==0&&(k=Rg(N));if(k===0)return 0;if(f!==0&&f!==k&&(f&I)===0&&(I=k&-k,N=f&-f,I>=N||I===16&&(N&4194240)!==0))return f;if((k&4)!==0&&(k|=y&16),f=h.entangledLanes,f!==0)for(h=h.entanglements,f&=k;0<f;)y=31-to(f),I=1<<y,k|=h[y],f&=~I;return k}function Lj(h,f){switch(h){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oj(h,f){for(var y=h.suspendedLanes,k=h.pingedLanes,I=h.expirationTimes,N=h.pendingLanes;0<N;){var j=31-to(N),Y=1<<j,ne=I[j];ne===-1?((Y&y)===0||(Y&k)!==0)&&(I[j]=Lj(Y,f)):ne<=f&&(h.expiredLanes|=Y),N&=~Y}}function X6(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function $C(){var h=b3;return b3<<=1,(b3&4194240)===0&&(b3=64),h}function K6(h){for(var f=[],y=0;31>y;y++)f.push(h);return f}function Fg(h,f,y){h.pendingLanes|=f,f!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,f=31-to(f),h[f]=y}function Bj(h,f){var y=h.pendingLanes&~f;h.pendingLanes=f,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=f,h.mutableReadLanes&=f,h.entangledLanes&=f,f=h.entanglements;var k=h.eventTimes;for(h=h.expirationTimes;0<y;){var I=31-to(y),N=1<<I;f[I]=0,k[I]=-1,h[I]=-1,y&=~N}}function Y6(h,f){var y=h.entangledLanes|=f;for(h=h.entanglements;y;){var k=31-to(y),I=1<<k;I&f|h[k]&f&&(h[k]|=f),y&=~I}}var bn=0;function UC(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var zC,Z6,HC,qC,GC,J6=!1,v3=[],n0=null,i0=null,s0=null,Mg=new Map,Dg=new Map,r0=[],jj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WC(h,f){switch(h){case"focusin":case"focusout":n0=null;break;case"dragenter":case"dragleave":i0=null;break;case"mouseover":case"mouseout":s0=null;break;case"pointerover":case"pointerout":Mg.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dg.delete(f.pointerId)}}function Lg(h,f,y,k,I,N){return h===null||h.nativeEvent!==N?(h={blockedOn:f,domEventName:y,eventSystemFlags:k,nativeEvent:N,targetContainers:[I]},f!==null&&(f=Yg(f),f!==null&&Z6(f)),h):(h.eventSystemFlags|=k,f=h.targetContainers,I!==null&&f.indexOf(I)===-1&&f.push(I),h)}function $j(h,f,y,k,I){switch(f){case"focusin":return n0=Lg(n0,h,f,y,k,I),!0;case"dragenter":return i0=Lg(i0,h,f,y,k,I),!0;case"mouseover":return s0=Lg(s0,h,f,y,k,I),!0;case"pointerover":var N=I.pointerId;return Mg.set(N,Lg(Mg.get(N)||null,h,f,y,k,I)),!0;case"gotpointercapture":return N=I.pointerId,Dg.set(N,Lg(Dg.get(N)||null,h,f,y,k,I)),!0}return!1}function VC(h){var f=Qu(h.target);if(f!==null){var y=Zn(f);if(y!==null){if(f=y.tag,f===13){if(f=dn(y),f!==null){h.blockedOn=f,GC(h.priority,function(){HC(y)});return}}else if(f===3&&y.stateNode.current.memoizedState.isDehydrated){h.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}h.blockedOn=null}function S3(h){if(h.blockedOn!==null)return!1;for(var f=h.targetContainers;0<f.length;){var y=e7(h.domEventName,h.eventSystemFlags,f[0],h.nativeEvent);if(y===null){y=h.nativeEvent;var k=new y.constructor(y.type,y);_g=k,y.target.dispatchEvent(k),_g=null}else return f=Yg(y),f!==null&&Z6(f),h.blockedOn=y,!1;f.shift()}return!0}function XC(h,f,y){S3(h)&&y.delete(f)}function Uj(){J6=!1,n0!==null&&S3(n0)&&(n0=null),i0!==null&&S3(i0)&&(i0=null),s0!==null&&S3(s0)&&(s0=null),Mg.forEach(XC),Dg.forEach(XC)}function Og(h,f){h.blockedOn===f&&(h.blockedOn=null,J6||(J6=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Uj)))}function Bg(h){function f(I){return Og(I,h)}if(0<v3.length){Og(v3[0],h);for(var y=1;y<v3.length;y++){var k=v3[y];k.blockedOn===h&&(k.blockedOn=null)}}for(n0!==null&&Og(n0,h),i0!==null&&Og(i0,h),s0!==null&&Og(s0,h),Mg.forEach(f),Dg.forEach(f),y=0;y<r0.length;y++)k=r0[y],k.blockedOn===h&&(k.blockedOn=null);for(;0<r0.length&&(y=r0[0],y.blockedOn===null);)VC(y),y.blockedOn===null&&r0.shift()}var If=w.ReactCurrentBatchConfig,A3=!0;function zj(h,f,y,k){var I=bn,N=If.transition;If.transition=null;try{bn=1,Q6(h,f,y,k)}finally{bn=I,If.transition=N}}function Hj(h,f,y,k){var I=bn,N=If.transition;If.transition=null;try{bn=4,Q6(h,f,y,k)}finally{bn=I,If.transition=N}}function Q6(h,f,y,k){if(A3){var I=e7(h,f,y,k);if(I===null)x7(h,f,k,k3,y),WC(h,k);else if($j(I,h,f,y,k))k.stopPropagation();else if(WC(h,k),f&4&&-1<jj.indexOf(h)){for(;I!==null;){var N=Yg(I);if(N!==null&&zC(N),N=e7(h,f,y,k),N===null&&x7(h,f,k,k3,y),N===I)break;I=N}I!==null&&k.stopPropagation()}else x7(h,f,k,null,y)}}var k3=null;function e7(h,f,y,k){if(k3=null,h=Tg(k),h=Qu(h),h!==null)if(f=Zn(h),f===null)h=null;else if(y=f.tag,y===13){if(h=dn(f),h!==null)return h;h=null}else if(y===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;h=null}else f!==h&&(h=null);return k3=h,null}function KC(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pj()){case V6:return 1;case BC:return 4;case m3:case Nj:return 16;case jC:return 536870912;default:return 16}default:return 16}}var a0=null,t7=null,C3=null;function YC(){if(C3)return C3;var h,f=t7,y=f.length,k,I="value"in a0?a0.value:a0.textContent,N=I.length;for(h=0;h<y&&f[h]===I[h];h++);var j=y-h;for(k=1;k<=j&&f[y-k]===I[N-k];k++);return C3=I.slice(h,1<k?1-k:void 0)}function E3(h){var f=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&f===13&&(h=13)):h=f,h===10&&(h=13),32<=h||h===13?h:0}function _3(){return!0}function ZC(){return!1}function $r(h){function f(y,k,I,N,j){this._reactName=y,this._targetInst=I,this.type=k,this.nativeEvent=N,this.target=j,this.currentTarget=null;for(var Y in h)h.hasOwnProperty(Y)&&(y=h[Y],this[Y]=y?y(N):N[Y]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?_3:ZC,this.isPropagationStopped=ZC,this}return pe(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=_3)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=_3)},persist:function(){},isPersistent:_3}),f}var Pf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n7=$r(Pf),jg=pe({},Pf,{view:0,detail:0}),qj=$r(jg),i7,s7,$g,T3=pe({},jg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a7,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==$g&&($g&&h.type==="mousemove"?(i7=h.screenX-$g.screenX,s7=h.screenY-$g.screenY):s7=i7=0,$g=h),i7)},movementY:function(h){return"movementY"in h?h.movementY:s7}}),JC=$r(T3),Gj=pe({},T3,{dataTransfer:0}),Wj=$r(Gj),Vj=pe({},jg,{relatedTarget:0}),r7=$r(Vj),Xj=pe({},Pf,{animationName:0,elapsedTime:0,pseudoElement:0}),Kj=$r(Xj),Yj=pe({},Pf,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Zj=$r(Yj),Jj=pe({},Pf,{data:0}),QC=$r(Jj),Qj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n$(h){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(h):(h=t$[h])?!!f[h]:!1}function a7(){return n$}var i$=pe({},jg,{key:function(h){if(h.key){var f=Qj[h.key]||h.key;if(f!=="Unidentified")return f}return h.type==="keypress"?(h=E3(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?e$[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a7,charCode:function(h){return h.type==="keypress"?E3(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?E3(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),s$=$r(i$),r$=pe({},T3,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eE=$r(r$),a$=pe({},jg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a7}),o$=$r(a$),l$=pe({},Pf,{propertyName:0,elapsedTime:0,pseudoElement:0}),c$=$r(l$),u$=pe({},T3,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),h$=$r(u$),d$=[9,13,27,32],o7=o&&"CompositionEvent"in window,Ug=null;o&&"documentMode"in document&&(Ug=document.documentMode);var f$=o&&"TextEvent"in window&&!Ug,tE=o&&(!o7||Ug&&8<Ug&&11>=Ug),nE=" ",iE=!1;function sE(h,f){switch(h){case"keyup":return d$.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rE(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var Nf=!1;function p$(h,f){switch(h){case"compositionend":return rE(f);case"keypress":return f.which!==32?null:(iE=!0,nE);case"textInput":return h=f.data,h===nE&&iE?null:h;default:return null}}function g$(h,f){if(Nf)return h==="compositionend"||!o7&&sE(h,f)?(h=YC(),C3=t7=a0=null,Nf=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return tE&&f.locale!=="ko"?null:f.data;default:return null}}var m$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aE(h){var f=h&&h.nodeName&&h.nodeName.toLowerCase();return f==="input"?!!m$[h.type]:f==="textarea"}function oE(h,f,y,k){h3(k),f=F3(f,"onChange"),0<f.length&&(y=new n7("onChange","change",null,y,k),h.push({event:y,listeners:f}))}var zg=null,Hg=null;function x$(h){CE(h,0)}function I3(h){var f=Lf(h);if(ye(f))return h}function b$(h,f){if(h==="change")return f}var lE=!1;if(o){var l7;if(o){var c7="oninput"in document;if(!c7){var cE=document.createElement("div");cE.setAttribute("oninput","return;"),c7=typeof cE.oninput=="function"}l7=c7}else l7=!1;lE=l7&&(!document.documentMode||9<document.documentMode)}function uE(){zg&&(zg.detachEvent("onpropertychange",hE),Hg=zg=null)}function hE(h){if(h.propertyName==="value"&&I3(Hg)){var f=[];oE(f,Hg,h,Tg(h)),g3(x$,f)}}function y$(h,f,y){h==="focusin"?(uE(),zg=f,Hg=y,zg.attachEvent("onpropertychange",hE)):h==="focusout"&&uE()}function w$(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return I3(Hg)}function v$(h,f){if(h==="click")return I3(f)}function S$(h,f){if(h==="input"||h==="change")return I3(f)}function A$(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var no=typeof Object.is=="function"?Object.is:A$;function qg(h,f){if(no(h,f))return!0;if(typeof h!="object"||h===null||typeof f!="object"||f===null)return!1;var y=Object.keys(h),k=Object.keys(f);if(y.length!==k.length)return!1;for(k=0;k<y.length;k++){var I=y[k];if(!l.call(f,I)||!no(h[I],f[I]))return!1}return!0}function dE(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function fE(h,f){var y=dE(h);h=0;for(var k;y;){if(y.nodeType===3){if(k=h+y.textContent.length,h<=f&&k>=f)return{node:y,offset:f-h};h=k}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=dE(y)}}function pE(h,f){return h&&f?h===f?!0:h&&h.nodeType===3?!1:f&&f.nodeType===3?pE(h,f.parentNode):"contains"in h?h.contains(f):h.compareDocumentPosition?!!(h.compareDocumentPosition(f)&16):!1:!1}function gE(){for(var h=window,f=xe();f instanceof h.HTMLIFrameElement;){try{var y=typeof f.contentWindow.location.href=="string"}catch{y=!1}if(y)h=f.contentWindow;else break;f=xe(h.document)}return f}function u7(h){var f=h&&h.nodeName&&h.nodeName.toLowerCase();return f&&(f==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||f==="textarea"||h.contentEditable==="true")}function k$(h){var f=gE(),y=h.focusedElem,k=h.selectionRange;if(f!==y&&y&&y.ownerDocument&&pE(y.ownerDocument.documentElement,y)){if(k!==null&&u7(y)){if(f=k.start,h=k.end,h===void 0&&(h=f),"selectionStart"in y)y.selectionStart=f,y.selectionEnd=Math.min(h,y.value.length);else if(h=(f=y.ownerDocument||document)&&f.defaultView||window,h.getSelection){h=h.getSelection();var I=y.textContent.length,N=Math.min(k.start,I);k=k.end===void 0?N:Math.min(k.end,I),!h.extend&&N>k&&(I=k,k=N,N=I),I=fE(y,N);var j=fE(y,k);I&&j&&(h.rangeCount!==1||h.anchorNode!==I.node||h.anchorOffset!==I.offset||h.focusNode!==j.node||h.focusOffset!==j.offset)&&(f=f.createRange(),f.setStart(I.node,I.offset),h.removeAllRanges(),N>k?(h.addRange(f),h.extend(j.node,j.offset)):(f.setEnd(j.node,j.offset),h.addRange(f)))}}for(f=[],h=y;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<f.length;y++)h=f[y],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var C$=o&&"documentMode"in document&&11>=document.documentMode,Rf=null,h7=null,Gg=null,d7=!1;function mE(h,f,y){var k=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;d7||Rf==null||Rf!==xe(k)||(k=Rf,"selectionStart"in k&&u7(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),Gg&&qg(Gg,k)||(Gg=k,k=F3(h7,"onSelect"),0<k.length&&(f=new n7("onSelect","select",null,f,y),h.push({event:f,listeners:k}),f.target=Rf)))}function P3(h,f){var y={};return y[h.toLowerCase()]=f.toLowerCase(),y["Webkit"+h]="webkit"+f,y["Moz"+h]="moz"+f,y}var Ff={animationend:P3("Animation","AnimationEnd"),animationiteration:P3("Animation","AnimationIteration"),animationstart:P3("Animation","AnimationStart"),transitionend:P3("Transition","TransitionEnd")},f7={},xE={};o&&(xE=document.createElement("div").style,"AnimationEvent"in window||(delete Ff.animationend.animation,delete Ff.animationiteration.animation,delete Ff.animationstart.animation),"TransitionEvent"in window||delete Ff.transitionend.transition);function N3(h){if(f7[h])return f7[h];if(!Ff[h])return h;var f=Ff[h],y;for(y in f)if(f.hasOwnProperty(y)&&y in xE)return f7[h]=f[y];return h}var bE=N3("animationend"),yE=N3("animationiteration"),wE=N3("animationstart"),vE=N3("transitionend"),SE=new Map,AE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function o0(h,f){SE.set(h,f),r(f,[h])}for(var p7=0;p7<AE.length;p7++){var g7=AE[p7],E$=g7.toLowerCase(),_$=g7[0].toUpperCase()+g7.slice(1);o0(E$,"on"+_$)}o0(bE,"onAnimationEnd"),o0(yE,"onAnimationIteration"),o0(wE,"onAnimationStart"),o0("dblclick","onDoubleClick"),o0("focusin","onFocus"),o0("focusout","onBlur"),o0(vE,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),r("onBeforeInput",["compositionend","keypress","textInput","paste"]),r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T$=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wg));function kE(h,f,y){var k=h.type||"unknown-event";h.currentTarget=y,Zt(k,f,void 0,h),h.currentTarget=null}function CE(h,f){f=(f&4)!==0;for(var y=0;y<h.length;y++){var k=h[y],I=k.event;k=k.listeners;e:{var N=void 0;if(f)for(var j=k.length-1;0<=j;j--){var Y=k[j],ne=Y.instance,Ae=Y.currentTarget;if(Y=Y.listener,ne!==N&&I.isPropagationStopped())break e;kE(I,Y,Ae),N=ne}else for(j=0;j<k.length;j++){if(Y=k[j],ne=Y.instance,Ae=Y.currentTarget,Y=Y.listener,ne!==N&&I.isPropagationStopped())break e;kE(I,Y,Ae),N=ne}}}if(Je)throw h=wt,Je=!1,wt=null,h}function Pn(h,f){var y=f[A7];y===void 0&&(y=f[A7]=new Set);var k=h+"__bubble";y.has(k)||(EE(f,h,2,!1),y.add(k))}function m7(h,f,y){var k=0;f&&(k|=4),EE(y,h,k,f)}var R3="_reactListening"+Math.random().toString(36).slice(2);function Vg(h){if(!h[R3]){h[R3]=!0,i.forEach(function(y){y!=="selectionchange"&&(T$.has(y)||m7(y,!1,h),m7(y,!0,h))});var f=h.nodeType===9?h:h.ownerDocument;f===null||f[R3]||(f[R3]=!0,m7("selectionchange",!1,f))}}function EE(h,f,y,k){switch(KC(f)){case 1:var I=zj;break;case 4:I=Hj;break;default:I=Q6}y=I.bind(null,f,y,h),I=void 0,!jr||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(I=!0),k?I!==void 0?h.addEventListener(f,y,{capture:!0,passive:I}):h.addEventListener(f,y,!0):I!==void 0?h.addEventListener(f,y,{passive:I}):h.addEventListener(f,y,!1)}function x7(h,f,y,k,I){var N=k;if((f&1)===0&&(f&2)===0&&k!==null)e:for(;;){if(k===null)return;var j=k.tag;if(j===3||j===4){var Y=k.stateNode.containerInfo;if(Y===I||Y.nodeType===8&&Y.parentNode===I)break;if(j===4)for(j=k.return;j!==null;){var ne=j.tag;if((ne===3||ne===4)&&(ne=j.stateNode.containerInfo,ne===I||ne.nodeType===8&&ne.parentNode===I))return;j=j.return}for(;Y!==null;){if(j=Qu(Y),j===null)return;if(ne=j.tag,ne===5||ne===6){k=N=j;continue e}Y=Y.parentNode}}k=k.return}g3(function(){var Ae=N,$e=Tg(y),ze=[];e:{var je=SE.get(h);if(je!==void 0){var st=n7,ut=h;switch(h){case"keypress":if(E3(y)===0)break e;case"keydown":case"keyup":st=s$;break;case"focusin":ut="focus",st=r7;break;case"focusout":ut="blur",st=r7;break;case"beforeblur":case"afterblur":st=r7;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=JC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Wj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=o$;break;case bE:case yE:case wE:st=Kj;break;case vE:st=c$;break;case"scroll":st=qj;break;case"wheel":st=h$;break;case"copy":case"cut":case"paste":st=Zj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=eE}var dt=(f&4)!==0,hi=!dt&&h==="scroll",be=dt?je!==null?je+"Capture":null:je;dt=[];for(var ae=Ae,ve;ae!==null;){ve=ae;var We=ve.stateNode;if(ve.tag===5&&We!==null&&(ve=We,be!==null&&(We=Yu(ae,be),We!=null&&dt.push(Xg(ae,We,ve)))),hi)break;ae=ae.return}0<dt.length&&(je=new st(je,ut,null,y,$e),ze.push({event:je,listeners:dt}))}}if((f&7)===0){e:{if(je=h==="mouseover"||h==="pointerover",st=h==="mouseout"||h==="pointerout",je&&y!==_g&&(ut=y.relatedTarget||y.fromElement)&&(Qu(ut)||ut[zl]))break e;if((st||je)&&(je=$e.window===$e?$e:(je=$e.ownerDocument)?je.defaultView||je.parentWindow:window,st?(ut=y.relatedTarget||y.toElement,st=Ae,ut=ut?Qu(ut):null,ut!==null&&(hi=Zn(ut),ut!==hi||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(st=null,ut=Ae),st!==ut)){if(dt=JC,We="onMouseLeave",be="onMouseEnter",ae="mouse",(h==="pointerout"||h==="pointerover")&&(dt=eE,We="onPointerLeave",be="onPointerEnter",ae="pointer"),hi=st==null?je:Lf(st),ve=ut==null?je:Lf(ut),je=new dt(We,ae+"leave",st,y,$e),je.target=hi,je.relatedTarget=ve,We=null,Qu($e)===Ae&&(dt=new dt(be,ae+"enter",ut,y,$e),dt.target=ve,dt.relatedTarget=hi,We=dt),hi=We,st&&ut)t:{for(dt=st,be=ut,ae=0,ve=dt;ve;ve=Mf(ve))ae++;for(ve=0,We=be;We;We=Mf(We))ve++;for(;0<ae-ve;)dt=Mf(dt),ae--;for(;0<ve-ae;)be=Mf(be),ve--;for(;ae--;){if(dt===be||be!==null&&dt===be.alternate)break t;dt=Mf(dt),be=Mf(be)}dt=null}else dt=null;st!==null&&_E(ze,je,st,dt,!1),ut!==null&&hi!==null&&_E(ze,hi,ut,dt,!0)}}e:{if(je=Ae?Lf(Ae):window,st=je.nodeName&&je.nodeName.toLowerCase(),st==="select"||st==="input"&&je.type==="file")var ft=b$;else if(aE(je))if(lE)ft=S$;else{ft=w$;var At=y$}else(st=je.nodeName)&&st.toLowerCase()==="input"&&(je.type==="checkbox"||je.type==="radio")&&(ft=v$);if(ft&&(ft=ft(h,Ae))){oE(ze,ft,y,$e);break e}At&&At(h,je,Ae),h==="focusout"&&(At=je._wrapperState)&&At.controlled&&je.type==="number"&&He(je,"number",je.value)}switch(At=Ae?Lf(Ae):window,h){case"focusin":(aE(At)||At.contentEditable==="true")&&(Rf=At,h7=Ae,Gg=null);break;case"focusout":Gg=h7=Rf=null;break;case"mousedown":d7=!0;break;case"contextmenu":case"mouseup":case"dragend":d7=!1,mE(ze,y,$e);break;case"selectionchange":if(C$)break;case"keydown":case"keyup":mE(ze,y,$e)}var kt;if(o7)e:{switch(h){case"compositionstart":var It="onCompositionStart";break e;case"compositionend":It="onCompositionEnd";break e;case"compositionupdate":It="onCompositionUpdate";break e}It=void 0}else Nf?sE(h,y)&&(It="onCompositionEnd"):h==="keydown"&&y.keyCode===229&&(It="onCompositionStart");It&&(tE&&y.locale!=="ko"&&(Nf||It!=="onCompositionStart"?It==="onCompositionEnd"&&Nf&&(kt=YC()):(a0=$e,t7="value"in a0?a0.value:a0.textContent,Nf=!0)),At=F3(Ae,It),0<At.length&&(It=new QC(It,h,null,y,$e),ze.push({event:It,listeners:At}),kt?It.data=kt:(kt=rE(y),kt!==null&&(It.data=kt)))),(kt=f$?p$(h,y):g$(h,y))&&(Ae=F3(Ae,"onBeforeInput"),0<Ae.length&&($e=new QC("onBeforeInput","beforeinput",null,y,$e),ze.push({event:$e,listeners:Ae}),$e.data=kt))}CE(ze,f)})}function Xg(h,f,y){return{instance:h,listener:f,currentTarget:y}}function F3(h,f){for(var y=f+"Capture",k=[];h!==null;){var I=h,N=I.stateNode;I.tag===5&&N!==null&&(I=N,N=Yu(h,y),N!=null&&k.unshift(Xg(h,N,I)),N=Yu(h,f),N!=null&&k.push(Xg(h,N,I))),h=h.return}return k}function Mf(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function _E(h,f,y,k,I){for(var N=f._reactName,j=[];y!==null&&y!==k;){var Y=y,ne=Y.alternate,Ae=Y.stateNode;if(ne!==null&&ne===k)break;Y.tag===5&&Ae!==null&&(Y=Ae,I?(ne=Yu(y,N),ne!=null&&j.unshift(Xg(y,ne,Y))):I||(ne=Yu(y,N),ne!=null&&j.push(Xg(y,ne,Y)))),y=y.return}j.length!==0&&h.push({event:f,listeners:j})}var I$=/\r\n?/g,P$=/\u0000|\uFFFD/g;function TE(h){return(typeof h=="string"?h:""+h).replace(I$,`
`).replace(P$,"")}function M3(h,f,y){if(f=TE(f),TE(h)!==f&&y)throw Error(n(425))}function D3(){}var b7=null,y7=null;function w7(h,f){return h==="textarea"||h==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var v7=typeof setTimeout=="function"?setTimeout:void 0,N$=typeof clearTimeout=="function"?clearTimeout:void 0,IE=typeof Promise=="function"?Promise:void 0,R$=typeof queueMicrotask=="function"?queueMicrotask:typeof IE<"u"?function(h){return IE.resolve(null).then(h).catch(F$)}:v7;function F$(h){setTimeout(function(){throw h})}function S7(h,f){var y=f,k=0;do{var I=y.nextSibling;if(h.removeChild(y),I&&I.nodeType===8)if(y=I.data,y==="/$"){if(k===0){h.removeChild(I),Bg(f);return}k--}else y!=="$"&&y!=="$?"&&y!=="$!"||k++;y=I}while(y);Bg(f)}function l0(h){for(;h!=null;h=h.nextSibling){var f=h.nodeType;if(f===1||f===3)break;if(f===8){if(f=h.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return h}function PE(h){h=h.previousSibling;for(var f=0;h;){if(h.nodeType===8){var y=h.data;if(y==="$"||y==="$!"||y==="$?"){if(f===0)return h;f--}else y==="/$"&&f++}h=h.previousSibling}return null}var Df=Math.random().toString(36).slice(2),Go="__reactFiber$"+Df,Kg="__reactProps$"+Df,zl="__reactContainer$"+Df,A7="__reactEvents$"+Df,M$="__reactListeners$"+Df,D$="__reactHandles$"+Df;function Qu(h){var f=h[Go];if(f)return f;for(var y=h.parentNode;y;){if(f=y[zl]||y[Go]){if(y=f.alternate,f.child!==null||y!==null&&y.child!==null)for(h=PE(h);h!==null;){if(y=h[Go])return y;h=PE(h)}return f}h=y,y=h.parentNode}return null}function Yg(h){return h=h[Go]||h[zl],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function Lf(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(n(33))}function L3(h){return h[Kg]||null}var k7=[],Of=-1;function c0(h){return{current:h}}function Nn(h){0>Of||(h.current=k7[Of],k7[Of]=null,Of--)}function _n(h,f){Of++,k7[Of]=h.current,h.current=f}var u0={},As=c0(u0),mr=c0(!1),eh=u0;function Bf(h,f){var y=h.type.contextTypes;if(!y)return u0;var k=h.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===f)return k.__reactInternalMemoizedMaskedChildContext;var I={},N;for(N in y)I[N]=f[N];return k&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=f,h.__reactInternalMemoizedMaskedChildContext=I),I}function xr(h){return h=h.childContextTypes,h!=null}function O3(){Nn(mr),Nn(As)}function NE(h,f,y){if(As.current!==u0)throw Error(n(168));_n(As,f),_n(mr,y)}function RE(h,f,y){var k=h.stateNode;if(f=f.childContextTypes,typeof k.getChildContext!="function")return y;k=k.getChildContext();for(var I in k)if(!(I in f))throw Error(n(108,K(h)||"Unknown",I));return pe({},y,k)}function B3(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||u0,eh=As.current,_n(As,h),_n(mr,mr.current),!0}function FE(h,f,y){var k=h.stateNode;if(!k)throw Error(n(169));y?(h=RE(h,f,eh),k.__reactInternalMemoizedMergedChildContext=h,Nn(mr),Nn(As),_n(As,h)):Nn(mr),_n(mr,y)}var Hl=null,j3=!1,C7=!1;function ME(h){Hl===null?Hl=[h]:Hl.push(h)}function L$(h){j3=!0,ME(h)}function h0(){if(!C7&&Hl!==null){C7=!0;var h=0,f=bn;try{var y=Hl;for(bn=1;h<y.length;h++){var k=y[h];do k=k(!0);while(k!==null)}Hl=null,j3=!1}catch(I){throw Hl!==null&&(Hl=Hl.slice(h+1)),LC(V6,h0),I}finally{bn=f,C7=!1}}return null}var jf=[],$f=0,$3=null,U3=0,va=[],Sa=0,th=null,ql=1,Gl="";function nh(h,f){jf[$f++]=U3,jf[$f++]=$3,$3=h,U3=f}function DE(h,f,y){va[Sa++]=ql,va[Sa++]=Gl,va[Sa++]=th,th=h;var k=ql;h=Gl;var I=32-to(k)-1;k&=~(1<<I),y+=1;var N=32-to(f)+I;if(30<N){var j=I-I%5;N=(k&(1<<j)-1).toString(32),k>>=j,I-=j,ql=1<<32-to(f)+I|y<<I|k,Gl=N+h}else ql=1<<N|y<<I|k,Gl=h}function E7(h){h.return!==null&&(nh(h,1),DE(h,1,0))}function _7(h){for(;h===$3;)$3=jf[--$f],jf[$f]=null,U3=jf[--$f],jf[$f]=null;for(;h===th;)th=va[--Sa],va[Sa]=null,Gl=va[--Sa],va[Sa]=null,ql=va[--Sa],va[Sa]=null}var Ur=null,zr=null,On=!1,io=null;function LE(h,f){var y=Ea(5,null,null,0);y.elementType="DELETED",y.stateNode=f,y.return=h,f=h.deletions,f===null?(h.deletions=[y],h.flags|=16):f.push(y)}function OE(h,f){switch(h.tag){case 5:var y=h.type;return f=f.nodeType!==1||y.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(h.stateNode=f,Ur=h,zr=l0(f.firstChild),!0):!1;case 6:return f=h.pendingProps===""||f.nodeType!==3?null:f,f!==null?(h.stateNode=f,Ur=h,zr=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(y=th!==null?{id:ql,overflow:Gl}:null,h.memoizedState={dehydrated:f,treeContext:y,retryLane:1073741824},y=Ea(18,null,null,0),y.stateNode=f,y.return=h,h.child=y,Ur=h,zr=null,!0):!1;default:return!1}}function T7(h){return(h.mode&1)!==0&&(h.flags&128)===0}function I7(h){if(On){var f=zr;if(f){var y=f;if(!OE(h,f)){if(T7(h))throw Error(n(418));f=l0(y.nextSibling);var k=Ur;f&&OE(h,f)?LE(k,y):(h.flags=h.flags&-4097|2,On=!1,Ur=h)}}else{if(T7(h))throw Error(n(418));h.flags=h.flags&-4097|2,On=!1,Ur=h}}}function BE(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Ur=h}function z3(h){if(h!==Ur)return!1;if(!On)return BE(h),On=!0,!1;var f;if((f=h.tag!==3)&&!(f=h.tag!==5)&&(f=h.type,f=f!=="head"&&f!=="body"&&!w7(h.type,h.memoizedProps)),f&&(f=zr)){if(T7(h))throw jE(),Error(n(418));for(;f;)LE(h,f),f=l0(f.nextSibling)}if(BE(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,f=0;h;){if(h.nodeType===8){var y=h.data;if(y==="/$"){if(f===0){zr=l0(h.nextSibling);break e}f--}else y!=="$"&&y!=="$!"&&y!=="$?"||f++}h=h.nextSibling}zr=null}}else zr=Ur?l0(h.stateNode.nextSibling):null;return!0}function jE(){for(var h=zr;h;)h=l0(h.nextSibling)}function Uf(){zr=Ur=null,On=!1}function P7(h){io===null?io=[h]:io.push(h)}var O$=w.ReactCurrentBatchConfig;function Zg(h,f,y){if(h=y.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(n(309));var k=y.stateNode}if(!k)throw Error(n(147,h));var I=k,N=""+h;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===N?f.ref:(f=function(j){var Y=I.refs;j===null?delete Y[N]:Y[N]=j},f._stringRef=N,f)}if(typeof h!="string")throw Error(n(284));if(!y._owner)throw Error(n(290,h))}return h}function H3(h,f){throw h=Object.prototype.toString.call(f),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":h))}function $E(h){var f=h._init;return f(h._payload)}function UE(h){function f(be,ae){if(h){var ve=be.deletions;ve===null?(be.deletions=[ae],be.flags|=16):ve.push(ae)}}function y(be,ae){if(!h)return null;for(;ae!==null;)f(be,ae),ae=ae.sibling;return null}function k(be,ae){for(be=new Map;ae!==null;)ae.key!==null?be.set(ae.key,ae):be.set(ae.index,ae),ae=ae.sibling;return be}function I(be,ae){return be=y0(be,ae),be.index=0,be.sibling=null,be}function N(be,ae,ve){return be.index=ve,h?(ve=be.alternate,ve!==null?(ve=ve.index,ve<ae?(be.flags|=2,ae):ve):(be.flags|=2,ae)):(be.flags|=1048576,ae)}function j(be){return h&&be.alternate===null&&(be.flags|=2),be}function Y(be,ae,ve,We){return ae===null||ae.tag!==6?(ae=v4(ve,be.mode,We),ae.return=be,ae):(ae=I(ae,ve),ae.return=be,ae)}function ne(be,ae,ve,We){var ft=ve.type;return ft===P?$e(be,ae,ve.props.children,We,ve.key):ae!==null&&(ae.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===G&&$E(ft)===ae.type)?(We=I(ae,ve.props),We.ref=Zg(be,ae,ve),We.return=be,We):(We=fb(ve.type,ve.key,ve.props,null,be.mode,We),We.ref=Zg(be,ae,ve),We.return=be,We)}function Ae(be,ae,ve,We){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ve.containerInfo||ae.stateNode.implementation!==ve.implementation?(ae=S4(ve,be.mode,We),ae.return=be,ae):(ae=I(ae,ve.children||[]),ae.return=be,ae)}function $e(be,ae,ve,We,ft){return ae===null||ae.tag!==7?(ae=uh(ve,be.mode,We,ft),ae.return=be,ae):(ae=I(ae,ve),ae.return=be,ae)}function ze(be,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=v4(""+ae,be.mode,ve),ae.return=be,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return ve=fb(ae.type,ae.key,ae.props,null,be.mode,ve),ve.ref=Zg(be,null,ae),ve.return=be,ve;case T:return ae=S4(ae,be.mode,ve),ae.return=be,ae;case G:var We=ae._init;return ze(be,We(ae._payload),ve)}if(Le(ae)||he(ae))return ae=uh(ae,be.mode,ve,null),ae.return=be,ae;H3(be,ae)}return null}function je(be,ae,ve,We){var ft=ae!==null?ae.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ft!==null?null:Y(be,ae,""+ve,We);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case A:return ve.key===ft?ne(be,ae,ve,We):null;case T:return ve.key===ft?Ae(be,ae,ve,We):null;case G:return ft=ve._init,je(be,ae,ft(ve._payload),We)}if(Le(ve)||he(ve))return ft!==null?null:$e(be,ae,ve,We,null);H3(be,ve)}return null}function st(be,ae,ve,We,ft){if(typeof We=="string"&&We!==""||typeof We=="number")return be=be.get(ve)||null,Y(ae,be,""+We,ft);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case A:return be=be.get(We.key===null?ve:We.key)||null,ne(ae,be,We,ft);case T:return be=be.get(We.key===null?ve:We.key)||null,Ae(ae,be,We,ft);case G:var At=We._init;return st(be,ae,ve,At(We._payload),ft)}if(Le(We)||he(We))return be=be.get(ve)||null,$e(ae,be,We,ft,null);H3(ae,We)}return null}function ut(be,ae,ve,We){for(var ft=null,At=null,kt=ae,It=ae=0,zi=null;kt!==null&&It<ve.length;It++){kt.index>It?(zi=kt,kt=null):zi=kt.sibling;var un=je(be,kt,ve[It],We);if(un===null){kt===null&&(kt=zi);break}h&&kt&&un.alternate===null&&f(be,kt),ae=N(un,ae,It),At===null?ft=un:At.sibling=un,At=un,kt=zi}if(It===ve.length)return y(be,kt),On&&nh(be,It),ft;if(kt===null){for(;It<ve.length;It++)kt=ze(be,ve[It],We),kt!==null&&(ae=N(kt,ae,It),At===null?ft=kt:At.sibling=kt,At=kt);return On&&nh(be,It),ft}for(kt=k(be,kt);It<ve.length;It++)zi=st(kt,be,It,ve[It],We),zi!==null&&(h&&zi.alternate!==null&&kt.delete(zi.key===null?It:zi.key),ae=N(zi,ae,It),At===null?ft=zi:At.sibling=zi,At=zi);return h&&kt.forEach(function(w0){return f(be,w0)}),On&&nh(be,It),ft}function dt(be,ae,ve,We){var ft=he(ve);if(typeof ft!="function")throw Error(n(150));if(ve=ft.call(ve),ve==null)throw Error(n(151));for(var At=ft=null,kt=ae,It=ae=0,zi=null,un=ve.next();kt!==null&&!un.done;It++,un=ve.next()){kt.index>It?(zi=kt,kt=null):zi=kt.sibling;var w0=je(be,kt,un.value,We);if(w0===null){kt===null&&(kt=zi);break}h&&kt&&w0.alternate===null&&f(be,kt),ae=N(w0,ae,It),At===null?ft=w0:At.sibling=w0,At=w0,kt=zi}if(un.done)return y(be,kt),On&&nh(be,It),ft;if(kt===null){for(;!un.done;It++,un=ve.next())un=ze(be,un.value,We),un!==null&&(ae=N(un,ae,It),At===null?ft=un:At.sibling=un,At=un);return On&&nh(be,It),ft}for(kt=k(be,kt);!un.done;It++,un=ve.next())un=st(kt,be,It,un.value,We),un!==null&&(h&&un.alternate!==null&&kt.delete(un.key===null?It:un.key),ae=N(un,ae,It),At===null?ft=un:At.sibling=un,At=un);return h&&kt.forEach(function(mU){return f(be,mU)}),On&&nh(be,It),ft}function hi(be,ae,ve,We){if(typeof ve=="object"&&ve!==null&&ve.type===P&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case A:e:{for(var ft=ve.key,At=ae;At!==null;){if(At.key===ft){if(ft=ve.type,ft===P){if(At.tag===7){y(be,At.sibling),ae=I(At,ve.props.children),ae.return=be,be=ae;break e}}else if(At.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===G&&$E(ft)===At.type){y(be,At.sibling),ae=I(At,ve.props),ae.ref=Zg(be,At,ve),ae.return=be,be=ae;break e}y(be,At);break}else f(be,At);At=At.sibling}ve.type===P?(ae=uh(ve.props.children,be.mode,We,ve.key),ae.return=be,be=ae):(We=fb(ve.type,ve.key,ve.props,null,be.mode,We),We.ref=Zg(be,ae,ve),We.return=be,be=We)}return j(be);case T:e:{for(At=ve.key;ae!==null;){if(ae.key===At)if(ae.tag===4&&ae.stateNode.containerInfo===ve.containerInfo&&ae.stateNode.implementation===ve.implementation){y(be,ae.sibling),ae=I(ae,ve.children||[]),ae.return=be,be=ae;break e}else{y(be,ae);break}else f(be,ae);ae=ae.sibling}ae=S4(ve,be.mode,We),ae.return=be,be=ae}return j(be);case G:return At=ve._init,hi(be,ae,At(ve._payload),We)}if(Le(ve))return ut(be,ae,ve,We);if(he(ve))return dt(be,ae,ve,We);H3(be,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,ae!==null&&ae.tag===6?(y(be,ae.sibling),ae=I(ae,ve),ae.return=be,be=ae):(y(be,ae),ae=v4(ve,be.mode,We),ae.return=be,be=ae),j(be)):y(be,ae)}return hi}var zf=UE(!0),zE=UE(!1),q3=c0(null),G3=null,Hf=null,N7=null;function R7(){N7=Hf=G3=null}function F7(h){var f=q3.current;Nn(q3),h._currentValue=f}function M7(h,f,y){for(;h!==null;){var k=h.alternate;if((h.childLanes&f)!==f?(h.childLanes|=f,k!==null&&(k.childLanes|=f)):k!==null&&(k.childLanes&f)!==f&&(k.childLanes|=f),h===y)break;h=h.return}}function qf(h,f){G3=h,N7=Hf=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&f)!==0&&(br=!0),h.firstContext=null)}function Aa(h){var f=h._currentValue;if(N7!==h)if(h={context:h,memoizedValue:f,next:null},Hf===null){if(G3===null)throw Error(n(308));Hf=h,G3.dependencies={lanes:0,firstContext:h}}else Hf=Hf.next=h;return f}var ih=null;function D7(h){ih===null?ih=[h]:ih.push(h)}function HE(h,f,y,k){var I=f.interleaved;return I===null?(y.next=y,D7(f)):(y.next=I.next,I.next=y),f.interleaved=y,Wl(h,k)}function Wl(h,f){h.lanes|=f;var y=h.alternate;for(y!==null&&(y.lanes|=f),y=h,h=h.return;h!==null;)h.childLanes|=f,y=h.alternate,y!==null&&(y.childLanes|=f),y=h,h=h.return;return y.tag===3?y.stateNode:null}var d0=!1;function L7(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qE(h,f){h=h.updateQueue,f.updateQueue===h&&(f.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Vl(h,f){return{eventTime:h,lane:f,tag:0,payload:null,callback:null,next:null}}function f0(h,f,y){var k=h.updateQueue;if(k===null)return null;if(k=k.shared,(an&2)!==0){var I=k.pending;return I===null?f.next=f:(f.next=I.next,I.next=f),k.pending=f,Wl(h,y)}return I=k.interleaved,I===null?(f.next=f,D7(k)):(f.next=I.next,I.next=f),k.interleaved=f,Wl(h,y)}function W3(h,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194240)!==0)){var k=f.lanes;k&=h.pendingLanes,y|=k,f.lanes=y,Y6(h,y)}}function GE(h,f){var y=h.updateQueue,k=h.alternate;if(k!==null&&(k=k.updateQueue,y===k)){var I=null,N=null;if(y=y.firstBaseUpdate,y!==null){do{var j={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};N===null?I=N=j:N=N.next=j,y=y.next}while(y!==null);N===null?I=N=f:N=N.next=f}else I=N=f;y={baseState:k.baseState,firstBaseUpdate:I,lastBaseUpdate:N,shared:k.shared,effects:k.effects},h.updateQueue=y;return}h=y.lastBaseUpdate,h===null?y.firstBaseUpdate=f:h.next=f,y.lastBaseUpdate=f}function V3(h,f,y,k){var I=h.updateQueue;d0=!1;var N=I.firstBaseUpdate,j=I.lastBaseUpdate,Y=I.shared.pending;if(Y!==null){I.shared.pending=null;var ne=Y,Ae=ne.next;ne.next=null,j===null?N=Ae:j.next=Ae,j=ne;var $e=h.alternate;$e!==null&&($e=$e.updateQueue,Y=$e.lastBaseUpdate,Y!==j&&(Y===null?$e.firstBaseUpdate=Ae:Y.next=Ae,$e.lastBaseUpdate=ne))}if(N!==null){var ze=I.baseState;j=0,$e=Ae=ne=null,Y=N;do{var je=Y.lane,st=Y.eventTime;if((k&je)===je){$e!==null&&($e=$e.next={eventTime:st,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var ut=h,dt=Y;switch(je=f,st=y,dt.tag){case 1:if(ut=dt.payload,typeof ut=="function"){ze=ut.call(st,ze,je);break e}ze=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=dt.payload,je=typeof ut=="function"?ut.call(st,ze,je):ut,je==null)break e;ze=pe({},ze,je);break e;case 2:d0=!0}}Y.callback!==null&&Y.lane!==0&&(h.flags|=64,je=I.effects,je===null?I.effects=[Y]:je.push(Y))}else st={eventTime:st,lane:je,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},$e===null?(Ae=$e=st,ne=ze):$e=$e.next=st,j|=je;if(Y=Y.next,Y===null){if(Y=I.shared.pending,Y===null)break;je=Y,Y=je.next,je.next=null,I.lastBaseUpdate=je,I.shared.pending=null}}while(!0);if($e===null&&(ne=ze),I.baseState=ne,I.firstBaseUpdate=Ae,I.lastBaseUpdate=$e,f=I.shared.interleaved,f!==null){I=f;do j|=I.lane,I=I.next;while(I!==f)}else N===null&&(I.shared.lanes=0);ah|=j,h.lanes=j,h.memoizedState=ze}}function WE(h,f,y){if(h=f.effects,f.effects=null,h!==null)for(f=0;f<h.length;f++){var k=h[f],I=k.callback;if(I!==null){if(k.callback=null,k=y,typeof I!="function")throw Error(n(191,I));I.call(k)}}}var Jg={},Wo=c0(Jg),Qg=c0(Jg),em=c0(Jg);function sh(h){if(h===Jg)throw Error(n(174));return h}function O7(h,f){switch(_n(em,f),_n(Qg,h),_n(Wo,Jg),h=f.nodeType,h){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:Pe(null,"");break;default:h=h===8?f.parentNode:f,f=h.namespaceURI||null,h=h.tagName,f=Pe(f,h)}Nn(Wo),_n(Wo,f)}function Gf(){Nn(Wo),Nn(Qg),Nn(em)}function VE(h){sh(em.current);var f=sh(Wo.current),y=Pe(f,h.type);f!==y&&(_n(Qg,h),_n(Wo,y))}function B7(h){Qg.current===h&&(Nn(Wo),Nn(Qg))}var Jn=c0(0);function X3(h){for(var f=h;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var j7=[];function $7(){for(var h=0;h<j7.length;h++)j7[h]._workInProgressVersionPrimary=null;j7.length=0}var K3=w.ReactCurrentDispatcher,U7=w.ReactCurrentBatchConfig,rh=0,Qn=null,Ni=null,$i=null,Y3=!1,tm=!1,nm=0,B$=0;function ks(){throw Error(n(321))}function z7(h,f){if(f===null)return!1;for(var y=0;y<f.length&&y<h.length;y++)if(!no(h[y],f[y]))return!1;return!0}function H7(h,f,y,k,I,N){if(rh=N,Qn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,K3.current=h===null||h.memoizedState===null?z$:H$,h=y(k,I),tm){N=0;do{if(tm=!1,nm=0,25<=N)throw Error(n(301));N+=1,$i=Ni=null,f.updateQueue=null,K3.current=q$,h=y(k,I)}while(tm)}if(K3.current=Q3,f=Ni!==null&&Ni.next!==null,rh=0,$i=Ni=Qn=null,Y3=!1,f)throw Error(n(300));return h}function q7(){var h=nm!==0;return nm=0,h}function Vo(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $i===null?Qn.memoizedState=$i=h:$i=$i.next=h,$i}function ka(){if(Ni===null){var h=Qn.alternate;h=h!==null?h.memoizedState:null}else h=Ni.next;var f=$i===null?Qn.memoizedState:$i.next;if(f!==null)$i=f,Ni=h;else{if(h===null)throw Error(n(310));Ni=h,h={memoizedState:Ni.memoizedState,baseState:Ni.baseState,baseQueue:Ni.baseQueue,queue:Ni.queue,next:null},$i===null?Qn.memoizedState=$i=h:$i=$i.next=h}return $i}function im(h,f){return typeof f=="function"?f(h):f}function G7(h){var f=ka(),y=f.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=h;var k=Ni,I=k.baseQueue,N=y.pending;if(N!==null){if(I!==null){var j=I.next;I.next=N.next,N.next=j}k.baseQueue=I=N,y.pending=null}if(I!==null){N=I.next,k=k.baseState;var Y=j=null,ne=null,Ae=N;do{var $e=Ae.lane;if((rh&$e)===$e)ne!==null&&(ne=ne.next={lane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),k=Ae.hasEagerState?Ae.eagerState:h(k,Ae.action);else{var ze={lane:$e,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null};ne===null?(Y=ne=ze,j=k):ne=ne.next=ze,Qn.lanes|=$e,ah|=$e}Ae=Ae.next}while(Ae!==null&&Ae!==N);ne===null?j=k:ne.next=Y,no(k,f.memoizedState)||(br=!0),f.memoizedState=k,f.baseState=j,f.baseQueue=ne,y.lastRenderedState=k}if(h=y.interleaved,h!==null){I=h;do N=I.lane,Qn.lanes|=N,ah|=N,I=I.next;while(I!==h)}else I===null&&(y.lanes=0);return[f.memoizedState,y.dispatch]}function W7(h){var f=ka(),y=f.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=h;var k=y.dispatch,I=y.pending,N=f.memoizedState;if(I!==null){y.pending=null;var j=I=I.next;do N=h(N,j.action),j=j.next;while(j!==I);no(N,f.memoizedState)||(br=!0),f.memoizedState=N,f.baseQueue===null&&(f.baseState=N),y.lastRenderedState=N}return[N,k]}function XE(){}function KE(h,f){var y=Qn,k=ka(),I=f(),N=!no(k.memoizedState,I);if(N&&(k.memoizedState=I,br=!0),k=k.queue,V7(JE.bind(null,y,k,h),[h]),k.getSnapshot!==f||N||$i!==null&&$i.memoizedState.tag&1){if(y.flags|=2048,sm(9,ZE.bind(null,y,k,I,f),void 0,null),Ui===null)throw Error(n(349));(rh&30)!==0||YE(y,f,I)}return I}function YE(h,f,y){h.flags|=16384,h={getSnapshot:f,value:y},f=Qn.updateQueue,f===null?(f={lastEffect:null,stores:null},Qn.updateQueue=f,f.stores=[h]):(y=f.stores,y===null?f.stores=[h]:y.push(h))}function ZE(h,f,y,k){f.value=y,f.getSnapshot=k,QE(f)&&e_(h)}function JE(h,f,y){return y(function(){QE(f)&&e_(h)})}function QE(h){var f=h.getSnapshot;h=h.value;try{var y=f();return!no(h,y)}catch{return!0}}function e_(h){var f=Wl(h,1);f!==null&&oo(f,h,1,-1)}function t_(h){var f=Vo();return typeof h=="function"&&(h=h()),f.memoizedState=f.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:im,lastRenderedState:h},f.queue=h,h=h.dispatch=U$.bind(null,Qn,h),[f.memoizedState,h]}function sm(h,f,y,k){return h={tag:h,create:f,destroy:y,deps:k,next:null},f=Qn.updateQueue,f===null?(f={lastEffect:null,stores:null},Qn.updateQueue=f,f.lastEffect=h.next=h):(y=f.lastEffect,y===null?f.lastEffect=h.next=h:(k=y.next,y.next=h,h.next=k,f.lastEffect=h)),h}function n_(){return ka().memoizedState}function Z3(h,f,y,k){var I=Vo();Qn.flags|=h,I.memoizedState=sm(1|f,y,void 0,k===void 0?null:k)}function J3(h,f,y,k){var I=ka();k=k===void 0?null:k;var N=void 0;if(Ni!==null){var j=Ni.memoizedState;if(N=j.destroy,k!==null&&z7(k,j.deps)){I.memoizedState=sm(f,y,N,k);return}}Qn.flags|=h,I.memoizedState=sm(1|f,y,N,k)}function i_(h,f){return Z3(8390656,8,h,f)}function V7(h,f){return J3(2048,8,h,f)}function s_(h,f){return J3(4,2,h,f)}function r_(h,f){return J3(4,4,h,f)}function a_(h,f){if(typeof f=="function")return h=h(),f(h),function(){f(null)};if(f!=null)return h=h(),f.current=h,function(){f.current=null}}function o_(h,f,y){return y=y!=null?y.concat([h]):null,J3(4,4,a_.bind(null,f,h),y)}function X7(){}function l_(h,f){var y=ka();f=f===void 0?null:f;var k=y.memoizedState;return k!==null&&f!==null&&z7(f,k[1])?k[0]:(y.memoizedState=[h,f],h)}function c_(h,f){var y=ka();f=f===void 0?null:f;var k=y.memoizedState;return k!==null&&f!==null&&z7(f,k[1])?k[0]:(h=h(),y.memoizedState=[h,f],h)}function u_(h,f,y){return(rh&21)===0?(h.baseState&&(h.baseState=!1,br=!0),h.memoizedState=y):(no(y,f)||(y=$C(),Qn.lanes|=y,ah|=y,h.baseState=!0),f)}function j$(h,f){var y=bn;bn=y!==0&&4>y?y:4,h(!0);var k=U7.transition;U7.transition={};try{h(!1),f()}finally{bn=y,U7.transition=k}}function h_(){return ka().memoizedState}function $$(h,f,y){var k=x0(h);if(y={lane:k,action:y,hasEagerState:!1,eagerState:null,next:null},d_(h))f_(f,y);else if(y=HE(h,f,y,k),y!==null){var I=Gs();oo(y,h,k,I),p_(y,f,k)}}function U$(h,f,y){var k=x0(h),I={lane:k,action:y,hasEagerState:!1,eagerState:null,next:null};if(d_(h))f_(f,I);else{var N=h.alternate;if(h.lanes===0&&(N===null||N.lanes===0)&&(N=f.lastRenderedReducer,N!==null))try{var j=f.lastRenderedState,Y=N(j,y);if(I.hasEagerState=!0,I.eagerState=Y,no(Y,j)){var ne=f.interleaved;ne===null?(I.next=I,D7(f)):(I.next=ne.next,ne.next=I),f.interleaved=I;return}}catch{}finally{}y=HE(h,f,I,k),y!==null&&(I=Gs(),oo(y,h,k,I),p_(y,f,k))}}function d_(h){var f=h.alternate;return h===Qn||f!==null&&f===Qn}function f_(h,f){tm=Y3=!0;var y=h.pending;y===null?f.next=f:(f.next=y.next,y.next=f),h.pending=f}function p_(h,f,y){if((y&4194240)!==0){var k=f.lanes;k&=h.pendingLanes,y|=k,f.lanes=y,Y6(h,y)}}var Q3={readContext:Aa,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useInsertionEffect:ks,useLayoutEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useMutableSource:ks,useSyncExternalStore:ks,useId:ks,unstable_isNewReconciler:!1},z$={readContext:Aa,useCallback:function(h,f){return Vo().memoizedState=[h,f===void 0?null:f],h},useContext:Aa,useEffect:i_,useImperativeHandle:function(h,f,y){return y=y!=null?y.concat([h]):null,Z3(4194308,4,a_.bind(null,f,h),y)},useLayoutEffect:function(h,f){return Z3(4194308,4,h,f)},useInsertionEffect:function(h,f){return Z3(4,2,h,f)},useMemo:function(h,f){var y=Vo();return f=f===void 0?null:f,h=h(),y.memoizedState=[h,f],h},useReducer:function(h,f,y){var k=Vo();return f=y!==void 0?y(f):f,k.memoizedState=k.baseState=f,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:f},k.queue=h,h=h.dispatch=$$.bind(null,Qn,h),[k.memoizedState,h]},useRef:function(h){var f=Vo();return h={current:h},f.memoizedState=h},useState:t_,useDebugValue:X7,useDeferredValue:function(h){return Vo().memoizedState=h},useTransition:function(){var h=t_(!1),f=h[0];return h=j$.bind(null,h[1]),Vo().memoizedState=h,[f,h]},useMutableSource:function(){},useSyncExternalStore:function(h,f,y){var k=Qn,I=Vo();if(On){if(y===void 0)throw Error(n(407));y=y()}else{if(y=f(),Ui===null)throw Error(n(349));(rh&30)!==0||YE(k,f,y)}I.memoizedState=y;var N={value:y,getSnapshot:f};return I.queue=N,i_(JE.bind(null,k,N,h),[h]),k.flags|=2048,sm(9,ZE.bind(null,k,N,y,f),void 0,null),y},useId:function(){var h=Vo(),f=Ui.identifierPrefix;if(On){var y=Gl,k=ql;y=(k&~(1<<32-to(k)-1)).toString(32)+y,f=":"+f+"R"+y,y=nm++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=B$++,f=":"+f+"r"+y.toString(32)+":";return h.memoizedState=f},unstable_isNewReconciler:!1},H$={readContext:Aa,useCallback:l_,useContext:Aa,useEffect:V7,useImperativeHandle:o_,useInsertionEffect:s_,useLayoutEffect:r_,useMemo:c_,useReducer:G7,useRef:n_,useState:function(){return G7(im)},useDebugValue:X7,useDeferredValue:function(h){var f=ka();return u_(f,Ni.memoizedState,h)},useTransition:function(){var h=G7(im)[0],f=ka().memoizedState;return[h,f]},useMutableSource:XE,useSyncExternalStore:KE,useId:h_,unstable_isNewReconciler:!1},q$={readContext:Aa,useCallback:l_,useContext:Aa,useEffect:V7,useImperativeHandle:o_,useInsertionEffect:s_,useLayoutEffect:r_,useMemo:c_,useReducer:W7,useRef:n_,useState:function(){return W7(im)},useDebugValue:X7,useDeferredValue:function(h){var f=ka();return Ni===null?f.memoizedState=h:u_(f,Ni.memoizedState,h)},useTransition:function(){var h=W7(im)[0],f=ka().memoizedState;return[h,f]},useMutableSource:XE,useSyncExternalStore:KE,useId:h_,unstable_isNewReconciler:!1};function so(h,f){if(h&&h.defaultProps){f=pe({},f),h=h.defaultProps;for(var y in h)f[y]===void 0&&(f[y]=h[y]);return f}return f}function K7(h,f,y,k){f=h.memoizedState,y=y(k,f),y=y==null?f:pe({},f,y),h.memoizedState=y,h.lanes===0&&(h.updateQueue.baseState=y)}var eb={isMounted:function(h){return(h=h._reactInternals)?Zn(h)===h:!1},enqueueSetState:function(h,f,y){h=h._reactInternals;var k=Gs(),I=x0(h),N=Vl(k,I);N.payload=f,y!=null&&(N.callback=y),f=f0(h,N,I),f!==null&&(oo(f,h,I,k),W3(f,h,I))},enqueueReplaceState:function(h,f,y){h=h._reactInternals;var k=Gs(),I=x0(h),N=Vl(k,I);N.tag=1,N.payload=f,y!=null&&(N.callback=y),f=f0(h,N,I),f!==null&&(oo(f,h,I,k),W3(f,h,I))},enqueueForceUpdate:function(h,f){h=h._reactInternals;var y=Gs(),k=x0(h),I=Vl(y,k);I.tag=2,f!=null&&(I.callback=f),f=f0(h,I,k),f!==null&&(oo(f,h,k,y),W3(f,h,k))}};function g_(h,f,y,k,I,N,j){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(k,N,j):f.prototype&&f.prototype.isPureReactComponent?!qg(y,k)||!qg(I,N):!0}function m_(h,f,y){var k=!1,I=u0,N=f.contextType;return typeof N=="object"&&N!==null?N=Aa(N):(I=xr(f)?eh:As.current,k=f.contextTypes,N=(k=k!=null)?Bf(h,I):u0),f=new f(y,N),h.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=eb,h.stateNode=f,f._reactInternals=h,k&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=I,h.__reactInternalMemoizedMaskedChildContext=N),f}function x_(h,f,y,k){h=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,k),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,k),f.state!==h&&eb.enqueueReplaceState(f,f.state,null)}function Y7(h,f,y,k){var I=h.stateNode;I.props=y,I.state=h.memoizedState,I.refs={},L7(h);var N=f.contextType;typeof N=="object"&&N!==null?I.context=Aa(N):(N=xr(f)?eh:As.current,I.context=Bf(h,N)),I.state=h.memoizedState,N=f.getDerivedStateFromProps,typeof N=="function"&&(K7(h,f,N,y),I.state=h.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(f=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),f!==I.state&&eb.enqueueReplaceState(I,I.state,null),V3(h,y,I,k),I.state=h.memoizedState),typeof I.componentDidMount=="function"&&(h.flags|=4194308)}function Wf(h,f){try{var y="",k=f;do y+=Re(k),k=k.return;while(k);var I=y}catch(N){I=`
Error generating stack: `+N.message+`
`+N.stack}return{value:h,source:f,stack:I,digest:null}}function Z7(h,f,y){return{value:h,source:null,stack:y??null,digest:f??null}}function J7(h,f){try{console.error(f.value)}catch(y){setTimeout(function(){throw y})}}var G$=typeof WeakMap=="function"?WeakMap:Map;function b_(h,f,y){y=Vl(-1,y),y.tag=3,y.payload={element:null};var k=f.value;return y.callback=function(){ob||(ob=!0,f4=k),J7(h,f)},y}function y_(h,f,y){y=Vl(-1,y),y.tag=3;var k=h.type.getDerivedStateFromError;if(typeof k=="function"){var I=f.value;y.payload=function(){return k(I)},y.callback=function(){J7(h,f)}}var N=h.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(y.callback=function(){J7(h,f),typeof k!="function"&&(g0===null?g0=new Set([this]):g0.add(this));var j=f.stack;this.componentDidCatch(f.value,{componentStack:j!==null?j:""})}),y}function w_(h,f,y){var k=h.pingCache;if(k===null){k=h.pingCache=new G$;var I=new Set;k.set(f,I)}else I=k.get(f),I===void 0&&(I=new Set,k.set(f,I));I.has(y)||(I.add(y),h=rU.bind(null,h,f,y),f.then(h,h))}function v_(h){do{var f;if((f=h.tag===13)&&(f=h.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return h;h=h.return}while(h!==null);return null}function S_(h,f,y,k,I){return(h.mode&1)===0?(h===f?h.flags|=65536:(h.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(f=Vl(-1,1),f.tag=2,f0(y,f,1))),y.lanes|=1),h):(h.flags|=65536,h.lanes=I,h)}var W$=w.ReactCurrentOwner,br=!1;function qs(h,f,y,k){f.child=h===null?zE(f,null,y,k):zf(f,h.child,y,k)}function A_(h,f,y,k,I){y=y.render;var N=f.ref;return qf(f,I),k=H7(h,f,y,k,N,I),y=q7(),h!==null&&!br?(f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~I,Xl(h,f,I)):(On&&y&&E7(f),f.flags|=1,qs(h,f,k,I),f.child)}function k_(h,f,y,k,I){if(h===null){var N=y.type;return typeof N=="function"&&!w4(N)&&N.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(f.tag=15,f.type=N,C_(h,f,N,k,I)):(h=fb(y.type,null,k,f,f.mode,I),h.ref=f.ref,h.return=f,f.child=h)}if(N=h.child,(h.lanes&I)===0){var j=N.memoizedProps;if(y=y.compare,y=y!==null?y:qg,y(j,k)&&h.ref===f.ref)return Xl(h,f,I)}return f.flags|=1,h=y0(N,k),h.ref=f.ref,h.return=f,f.child=h}function C_(h,f,y,k,I){if(h!==null){var N=h.memoizedProps;if(qg(N,k)&&h.ref===f.ref)if(br=!1,f.pendingProps=k=N,(h.lanes&I)!==0)(h.flags&131072)!==0&&(br=!0);else return f.lanes=h.lanes,Xl(h,f,I)}return Q7(h,f,y,k,I)}function E_(h,f,y){var k=f.pendingProps,I=k.children,N=h!==null?h.memoizedState:null;if(k.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(Xf,Hr),Hr|=y;else{if((y&1073741824)===0)return h=N!==null?N.baseLanes|y:y,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:h,cachePool:null,transitions:null},f.updateQueue=null,_n(Xf,Hr),Hr|=h,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},k=N!==null?N.baseLanes:y,_n(Xf,Hr),Hr|=k}else N!==null?(k=N.baseLanes|y,f.memoizedState=null):k=y,_n(Xf,Hr),Hr|=k;return qs(h,f,I,y),f.child}function __(h,f){var y=f.ref;(h===null&&y!==null||h!==null&&h.ref!==y)&&(f.flags|=512,f.flags|=2097152)}function Q7(h,f,y,k,I){var N=xr(y)?eh:As.current;return N=Bf(f,N),qf(f,I),y=H7(h,f,y,k,N,I),k=q7(),h!==null&&!br?(f.updateQueue=h.updateQueue,f.flags&=-2053,h.lanes&=~I,Xl(h,f,I)):(On&&k&&E7(f),f.flags|=1,qs(h,f,y,I),f.child)}function T_(h,f,y,k,I){if(xr(y)){var N=!0;B3(f)}else N=!1;if(qf(f,I),f.stateNode===null)nb(h,f),m_(f,y,k),Y7(f,y,k,I),k=!0;else if(h===null){var j=f.stateNode,Y=f.memoizedProps;j.props=Y;var ne=j.context,Ae=y.contextType;typeof Ae=="object"&&Ae!==null?Ae=Aa(Ae):(Ae=xr(y)?eh:As.current,Ae=Bf(f,Ae));var $e=y.getDerivedStateFromProps,ze=typeof $e=="function"||typeof j.getSnapshotBeforeUpdate=="function";ze||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Y!==k||ne!==Ae)&&x_(f,j,k,Ae),d0=!1;var je=f.memoizedState;j.state=je,V3(f,k,j,I),ne=f.memoizedState,Y!==k||je!==ne||mr.current||d0?(typeof $e=="function"&&(K7(f,y,$e,k),ne=f.memoizedState),(Y=d0||g_(f,y,Y,k,je,ne,Ae))?(ze||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(f.flags|=4194308)):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=k,f.memoizedState=ne),j.props=k,j.state=ne,j.context=Ae,k=Y):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),k=!1)}else{j=f.stateNode,qE(h,f),Y=f.memoizedProps,Ae=f.type===f.elementType?Y:so(f.type,Y),j.props=Ae,ze=f.pendingProps,je=j.context,ne=y.contextType,typeof ne=="object"&&ne!==null?ne=Aa(ne):(ne=xr(y)?eh:As.current,ne=Bf(f,ne));var st=y.getDerivedStateFromProps;($e=typeof st=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Y!==ze||je!==ne)&&x_(f,j,k,ne),d0=!1,je=f.memoizedState,j.state=je,V3(f,k,j,I);var ut=f.memoizedState;Y!==ze||je!==ut||mr.current||d0?(typeof st=="function"&&(K7(f,y,st,k),ut=f.memoizedState),(Ae=d0||g_(f,y,Ae,k,je,ut,ne)||!1)?($e||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(k,ut,ne),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(k,ut,ne)),typeof j.componentDidUpdate=="function"&&(f.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof j.componentDidUpdate!="function"||Y===h.memoizedProps&&je===h.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||Y===h.memoizedProps&&je===h.memoizedState||(f.flags|=1024),f.memoizedProps=k,f.memoizedState=ut),j.props=k,j.state=ut,j.context=ne,k=Ae):(typeof j.componentDidUpdate!="function"||Y===h.memoizedProps&&je===h.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||Y===h.memoizedProps&&je===h.memoizedState||(f.flags|=1024),k=!1)}return e4(h,f,y,k,N,I)}function e4(h,f,y,k,I,N){__(h,f);var j=(f.flags&128)!==0;if(!k&&!j)return I&&FE(f,y,!1),Xl(h,f,N);k=f.stateNode,W$.current=f;var Y=j&&typeof y.getDerivedStateFromError!="function"?null:k.render();return f.flags|=1,h!==null&&j?(f.child=zf(f,h.child,null,N),f.child=zf(f,null,Y,N)):qs(h,f,Y,N),f.memoizedState=k.state,I&&FE(f,y,!0),f.child}function I_(h){var f=h.stateNode;f.pendingContext?NE(h,f.pendingContext,f.pendingContext!==f.context):f.context&&NE(h,f.context,!1),O7(h,f.containerInfo)}function P_(h,f,y,k,I){return Uf(),P7(I),f.flags|=256,qs(h,f,y,k),f.child}var t4={dehydrated:null,treeContext:null,retryLane:0};function n4(h){return{baseLanes:h,cachePool:null,transitions:null}}function N_(h,f,y){var k=f.pendingProps,I=Jn.current,N=!1,j=(f.flags&128)!==0,Y;if((Y=j)||(Y=h!==null&&h.memoizedState===null?!1:(I&2)!==0),Y?(N=!0,f.flags&=-129):(h===null||h.memoizedState!==null)&&(I|=1),_n(Jn,I&1),h===null)return I7(f),h=f.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((f.mode&1)===0?f.lanes=1:h.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(j=k.children,h=k.fallback,N?(k=f.mode,N=f.child,j={mode:"hidden",children:j},(k&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=j):N=pb(j,k,0,null),h=uh(h,k,y,null),N.return=f,h.return=f,N.sibling=h,f.child=N,f.child.memoizedState=n4(y),f.memoizedState=t4,h):i4(f,j));if(I=h.memoizedState,I!==null&&(Y=I.dehydrated,Y!==null))return V$(h,f,j,k,Y,I,y);if(N){N=k.fallback,j=f.mode,I=h.child,Y=I.sibling;var ne={mode:"hidden",children:k.children};return(j&1)===0&&f.child!==I?(k=f.child,k.childLanes=0,k.pendingProps=ne,f.deletions=null):(k=y0(I,ne),k.subtreeFlags=I.subtreeFlags&14680064),Y!==null?N=y0(Y,N):(N=uh(N,j,y,null),N.flags|=2),N.return=f,k.return=f,k.sibling=N,f.child=k,k=N,N=f.child,j=h.child.memoizedState,j=j===null?n4(y):{baseLanes:j.baseLanes|y,cachePool:null,transitions:j.transitions},N.memoizedState=j,N.childLanes=h.childLanes&~y,f.memoizedState=t4,k}return N=h.child,h=N.sibling,k=y0(N,{mode:"visible",children:k.children}),(f.mode&1)===0&&(k.lanes=y),k.return=f,k.sibling=null,h!==null&&(y=f.deletions,y===null?(f.deletions=[h],f.flags|=16):y.push(h)),f.child=k,f.memoizedState=null,k}function i4(h,f){return f=pb({mode:"visible",children:f},h.mode,0,null),f.return=h,h.child=f}function tb(h,f,y,k){return k!==null&&P7(k),zf(f,h.child,null,y),h=i4(f,f.pendingProps.children),h.flags|=2,f.memoizedState=null,h}function V$(h,f,y,k,I,N,j){if(y)return f.flags&256?(f.flags&=-257,k=Z7(Error(n(422))),tb(h,f,j,k)):f.memoizedState!==null?(f.child=h.child,f.flags|=128,null):(N=k.fallback,I=f.mode,k=pb({mode:"visible",children:k.children},I,0,null),N=uh(N,I,j,null),N.flags|=2,k.return=f,N.return=f,k.sibling=N,f.child=k,(f.mode&1)!==0&&zf(f,h.child,null,j),f.child.memoizedState=n4(j),f.memoizedState=t4,N);if((f.mode&1)===0)return tb(h,f,j,null);if(I.data==="$!"){if(k=I.nextSibling&&I.nextSibling.dataset,k)var Y=k.dgst;return k=Y,N=Error(n(419)),k=Z7(N,k,void 0),tb(h,f,j,k)}if(Y=(j&h.childLanes)!==0,br||Y){if(k=Ui,k!==null){switch(j&-j){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}I=(I&(k.suspendedLanes|j))!==0?0:I,I!==0&&I!==N.retryLane&&(N.retryLane=I,Wl(h,I),oo(k,h,I,-1))}return y4(),k=Z7(Error(n(421))),tb(h,f,j,k)}return I.data==="$?"?(f.flags|=128,f.child=h.child,f=aU.bind(null,h),I._reactRetry=f,null):(h=N.treeContext,zr=l0(I.nextSibling),Ur=f,On=!0,io=null,h!==null&&(va[Sa++]=ql,va[Sa++]=Gl,va[Sa++]=th,ql=h.id,Gl=h.overflow,th=f),f=i4(f,k.children),f.flags|=4096,f)}function R_(h,f,y){h.lanes|=f;var k=h.alternate;k!==null&&(k.lanes|=f),M7(h.return,f,y)}function s4(h,f,y,k,I){var N=h.memoizedState;N===null?h.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:k,tail:y,tailMode:I}:(N.isBackwards=f,N.rendering=null,N.renderingStartTime=0,N.last=k,N.tail=y,N.tailMode=I)}function F_(h,f,y){var k=f.pendingProps,I=k.revealOrder,N=k.tail;if(qs(h,f,k.children,y),k=Jn.current,(k&2)!==0)k=k&1|2,f.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=f.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&R_(h,y,f);else if(h.tag===19)R_(h,y,f);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===f)break e;for(;h.sibling===null;){if(h.return===null||h.return===f)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}k&=1}if(_n(Jn,k),(f.mode&1)===0)f.memoizedState=null;else switch(I){case"forwards":for(y=f.child,I=null;y!==null;)h=y.alternate,h!==null&&X3(h)===null&&(I=y),y=y.sibling;y=I,y===null?(I=f.child,f.child=null):(I=y.sibling,y.sibling=null),s4(f,!1,I,y,N);break;case"backwards":for(y=null,I=f.child,f.child=null;I!==null;){if(h=I.alternate,h!==null&&X3(h)===null){f.child=I;break}h=I.sibling,I.sibling=y,y=I,I=h}s4(f,!0,y,null,N);break;case"together":s4(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function nb(h,f){(f.mode&1)===0&&h!==null&&(h.alternate=null,f.alternate=null,f.flags|=2)}function Xl(h,f,y){if(h!==null&&(f.dependencies=h.dependencies),ah|=f.lanes,(y&f.childLanes)===0)return null;if(h!==null&&f.child!==h.child)throw Error(n(153));if(f.child!==null){for(h=f.child,y=y0(h,h.pendingProps),f.child=y,y.return=f;h.sibling!==null;)h=h.sibling,y=y.sibling=y0(h,h.pendingProps),y.return=f;y.sibling=null}return f.child}function X$(h,f,y){switch(f.tag){case 3:I_(f),Uf();break;case 5:VE(f);break;case 1:xr(f.type)&&B3(f);break;case 4:O7(f,f.stateNode.containerInfo);break;case 10:var k=f.type._context,I=f.memoizedProps.value;_n(q3,k._currentValue),k._currentValue=I;break;case 13:if(k=f.memoizedState,k!==null)return k.dehydrated!==null?(_n(Jn,Jn.current&1),f.flags|=128,null):(y&f.child.childLanes)!==0?N_(h,f,y):(_n(Jn,Jn.current&1),h=Xl(h,f,y),h!==null?h.sibling:null);_n(Jn,Jn.current&1);break;case 19:if(k=(y&f.childLanes)!==0,(h.flags&128)!==0){if(k)return F_(h,f,y);f.flags|=128}if(I=f.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),_n(Jn,Jn.current),k)break;return null;case 22:case 23:return f.lanes=0,E_(h,f,y)}return Xl(h,f,y)}var M_,r4,D_,L_;M_=function(h,f){for(var y=f.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},r4=function(){},D_=function(h,f,y,k){var I=h.memoizedProps;if(I!==k){h=f.stateNode,sh(Wo.current);var N=null;switch(y){case"input":I=se(h,I),k=se(h,k),N=[];break;case"select":I=pe({},I,{value:void 0}),k=pe({},k,{value:void 0}),N=[];break;case"textarea":I=ce(h,I),k=ce(h,k),N=[];break;default:typeof I.onClick!="function"&&typeof k.onClick=="function"&&(h.onclick=D3)}Ku(y,k);var j;y=null;for(Ae in I)if(!k.hasOwnProperty(Ae)&&I.hasOwnProperty(Ae)&&I[Ae]!=null)if(Ae==="style"){var Y=I[Ae];for(j in Y)Y.hasOwnProperty(j)&&(y||(y={}),y[j]="")}else Ae!=="dangerouslySetInnerHTML"&&Ae!=="children"&&Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&Ae!=="autoFocus"&&(s.hasOwnProperty(Ae)?N||(N=[]):(N=N||[]).push(Ae,null));for(Ae in k){var ne=k[Ae];if(Y=I!=null?I[Ae]:void 0,k.hasOwnProperty(Ae)&&ne!==Y&&(ne!=null||Y!=null))if(Ae==="style")if(Y){for(j in Y)!Y.hasOwnProperty(j)||ne&&ne.hasOwnProperty(j)||(y||(y={}),y[j]="");for(j in ne)ne.hasOwnProperty(j)&&Y[j]!==ne[j]&&(y||(y={}),y[j]=ne[j])}else y||(N||(N=[]),N.push(Ae,y)),y=ne;else Ae==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,Y=Y?Y.__html:void 0,ne!=null&&Y!==ne&&(N=N||[]).push(Ae,ne)):Ae==="children"?typeof ne!="string"&&typeof ne!="number"||(N=N||[]).push(Ae,""+ne):Ae!=="suppressContentEditableWarning"&&Ae!=="suppressHydrationWarning"&&(s.hasOwnProperty(Ae)?(ne!=null&&Ae==="onScroll"&&Pn("scroll",h),N||Y===ne||(N=[])):(N=N||[]).push(Ae,ne))}y&&(N=N||[]).push("style",y);var Ae=N;(f.updateQueue=Ae)&&(f.flags|=4)}},L_=function(h,f,y,k){y!==k&&(f.flags|=4)};function rm(h,f){if(!On)switch(h.tailMode){case"hidden":f=h.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?h.tail=null:y.sibling=null;break;case"collapsed":y=h.tail;for(var k=null;y!==null;)y.alternate!==null&&(k=y),y=y.sibling;k===null?f||h.tail===null?h.tail=null:h.tail.sibling=null:k.sibling=null}}function Cs(h){var f=h.alternate!==null&&h.alternate.child===h.child,y=0,k=0;if(f)for(var I=h.child;I!==null;)y|=I.lanes|I.childLanes,k|=I.subtreeFlags&14680064,k|=I.flags&14680064,I.return=h,I=I.sibling;else for(I=h.child;I!==null;)y|=I.lanes|I.childLanes,k|=I.subtreeFlags,k|=I.flags,I.return=h,I=I.sibling;return h.subtreeFlags|=k,h.childLanes=y,f}function K$(h,f,y){var k=f.pendingProps;switch(_7(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cs(f),null;case 1:return xr(f.type)&&O3(),Cs(f),null;case 3:return k=f.stateNode,Gf(),Nn(mr),Nn(As),$7(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(h===null||h.child===null)&&(z3(f)?f.flags|=4:h===null||h.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,io!==null&&(m4(io),io=null))),r4(h,f),Cs(f),null;case 5:B7(f);var I=sh(em.current);if(y=f.type,h!==null&&f.stateNode!=null)D_(h,f,y,k,I),h.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!k){if(f.stateNode===null)throw Error(n(166));return Cs(f),null}if(h=sh(Wo.current),z3(f)){k=f.stateNode,y=f.type;var N=f.memoizedProps;switch(k[Go]=f,k[Kg]=N,h=(f.mode&1)!==0,y){case"dialog":Pn("cancel",k),Pn("close",k);break;case"iframe":case"object":case"embed":Pn("load",k);break;case"video":case"audio":for(I=0;I<Wg.length;I++)Pn(Wg[I],k);break;case"source":Pn("error",k);break;case"img":case"image":case"link":Pn("error",k),Pn("load",k);break;case"details":Pn("toggle",k);break;case"input":Ue(k,N),Pn("invalid",k);break;case"select":k._wrapperState={wasMultiple:!!N.multiple},Pn("invalid",k);break;case"textarea":ge(k,N),Pn("invalid",k)}Ku(y,N),I=null;for(var j in N)if(N.hasOwnProperty(j)){var Y=N[j];j==="children"?typeof Y=="string"?k.textContent!==Y&&(N.suppressHydrationWarning!==!0&&M3(k.textContent,Y,h),I=["children",Y]):typeof Y=="number"&&k.textContent!==""+Y&&(N.suppressHydrationWarning!==!0&&M3(k.textContent,Y,h),I=["children",""+Y]):s.hasOwnProperty(j)&&Y!=null&&j==="onScroll"&&Pn("scroll",k)}switch(y){case"input":Ie(k),Xe(k,N,!0);break;case"textarea":Ie(k),Ne(k);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(k.onclick=D3)}k=I,f.updateQueue=k,k!==null&&(f.flags|=4)}else{j=I.nodeType===9?I:I.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=Ye(y)),h==="http://www.w3.org/1999/xhtml"?y==="script"?(h=j.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof k.is=="string"?h=j.createElement(y,{is:k.is}):(h=j.createElement(y),y==="select"&&(j=h,k.multiple?j.multiple=!0:k.size&&(j.size=k.size))):h=j.createElementNS(h,y),h[Go]=f,h[Kg]=k,M_(h,f,!1,!1),f.stateNode=h;e:{switch(j=Eg(y,k),y){case"dialog":Pn("cancel",h),Pn("close",h),I=k;break;case"iframe":case"object":case"embed":Pn("load",h),I=k;break;case"video":case"audio":for(I=0;I<Wg.length;I++)Pn(Wg[I],h);I=k;break;case"source":Pn("error",h),I=k;break;case"img":case"image":case"link":Pn("error",h),Pn("load",h),I=k;break;case"details":Pn("toggle",h),I=k;break;case"input":Ue(h,k),I=se(h,k),Pn("invalid",h);break;case"option":I=k;break;case"select":h._wrapperState={wasMultiple:!!k.multiple},I=pe({},k,{value:void 0}),Pn("invalid",h);break;case"textarea":ge(h,k),I=ce(h,k),Pn("invalid",h);break;default:I=k}Ku(y,I),Y=I;for(N in Y)if(Y.hasOwnProperty(N)){var ne=Y[N];N==="style"?$l(h,ne):N==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Qe(h,ne)):N==="children"?typeof ne=="string"?(y!=="textarea"||ne!=="")&&vt(h,ne):typeof ne=="number"&&vt(h,""+ne):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(s.hasOwnProperty(N)?ne!=null&&N==="onScroll"&&Pn("scroll",h):ne!=null&&E(h,N,ne,j))}switch(y){case"input":Ie(h),Xe(h,k,!1);break;case"textarea":Ie(h),Ne(h);break;case"option":k.value!=null&&h.setAttribute("value",""+Z(k.value));break;case"select":h.multiple=!!k.multiple,N=k.value,N!=null?tt(h,!!k.multiple,N,!1):k.defaultValue!=null&&tt(h,!!k.multiple,k.defaultValue,!0);break;default:typeof I.onClick=="function"&&(h.onclick=D3)}switch(y){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}}k&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Cs(f),null;case 6:if(h&&f.stateNode!=null)L_(h,f,h.memoizedProps,k);else{if(typeof k!="string"&&f.stateNode===null)throw Error(n(166));if(y=sh(em.current),sh(Wo.current),z3(f)){if(k=f.stateNode,y=f.memoizedProps,k[Go]=f,(N=k.nodeValue!==y)&&(h=Ur,h!==null))switch(h.tag){case 3:M3(k.nodeValue,y,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&M3(k.nodeValue,y,(h.mode&1)!==0)}N&&(f.flags|=4)}else k=(y.nodeType===9?y:y.ownerDocument).createTextNode(k),k[Go]=f,f.stateNode=k}return Cs(f),null;case 13:if(Nn(Jn),k=f.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(On&&zr!==null&&(f.mode&1)!==0&&(f.flags&128)===0)jE(),Uf(),f.flags|=98560,N=!1;else if(N=z3(f),k!==null&&k.dehydrated!==null){if(h===null){if(!N)throw Error(n(318));if(N=f.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[Go]=f}else Uf(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Cs(f),N=!1}else io!==null&&(m4(io),io=null),N=!0;if(!N)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=y,f):(k=k!==null,k!==(h!==null&&h.memoizedState!==null)&&k&&(f.child.flags|=8192,(f.mode&1)!==0&&(h===null||(Jn.current&1)!==0?Ri===0&&(Ri=3):y4())),f.updateQueue!==null&&(f.flags|=4),Cs(f),null);case 4:return Gf(),r4(h,f),h===null&&Vg(f.stateNode.containerInfo),Cs(f),null;case 10:return F7(f.type._context),Cs(f),null;case 17:return xr(f.type)&&O3(),Cs(f),null;case 19:if(Nn(Jn),N=f.memoizedState,N===null)return Cs(f),null;if(k=(f.flags&128)!==0,j=N.rendering,j===null)if(k)rm(N,!1);else{if(Ri!==0||h!==null&&(h.flags&128)!==0)for(h=f.child;h!==null;){if(j=X3(h),j!==null){for(f.flags|=128,rm(N,!1),k=j.updateQueue,k!==null&&(f.updateQueue=k,f.flags|=4),f.subtreeFlags=0,k=y,y=f.child;y!==null;)N=y,h=k,N.flags&=14680066,j=N.alternate,j===null?(N.childLanes=0,N.lanes=h,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=j.childLanes,N.lanes=j.lanes,N.child=j.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=j.memoizedProps,N.memoizedState=j.memoizedState,N.updateQueue=j.updateQueue,N.type=j.type,h=j.dependencies,N.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),y=y.sibling;return _n(Jn,Jn.current&1|2),f.child}h=h.sibling}N.tail!==null&&ui()>Kf&&(f.flags|=128,k=!0,rm(N,!1),f.lanes=4194304)}else{if(!k)if(h=X3(j),h!==null){if(f.flags|=128,k=!0,y=h.updateQueue,y!==null&&(f.updateQueue=y,f.flags|=4),rm(N,!0),N.tail===null&&N.tailMode==="hidden"&&!j.alternate&&!On)return Cs(f),null}else 2*ui()-N.renderingStartTime>Kf&&y!==1073741824&&(f.flags|=128,k=!0,rm(N,!1),f.lanes=4194304);N.isBackwards?(j.sibling=f.child,f.child=j):(y=N.last,y!==null?y.sibling=j:f.child=j,N.last=j)}return N.tail!==null?(f=N.tail,N.rendering=f,N.tail=f.sibling,N.renderingStartTime=ui(),f.sibling=null,y=Jn.current,_n(Jn,k?y&1|2:y&1),f):(Cs(f),null);case 22:case 23:return b4(),k=f.memoizedState!==null,h!==null&&h.memoizedState!==null!==k&&(f.flags|=8192),k&&(f.mode&1)!==0?(Hr&1073741824)!==0&&(Cs(f),f.subtreeFlags&6&&(f.flags|=8192)):Cs(f),null;case 24:return null;case 25:return null}throw Error(n(156,f.tag))}function Y$(h,f){switch(_7(f),f.tag){case 1:return xr(f.type)&&O3(),h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 3:return Gf(),Nn(mr),Nn(As),$7(),h=f.flags,(h&65536)!==0&&(h&128)===0?(f.flags=h&-65537|128,f):null;case 5:return B7(f),null;case 13:if(Nn(Jn),h=f.memoizedState,h!==null&&h.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Uf()}return h=f.flags,h&65536?(f.flags=h&-65537|128,f):null;case 19:return Nn(Jn),null;case 4:return Gf(),null;case 10:return F7(f.type._context),null;case 22:case 23:return b4(),null;case 24:return null;default:return null}}var ib=!1,Es=!1,Z$=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Vf(h,f){var y=h.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(k){ii(h,f,k)}else y.current=null}function a4(h,f,y){try{y()}catch(k){ii(h,f,k)}}var O_=!1;function J$(h,f){if(b7=A3,h=gE(),u7(h)){if("selectionStart"in h)var y={start:h.selectionStart,end:h.selectionEnd};else e:{y=(y=h.ownerDocument)&&y.defaultView||window;var k=y.getSelection&&y.getSelection();if(k&&k.rangeCount!==0){y=k.anchorNode;var I=k.anchorOffset,N=k.focusNode;k=k.focusOffset;try{y.nodeType,N.nodeType}catch{y=null;break e}var j=0,Y=-1,ne=-1,Ae=0,$e=0,ze=h,je=null;t:for(;;){for(var st;ze!==y||I!==0&&ze.nodeType!==3||(Y=j+I),ze!==N||k!==0&&ze.nodeType!==3||(ne=j+k),ze.nodeType===3&&(j+=ze.nodeValue.length),(st=ze.firstChild)!==null;)je=ze,ze=st;for(;;){if(ze===h)break t;if(je===y&&++Ae===I&&(Y=j),je===N&&++$e===k&&(ne=j),(st=ze.nextSibling)!==null)break;ze=je,je=ze.parentNode}ze=st}y=Y===-1||ne===-1?null:{start:Y,end:ne}}else y=null}y=y||{start:0,end:0}}else y=null;for(y7={focusedElem:h,selectionRange:y},A3=!1,ot=f;ot!==null;)if(f=ot,h=f.child,(f.subtreeFlags&1028)!==0&&h!==null)h.return=f,ot=h;else for(;ot!==null;){f=ot;try{var ut=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var dt=ut.memoizedProps,hi=ut.memoizedState,be=f.stateNode,ae=be.getSnapshotBeforeUpdate(f.elementType===f.type?dt:so(f.type,dt),hi);be.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var ve=f.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(We){ii(f,f.return,We)}if(h=f.sibling,h!==null){h.return=f.return,ot=h;break}ot=f.return}return ut=O_,O_=!1,ut}function am(h,f,y){var k=f.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var I=k=k.next;do{if((I.tag&h)===h){var N=I.destroy;I.destroy=void 0,N!==void 0&&a4(f,y,N)}I=I.next}while(I!==k)}}function sb(h,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&h)===h){var k=y.create;y.destroy=k()}y=y.next}while(y!==f)}}function o4(h){var f=h.ref;if(f!==null){var y=h.stateNode;switch(h.tag){case 5:h=y;break;default:h=y}typeof f=="function"?f(h):f.current=h}}function B_(h){var f=h.alternate;f!==null&&(h.alternate=null,B_(f)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(f=h.stateNode,f!==null&&(delete f[Go],delete f[Kg],delete f[A7],delete f[M$],delete f[D$])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function j_(h){return h.tag===5||h.tag===3||h.tag===4}function $_(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||j_(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function l4(h,f,y){var k=h.tag;if(k===5||k===6)h=h.stateNode,f?y.nodeType===8?y.parentNode.insertBefore(h,f):y.insertBefore(h,f):(y.nodeType===8?(f=y.parentNode,f.insertBefore(h,y)):(f=y,f.appendChild(h)),y=y._reactRootContainer,y!=null||f.onclick!==null||(f.onclick=D3));else if(k!==4&&(h=h.child,h!==null))for(l4(h,f,y),h=h.sibling;h!==null;)l4(h,f,y),h=h.sibling}function c4(h,f,y){var k=h.tag;if(k===5||k===6)h=h.stateNode,f?y.insertBefore(h,f):y.appendChild(h);else if(k!==4&&(h=h.child,h!==null))for(c4(h,f,y),h=h.sibling;h!==null;)c4(h,f,y),h=h.sibling}var ts=null,ro=!1;function p0(h,f,y){for(y=y.child;y!==null;)U_(h,f,y),y=y.sibling}function U_(h,f,y){if(qo&&typeof qo.onCommitFiberUnmount=="function")try{qo.onCommitFiberUnmount(x3,y)}catch{}switch(y.tag){case 5:Es||Vf(y,f);case 6:var k=ts,I=ro;ts=null,p0(h,f,y),ts=k,ro=I,ts!==null&&(ro?(h=ts,y=y.stateNode,h.nodeType===8?h.parentNode.removeChild(y):h.removeChild(y)):ts.removeChild(y.stateNode));break;case 18:ts!==null&&(ro?(h=ts,y=y.stateNode,h.nodeType===8?S7(h.parentNode,y):h.nodeType===1&&S7(h,y),Bg(h)):S7(ts,y.stateNode));break;case 4:k=ts,I=ro,ts=y.stateNode.containerInfo,ro=!0,p0(h,f,y),ts=k,ro=I;break;case 0:case 11:case 14:case 15:if(!Es&&(k=y.updateQueue,k!==null&&(k=k.lastEffect,k!==null))){I=k=k.next;do{var N=I,j=N.destroy;N=N.tag,j!==void 0&&((N&2)!==0||(N&4)!==0)&&a4(y,f,j),I=I.next}while(I!==k)}p0(h,f,y);break;case 1:if(!Es&&(Vf(y,f),k=y.stateNode,typeof k.componentWillUnmount=="function"))try{k.props=y.memoizedProps,k.state=y.memoizedState,k.componentWillUnmount()}catch(Y){ii(y,f,Y)}p0(h,f,y);break;case 21:p0(h,f,y);break;case 22:y.mode&1?(Es=(k=Es)||y.memoizedState!==null,p0(h,f,y),Es=k):p0(h,f,y);break;default:p0(h,f,y)}}function z_(h){var f=h.updateQueue;if(f!==null){h.updateQueue=null;var y=h.stateNode;y===null&&(y=h.stateNode=new Z$),f.forEach(function(k){var I=oU.bind(null,h,k);y.has(k)||(y.add(k),k.then(I,I))})}}function ao(h,f){var y=f.deletions;if(y!==null)for(var k=0;k<y.length;k++){var I=y[k];try{var N=h,j=f,Y=j;e:for(;Y!==null;){switch(Y.tag){case 5:ts=Y.stateNode,ro=!1;break e;case 3:ts=Y.stateNode.containerInfo,ro=!0;break e;case 4:ts=Y.stateNode.containerInfo,ro=!0;break e}Y=Y.return}if(ts===null)throw Error(n(160));U_(N,j,I),ts=null,ro=!1;var ne=I.alternate;ne!==null&&(ne.return=null),I.return=null}catch(Ae){ii(I,f,Ae)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)H_(f,h),f=f.sibling}function H_(h,f){var y=h.alternate,k=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(ao(f,h),Xo(h),k&4){try{am(3,h,h.return),sb(3,h)}catch(dt){ii(h,h.return,dt)}try{am(5,h,h.return)}catch(dt){ii(h,h.return,dt)}}break;case 1:ao(f,h),Xo(h),k&512&&y!==null&&Vf(y,y.return);break;case 5:if(ao(f,h),Xo(h),k&512&&y!==null&&Vf(y,y.return),h.flags&32){var I=h.stateNode;try{vt(I,"")}catch(dt){ii(h,h.return,dt)}}if(k&4&&(I=h.stateNode,I!=null)){var N=h.memoizedProps,j=y!==null?y.memoizedProps:N,Y=h.type,ne=h.updateQueue;if(h.updateQueue=null,ne!==null)try{Y==="input"&&N.type==="radio"&&N.name!=null&&Ve(I,N),Eg(Y,j);var Ae=Eg(Y,N);for(j=0;j<ne.length;j+=2){var $e=ne[j],ze=ne[j+1];$e==="style"?$l(I,ze):$e==="dangerouslySetInnerHTML"?Qe(I,ze):$e==="children"?vt(I,ze):E(I,$e,ze,Ae)}switch(Y){case"input":Ke(I,N);break;case"textarea":Te(I,N);break;case"select":var je=I._wrapperState.wasMultiple;I._wrapperState.wasMultiple=!!N.multiple;var st=N.value;st!=null?tt(I,!!N.multiple,st,!1):je!==!!N.multiple&&(N.defaultValue!=null?tt(I,!!N.multiple,N.defaultValue,!0):tt(I,!!N.multiple,N.multiple?[]:"",!1))}I[Kg]=N}catch(dt){ii(h,h.return,dt)}}break;case 6:if(ao(f,h),Xo(h),k&4){if(h.stateNode===null)throw Error(n(162));I=h.stateNode,N=h.memoizedProps;try{I.nodeValue=N}catch(dt){ii(h,h.return,dt)}}break;case 3:if(ao(f,h),Xo(h),k&4&&y!==null&&y.memoizedState.isDehydrated)try{Bg(f.containerInfo)}catch(dt){ii(h,h.return,dt)}break;case 4:ao(f,h),Xo(h);break;case 13:ao(f,h),Xo(h),I=h.child,I.flags&8192&&(N=I.memoizedState!==null,I.stateNode.isHidden=N,!N||I.alternate!==null&&I.alternate.memoizedState!==null||(d4=ui())),k&4&&z_(h);break;case 22:if($e=y!==null&&y.memoizedState!==null,h.mode&1?(Es=(Ae=Es)||$e,ao(f,h),Es=Ae):ao(f,h),Xo(h),k&8192){if(Ae=h.memoizedState!==null,(h.stateNode.isHidden=Ae)&&!$e&&(h.mode&1)!==0)for(ot=h,$e=h.child;$e!==null;){for(ze=ot=$e;ot!==null;){switch(je=ot,st=je.child,je.tag){case 0:case 11:case 14:case 15:am(4,je,je.return);break;case 1:Vf(je,je.return);var ut=je.stateNode;if(typeof ut.componentWillUnmount=="function"){k=je,y=je.return;try{f=k,ut.props=f.memoizedProps,ut.state=f.memoizedState,ut.componentWillUnmount()}catch(dt){ii(k,y,dt)}}break;case 5:Vf(je,je.return);break;case 22:if(je.memoizedState!==null){W_(ze);continue}}st!==null?(st.return=je,ot=st):W_(ze)}$e=$e.sibling}e:for($e=null,ze=h;;){if(ze.tag===5){if($e===null){$e=ze;try{I=ze.stateNode,Ae?(N=I.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(Y=ze.stateNode,ne=ze.memoizedProps.style,j=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,Y.style.display=gr("display",j))}catch(dt){ii(h,h.return,dt)}}}else if(ze.tag===6){if($e===null)try{ze.stateNode.nodeValue=Ae?"":ze.memoizedProps}catch(dt){ii(h,h.return,dt)}}else if((ze.tag!==22&&ze.tag!==23||ze.memoizedState===null||ze===h)&&ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===h)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===h)break e;$e===ze&&($e=null),ze=ze.return}$e===ze&&($e=null),ze.sibling.return=ze.return,ze=ze.sibling}}break;case 19:ao(f,h),Xo(h),k&4&&z_(h);break;case 21:break;default:ao(f,h),Xo(h)}}function Xo(h){var f=h.flags;if(f&2){try{e:{for(var y=h.return;y!==null;){if(j_(y)){var k=y;break e}y=y.return}throw Error(n(160))}switch(k.tag){case 5:var I=k.stateNode;k.flags&32&&(vt(I,""),k.flags&=-33);var N=$_(h);c4(h,N,I);break;case 3:case 4:var j=k.stateNode.containerInfo,Y=$_(h);l4(h,Y,j);break;default:throw Error(n(161))}}catch(ne){ii(h,h.return,ne)}h.flags&=-3}f&4096&&(h.flags&=-4097)}function Q$(h,f,y){ot=h,q_(h)}function q_(h,f,y){for(var k=(h.mode&1)!==0;ot!==null;){var I=ot,N=I.child;if(I.tag===22&&k){var j=I.memoizedState!==null||ib;if(!j){var Y=I.alternate,ne=Y!==null&&Y.memoizedState!==null||Es;Y=ib;var Ae=Es;if(ib=j,(Es=ne)&&!Ae)for(ot=I;ot!==null;)j=ot,ne=j.child,j.tag===22&&j.memoizedState!==null?V_(I):ne!==null?(ne.return=j,ot=ne):V_(I);for(;N!==null;)ot=N,q_(N),N=N.sibling;ot=I,ib=Y,Es=Ae}G_(h)}else(I.subtreeFlags&8772)!==0&&N!==null?(N.return=I,ot=N):G_(h)}}function G_(h){for(;ot!==null;){var f=ot;if((f.flags&8772)!==0){var y=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:Es||sb(5,f);break;case 1:var k=f.stateNode;if(f.flags&4&&!Es)if(y===null)k.componentDidMount();else{var I=f.elementType===f.type?y.memoizedProps:so(f.type,y.memoizedProps);k.componentDidUpdate(I,y.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var N=f.updateQueue;N!==null&&WE(f,N,k);break;case 3:var j=f.updateQueue;if(j!==null){if(y=null,f.child!==null)switch(f.child.tag){case 5:y=f.child.stateNode;break;case 1:y=f.child.stateNode}WE(f,j,y)}break;case 5:var Y=f.stateNode;if(y===null&&f.flags&4){y=Y;var ne=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&y.focus();break;case"img":ne.src&&(y.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var Ae=f.alternate;if(Ae!==null){var $e=Ae.memoizedState;if($e!==null){var ze=$e.dehydrated;ze!==null&&Bg(ze)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Es||f.flags&512&&o4(f)}catch(je){ii(f,f.return,je)}}if(f===h){ot=null;break}if(y=f.sibling,y!==null){y.return=f.return,ot=y;break}ot=f.return}}function W_(h){for(;ot!==null;){var f=ot;if(f===h){ot=null;break}var y=f.sibling;if(y!==null){y.return=f.return,ot=y;break}ot=f.return}}function V_(h){for(;ot!==null;){var f=ot;try{switch(f.tag){case 0:case 11:case 15:var y=f.return;try{sb(4,f)}catch(ne){ii(f,y,ne)}break;case 1:var k=f.stateNode;if(typeof k.componentDidMount=="function"){var I=f.return;try{k.componentDidMount()}catch(ne){ii(f,I,ne)}}var N=f.return;try{o4(f)}catch(ne){ii(f,N,ne)}break;case 5:var j=f.return;try{o4(f)}catch(ne){ii(f,j,ne)}}}catch(ne){ii(f,f.return,ne)}if(f===h){ot=null;break}var Y=f.sibling;if(Y!==null){Y.return=f.return,ot=Y;break}ot=f.return}}var eU=Math.ceil,rb=w.ReactCurrentDispatcher,u4=w.ReactCurrentOwner,Ca=w.ReactCurrentBatchConfig,an=0,Ui=null,yi=null,ns=0,Hr=0,Xf=c0(0),Ri=0,om=null,ah=0,ab=0,h4=0,lm=null,yr=null,d4=0,Kf=1/0,Kl=null,ob=!1,f4=null,g0=null,lb=!1,m0=null,cb=0,cm=0,p4=null,ub=-1,hb=0;function Gs(){return(an&6)!==0?ui():ub!==-1?ub:ub=ui()}function x0(h){return(h.mode&1)===0?1:(an&2)!==0&&ns!==0?ns&-ns:O$.transition!==null?(hb===0&&(hb=$C()),hb):(h=bn,h!==0||(h=window.event,h=h===void 0?16:KC(h.type)),h)}function oo(h,f,y,k){if(50<cm)throw cm=0,p4=null,Error(n(185));Fg(h,y,k),((an&2)===0||h!==Ui)&&(h===Ui&&((an&2)===0&&(ab|=y),Ri===4&&b0(h,ns)),wr(h,k),y===1&&an===0&&(f.mode&1)===0&&(Kf=ui()+500,j3&&h0()))}function wr(h,f){var y=h.callbackNode;Oj(h,f);var k=w3(h,h===Ui?ns:0);if(k===0)y!==null&&OC(y),h.callbackNode=null,h.callbackPriority=0;else if(f=k&-k,h.callbackPriority!==f){if(y!=null&&OC(y),f===1)h.tag===0?L$(K_.bind(null,h)):ME(K_.bind(null,h)),R$(function(){(an&6)===0&&h0()}),y=null;else{switch(UC(k)){case 1:y=V6;break;case 4:y=BC;break;case 16:y=m3;break;case 536870912:y=jC;break;default:y=m3}y=iT(y,X_.bind(null,h))}h.callbackPriority=f,h.callbackNode=y}}function X_(h,f){if(ub=-1,hb=0,(an&6)!==0)throw Error(n(327));var y=h.callbackNode;if(Yf()&&h.callbackNode!==y)return null;var k=w3(h,h===Ui?ns:0);if(k===0)return null;if((k&30)!==0||(k&h.expiredLanes)!==0||f)f=db(h,k);else{f=k;var I=an;an|=2;var N=Z_();(Ui!==h||ns!==f)&&(Kl=null,Kf=ui()+500,lh(h,f));do try{iU();break}catch(Y){Y_(h,Y)}while(!0);R7(),rb.current=N,an=I,yi!==null?f=0:(Ui=null,ns=0,f=Ri)}if(f!==0){if(f===2&&(I=X6(h),I!==0&&(k=I,f=g4(h,I))),f===1)throw y=om,lh(h,0),b0(h,k),wr(h,ui()),y;if(f===6)b0(h,k);else{if(I=h.current.alternate,(k&30)===0&&!tU(I)&&(f=db(h,k),f===2&&(N=X6(h),N!==0&&(k=N,f=g4(h,N))),f===1))throw y=om,lh(h,0),b0(h,k),wr(h,ui()),y;switch(h.finishedWork=I,h.finishedLanes=k,f){case 0:case 1:throw Error(n(345));case 2:ch(h,yr,Kl);break;case 3:if(b0(h,k),(k&130023424)===k&&(f=d4+500-ui(),10<f)){if(w3(h,0)!==0)break;if(I=h.suspendedLanes,(I&k)!==k){Gs(),h.pingedLanes|=h.suspendedLanes&I;break}h.timeoutHandle=v7(ch.bind(null,h,yr,Kl),f);break}ch(h,yr,Kl);break;case 4:if(b0(h,k),(k&4194240)===k)break;for(f=h.eventTimes,I=-1;0<k;){var j=31-to(k);N=1<<j,j=f[j],j>I&&(I=j),k&=~N}if(k=I,k=ui()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*eU(k/1960))-k,10<k){h.timeoutHandle=v7(ch.bind(null,h,yr,Kl),k);break}ch(h,yr,Kl);break;case 5:ch(h,yr,Kl);break;default:throw Error(n(329))}}}return wr(h,ui()),h.callbackNode===y?X_.bind(null,h):null}function g4(h,f){var y=lm;return h.current.memoizedState.isDehydrated&&(lh(h,f).flags|=256),h=db(h,f),h!==2&&(f=yr,yr=y,f!==null&&m4(f)),h}function m4(h){yr===null?yr=h:yr.push.apply(yr,h)}function tU(h){for(var f=h;;){if(f.flags&16384){var y=f.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var k=0;k<y.length;k++){var I=y[k],N=I.getSnapshot;I=I.value;try{if(!no(N(),I))return!1}catch{return!1}}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function b0(h,f){for(f&=~h4,f&=~ab,h.suspendedLanes|=f,h.pingedLanes&=~f,h=h.expirationTimes;0<f;){var y=31-to(f),k=1<<y;h[y]=-1,f&=~k}}function K_(h){if((an&6)!==0)throw Error(n(327));Yf();var f=w3(h,0);if((f&1)===0)return wr(h,ui()),null;var y=db(h,f);if(h.tag!==0&&y===2){var k=X6(h);k!==0&&(f=k,y=g4(h,k))}if(y===1)throw y=om,lh(h,0),b0(h,f),wr(h,ui()),y;if(y===6)throw Error(n(345));return h.finishedWork=h.current.alternate,h.finishedLanes=f,ch(h,yr,Kl),wr(h,ui()),null}function x4(h,f){var y=an;an|=1;try{return h(f)}finally{an=y,an===0&&(Kf=ui()+500,j3&&h0())}}function oh(h){m0!==null&&m0.tag===0&&(an&6)===0&&Yf();var f=an;an|=1;var y=Ca.transition,k=bn;try{if(Ca.transition=null,bn=1,h)return h()}finally{bn=k,Ca.transition=y,an=f,(an&6)===0&&h0()}}function b4(){Hr=Xf.current,Nn(Xf)}function lh(h,f){h.finishedWork=null,h.finishedLanes=0;var y=h.timeoutHandle;if(y!==-1&&(h.timeoutHandle=-1,N$(y)),yi!==null)for(y=yi.return;y!==null;){var k=y;switch(_7(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&O3();break;case 3:Gf(),Nn(mr),Nn(As),$7();break;case 5:B7(k);break;case 4:Gf();break;case 13:Nn(Jn);break;case 19:Nn(Jn);break;case 10:F7(k.type._context);break;case 22:case 23:b4()}y=y.return}if(Ui=h,yi=h=y0(h.current,null),ns=Hr=f,Ri=0,om=null,h4=ab=ah=0,yr=lm=null,ih!==null){for(f=0;f<ih.length;f++)if(y=ih[f],k=y.interleaved,k!==null){y.interleaved=null;var I=k.next,N=y.pending;if(N!==null){var j=N.next;N.next=I,k.next=j}y.pending=k}ih=null}return h}function Y_(h,f){do{var y=yi;try{if(R7(),K3.current=Q3,Y3){for(var k=Qn.memoizedState;k!==null;){var I=k.queue;I!==null&&(I.pending=null),k=k.next}Y3=!1}if(rh=0,$i=Ni=Qn=null,tm=!1,nm=0,u4.current=null,y===null||y.return===null){Ri=1,om=f,yi=null;break}e:{var N=h,j=y.return,Y=y,ne=f;if(f=ns,Y.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ae=ne,$e=Y,ze=$e.tag;if(($e.mode&1)===0&&(ze===0||ze===11||ze===15)){var je=$e.alternate;je?($e.updateQueue=je.updateQueue,$e.memoizedState=je.memoizedState,$e.lanes=je.lanes):($e.updateQueue=null,$e.memoizedState=null)}var st=v_(j);if(st!==null){st.flags&=-257,S_(st,j,Y,N,f),st.mode&1&&w_(N,Ae,f),f=st,ne=Ae;var ut=f.updateQueue;if(ut===null){var dt=new Set;dt.add(ne),f.updateQueue=dt}else ut.add(ne);break e}else{if((f&1)===0){w_(N,Ae,f),y4();break e}ne=Error(n(426))}}else if(On&&Y.mode&1){var hi=v_(j);if(hi!==null){(hi.flags&65536)===0&&(hi.flags|=256),S_(hi,j,Y,N,f),P7(Wf(ne,Y));break e}}N=ne=Wf(ne,Y),Ri!==4&&(Ri=2),lm===null?lm=[N]:lm.push(N),N=j;do{switch(N.tag){case 3:N.flags|=65536,f&=-f,N.lanes|=f;var be=b_(N,ne,f);GE(N,be);break e;case 1:Y=ne;var ae=N.type,ve=N.stateNode;if((N.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(g0===null||!g0.has(ve)))){N.flags|=65536,f&=-f,N.lanes|=f;var We=y_(N,Y,f);GE(N,We);break e}}N=N.return}while(N!==null)}Q_(y)}catch(ft){f=ft,yi===y&&y!==null&&(yi=y=y.return);continue}break}while(!0)}function Z_(){var h=rb.current;return rb.current=Q3,h===null?Q3:h}function y4(){(Ri===0||Ri===3||Ri===2)&&(Ri=4),Ui===null||(ah&268435455)===0&&(ab&268435455)===0||b0(Ui,ns)}function db(h,f){var y=an;an|=2;var k=Z_();(Ui!==h||ns!==f)&&(Kl=null,lh(h,f));do try{nU();break}catch(I){Y_(h,I)}while(!0);if(R7(),an=y,rb.current=k,yi!==null)throw Error(n(261));return Ui=null,ns=0,Ri}function nU(){for(;yi!==null;)J_(yi)}function iU(){for(;yi!==null&&!Tj();)J_(yi)}function J_(h){var f=nT(h.alternate,h,Hr);h.memoizedProps=h.pendingProps,f===null?Q_(h):yi=f,u4.current=null}function Q_(h){var f=h;do{var y=f.alternate;if(h=f.return,(f.flags&32768)===0){if(y=K$(y,f,Hr),y!==null){yi=y;return}}else{if(y=Y$(y,f),y!==null){y.flags&=32767,yi=y;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{Ri=6,yi=null;return}}if(f=f.sibling,f!==null){yi=f;return}yi=f=h}while(f!==null);Ri===0&&(Ri=5)}function ch(h,f,y){var k=bn,I=Ca.transition;try{Ca.transition=null,bn=1,sU(h,f,y,k)}finally{Ca.transition=I,bn=k}return null}function sU(h,f,y,k){do Yf();while(m0!==null);if((an&6)!==0)throw Error(n(327));y=h.finishedWork;var I=h.finishedLanes;if(y===null)return null;if(h.finishedWork=null,h.finishedLanes=0,y===h.current)throw Error(n(177));h.callbackNode=null,h.callbackPriority=0;var N=y.lanes|y.childLanes;if(Bj(h,N),h===Ui&&(yi=Ui=null,ns=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||lb||(lb=!0,iT(m3,function(){return Yf(),null})),N=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||N){N=Ca.transition,Ca.transition=null;var j=bn;bn=1;var Y=an;an|=4,u4.current=null,J$(h,y),H_(y,h),k$(y7),A3=!!b7,y7=b7=null,h.current=y,Q$(y),Ij(),an=Y,bn=j,Ca.transition=N}else h.current=y;if(lb&&(lb=!1,m0=h,cb=I),N=h.pendingLanes,N===0&&(g0=null),Rj(y.stateNode),wr(h,ui()),f!==null)for(k=h.onRecoverableError,y=0;y<f.length;y++)I=f[y],k(I.value,{componentStack:I.stack,digest:I.digest});if(ob)throw ob=!1,h=f4,f4=null,h;return(cb&1)!==0&&h.tag!==0&&Yf(),N=h.pendingLanes,(N&1)!==0?h===p4?cm++:(cm=0,p4=h):cm=0,h0(),null}function Yf(){if(m0!==null){var h=UC(cb),f=Ca.transition,y=bn;try{if(Ca.transition=null,bn=16>h?16:h,m0===null)var k=!1;else{if(h=m0,m0=null,cb=0,(an&6)!==0)throw Error(n(331));var I=an;for(an|=4,ot=h.current;ot!==null;){var N=ot,j=N.child;if((ot.flags&16)!==0){var Y=N.deletions;if(Y!==null){for(var ne=0;ne<Y.length;ne++){var Ae=Y[ne];for(ot=Ae;ot!==null;){var $e=ot;switch($e.tag){case 0:case 11:case 15:am(8,$e,N)}var ze=$e.child;if(ze!==null)ze.return=$e,ot=ze;else for(;ot!==null;){$e=ot;var je=$e.sibling,st=$e.return;if(B_($e),$e===Ae){ot=null;break}if(je!==null){je.return=st,ot=je;break}ot=st}}}var ut=N.alternate;if(ut!==null){var dt=ut.child;if(dt!==null){ut.child=null;do{var hi=dt.sibling;dt.sibling=null,dt=hi}while(dt!==null)}}ot=N}}if((N.subtreeFlags&2064)!==0&&j!==null)j.return=N,ot=j;else e:for(;ot!==null;){if(N=ot,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:am(9,N,N.return)}var be=N.sibling;if(be!==null){be.return=N.return,ot=be;break e}ot=N.return}}var ae=h.current;for(ot=ae;ot!==null;){j=ot;var ve=j.child;if((j.subtreeFlags&2064)!==0&&ve!==null)ve.return=j,ot=ve;else e:for(j=ae;ot!==null;){if(Y=ot,(Y.flags&2048)!==0)try{switch(Y.tag){case 0:case 11:case 15:sb(9,Y)}}catch(ft){ii(Y,Y.return,ft)}if(Y===j){ot=null;break e}var We=Y.sibling;if(We!==null){We.return=Y.return,ot=We;break e}ot=Y.return}}if(an=I,h0(),qo&&typeof qo.onPostCommitFiberRoot=="function")try{qo.onPostCommitFiberRoot(x3,h)}catch{}k=!0}return k}finally{bn=y,Ca.transition=f}}return!1}function eT(h,f,y){f=Wf(y,f),f=b_(h,f,1),h=f0(h,f,1),f=Gs(),h!==null&&(Fg(h,1,f),wr(h,f))}function ii(h,f,y){if(h.tag===3)eT(h,h,y);else for(;f!==null;){if(f.tag===3){eT(f,h,y);break}else if(f.tag===1){var k=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(g0===null||!g0.has(k))){h=Wf(y,h),h=y_(f,h,1),f=f0(f,h,1),h=Gs(),f!==null&&(Fg(f,1,h),wr(f,h));break}}f=f.return}}function rU(h,f,y){var k=h.pingCache;k!==null&&k.delete(f),f=Gs(),h.pingedLanes|=h.suspendedLanes&y,Ui===h&&(ns&y)===y&&(Ri===4||Ri===3&&(ns&130023424)===ns&&500>ui()-d4?lh(h,0):h4|=y),wr(h,f)}function tT(h,f){f===0&&((h.mode&1)===0?f=1:(f=y3,y3<<=1,(y3&130023424)===0&&(y3=4194304)));var y=Gs();h=Wl(h,f),h!==null&&(Fg(h,f,y),wr(h,y))}function aU(h){var f=h.memoizedState,y=0;f!==null&&(y=f.retryLane),tT(h,y)}function oU(h,f){var y=0;switch(h.tag){case 13:var k=h.stateNode,I=h.memoizedState;I!==null&&(y=I.retryLane);break;case 19:k=h.stateNode;break;default:throw Error(n(314))}k!==null&&k.delete(f),tT(h,y)}var nT;nT=function(h,f,y){if(h!==null)if(h.memoizedProps!==f.pendingProps||mr.current)br=!0;else{if((h.lanes&y)===0&&(f.flags&128)===0)return br=!1,X$(h,f,y);br=(h.flags&131072)!==0}else br=!1,On&&(f.flags&1048576)!==0&&DE(f,U3,f.index);switch(f.lanes=0,f.tag){case 2:var k=f.type;nb(h,f),h=f.pendingProps;var I=Bf(f,As.current);qf(f,y),I=H7(null,f,k,h,I,y);var N=q7();return f.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,xr(k)?(N=!0,B3(f)):N=!1,f.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,L7(f),I.updater=eb,f.stateNode=I,I._reactInternals=f,Y7(f,k,h,y),f=e4(null,f,k,!0,N,y)):(f.tag=0,On&&N&&E7(f),qs(null,f,I,y),f=f.child),f;case 16:k=f.elementType;e:{switch(nb(h,f),h=f.pendingProps,I=k._init,k=I(k._payload),f.type=k,I=f.tag=cU(k),h=so(k,h),I){case 0:f=Q7(null,f,k,h,y);break e;case 1:f=T_(null,f,k,h,y);break e;case 11:f=A_(null,f,k,h,y);break e;case 14:f=k_(null,f,k,so(k.type,h),y);break e}throw Error(n(306,k,""))}return f;case 0:return k=f.type,I=f.pendingProps,I=f.elementType===k?I:so(k,I),Q7(h,f,k,I,y);case 1:return k=f.type,I=f.pendingProps,I=f.elementType===k?I:so(k,I),T_(h,f,k,I,y);case 3:e:{if(I_(f),h===null)throw Error(n(387));k=f.pendingProps,N=f.memoizedState,I=N.element,qE(h,f),V3(f,k,null,y);var j=f.memoizedState;if(k=j.element,N.isDehydrated)if(N={element:k,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},f.updateQueue.baseState=N,f.memoizedState=N,f.flags&256){I=Wf(Error(n(423)),f),f=P_(h,f,k,y,I);break e}else if(k!==I){I=Wf(Error(n(424)),f),f=P_(h,f,k,y,I);break e}else for(zr=l0(f.stateNode.containerInfo.firstChild),Ur=f,On=!0,io=null,y=zE(f,null,k,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Uf(),k===I){f=Xl(h,f,y);break e}qs(h,f,k,y)}f=f.child}return f;case 5:return VE(f),h===null&&I7(f),k=f.type,I=f.pendingProps,N=h!==null?h.memoizedProps:null,j=I.children,w7(k,I)?j=null:N!==null&&w7(k,N)&&(f.flags|=32),__(h,f),qs(h,f,j,y),f.child;case 6:return h===null&&I7(f),null;case 13:return N_(h,f,y);case 4:return O7(f,f.stateNode.containerInfo),k=f.pendingProps,h===null?f.child=zf(f,null,k,y):qs(h,f,k,y),f.child;case 11:return k=f.type,I=f.pendingProps,I=f.elementType===k?I:so(k,I),A_(h,f,k,I,y);case 7:return qs(h,f,f.pendingProps,y),f.child;case 8:return qs(h,f,f.pendingProps.children,y),f.child;case 12:return qs(h,f,f.pendingProps.children,y),f.child;case 10:e:{if(k=f.type._context,I=f.pendingProps,N=f.memoizedProps,j=I.value,_n(q3,k._currentValue),k._currentValue=j,N!==null)if(no(N.value,j)){if(N.children===I.children&&!mr.current){f=Xl(h,f,y);break e}}else for(N=f.child,N!==null&&(N.return=f);N!==null;){var Y=N.dependencies;if(Y!==null){j=N.child;for(var ne=Y.firstContext;ne!==null;){if(ne.context===k){if(N.tag===1){ne=Vl(-1,y&-y),ne.tag=2;var Ae=N.updateQueue;if(Ae!==null){Ae=Ae.shared;var $e=Ae.pending;$e===null?ne.next=ne:(ne.next=$e.next,$e.next=ne),Ae.pending=ne}}N.lanes|=y,ne=N.alternate,ne!==null&&(ne.lanes|=y),M7(N.return,y,f),Y.lanes|=y;break}ne=ne.next}}else if(N.tag===10)j=N.type===f.type?null:N.child;else if(N.tag===18){if(j=N.return,j===null)throw Error(n(341));j.lanes|=y,Y=j.alternate,Y!==null&&(Y.lanes|=y),M7(j,y,f),j=N.sibling}else j=N.child;if(j!==null)j.return=N;else for(j=N;j!==null;){if(j===f){j=null;break}if(N=j.sibling,N!==null){N.return=j.return,j=N;break}j=j.return}N=j}qs(h,f,I.children,y),f=f.child}return f;case 9:return I=f.type,k=f.pendingProps.children,qf(f,y),I=Aa(I),k=k(I),f.flags|=1,qs(h,f,k,y),f.child;case 14:return k=f.type,I=so(k,f.pendingProps),I=so(k.type,I),k_(h,f,k,I,y);case 15:return C_(h,f,f.type,f.pendingProps,y);case 17:return k=f.type,I=f.pendingProps,I=f.elementType===k?I:so(k,I),nb(h,f),f.tag=1,xr(k)?(h=!0,B3(f)):h=!1,qf(f,y),m_(f,k,I),Y7(f,k,I,y),e4(null,f,k,!0,h,y);case 19:return F_(h,f,y);case 22:return E_(h,f,y)}throw Error(n(156,f.tag))};function iT(h,f){return LC(h,f)}function lU(h,f,y,k){this.tag=h,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(h,f,y,k){return new lU(h,f,y,k)}function w4(h){return h=h.prototype,!(!h||!h.isReactComponent)}function cU(h){if(typeof h=="function")return w4(h)?1:0;if(h!=null){if(h=h.$$typeof,h===U)return 11;if(h===Q)return 14}return 2}function y0(h,f){var y=h.alternate;return y===null?(y=Ea(h.tag,f,h.key,h.mode),y.elementType=h.elementType,y.type=h.type,y.stateNode=h.stateNode,y.alternate=h,h.alternate=y):(y.pendingProps=f,y.type=h.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=h.flags&14680064,y.childLanes=h.childLanes,y.lanes=h.lanes,y.child=h.child,y.memoizedProps=h.memoizedProps,y.memoizedState=h.memoizedState,y.updateQueue=h.updateQueue,f=h.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=h.sibling,y.index=h.index,y.ref=h.ref,y}function fb(h,f,y,k,I,N){var j=2;if(k=h,typeof h=="function")w4(h)&&(j=1);else if(typeof h=="string")j=5;else e:switch(h){case P:return uh(y.children,I,N,f);case R:j=8,I|=8;break;case D:return h=Ea(12,y,f,I|2),h.elementType=D,h.lanes=N,h;case V:return h=Ea(13,y,f,I),h.elementType=V,h.lanes=N,h;case ee:return h=Ea(19,y,f,I),h.elementType=ee,h.lanes=N,h;case $:return pb(y,I,N,f);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case O:j=10;break e;case B:j=9;break e;case U:j=11;break e;case Q:j=14;break e;case G:j=16,k=null;break e}throw Error(n(130,h==null?h:typeof h,""))}return f=Ea(j,y,f,I),f.elementType=h,f.type=k,f.lanes=N,f}function uh(h,f,y,k){return h=Ea(7,h,k,f),h.lanes=y,h}function pb(h,f,y,k){return h=Ea(22,h,k,f),h.elementType=$,h.lanes=y,h.stateNode={isHidden:!1},h}function v4(h,f,y){return h=Ea(6,h,null,f),h.lanes=y,h}function S4(h,f,y){return f=Ea(4,h.children!==null?h.children:[],h.key,f),f.lanes=y,f.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},f}function uU(h,f,y,k,I){this.tag=f,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=K6(0),this.expirationTimes=K6(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K6(0),this.identifierPrefix=k,this.onRecoverableError=I,this.mutableSourceEagerHydrationData=null}function A4(h,f,y,k,I,N,j,Y,ne){return h=new uU(h,f,y,Y,ne),f===1?(f=1,N===!0&&(f|=8)):f=0,N=Ea(3,null,null,f),h.current=N,N.stateNode=h,N.memoizedState={element:k,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},L7(N),h}function hU(h,f,y){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:k==null?null:""+k,children:h,containerInfo:f,implementation:y}}function sT(h){if(!h)return u0;h=h._reactInternals;e:{if(Zn(h)!==h||h.tag!==1)throw Error(n(170));var f=h;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(xr(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(n(171))}if(h.tag===1){var y=h.type;if(xr(y))return RE(h,y,f)}return f}function rT(h,f,y,k,I,N,j,Y,ne){return h=A4(y,k,!0,h,I,N,j,Y,ne),h.context=sT(null),y=h.current,k=Gs(),I=x0(y),N=Vl(k,I),N.callback=f??null,f0(y,N,I),h.current.lanes=I,Fg(h,I,k),wr(h,k),h}function gb(h,f,y,k){var I=f.current,N=Gs(),j=x0(I);return y=sT(y),f.context===null?f.context=y:f.pendingContext=y,f=Vl(N,j),f.payload={element:h},k=k===void 0?null:k,k!==null&&(f.callback=k),h=f0(I,f,j),h!==null&&(oo(h,I,j,N),W3(h,I,j)),j}function mb(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function aT(h,f){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var y=h.retryLane;h.retryLane=y!==0&&y<f?y:f}}function k4(h,f){aT(h,f),(h=h.alternate)&&aT(h,f)}function dU(){return null}var oT=typeof reportError=="function"?reportError:function(h){console.error(h)};function C4(h){this._internalRoot=h}xb.prototype.render=C4.prototype.render=function(h){var f=this._internalRoot;if(f===null)throw Error(n(409));gb(h,f,null,null)},xb.prototype.unmount=C4.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var f=h.containerInfo;oh(function(){gb(null,h,null,null)}),f[zl]=null}};function xb(h){this._internalRoot=h}xb.prototype.unstable_scheduleHydration=function(h){if(h){var f=qC();h={blockedOn:null,target:h,priority:f};for(var y=0;y<r0.length&&f!==0&&f<r0[y].priority;y++);r0.splice(y,0,h),y===0&&VC(h)}};function E4(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function bb(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function lT(){}function fU(h,f,y,k,I){if(I){if(typeof k=="function"){var N=k;k=function(){var Ae=mb(j);N.call(Ae)}}var j=rT(f,k,h,0,null,!1,!1,"",lT);return h._reactRootContainer=j,h[zl]=j.current,Vg(h.nodeType===8?h.parentNode:h),oh(),j}for(;I=h.lastChild;)h.removeChild(I);if(typeof k=="function"){var Y=k;k=function(){var Ae=mb(ne);Y.call(Ae)}}var ne=A4(h,0,!1,null,null,!1,!1,"",lT);return h._reactRootContainer=ne,h[zl]=ne.current,Vg(h.nodeType===8?h.parentNode:h),oh(function(){gb(f,ne,y,k)}),ne}function yb(h,f,y,k,I){var N=y._reactRootContainer;if(N){var j=N;if(typeof I=="function"){var Y=I;I=function(){var ne=mb(j);Y.call(ne)}}gb(f,j,h,I)}else j=fU(y,f,h,I,k);return mb(j)}zC=function(h){switch(h.tag){case 3:var f=h.stateNode;if(f.current.memoizedState.isDehydrated){var y=Rg(f.pendingLanes);y!==0&&(Y6(f,y|1),wr(f,ui()),(an&6)===0&&(Kf=ui()+500,h0()))}break;case 13:oh(function(){var k=Wl(h,1);if(k!==null){var I=Gs();oo(k,h,1,I)}}),k4(h,1)}},Z6=function(h){if(h.tag===13){var f=Wl(h,134217728);if(f!==null){var y=Gs();oo(f,h,134217728,y)}k4(h,134217728)}},HC=function(h){if(h.tag===13){var f=x0(h),y=Wl(h,f);if(y!==null){var k=Gs();oo(y,h,f,k)}k4(h,f)}},qC=function(){return bn},GC=function(h,f){var y=bn;try{return bn=h,f()}finally{bn=y}},Tf=function(h,f,y){switch(f){case"input":if(Ke(h,y),f=y.name,y.type==="radio"&&f!=null){for(y=h;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<y.length;f++){var k=y[f];if(k!==h&&k.form===h.form){var I=L3(k);if(!I)throw Error(n(90));ye(k),Ke(k,I)}}}break;case"textarea":Te(h,y);break;case"select":f=y.value,f!=null&&tt(h,!!y.multiple,f,!1)}},f3=x4,p3=oh;var pU={usingClientEntryPoint:!1,Events:[Yg,Lf,L3,h3,d3,x4]},um={findFiberByHostInstance:Qu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gU={bundleType:um.bundleType,version:um.version,rendererPackageName:um.rendererPackageName,rendererConfig:um.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=MC(h),h===null?null:h.stateNode},findFiberByHostInstance:um.findFiberByHostInstance||dU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wb.isDisabled&&wb.supportsFiber)try{x3=wb.inject(gU),qo=wb}catch{}}return vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pU,vr.createPortal=function(h,f){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E4(f))throw Error(n(200));return hU(h,f,null,y)},vr.createRoot=function(h,f){if(!E4(h))throw Error(n(299));var y=!1,k="",I=oT;return f!=null&&(f.unstable_strictMode===!0&&(y=!0),f.identifierPrefix!==void 0&&(k=f.identifierPrefix),f.onRecoverableError!==void 0&&(I=f.onRecoverableError)),f=A4(h,1,!1,null,null,y,!1,k,I),h[zl]=f.current,Vg(h.nodeType===8?h.parentNode:h),new C4(f)},vr.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var f=h._reactInternals;if(f===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=MC(f),h=h===null?null:h.stateNode,h},vr.flushSync=function(h){return oh(h)},vr.hydrate=function(h,f,y){if(!bb(f))throw Error(n(200));return yb(null,h,f,!0,y)},vr.hydrateRoot=function(h,f,y){if(!E4(h))throw Error(n(405));var k=y!=null&&y.hydratedSources||null,I=!1,N="",j=oT;if(y!=null&&(y.unstable_strictMode===!0&&(I=!0),y.identifierPrefix!==void 0&&(N=y.identifierPrefix),y.onRecoverableError!==void 0&&(j=y.onRecoverableError)),f=rT(f,null,h,1,y??null,I,!1,N,j),h[zl]=f.current,Vg(h),k)for(h=0;h<k.length;h++)y=k[h],I=y._getVersion,I=I(y._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[y,I]:f.mutableSourceEagerHydrationData.push(y,I);return new xb(f)},vr.render=function(h,f,y){if(!bb(f))throw Error(n(200));return yb(null,h,f,!1,y)},vr.unmountComponentAtNode=function(h){if(!bb(h))throw Error(n(40));return h._reactRootContainer?(oh(function(){yb(null,null,h,!1,function(){h._reactRootContainer=null,h[zl]=null})}),!0):!1},vr.unstable_batchedUpdates=x4,vr.unstable_renderSubtreeIntoContainer=function(h,f,y,k){if(!bb(y))throw Error(n(200));if(h==null||h._reactInternals===void 0)throw Error(n(38));return yb(h,f,y,!1,k)},vr.version="18.3.1-next-f1338f8080-20240426",vr}var xT;function SR(){if(xT)return P4.exports;xT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),P4.exports=CU(),P4.exports}var bT;function EU(){if(bT)return vb;bT=1;var t=SR();return vb.createRoot=t.createRoot,vb.hydrateRoot=t.hydrateRoot,vb}var _U=EU();const TU=$u(_U);var H=X8();const it=$u(H),IU=yU({__proto__:null,default:it},[H]);SR();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},kx.apply(this,arguments)}var xu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xu||(xu={}));const yT="popstate";function PU(t){t===void 0&&(t={});function e(i,s){let{pathname:r,search:a,hash:o}=i.location;return tv("",{pathname:r,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:k5(s)}return RU(e,n,null,t)}function li(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function NU(){return Math.random().toString(36).substr(2,8)}function wT(t,e){return{usr:t.state,key:t.key,idx:e}}function tv(t,e,n,i){return n===void 0&&(n=null),kx({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bg(e):e,{state:n,key:e&&e.key||i||NU()})}function k5(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function bg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function RU(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,a=s.history,o=xu.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(kx({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=xu.Pop;let v=u(),S=v==null?null:v-c;c=v,l&&l({action:o,location:b.location,delta:S})}function p(v,S){o=xu.Push;let C=tv(b.location,v,S);c=u()+1;let E=wT(C,c),w=b.createHref(C);try{a.pushState(E,"",w)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(w)}r&&l&&l({action:o,location:b.location,delta:1})}function g(v,S){o=xu.Replace;let C=tv(b.location,v,S);c=u();let E=wT(C,c),w=b.createHref(C);a.replaceState(E,"",w),r&&l&&l({action:o,location:b.location,delta:0})}function m(v){let S=s.location.origin!=="null"?s.location.origin:s.location.href,C=typeof v=="string"?v:k5(v);return C=C.replace(/ $/,"%20"),li(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let b={get action(){return o},get location(){return t(s,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(yT,d),l=v,()=>{s.removeEventListener(yT,d),l=null}},createHref(v){return e(s,v)},createURL:m,encodeLocation(v){let S=m(v);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:g,go(v){return a.go(v)}};return b}var vT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vT||(vT={}));function FU(t,e,n){return n===void 0&&(n="/"),MU(t,e,n)}function MU(t,e,n,i){let s=typeof e=="string"?bg(e):e,r=eg(s.pathname||"/",n);if(r==null)return null;let a=kR(t);DU(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=WU(r);o=qU(a[l],c)}return o}function kR(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(r,a,o)=>{let l={relativePath:o===void 0?r.path||"":o,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};l.relativePath.startsWith("/")&&(li(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=_u([i,l.relativePath]),u=n.concat(l);r.children&&r.children.length>0&&(li(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),kR(r.children,e,u,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:zU(c,r.index),routesMeta:u})};return t.forEach((r,a)=>{var o;if(r.path===""||!((o=r.path)!=null&&o.includes("?")))s(r,a);else for(let l of CR(r.path))s(r,a,l)}),e}function CR(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let a=CR(i.join("/")),o=[];return o.push(...a.map(l=>l===""?r:[r,l].join("/"))),s&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function DU(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HU(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const LU=/^:[\w-]+$/,OU=3,BU=2,jU=1,$U=10,UU=-2,ST=t=>t==="*";function zU(t,e){let n=t.split("/"),i=n.length;return n.some(ST)&&(i+=UU),e&&(i+=BU),n.filter(s=>!ST(s)).reduce((s,r)=>s+(LU.test(r)?OU:r===""?jU:$U),i)}function HU(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function qU(t,e,n){let{routesMeta:i}=t,s={},r="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],c=o===i.length-1,u=r==="/"?e:e.slice(r.length)||"/",d=nv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:_u([r,d.pathname]),pathnameBase:YU(_u([r,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(r=_u([r,d.pathnameBase]))}return a}function nv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=GU(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce((c,u,d)=>{let{paramName:p,isOptional:g}=u;if(p==="*"){let b=o[d]||"";a=r.slice(0,r.length-b.length).replace(/(.)\/+$/,"$1")}const m=o[d];return g&&!m?c[p]=void 0:c[p]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:a,pattern:t}}function GU(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),AR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function WU(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return AR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function VU(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?bg(t):t;return{pathname:n?n.startsWith("/")?n:XU(n,e):e,search:ZU(i),hash:JU(s)}}function XU(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function F4(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KU(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ER(t,e){let n=KU(t);return e?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function _R(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=bg(t):(s=kx({},t),li(!s.pathname||!s.pathname.includes("?"),F4("?","pathname","search",s)),li(!s.pathname||!s.pathname.includes("#"),F4("#","pathname","hash",s)),li(!s.search||!s.search.includes("#"),F4("#","search","hash",s)));let r=t===""||s.pathname==="",a=r?"/":s.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!i&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}o=d>=0?e[d]:"/"}let l=VU(s,o),c=a&&a!=="/"&&a.endsWith("/"),u=(r||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const _u=t=>t.join("/").replace(/\/\/+/g,"/"),YU=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZU=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JU=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const TR=["post","put","patch","delete"];new Set(TR);const ez=["get",...TR];new Set(ez);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Cx.apply(this,arguments)}const K8=H.createContext(null),IR=H.createContext(null),Uu=H.createContext(null),Y8=H.createContext(null),zu=H.createContext({outlet:null,matches:[],isDataRoute:!1}),PR=H.createContext(null);function tz(t,e){let{relative:n}=e===void 0?{}:e;H9()||li(!1);let{basename:i,navigator:s}=H.useContext(Uu),{hash:r,pathname:a,search:o}=Z8(t,{relative:n}),l=a;return i!=="/"&&(l=a==="/"?i:_u([i,a])),s.createHref({pathname:l,search:o,hash:r})}function H9(){return H.useContext(Y8)!=null}function Hu(){return H9()||li(!1),H.useContext(Y8).location}function NR(t){H.useContext(Uu).static||H.useLayoutEffect(t)}function Ol(){let{isDataRoute:t}=H.useContext(zu);return t?pz():nz()}function nz(){H9()||li(!1);let t=H.useContext(K8),{basename:e,future:n,navigator:i}=H.useContext(Uu),{matches:s}=H.useContext(zu),{pathname:r}=Hu(),a=JSON.stringify(ER(s,n.v7_relativeSplatPath)),o=H.useRef(!1);return NR(()=>{o.current=!0}),H.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){i.go(c);return}let d=_R(c,JSON.parse(a),r,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_u([e,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[e,i,a,r,t])}function RR(){let{matches:t}=H.useContext(zu),e=t[t.length-1];return e?e.params:{}}function Z8(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=H.useContext(Uu),{matches:s}=H.useContext(zu),{pathname:r}=Hu(),a=JSON.stringify(ER(s,i.v7_relativeSplatPath));return H.useMemo(()=>_R(t,JSON.parse(a),r,n==="path"),[t,a,r,n])}function iz(t,e){return sz(t,e)}function sz(t,e,n,i){H9()||li(!1);let{navigator:s,static:r}=H.useContext(Uu),{matches:a}=H.useContext(zu),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Hu(),d;if(e){var p;let S=typeof e=="string"?bg(e):e;c==="/"||(p=S.pathname)!=null&&p.startsWith(c)||li(!1),d=S}else d=u;let g=d.pathname||"/",m=g;if(c!=="/"){let S=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=FU(t,{pathname:m}),v=cz(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:_u([c,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:_u([c,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,i);return e&&v?H.createElement(Y8.Provider,{value:{location:Cx({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xu.Pop}},v):v}function rz(){let t=fz(),e=QU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:s},n):null,null)}const az=H.createElement(rz,null);class oz extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?H.createElement(zu.Provider,{value:this.props.routeContext},H.createElement(PR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lz(t){let{routeContext:e,match:n,children:i}=t,s=H.useContext(K8);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),H.createElement(zu.Provider,{value:e},i)}function cz(t,e,n,i){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=i)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(s=n)==null?void 0:s.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||li(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:p,errors:g}=n,m=d.route.loader&&p[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,p)=>{let g,m=!1,b=null,v=null;n&&(g=o&&d.route.id?o[d.route.id]:void 0,b=d.route.errorElement||az,l&&(c<0&&p===0?(gz("route-fallback"),m=!0,v=null):c===p&&(m=!0,v=d.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,p+1)),C=()=>{let E;return g?E=b:m?E=v:d.route.Component?E=H.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,H.createElement(lz,{match:d,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?H.createElement(oz,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}var FR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FR||{}),MR=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(MR||{});function uz(t){let e=H.useContext(K8);return e||li(!1),e}function hz(t){let e=H.useContext(IR);return e||li(!1),e}function dz(t){let e=H.useContext(zu);return e||li(!1),e}function DR(t){let e=dz(),n=e.matches[e.matches.length-1];return n.route.id||li(!1),n.route.id}function fz(){var t;let e=H.useContext(PR),n=hz(),i=DR();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function pz(){let{router:t}=uz(FR.UseNavigateStable),e=DR(MR.UseNavigateStable),n=H.useRef(!1);return NR(()=>{n.current=!0}),H.useCallback(function(s,r){r===void 0&&(r={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Cx({fromRouteId:e},r)))},[t,e])}const AT={};function gz(t,e,n){AT[t]||(AT[t]=!0)}function mz(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function di(t){li(!1)}function xz(t){let{basename:e="/",children:n=null,location:i,navigationType:s=xu.Pop,navigator:r,static:a=!1,future:o}=t;H9()&&li(!1);let l=e.replace(/^\/*/,"/"),c=H.useMemo(()=>({basename:l,navigator:r,static:a,future:Cx({v7_relativeSplatPath:!1},o)}),[l,o,r,a]);typeof i=="string"&&(i=bg(i));let{pathname:u="/",search:d="",hash:p="",state:g=null,key:m="default"}=i,b=H.useMemo(()=>{let v=eg(u,l);return v==null?null:{location:{pathname:v,search:d,hash:p,state:g,key:m},navigationType:s}},[l,u,d,p,g,m,s]);return b==null?null:H.createElement(Uu.Provider,{value:c},H.createElement(Y8.Provider,{children:n,value:b}))}function bz(t){let{children:e,location:n}=t;return iz(iv(e),n)}new Promise(()=>{});function iv(t,e){e===void 0&&(e=[]);let n=[];return H.Children.forEach(t,(i,s)=>{if(!H.isValidElement(i))return;let r=[...e,s];if(i.type===H.Fragment){n.push.apply(n,iv(i.props.children,r));return}i.type!==di&&li(!1),!i.props.index||!i.props.children||li(!1);let a={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=iv(i.props.children,r)),n.push(a)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C5(){return C5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},C5.apply(this,arguments)}function LR(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function yz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wz(t,e){return t.button===0&&(!e||e==="_self")&&!yz(t)}function sv(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let i=t[n];return e.concat(Array.isArray(i)?i.map(s=>[n,s]):[[n,i]])},[]))}function vz(t,e){let n=sv(t);return e&&e.forEach((i,s)=>{n.has(s)||e.getAll(s).forEach(r=>{n.append(s,r)})}),n}const Sz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Az=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],kz="6";try{window.__reactRouterVersion=kz}catch{}const Cz=H.createContext({isTransitioning:!1}),Ez="startTransition",kT=IU[Ez];function _z(t){let{basename:e,children:n,future:i,window:s}=t,r=H.useRef();r.current==null&&(r.current=PU({window:s,v5Compat:!0}));let a=r.current,[o,l]=H.useState({action:a.action,location:a.location}),{v7_startTransition:c}=i||{},u=H.useCallback(d=>{c&&kT?kT(()=>l(d)):l(d)},[l,c]);return H.useLayoutEffect(()=>a.listen(u),[a,u]),H.useEffect(()=>mz(i),[i]),H.createElement(xz,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:i})}const Tz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Iz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Us=H.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:r,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,p=LR(e,Sz),{basename:g}=H.useContext(Uu),m,b=!1;if(typeof c=="string"&&Iz.test(c)&&(m=c,Tz))try{let E=new URL(window.location.href),w=c.startsWith("//")?new URL(E.protocol+c):new URL(c),A=eg(w.pathname,g);w.origin===E.origin&&A!=null?c=A+w.search+w.hash:b=!0}catch{}let v=tz(c,{relative:s}),S=Nz(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:s,viewTransition:d});function C(E){i&&i(E),E.defaultPrevented||S(E)}return H.createElement("a",C5({},p,{href:m||v,onClick:b||r?i:C,ref:n,target:l}))}),_s=H.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:s=!1,className:r="",end:a=!1,style:o,to:l,viewTransition:c,children:u}=e,d=LR(e,Az),p=Z8(l,{relative:d.relative}),g=Hu(),m=H.useContext(IR),{navigator:b,basename:v}=H.useContext(Uu),S=m!=null&&Fz(p)&&c===!0,C=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,E=g.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(E=E.toLowerCase(),w=w?w.toLowerCase():null,C=C.toLowerCase()),w&&v&&(w=eg(w,v)||w);const A=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let T=E===C||!a&&E.startsWith(C)&&E.charAt(A)==="/",P=w!=null&&(w===C||!a&&w.startsWith(C)&&w.charAt(C.length)==="/"),R={isActive:T,isPending:P,isTransitioning:S},D=T?i:void 0,O;typeof r=="function"?O=r(R):O=[r,T?"active":null,P?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(R):o;return H.createElement(Us,C5({},d,{"aria-current":D,className:O,ref:n,style:B,to:l,viewTransition:c}),typeof u=="function"?u(R):u)});var rv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(rv||(rv={}));var CT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(CT||(CT={}));function Pz(t){let e=H.useContext(K8);return e||li(!1),e}function Nz(t,e){let{target:n,replace:i,state:s,preventScrollReset:r,relative:a,viewTransition:o}=e===void 0?{}:e,l=Ol(),c=Hu(),u=Z8(t,{relative:a});return H.useCallback(d=>{if(wz(d,n)){d.preventDefault();let p=i!==void 0?i:k5(c)===k5(u);l(t,{replace:p,state:s,preventScrollReset:r,relative:a,viewTransition:o})}},[c,l,u,i,s,n,t,r,a,o])}function Rz(t){let e=H.useRef(sv(t)),n=H.useRef(!1),i=Hu(),s=H.useMemo(()=>vz(i.search,n.current?null:e.current),[i.search]),r=Ol(),a=H.useCallback((o,l)=>{const c=sv(typeof o=="function"?o(s):o);n.current=!0,r("?"+c,l)},[r,s]);return[s,a]}function Fz(t,e){e===void 0&&(e={});let n=H.useContext(Cz);n==null&&li(!1);let{basename:i}=Pz(rv.useViewTransitionState),s=Z8(t,{relative:e.relative});if(!n.isTransitioning)return!1;let r=eg(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=eg(n.nextLocation.pathname,i)||n.nextLocation.pathname;return nv(s.pathname,a)!=null||nv(s.pathname,r)!=null}var Mz=function(e){return Dz(e)&&!Lz(e)};function Dz(t){return!!t&&typeof t=="object"}function Lz(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||jz(t)}var Oz=typeof Symbol=="function"&&Symbol.for,Bz=Oz?Symbol.for("react.element"):60103;function jz(t){return t.$$typeof===Bz}function $z(t){return Array.isArray(t)?[]:{}}function E5(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ex($z(t),t,e):t}function Uz(t,e,n){return t.concat(e).map(function(i){return E5(i,n)})}function zz(t,e,n){var i={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(s){i[s]=E5(t[s],n)}),Object.keys(e).forEach(function(s){!n.isMergeableObject(e[s])||!t[s]?i[s]=E5(e[s],n):i[s]=Ex(t[s],e[s],n)}),i}function Ex(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Uz,n.isMergeableObject=n.isMergeableObject||Mz;var i=Array.isArray(e),s=Array.isArray(t),r=i===s;return r?i?n.arrayMerge(t,e,n):zz(t,e,n):E5(e,n)}Ex.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,s){return Ex(i,s,n)},{})};var av=Ex,OR=typeof global=="object"&&global&&global.Object===Object&&global,Hz=typeof self=="object"&&self&&self.Object===Object&&self,Bl=OR||Hz||Function("return this")(),Pu=Bl.Symbol,BR=Object.prototype,qz=BR.hasOwnProperty,Gz=BR.toString,dm=Pu?Pu.toStringTag:void 0;function Wz(t){var e=qz.call(t,dm),n=t[dm];try{t[dm]=void 0;var i=!0}catch{}var s=Gz.call(t);return i&&(e?t[dm]=n:delete t[dm]),s}var Vz=Object.prototype,Xz=Vz.toString;function Kz(t){return Xz.call(t)}var Yz="[object Null]",Zz="[object Undefined]",ET=Pu?Pu.toStringTag:void 0;function xf(t){return t==null?t===void 0?Zz:Yz:ET&&ET in Object(t)?Wz(t):Kz(t)}function jR(t,e){return function(n){return t(e(n))}}var nk=jR(Object.getPrototypeOf,Object);function bf(t){return t!=null&&typeof t=="object"}var Jz="[object Object]",Qz=Function.prototype,eH=Object.prototype,$R=Qz.toString,tH=eH.hasOwnProperty,nH=$R.call(Object);function _T(t){if(!bf(t)||xf(t)!=Jz)return!1;var e=nk(t);if(e===null)return!0;var n=tH.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&$R.call(n)==nH}function iH(){this.__data__=[],this.size=0}function UR(t,e){return t===e||t!==t&&e!==e}function J8(t,e){for(var n=t.length;n--;)if(UR(t[n][0],e))return n;return-1}var sH=Array.prototype,rH=sH.splice;function aH(t){var e=this.__data__,n=J8(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():rH.call(e,n,1),--this.size,!0}function oH(t){var e=this.__data__,n=J8(e,t);return n<0?void 0:e[n][1]}function lH(t){return J8(this.__data__,t)>-1}function cH(t,e){var n=this.__data__,i=J8(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function e0(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}e0.prototype.clear=iH;e0.prototype.delete=aH;e0.prototype.get=oH;e0.prototype.has=lH;e0.prototype.set=cH;function uH(){this.__data__=new e0,this.size=0}function hH(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function dH(t){return this.__data__.get(t)}function fH(t){return this.__data__.has(t)}function q9(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pH="[object AsyncFunction]",gH="[object Function]",mH="[object GeneratorFunction]",xH="[object Proxy]";function zR(t){if(!q9(t))return!1;var e=xf(t);return e==gH||e==mH||e==pH||e==xH}var M4=Bl["__core-js_shared__"],TT=function(){var t=/[^.]+$/.exec(M4&&M4.keys&&M4.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function bH(t){return!!TT&&TT in t}var yH=Function.prototype,wH=yH.toString;function yf(t){if(t!=null){try{return wH.call(t)}catch{}try{return t+""}catch{}}return""}var vH=/[\\^$.*+?()[\]{}|]/g,SH=/^\[object .+?Constructor\]$/,AH=Function.prototype,kH=Object.prototype,CH=AH.toString,EH=kH.hasOwnProperty,_H=RegExp("^"+CH.call(EH).replace(vH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TH(t){if(!q9(t)||bH(t))return!1;var e=zR(t)?_H:SH;return e.test(yf(t))}function IH(t,e){return t==null?void 0:t[e]}function wf(t,e){var n=IH(t,e);return TH(n)?n:void 0}var _x=wf(Bl,"Map"),Tx=wf(Object,"create");function PH(){this.__data__=Tx?Tx(null):{},this.size=0}function NH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var RH="__lodash_hash_undefined__",FH=Object.prototype,MH=FH.hasOwnProperty;function DH(t){var e=this.__data__;if(Tx){var n=e[t];return n===RH?void 0:n}return MH.call(e,t)?e[t]:void 0}var LH=Object.prototype,OH=LH.hasOwnProperty;function BH(t){var e=this.__data__;return Tx?e[t]!==void 0:OH.call(e,t)}var jH="__lodash_hash_undefined__";function $H(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Tx&&e===void 0?jH:e,this}function rf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}rf.prototype.clear=PH;rf.prototype.delete=NH;rf.prototype.get=DH;rf.prototype.has=BH;rf.prototype.set=$H;function UH(){this.size=0,this.__data__={hash:new rf,map:new(_x||e0),string:new rf}}function zH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Q8(t,e){var n=t.__data__;return zH(e)?n[typeof e=="string"?"string":"hash"]:n.map}function HH(t){var e=Q8(this,t).delete(t);return this.size-=e?1:0,e}function qH(t){return Q8(this,t).get(t)}function GH(t){return Q8(this,t).has(t)}function WH(t,e){var n=Q8(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function qu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}qu.prototype.clear=UH;qu.prototype.delete=HH;qu.prototype.get=qH;qu.prototype.has=GH;qu.prototype.set=WH;var VH=200;function XH(t,e){var n=this.__data__;if(n instanceof e0){var i=n.__data__;if(!_x||i.length<VH-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new qu(i)}return n.set(t,e),this.size=n.size,this}function yg(t){var e=this.__data__=new e0(t);this.size=e.size}yg.prototype.clear=uH;yg.prototype.delete=hH;yg.prototype.get=dH;yg.prototype.has=fH;yg.prototype.set=XH;function KH(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}var IT=function(){try{var t=wf(Object,"defineProperty");return t({},"",{}),t}catch{}}();function HR(t,e,n){e=="__proto__"&&IT?IT(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var YH=Object.prototype,ZH=YH.hasOwnProperty;function qR(t,e,n){var i=t[e];(!(ZH.call(t,e)&&UR(i,n))||n===void 0&&!(e in t))&&HR(t,e,n)}function e6(t,e,n,i){var s=!n;n||(n={});for(var r=-1,a=e.length;++r<a;){var o=e[r],l=void 0;l===void 0&&(l=t[o]),s?HR(n,o,l):qR(n,o,l)}return n}function JH(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var QH="[object Arguments]";function PT(t){return bf(t)&&xf(t)==QH}var GR=Object.prototype,eq=GR.hasOwnProperty,tq=GR.propertyIsEnumerable,nq=PT(function(){return arguments}())?PT:function(t){return bf(t)&&eq.call(t,"callee")&&!tq.call(t,"callee")},G9=Array.isArray;function iq(){return!1}var WR=typeof exports=="object"&&exports&&!exports.nodeType&&exports,NT=WR&&typeof module=="object"&&module&&!module.nodeType&&module,sq=NT&&NT.exports===WR,RT=sq?Bl.Buffer:void 0,rq=RT?RT.isBuffer:void 0,VR=rq||iq,aq=9007199254740991,oq=/^(?:0|[1-9]\d*)$/;function lq(t,e){var n=typeof t;return e=e??aq,!!e&&(n=="number"||n!="symbol"&&oq.test(t))&&t>-1&&t%1==0&&t<e}var cq=9007199254740991;function XR(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=cq}var uq="[object Arguments]",hq="[object Array]",dq="[object Boolean]",fq="[object Date]",pq="[object Error]",gq="[object Function]",mq="[object Map]",xq="[object Number]",bq="[object Object]",yq="[object RegExp]",wq="[object Set]",vq="[object String]",Sq="[object WeakMap]",Aq="[object ArrayBuffer]",kq="[object DataView]",Cq="[object Float32Array]",Eq="[object Float64Array]",_q="[object Int8Array]",Tq="[object Int16Array]",Iq="[object Int32Array]",Pq="[object Uint8Array]",Nq="[object Uint8ClampedArray]",Rq="[object Uint16Array]",Fq="[object Uint32Array]",Mn={};Mn[Cq]=Mn[Eq]=Mn[_q]=Mn[Tq]=Mn[Iq]=Mn[Pq]=Mn[Nq]=Mn[Rq]=Mn[Fq]=!0;Mn[uq]=Mn[hq]=Mn[Aq]=Mn[dq]=Mn[kq]=Mn[fq]=Mn[pq]=Mn[gq]=Mn[mq]=Mn[xq]=Mn[bq]=Mn[yq]=Mn[wq]=Mn[vq]=Mn[Sq]=!1;function Mq(t){return bf(t)&&XR(t.length)&&!!Mn[xf(t)]}function ik(t){return function(e){return t(e)}}var KR=typeof exports=="object"&&exports&&!exports.nodeType&&exports,lx=KR&&typeof module=="object"&&module&&!module.nodeType&&module,Dq=lx&&lx.exports===KR,D4=Dq&&OR.process,tg=function(){try{var t=lx&&lx.require&&lx.require("util").types;return t||D4&&D4.binding&&D4.binding("util")}catch{}}(),FT=tg&&tg.isTypedArray,Lq=FT?ik(FT):Mq,Oq=Object.prototype,Bq=Oq.hasOwnProperty;function YR(t,e){var n=G9(t),i=!n&&nq(t),s=!n&&!i&&VR(t),r=!n&&!i&&!s&&Lq(t),a=n||i||s||r,o=a?JH(t.length,String):[],l=o.length;for(var c in t)(e||Bq.call(t,c))&&!(a&&(c=="length"||s&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||lq(c,l)))&&o.push(c);return o}var jq=Object.prototype;function sk(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||jq;return t===n}var $q=jR(Object.keys,Object),Uq=Object.prototype,zq=Uq.hasOwnProperty;function Hq(t){if(!sk(t))return $q(t);var e=[];for(var n in Object(t))zq.call(t,n)&&n!="constructor"&&e.push(n);return e}function ZR(t){return t!=null&&XR(t.length)&&!zR(t)}function rk(t){return ZR(t)?YR(t):Hq(t)}function qq(t,e){return t&&e6(e,rk(e),t)}function Gq(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Wq=Object.prototype,Vq=Wq.hasOwnProperty;function Xq(t){if(!q9(t))return Gq(t);var e=sk(t),n=[];for(var i in t)i=="constructor"&&(e||!Vq.call(t,i))||n.push(i);return n}function ak(t){return ZR(t)?YR(t,!0):Xq(t)}function Kq(t,e){return t&&e6(e,ak(e),t)}var JR=typeof exports=="object"&&exports&&!exports.nodeType&&exports,MT=JR&&typeof module=="object"&&module&&!module.nodeType&&module,Yq=MT&&MT.exports===JR,DT=Yq?Bl.Buffer:void 0,LT=DT?DT.allocUnsafe:void 0;function Zq(t,e){if(e)return t.slice();var n=t.length,i=LT?LT(n):new t.constructor(n);return t.copy(i),i}function QR(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}function Jq(t,e){for(var n=-1,i=t==null?0:t.length,s=0,r=[];++n<i;){var a=t[n];e(a,n,t)&&(r[s++]=a)}return r}function eF(){return[]}var Qq=Object.prototype,eG=Qq.propertyIsEnumerable,OT=Object.getOwnPropertySymbols,ok=OT?function(t){return t==null?[]:(t=Object(t),Jq(OT(t),function(e){return eG.call(t,e)}))}:eF;function tG(t,e){return e6(t,ok(t),e)}function tF(t,e){for(var n=-1,i=e.length,s=t.length;++n<i;)t[s+n]=e[n];return t}var nG=Object.getOwnPropertySymbols,nF=nG?function(t){for(var e=[];t;)tF(e,ok(t)),t=nk(t);return e}:eF;function iG(t,e){return e6(t,nF(t),e)}function iF(t,e,n){var i=e(t);return G9(t)?i:tF(i,n(t))}function sG(t){return iF(t,rk,ok)}function rG(t){return iF(t,ak,nF)}var ov=wf(Bl,"DataView"),lv=wf(Bl,"Promise"),cv=wf(Bl,"Set"),uv=wf(Bl,"WeakMap"),BT="[object Map]",aG="[object Object]",jT="[object Promise]",$T="[object Set]",UT="[object WeakMap]",zT="[object DataView]",oG=yf(ov),lG=yf(_x),cG=yf(lv),uG=yf(cv),hG=yf(uv),oc=xf;(ov&&oc(new ov(new ArrayBuffer(1)))!=zT||_x&&oc(new _x)!=BT||lv&&oc(lv.resolve())!=jT||cv&&oc(new cv)!=$T||uv&&oc(new uv)!=UT)&&(oc=function(t){var e=xf(t),n=e==aG?t.constructor:void 0,i=n?yf(n):"";if(i)switch(i){case oG:return zT;case lG:return BT;case cG:return jT;case uG:return $T;case hG:return UT}return e});var dG=Object.prototype,fG=dG.hasOwnProperty;function pG(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&fG.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var HT=Bl.Uint8Array;function lk(t){var e=new t.constructor(t.byteLength);return new HT(e).set(new HT(t)),e}function gG(t,e){var n=e?lk(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var mG=/\w*$/;function xG(t){var e=new t.constructor(t.source,mG.exec(t));return e.lastIndex=t.lastIndex,e}var qT=Pu?Pu.prototype:void 0,GT=qT?qT.valueOf:void 0;function bG(t){return GT?Object(GT.call(t)):{}}function yG(t,e){var n=e?lk(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var wG="[object Boolean]",vG="[object Date]",SG="[object Map]",AG="[object Number]",kG="[object RegExp]",CG="[object Set]",EG="[object String]",_G="[object Symbol]",TG="[object ArrayBuffer]",IG="[object DataView]",PG="[object Float32Array]",NG="[object Float64Array]",RG="[object Int8Array]",FG="[object Int16Array]",MG="[object Int32Array]",DG="[object Uint8Array]",LG="[object Uint8ClampedArray]",OG="[object Uint16Array]",BG="[object Uint32Array]";function jG(t,e,n){var i=t.constructor;switch(e){case TG:return lk(t);case wG:case vG:return new i(+t);case IG:return gG(t,n);case PG:case NG:case RG:case FG:case MG:case DG:case LG:case OG:case BG:return yG(t,n);case SG:return new i;case AG:case EG:return new i(t);case kG:return xG(t);case CG:return new i;case _G:return bG(t)}}var WT=Object.create,$G=function(){function t(){}return function(e){if(!q9(e))return{};if(WT)return WT(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function UG(t){return typeof t.constructor=="function"&&!sk(t)?$G(nk(t)):{}}var zG="[object Map]";function HG(t){return bf(t)&&oc(t)==zG}var VT=tg&&tg.isMap,qG=VT?ik(VT):HG,GG="[object Set]";function WG(t){return bf(t)&&oc(t)==GG}var XT=tg&&tg.isSet,VG=XT?ik(XT):WG,XG=1,KG=2,YG=4,sF="[object Arguments]",ZG="[object Array]",JG="[object Boolean]",QG="[object Date]",eW="[object Error]",rF="[object Function]",tW="[object GeneratorFunction]",nW="[object Map]",iW="[object Number]",aF="[object Object]",sW="[object RegExp]",rW="[object Set]",aW="[object String]",oW="[object Symbol]",lW="[object WeakMap]",cW="[object ArrayBuffer]",uW="[object DataView]",hW="[object Float32Array]",dW="[object Float64Array]",fW="[object Int8Array]",pW="[object Int16Array]",gW="[object Int32Array]",mW="[object Uint8Array]",xW="[object Uint8ClampedArray]",bW="[object Uint16Array]",yW="[object Uint32Array]",In={};In[sF]=In[ZG]=In[cW]=In[uW]=In[JG]=In[QG]=In[hW]=In[dW]=In[fW]=In[pW]=In[gW]=In[nW]=In[iW]=In[aF]=In[sW]=In[rW]=In[aW]=In[oW]=In[mW]=In[xW]=In[bW]=In[yW]=!0;In[eW]=In[rF]=In[lW]=!1;function cx(t,e,n,i,s,r){var a,o=e&XG,l=e&KG,c=e&YG;if(a!==void 0)return a;if(!q9(t))return t;var u=G9(t);if(u){if(a=pG(t),!o)return QR(t,a)}else{var d=oc(t),p=d==rF||d==tW;if(VR(t))return Zq(t,o);if(d==aF||d==sF||p&&!s){if(a=l||p?{}:UG(t),!o)return l?iG(t,Kq(a,t)):tG(t,qq(a,t))}else{if(!In[d])return s?t:{};a=jG(t,d,o)}}r||(r=new yg);var g=r.get(t);if(g)return g;r.set(t,a),VG(t)?t.forEach(function(v){a.add(cx(v,e,n,v,t,r))}):qG(t)&&t.forEach(function(v,S){a.set(S,cx(v,e,n,S,t,r))});var m=c?l?rG:sG:l?ak:rk,b=u?void 0:m(t);return KH(b||t,function(v,S){b&&(S=v,v=t[S]),qR(a,S,cx(v,e,n,S,t,r))}),a}var wW=1,vW=4;function Mm(t){return cx(t,wW|vW)}var L4,KT;function SW(){if(KT)return L4;KT=1;var t=Array.isArray,e=Object.keys,n=Object.prototype.hasOwnProperty,i=typeof Element<"u";function s(r,a){if(r===a)return!0;if(r&&a&&typeof r=="object"&&typeof a=="object"){var o=t(r),l=t(a),c,u,d;if(o&&l){if(u=r.length,u!=a.length)return!1;for(c=u;c--!==0;)if(!s(r[c],a[c]))return!1;return!0}if(o!=l)return!1;var p=r instanceof Date,g=a instanceof Date;if(p!=g)return!1;if(p&&g)return r.getTime()==a.getTime();var m=r instanceof RegExp,b=a instanceof RegExp;if(m!=b)return!1;if(m&&b)return r.toString()==a.toString();var v=e(r);if(u=v.length,u!==e(a).length)return!1;for(c=u;c--!==0;)if(!n.call(a,v[c]))return!1;if(i&&r instanceof Element&&a instanceof Element)return r===a;for(c=u;c--!==0;)if(d=v[c],!(d==="_owner"&&r.$$typeof)&&!s(r[d],a[d]))return!1;return!0}return r!==r&&a!==a}return L4=function(a,o){try{return s(a,o)}catch(l){if(l.message&&l.message.match(/stack|recursion/i)||l.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",l.name,l.message),!1;throw l}},L4}var AW=SW();const C0=$u(AW);var kW=4;function YT(t){return cx(t,kW)}function oF(t,e){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=e(t[n],n,t);return s}var CW="[object Symbol]";function ck(t){return typeof t=="symbol"||bf(t)&&xf(t)==CW}var EW="Expected a function";function uk(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(EW);var n=function(){var i=arguments,s=e?e.apply(this,i):i[0],r=n.cache;if(r.has(s))return r.get(s);var a=t.apply(this,i);return n.cache=r.set(s,a)||r,a};return n.cache=new(uk.Cache||qu),n}uk.Cache=qu;var _W=500;function TW(t){var e=uk(t,function(i){return n.size===_W&&n.clear(),i}),n=e.cache;return e}var IW=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,PW=/\\(\\)?/g,NW=TW(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(IW,function(n,i,s,r){e.push(s?r.replace(PW,"$1"):i||n)}),e});function RW(t){if(typeof t=="string"||ck(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var ZT=Pu?Pu.prototype:void 0,JT=ZT?ZT.toString:void 0;function lF(t){if(typeof t=="string")return t;if(G9(t))return oF(t,lF)+"";if(ck(t))return JT?JT.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function FW(t){return t==null?"":lF(t)}function cF(t){return G9(t)?oF(t,RW):ck(t)?[t]:QR(NW(FW(t)))}var O4={exports:{}},gn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT;function MW(){if(QT)return gn;QT=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,r=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,o=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,u=t?Symbol.for("react.forward_ref"):60112,d=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,b=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,C=t?Symbol.for("react.scope"):60119;function E(A){if(typeof A=="object"&&A!==null){var T=A.$$typeof;switch(T){case e:switch(A=A.type,A){case l:case c:case i:case r:case s:case d:return A;default:switch(A=A&&A.$$typeof,A){case o:case u:case m:case g:case a:return A;default:return T}}case n:return T}}}function w(A){return E(A)===c}return gn.AsyncMode=l,gn.ConcurrentMode=c,gn.ContextConsumer=o,gn.ContextProvider=a,gn.Element=e,gn.ForwardRef=u,gn.Fragment=i,gn.Lazy=m,gn.Memo=g,gn.Portal=n,gn.Profiler=r,gn.StrictMode=s,gn.Suspense=d,gn.isAsyncMode=function(A){return w(A)||E(A)===l},gn.isConcurrentMode=w,gn.isContextConsumer=function(A){return E(A)===o},gn.isContextProvider=function(A){return E(A)===a},gn.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},gn.isForwardRef=function(A){return E(A)===u},gn.isFragment=function(A){return E(A)===i},gn.isLazy=function(A){return E(A)===m},gn.isMemo=function(A){return E(A)===g},gn.isPortal=function(A){return E(A)===n},gn.isProfiler=function(A){return E(A)===r},gn.isStrictMode=function(A){return E(A)===s},gn.isSuspense=function(A){return E(A)===d},gn.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===i||A===c||A===r||A===s||A===d||A===p||typeof A=="object"&&A!==null&&(A.$$typeof===m||A.$$typeof===g||A.$$typeof===a||A.$$typeof===o||A.$$typeof===u||A.$$typeof===v||A.$$typeof===S||A.$$typeof===C||A.$$typeof===b)},gn.typeOf=E,gn}var eI;function DW(){return eI||(eI=1,O4.exports=MW()),O4.exports}var B4,tI;function LW(){if(tI)return B4;tI=1;var t=DW(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};r[t.ForwardRef]=i,r[t.Memo]=s;function a(m){return t.isMemo(m)?s:r[m.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;function g(m,b,v){if(typeof b!="string"){if(p){var S=d(b);S&&S!==p&&g(m,S,v)}var C=l(b);c&&(C=C.concat(c(b)));for(var E=a(m),w=a(b),A=0;A<C.length;++A){var T=C[A];if(!n[T]&&!(v&&v[T])&&!(w&&w[T])&&!(E&&E[T])){var P=u(b,T);try{o(m,T,P)}catch{}}}}return m}return B4=g,B4}var OW=LW();const BW=$u(OW);function vn(){return vn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vn.apply(this,arguments)}function uF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function bu(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function nI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var t6=H.createContext(void 0);t6.displayName="FormikContext";var jW=t6.Provider,$W=t6.Consumer;function hF(){var t=H.useContext(t6);return t}var iI=function(e){return Array.isArray(e)&&e.length===0},ds=function(e){return typeof e=="function"},W9=function(e){return e!==null&&typeof e=="object"},UW=function(e){return String(Math.floor(Number(e)))===e},j4=function(e){return Object.prototype.toString.call(e)==="[object String]"},dF=function(e){return H.Children.count(e)===0},$4=function(e){return W9(e)&&ds(e.then)};function zn(t,e,n,i){i===void 0&&(i=0);for(var s=cF(e);t&&i<s.length;)t=t[s[i++]];return i!==s.length&&!t||t===void 0?n:t}function El(t,e,n){for(var i=YT(t),s=i,r=0,a=cF(e);r<a.length-1;r++){var o=a[r],l=zn(t,a.slice(0,r+1));if(l&&(W9(l)||Array.isArray(l)))s=s[o]=YT(l);else{var c=a[r+1];s=s[o]=UW(c)&&Number(c)>=0?[]:{}}}return(r===0?t:s)[a[r]]===n?t:(n===void 0?delete s[a[r]]:s[a[r]]=n,r===0&&n===void 0&&delete i[a[r]],i)}function fF(t,e,n,i){n===void 0&&(n=new WeakMap),i===void 0&&(i={});for(var s=0,r=Object.keys(t);s<r.length;s++){var a=r[s],o=t[a];W9(o)?n.get(o)||(n.set(o,!0),i[a]=Array.isArray(o)?[]:{},fF(o,e,n,i[a])):i[a]=e}return i}function zW(t,e){switch(e.type){case"SET_VALUES":return vn({},t,{values:e.payload});case"SET_TOUCHED":return vn({},t,{touched:e.payload});case"SET_ERRORS":return C0(t.errors,e.payload)?t:vn({},t,{errors:e.payload});case"SET_STATUS":return vn({},t,{status:e.payload});case"SET_ISSUBMITTING":return vn({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return vn({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return vn({},t,{values:El(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return vn({},t,{touched:El(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return vn({},t,{errors:El(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return vn({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return vn({},t,{touched:fF(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return vn({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return vn({},t,{isSubmitting:!1});default:return t}}var hh={},Sb={};function HW(t){var e=t.validateOnChange,n=e===void 0?!0:e,i=t.validateOnBlur,s=i===void 0?!0:i,r=t.validateOnMount,a=r===void 0?!1:r,o=t.isInitialValid,l=t.enableReinitialize,c=l===void 0?!1:l,u=t.onSubmit,d=bu(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=vn({validateOnChange:n,validateOnBlur:s,validateOnMount:a,onSubmit:u},d),g=H.useRef(p.initialValues),m=H.useRef(p.initialErrors||hh),b=H.useRef(p.initialTouched||Sb),v=H.useRef(p.initialStatus),S=H.useRef(!1),C=H.useRef({});H.useEffect(function(){return S.current=!0,function(){S.current=!1}},[]);var E=H.useState(0),w=E[1],A=H.useRef({values:Mm(p.initialValues),errors:Mm(p.initialErrors)||hh,touched:Mm(p.initialTouched)||Sb,status:Mm(p.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),T=A.current,P=H.useCallback(function(ce){var ge=A.current;A.current=zW(ge,ce),ge!==A.current&&w(function(Te){return Te+1})},[]),R=H.useCallback(function(ce,ge){return new Promise(function(Te,Ne){var Ye=p.validate(ce,ge);Ye==null?Te(hh):$4(Ye)?Ye.then(function(Pe){Te(Pe||hh)},function(Pe){Ne(Pe)}):Te(Ye)})},[p.validate]),D=H.useCallback(function(ce,ge){var Te=p.validationSchema,Ne=ds(Te)?Te(ge):Te,Ye=ge&&Ne.validateAt?Ne.validateAt(ge,ce):GW(ce,Ne);return new Promise(function(Pe,nt){Ye.then(function(){Pe(hh)},function(Qe){Qe.name==="ValidationError"?Pe(qW(Qe)):nt(Qe)})})},[p.validationSchema]),O=H.useCallback(function(ce,ge){return new Promise(function(Te){return Te(C.current[ce].validate(ge))})},[]),B=H.useCallback(function(ce){var ge=Object.keys(C.current).filter(function(Ne){return ds(C.current[Ne].validate)}),Te=ge.length>0?ge.map(function(Ne){return O(Ne,zn(ce,Ne))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Te).then(function(Ne){return Ne.reduce(function(Ye,Pe,nt){return Pe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Pe&&(Ye=El(Ye,ge[nt],Pe)),Ye},{})})},[O]),U=H.useCallback(function(ce){return Promise.all([B(ce),p.validationSchema?D(ce):{},p.validate?R(ce):{}]).then(function(ge){var Te=ge[0],Ne=ge[1],Ye=ge[2],Pe=av.all([Te,Ne,Ye],{arrayMerge:WW});return Pe})},[p.validate,p.validationSchema,B,R,D]),V=_a(function(ce){return ce===void 0&&(ce=T.values),P({type:"SET_ISVALIDATING",payload:!0}),U(ce).then(function(ge){return S.current&&(P({type:"SET_ISVALIDATING",payload:!1}),P({type:"SET_ERRORS",payload:ge})),ge})});H.useEffect(function(){a&&S.current===!0&&C0(g.current,p.initialValues)&&V(g.current)},[a,V]);var ee=H.useCallback(function(ce){var ge=ce&&ce.values?ce.values:g.current,Te=ce&&ce.errors?ce.errors:m.current?m.current:p.initialErrors||{},Ne=ce&&ce.touched?ce.touched:b.current?b.current:p.initialTouched||{},Ye=ce&&ce.status?ce.status:v.current?v.current:p.initialStatus;g.current=ge,m.current=Te,b.current=Ne,v.current=Ye;var Pe=function(){P({type:"RESET_FORM",payload:{isSubmitting:!!ce&&!!ce.isSubmitting,errors:Te,touched:Ne,status:Ye,values:ge,isValidating:!!ce&&!!ce.isValidating,submitCount:ce&&ce.submitCount&&typeof ce.submitCount=="number"?ce.submitCount:0}})};if(p.onReset){var nt=p.onReset(T.values,xe);$4(nt)?nt.then(Pe):Pe()}else Pe()},[p.initialErrors,p.initialStatus,p.initialTouched,p.onReset]);H.useEffect(function(){S.current===!0&&!C0(g.current,p.initialValues)&&c&&(g.current=p.initialValues,ee(),a&&V(g.current))},[c,p.initialValues,ee,a,V]),H.useEffect(function(){c&&S.current===!0&&!C0(m.current,p.initialErrors)&&(m.current=p.initialErrors||hh,P({type:"SET_ERRORS",payload:p.initialErrors||hh}))},[c,p.initialErrors]),H.useEffect(function(){c&&S.current===!0&&!C0(b.current,p.initialTouched)&&(b.current=p.initialTouched||Sb,P({type:"SET_TOUCHED",payload:p.initialTouched||Sb}))},[c,p.initialTouched]),H.useEffect(function(){c&&S.current===!0&&!C0(v.current,p.initialStatus)&&(v.current=p.initialStatus,P({type:"SET_STATUS",payload:p.initialStatus}))},[c,p.initialStatus,p.initialTouched]);var Q=_a(function(ce){if(C.current[ce]&&ds(C.current[ce].validate)){var ge=zn(T.values,ce),Te=C.current[ce].validate(ge);return $4(Te)?(P({type:"SET_ISVALIDATING",payload:!0}),Te.then(function(Ne){return Ne}).then(function(Ne){P({type:"SET_FIELD_ERROR",payload:{field:ce,value:Ne}}),P({type:"SET_ISVALIDATING",payload:!1})})):(P({type:"SET_FIELD_ERROR",payload:{field:ce,value:Te}}),Promise.resolve(Te))}else if(p.validationSchema)return P({type:"SET_ISVALIDATING",payload:!0}),D(T.values,ce).then(function(Ne){return Ne}).then(function(Ne){P({type:"SET_FIELD_ERROR",payload:{field:ce,value:zn(Ne,ce)}}),P({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),G=H.useCallback(function(ce,ge){var Te=ge.validate;C.current[ce]={validate:Te}},[]),$=H.useCallback(function(ce){delete C.current[ce]},[]),ie=_a(function(ce,ge){P({type:"SET_TOUCHED",payload:ce});var Te=ge===void 0?s:ge;return Te?V(T.values):Promise.resolve()}),he=H.useCallback(function(ce){P({type:"SET_ERRORS",payload:ce})},[]),pe=_a(function(ce,ge){var Te=ds(ce)?ce(T.values):ce;P({type:"SET_VALUES",payload:Te});var Ne=ge===void 0?n:ge;return Ne?V(Te):Promise.resolve()}),X=H.useCallback(function(ce,ge){P({type:"SET_FIELD_ERROR",payload:{field:ce,value:ge}})},[]),te=_a(function(ce,ge,Te){P({type:"SET_FIELD_VALUE",payload:{field:ce,value:ge}});var Ne=Te===void 0?n:Te;return Ne?V(El(T.values,ce,ge)):Promise.resolve()}),re=H.useCallback(function(ce,ge){var Te=ge,Ne=ce,Ye;if(!j4(ce)){ce.persist&&ce.persist();var Pe=ce.target?ce.target:ce.currentTarget,nt=Pe.type,Qe=Pe.name,vt=Pe.id,jt=Pe.value,bi=Pe.checked;Pe.outerHTML;var gr=Pe.options,$l=Pe.multiple;Te=ge||Qe||vt,Ne=/number|range/.test(nt)?(Ye=parseFloat(jt),isNaN(Ye)?"":Ye):/checkbox/.test(nt)?XW(zn(T.values,Te),bi,jt):gr&&$l?VW(gr):jt}Te&&te(Te,Ne)},[te,T.values]),Ee=_a(function(ce){if(j4(ce))return function(ge){return re(ge,ce)};re(ce)}),Re=_a(function(ce,ge,Te){ge===void 0&&(ge=!0),P({type:"SET_FIELD_TOUCHED",payload:{field:ce,value:ge}});var Ne=Te===void 0?s:Te;return Ne?V(T.values):Promise.resolve()}),we=H.useCallback(function(ce,ge){ce.persist&&ce.persist();var Te=ce.target,Ne=Te.name,Ye=Te.id;Te.outerHTML;var Pe=ge||Ne||Ye;Re(Pe,!0)},[Re]),K=_a(function(ce){if(j4(ce))return function(ge){return we(ge,ce)};we(ce)}),Z=H.useCallback(function(ce){ds(ce)?P({type:"SET_FORMIK_STATE",payload:ce}):P({type:"SET_FORMIK_STATE",payload:function(){return ce}})},[]),oe=H.useCallback(function(ce){P({type:"SET_STATUS",payload:ce})},[]),de=H.useCallback(function(ce){P({type:"SET_ISSUBMITTING",payload:ce})},[]),Ie=_a(function(){return P({type:"SUBMIT_ATTEMPT"}),V().then(function(ce){var ge=ce instanceof Error,Te=!ge&&Object.keys(ce).length===0;if(Te){var Ne;try{if(Ne=se(),Ne===void 0)return}catch(Ye){throw Ye}return Promise.resolve(Ne).then(function(Ye){return S.current&&P({type:"SUBMIT_SUCCESS"}),Ye}).catch(function(Ye){if(S.current)throw P({type:"SUBMIT_FAILURE"}),Ye})}else if(S.current&&(P({type:"SUBMIT_FAILURE"}),ge))throw ce})}),ye=_a(function(ce){ce&&ce.preventDefault&&ds(ce.preventDefault)&&ce.preventDefault(),ce&&ce.stopPropagation&&ds(ce.stopPropagation)&&ce.stopPropagation(),Ie().catch(function(ge){console.warn("Warning: An unhandled error was caught from submitForm()",ge)})}),xe={resetForm:ee,validateForm:V,validateField:Q,setErrors:he,setFieldError:X,setFieldTouched:Re,setFieldValue:te,setStatus:oe,setSubmitting:de,setTouched:ie,setValues:pe,setFormikState:Z,submitForm:Ie},se=_a(function(){return u(T.values,xe)}),Ue=_a(function(ce){ce&&ce.preventDefault&&ds(ce.preventDefault)&&ce.preventDefault(),ce&&ce.stopPropagation&&ds(ce.stopPropagation)&&ce.stopPropagation(),ee()}),Ve=H.useCallback(function(ce){return{value:zn(T.values,ce),error:zn(T.errors,ce),touched:!!zn(T.touched,ce),initialValue:zn(g.current,ce),initialTouched:!!zn(b.current,ce),initialError:zn(m.current,ce)}},[T.errors,T.touched,T.values]),Ke=H.useCallback(function(ce){return{setValue:function(Te,Ne){return te(ce,Te,Ne)},setTouched:function(Te,Ne){return Re(ce,Te,Ne)},setError:function(Te){return X(ce,Te)}}},[te,Re,X]),Xe=H.useCallback(function(ce){var ge=W9(ce),Te=ge?ce.name:ce,Ne=zn(T.values,Te),Ye={name:Te,value:Ne,onChange:Ee,onBlur:K};if(ge){var Pe=ce.type,nt=ce.value,Qe=ce.as,vt=ce.multiple;Pe==="checkbox"?nt===void 0?Ye.checked=!!Ne:(Ye.checked=!!(Array.isArray(Ne)&&~Ne.indexOf(nt)),Ye.value=nt):Pe==="radio"?(Ye.checked=Ne===nt,Ye.value=nt):Qe==="select"&&vt&&(Ye.value=Ye.value||[],Ye.multiple=!0)}return Ye},[K,Ee,T.values]),He=H.useMemo(function(){return!C0(g.current,T.values)},[g.current,T.values]),Le=H.useMemo(function(){return typeof o<"u"?He?T.errors&&Object.keys(T.errors).length===0:o!==!1&&ds(o)?o(p):o:T.errors&&Object.keys(T.errors).length===0},[o,He,T.errors,p]),tt=vn({},T,{initialValues:g.current,initialErrors:m.current,initialTouched:b.current,initialStatus:v.current,handleBlur:K,handleChange:Ee,handleReset:Ue,handleSubmit:ye,resetForm:ee,setErrors:he,setFormikState:Z,setFieldTouched:Re,setFieldValue:te,setFieldError:X,setStatus:oe,setSubmitting:de,setTouched:ie,setValues:pe,submitForm:Ie,validateForm:V,validateField:Q,isValid:Le,dirty:He,unregisterField:$,registerField:G,getFieldProps:Xe,getFieldMeta:Ve,getFieldHelpers:Ke,validateOnBlur:s,validateOnChange:n,validateOnMount:a});return tt}function Xc(t){var e=HW(t),n=t.component,i=t.children,s=t.render,r=t.innerRef;return H.useImperativeHandle(r,function(){return e}),H.createElement(jW,{value:e},n?H.createElement(n,e):s?s(e):i?ds(i)?i(e):dF(i)?null:H.Children.only(i):null)}function qW(t){var e={};if(t.inner){if(t.inner.length===0)return El(e,t.path,t.message);for(var s=t.inner,n=Array.isArray(s),i=0,s=n?s:s[Symbol.iterator]();;){var r;if(n){if(i>=s.length)break;r=s[i++]}else{if(i=s.next(),i.done)break;r=i.value}var a=r;zn(e,a.path)||(e=El(e,a.path,a.message))}}return e}function GW(t,e,n,i){n===void 0&&(n=!1);var s=hv(t);return e[n?"validateSync":"validate"](s,{abortEarly:!1,context:s})}function hv(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=String(n);Array.isArray(t[i])===!0?e[i]=t[i].map(function(s){return Array.isArray(s)===!0||_T(s)?hv(s):s!==""?s:void 0}):_T(t[i])?e[i]=hv(t[i]):e[i]=t[i]!==""?t[i]:void 0}return e}function WW(t,e,n){var i=t.slice();return e.forEach(function(r,a){if(typeof i[a]>"u"){var o=n.clone!==!1,l=o&&n.isMergeableObject(r);i[a]=l?av(Array.isArray(r)?[]:{},r,n):r}else n.isMergeableObject(r)?i[a]=av(t[a],r,n):t.indexOf(r)===-1&&i.push(r)}),i}function VW(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function XW(t,e,n){if(typeof t=="boolean")return!!e;var i=[],s=!1,r=-1;if(Array.isArray(t))i=t,r=t.indexOf(n),s=r>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!s?i.concat(n):s?i.slice(0,r).concat(i.slice(r+1)):i}var KW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?H.useLayoutEffect:H.useEffect;function _a(t){var e=H.useRef(t);return KW(function(){e.current=t}),H.useCallback(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.current.apply(void 0,i)},[])}function Os(t){var e=t.validate,n=t.name,i=t.render,s=t.children,r=t.as,a=t.component,o=t.className,l=bu(t,["validate","name","render","children","as","component","className"]),c=hF(),u=bu(c,["validate","validationSchema"]),d=u.registerField,p=u.unregisterField;H.useEffect(function(){return d(n,{validate:e}),function(){p(n)}},[d,p,n,e]);var g=u.getFieldProps(vn({name:n},l)),m=u.getFieldMeta(n),b={field:g,form:u};if(i)return i(vn({},b,{meta:m}));if(ds(s))return s(vn({},b,{meta:m}));if(a){if(typeof a=="string"){var v=l.innerRef,S=bu(l,["innerRef"]);return H.createElement(a,vn({ref:v},g,S,{className:o}),s)}return H.createElement(a,vn({field:g,form:u},l,{className:o}),s)}var C=r||"input";if(typeof C=="string"){var E=l.innerRef,w=bu(l,["innerRef"]);return H.createElement(C,vn({ref:E},g,w,{className:o}),s)}return H.createElement(C,vn({},g,l,{className:o}),s)}var Rl=H.forwardRef(function(t,e){var n=t.action,i=bu(t,["action"]),s=n??"#",r=hF(),a=r.handleReset,o=r.handleSubmit;return H.createElement("form",vn({onSubmit:o,ref:e,onReset:a,action:s},i))});Rl.displayName="Form";function YW(t){var e=function(s){return H.createElement($W,null,function(r){return H.createElement(t,vn({},s,{formik:r}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",BW(e,t)}var ZW=function(e,n,i){var s=af(e),r=s[n];return s.splice(n,1),s.splice(i,0,r),s},JW=function(e,n,i){var s=af(e),r=s[n];return s[n]=s[i],s[i]=r,s},U4=function(e,n,i){var s=af(e);return s.splice(n,0,i),s},QW=function(e,n,i){var s=af(e);return s[n]=i,s},af=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(i){return parseInt(i)}).reduce(function(i,s){return s>i?s:i},0);return Array.from(vn({},e,{length:n+1}))}else return[]},sI=function(e,n){var i=typeof e=="function"?e:n;return function(s){if(Array.isArray(s)||W9(s)){var r=af(s);return i(r)}return s}},eV=function(t){uF(e,t);function e(i){var s;return s=t.call(this,i)||this,s.updateArrayField=function(r,a,o){var l=s.props,c=l.name,u=l.formik.setFormikState;u(function(d){var p=sI(o,r),g=sI(a,r),m=El(d.values,c,r(zn(d.values,c))),b=o?p(zn(d.errors,c)):void 0,v=a?g(zn(d.touched,c)):void 0;return iI(b)&&(b=void 0),iI(v)&&(v=void 0),vn({},d,{values:m,errors:o?El(d.errors,c,b):d.errors,touched:a?El(d.touched,c,v):d.touched})})},s.push=function(r){return s.updateArrayField(function(a){return[].concat(af(a),[Mm(r)])},!1,!1)},s.handlePush=function(r){return function(){return s.push(r)}},s.swap=function(r,a){return s.updateArrayField(function(o){return JW(o,r,a)},!0,!0)},s.handleSwap=function(r,a){return function(){return s.swap(r,a)}},s.move=function(r,a){return s.updateArrayField(function(o){return ZW(o,r,a)},!0,!0)},s.handleMove=function(r,a){return function(){return s.move(r,a)}},s.insert=function(r,a){return s.updateArrayField(function(o){return U4(o,r,a)},function(o){return U4(o,r,null)},function(o){return U4(o,r,null)})},s.handleInsert=function(r,a){return function(){return s.insert(r,a)}},s.replace=function(r,a){return s.updateArrayField(function(o){return QW(o,r,a)},!1,!1)},s.handleReplace=function(r,a){return function(){return s.replace(r,a)}},s.unshift=function(r){var a=-1;return s.updateArrayField(function(o){var l=o?[r].concat(o):[r];return a=l.length,l},function(o){return o?[null].concat(o):[null]},function(o){return o?[null].concat(o):[null]}),a},s.handleUnshift=function(r){return function(){return s.unshift(r)}},s.handleRemove=function(r){return function(){return s.remove(r)}},s.handlePop=function(){return function(){return s.pop()}},s.remove=s.remove.bind(nI(s)),s.pop=s.pop.bind(nI(s)),s}var n=e.prototype;return n.componentDidUpdate=function(s){this.props.validateOnChange&&this.props.formik.validateOnChange&&!C0(zn(s.formik.values,s.name),zn(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(s){var r;return this.updateArrayField(function(a){var o=a?af(a):[];return r||(r=o[s]),ds(o.splice)&&o.splice(s,1),ds(o.every)&&o.every(function(l){return l===void 0})?[]:o},!0,!0),r},n.pop=function(){var s;return this.updateArrayField(function(r){var a=r.slice();return s||(s=a&&a.pop&&a.pop()),a},!0,!0),s},n.render=function(){var s={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},r=this.props,a=r.component,o=r.render,l=r.children,c=r.name,u=r.formik,d=bu(u,["validate","validationSchema"]),p=vn({},s,{form:d,name:c});return a?H.createElement(a,p):o?o(p):l?typeof l=="function"?l(p):dF(l)?null:H.Children.only(l):null},e}(H.Component);eV.defaultProps={validateOnChange:!0};var tV=function(t){uF(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(s){return zn(this.props.formik.errors,this.props.name)!==zn(s.formik.errors,this.props.name)||zn(this.props.formik.touched,this.props.name)!==zn(s.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(s).length},n.render=function(){var s=this.props,r=s.component,a=s.formik,o=s.render,l=s.children,c=s.name,u=bu(s,["component","formik","render","children","name"]),d=zn(a.touched,c),p=zn(a.errors,c);return d&&p?o?ds(o)?o(p):null:l?ds(l)?l(p):null:r?H.createElement(r,u,p):p:null},e}(H.Component),rr=YW(tV),z4,rI;function nV(){if(rI)return z4;rI=1;function t(S){this._maxSize=S,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(S){return this._values[S]},t.prototype.set=function(S,C){return this._size>=this._maxSize&&this.clear(),S in this._values||this._size++,this._values[S]=C};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,i=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,r=/^\s*(['"]?)(.*?)(\1)\s*$/,a=512,o=new t(a),l=new t(a),c=new t(a);z4={Cache:t,split:d,normalizePath:u,setter:function(S){var C=u(S);return l.get(S)||l.set(S,function(w,A){for(var T=0,P=C.length,R=w;T<P-1;){var D=C[T];if(D==="__proto__"||D==="constructor"||D==="prototype")return w;R=R[C[T++]]}R[C[T]]=A})},getter:function(S,C){var E=u(S);return c.get(S)||c.set(S,function(A){for(var T=0,P=E.length;T<P;)if(A!=null||!C)A=A[E[T++]];else return;return A})},join:function(S){return S.reduce(function(C,E){return C+(g(E)||n.test(E)?"["+E+"]":(C?".":"")+E)},"")},forEach:function(S,C,E){p(Array.isArray(S)?S:d(S),C,E)}};function u(S){return o.get(S)||o.set(S,d(S).map(function(C){return C.replace(r,"$2")}))}function d(S){return S.match(e)||[""]}function p(S,C,E){var w=S.length,A,T,P,R;for(T=0;T<w;T++)A=S[T],A&&(v(A)&&(A='"'+A+'"'),R=g(A),P=!R&&/^\d+$/.test(A),C.call(E,A,R,P,T,S))}function g(S){return typeof S=="string"&&S&&["'",'"'].indexOf(S.charAt(0))!==-1}function m(S){return S.match(i)&&!S.match(n)}function b(S){return s.test(S)}function v(S){return!g(S)&&(m(S)||b(S))}return z4}var Xd=nV(),H4,aI;function iV(){if(aI)return H4;aI=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=u=>u.match(t)||[],n=u=>u[0].toUpperCase()+u.slice(1),i=(u,d)=>e(u).join(d).toLowerCase(),s=u=>e(u).reduce((d,p)=>`${d}${d?p[0].toUpperCase()+p.slice(1).toLowerCase():p.toLowerCase()}`,"");return H4={words:e,upperFirst:n,camelCase:s,pascalCase:u=>n(s(u)),snakeCase:u=>i(u,"_"),kebabCase:u=>i(u,"-"),sentenceCase:u=>n(i(u," ")),titleCase:u=>e(u).map(n).join(" ")},H4}var q4=iV(),Ab={exports:{}},oI;function sV(){if(oI)return Ab.exports;oI=1,Ab.exports=function(s){return t(e(s),s)},Ab.exports.array=t;function t(s,r){var a=s.length,o=new Array(a),l={},c=a,u=n(r),d=i(s);for(r.forEach(function(g){if(!d.has(g[0])||!d.has(g[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});c--;)l[c]||p(s[c],c,new Set);return o;function p(g,m,b){if(b.has(g)){var v;try{v=", node was:"+JSON.stringify(g)}catch{v=""}throw new Error("Cyclic dependency"+v)}if(!d.has(g))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(g));if(!l[m]){l[m]=!0;var S=u.get(g)||new Set;if(S=Array.from(S),m=S.length){b.add(g);do{var C=S[--m];p(C,d.get(C),b)}while(m);b.delete(g)}o[--a]=g}}}function e(s){for(var r=new Set,a=0,o=s.length;a<o;a++){var l=s[a];r.add(l[0]),r.add(l[1])}return Array.from(r)}function n(s){for(var r=new Map,a=0,o=s.length;a<o;a++){var l=s[a];r.has(l[0])||r.set(l[0],new Set),r.has(l[1])||r.set(l[1],new Set),r.get(l[0]).add(l[1])}return r}function i(s){for(var r=new Map,a=0,o=s.length;a<o;a++)r.set(s[a],a);return r}return Ab.exports}var rV=sV();const aV=$u(rV),oV=Object.prototype.toString,lV=Error.prototype.toString,cV=RegExp.prototype.toString,uV=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",hV=/^Symbol\((.*)\)(.*)$/;function dV(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function lI(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return dV(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return uV.call(t).replace(hV,"Symbol($1)");const i=oV.call(t).slice(8,-1);return i==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):i==="Error"||t instanceof Error?"["+lV.call(t)+"]":i==="RegExp"?cV.call(t):null}function Tu(t,e){let n=lI(t,e);return n!==null?n:JSON.stringify(t,function(i,s){let r=lI(this[i],e);return r!==null?r:s},2)}function pF(t){return t==null?[]:[].concat(t)}let gF,mF,xF,fV=/\$\{\s*(\w+)\s*\}/g;gF=Symbol.toStringTag;class cI{constructor(e,n,i,s){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[gF]="Error",this.name="ValidationError",this.value=n,this.path=i,this.type=s,this.errors=[],this.inner=[],pF(e).forEach(r=>{if(Pr.isError(r)){this.errors.push(...r.errors);const a=r.inner.length?r.inner:[r];this.inner.push(...a)}else this.errors.push(r)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}mF=Symbol.hasInstance;xF=Symbol.toStringTag;class Pr extends Error{static formatError(e,n){const i=n.label||n.path||"this";return n=Object.assign({},n,{path:i,originalPath:n.path}),typeof e=="string"?e.replace(fV,(s,r)=>Tu(n[r])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,i,s,r){const a=new cI(e,n,i,s);if(r)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[xF]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Pr)}static[mF](e){return cI[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let nl={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:i})=>{const s=i!=null&&i!==n?` (cast from the value \`${Tu(i,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Tu(n,!0)}\``+s:`${t} must match the configured type. The validated value was: \`${Tu(n,!0)}\``+s}},Sr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},pV={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},dv={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},gV={isValue:"${path} field must be ${value}"},dy={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},mV={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},xV={notType:t=>{const{path:e,value:n,spec:i}=t,s=i.types.length;if(Array.isArray(n)){if(n.length<s)return`${e} tuple value has too few items, expected a length of ${s} but got ${n.length} for value: \`${Tu(n,!0)}\``;if(n.length>s)return`${e} tuple value has too many items, expected a length of ${s} but got ${n.length} for value: \`${Tu(n,!0)}\``}return Pr.formatError(nl.notType,t)}};Object.assign(Object.create(null),{mixed:nl,string:Sr,number:pV,date:dv,object:dy,array:mV,boolean:gV,tuple:xV});const hk=t=>t&&t.__isYupSchema__;class _5{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:s,otherwise:r}=n,a=typeof i=="function"?i:(...o)=>o.every(l=>l===i);return new _5(e,(o,l)=>{var c;let u=a(...o)?s:r;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let i=this.refs.map(r=>r.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn(i,e,n);if(s===void 0||s===e)return e;if(!hk(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}const kb={context:"$",value:"."};function bV(t,e){return new Gu(t,e)}class Gu{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===kb.context,this.isValue=this.key[0]===kb.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?kb.context:this.isValue?kb.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&Xd.getter(this.path,!0),this.map=n.map}getValue(e,n,i){let s=this.isContext?i:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Gu.prototype.__isYupRef=!0;const Mh=t=>t==null;function Zf(t){function e({value:n,path:i="",options:s,originalValue:r,schema:a},o,l){const{name:c,test:u,params:d,message:p,skipAbsent:g}=t;let{parent:m,context:b,abortEarly:v=a.spec.abortEarly,disableStackTrace:S=a.spec.disableStackTrace}=s;function C(B){return Gu.isRef(B)?B.getValue(n,m,b):B}function E(B={}){const U=Object.assign({value:n,originalValue:r,label:a.spec.label,path:B.path||i,spec:a.spec,disableStackTrace:B.disableStackTrace||S},d,B.params);for(const ee of Object.keys(U))U[ee]=C(U[ee]);const V=new Pr(Pr.formatError(B.message||p,U),n,U.path,B.type||c,U.disableStackTrace);return V.params=U,V}const w=v?o:l;let A={path:i,parent:m,type:c,from:s.from,createError:E,resolve:C,options:s,originalValue:r,schema:a};const T=B=>{Pr.isError(B)?w(B):B?l(null):w(E())},P=B=>{Pr.isError(B)?w(B):o(B)};if(g&&Mh(n))return T(!0);let D;try{var O;if(D=u.call(A,n,A),typeof((O=D)==null?void 0:O.then)=="function"){if(s.sync)throw new Error(`Validation test of type: "${A.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(D).then(T,P)}}catch(B){P(B);return}T(D)}return e.OPTIONS=t,e}function yV(t,e,n,i=n){let s,r,a;return e?(Xd.forEach(e,(o,l,c)=>{let u=l?o.slice(1,o.length-1):o;t=t.resolve({context:i,parent:s,value:n});let d=t.type==="tuple",p=c?parseInt(u,10):0;if(t.innerType||d){if(d&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${a}" must contain an index to the tuple element, e.g. "${a}[0]"`);if(n&&p>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${o}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[p],t=d?t.spec.types[p]:t.innerType}if(!c){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${a} which is a type: "${t.type}")`);s=n,n=n&&n[u],t=t.fields[u]}r=u,a=l?"["+o+"]":"."+o}),{schema:t,parent:s,parentPath:r}):{parent:s,parentPath:e,schema:t}}class T5 extends Set{describe(){const e=[];for(const n of this.values())e.push(Gu.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const i of this.values())n.push(e(i));return n}clone(){return new T5(this.values())}merge(e,n){const i=this.clone();return e.forEach(s=>i.add(s)),n.forEach(s=>i.delete(s)),i}}function w1(t,e=new Map){if(hk(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let i=0;i<t.length;i++)n[i]=w1(t[i],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[i,s]of t.entries())n.set(i,w1(s,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const i of t)n.add(w1(i,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[i,s]of Object.entries(t))n[i]=w1(s,e)}else throw Error(`Unable to clone ${t}`);return n}class Lo{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new T5,this._blacklist=new T5,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(nl.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=w1(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=n,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,i=e.clone();const s=Object.assign({},n.spec,i.spec);return i.spec=s,i.internalTests=Object.assign({},n.internalTests,i.internalTests),i._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),i.tests=n.tests,i.exclusiveTests=n.exclusiveTests,i.withMutation(r=>{e.tests.forEach(a=>{r.test(a.OPTIONS)})}),i.transforms=[...n.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let i=n.conditions;n=n.clone(),n.conditions=[],n=i.reduce((s,r)=>r.resolve(s,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,i,s,r;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(s=e.recursive)!=null?s:this.spec.recursive,disableStackTrace:(r=e.disableStackTrace)!=null?r:this.spec.disableStackTrace})}cast(e,n={}){let i=this.resolve(Object.assign({value:e},n)),s=n.assert==="ignore-optionality",r=i._cast(e,n);if(n.assert!==!1&&!i.isType(r)){if(s&&Mh(r))return r;let a=Tu(e),o=Tu(r);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${a} 
`+(o!==a?`result of cast: ${o}`:""))}return r}_cast(e,n){let i=e===void 0?e:this.transforms.reduce((s,r)=>r.call(this,s,e,this),e);return i===void 0&&(i=this.getDefault(n)),i}_validate(e,n={},i,s){let{path:r,originalValue:a=e,strict:o=this.spec.strict}=n,l=e;o||(l=this._cast(l,Object.assign({assert:!1},n)));let c=[];for(let u of Object.values(this.internalTests))u&&c.push(u);this.runTests({path:r,value:l,originalValue:a,options:n,tests:c},i,u=>{if(u.length)return s(u,l);this.runTests({path:r,value:l,originalValue:a,options:n,tests:this.tests},i,s)})}runTests(e,n,i){let s=!1,{tests:r,value:a,originalValue:o,path:l,options:c}=e,u=b=>{s||(s=!0,n(b,a))},d=b=>{s||(s=!0,i(b,a))},p=r.length,g=[];if(!p)return d([]);let m={value:a,originalValue:o,path:l,options:c,schema:this};for(let b=0;b<r.length;b++){const v=r[b];v(m,u,function(C){C&&(Array.isArray(C)?g.push(...C):g.push(C)),--p<=0&&d(g)})}}asNestedTest({key:e,index:n,parent:i,parentPath:s,originalParent:r,options:a}){const o=e??n;if(o==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof o=="number";let c=i[o];const u=Object.assign({},a,{strict:!0,parent:i,value:c,originalValue:r[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?`${s||""}[${l?o:`"${o}"`}]`:(s?`${s}.`:"")+e});return(d,p,g)=>this.resolve(u)._validate(c,u,p,g)}validate(e,n){var i;let s=this.resolve(Object.assign({},n,{value:e})),r=(i=n==null?void 0:n.disableStackTrace)!=null?i:s.spec.disableStackTrace;return new Promise((a,o)=>s._validate(e,n,(l,c)=>{Pr.isError(l)&&(l.value=c),o(l)},(l,c)=>{l.length?o(new Pr(l,c,void 0,void 0,r)):a(c)}))}validateSync(e,n){var i;let s=this.resolve(Object.assign({},n,{value:e})),r,a=(i=n==null?void 0:n.disableStackTrace)!=null?i:s.spec.disableStackTrace;return s._validate(e,Object.assign({},n,{sync:!0}),(o,l)=>{throw Pr.isError(o)&&(o.value=l),o},(o,l)=>{if(o.length)throw new Pr(o,e,void 0,void 0,a);r=l}),r}isValid(e,n){return this.validate(e,n).then(()=>!0,i=>{if(Pr.isError(i))return!1;throw i})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(i){if(Pr.isError(i))return!1;throw i}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):w1(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const i=this.clone({nullable:e});return i.internalTests.nullable=Zf({message:n,name:"nullable",test(s){return s===null?this.schema.spec.nullable:!0}}),i}optionality(e,n){const i=this.clone({optional:e});return i.internalTests.optionality=Zf({message:n,name:"optionality",test(s){return s===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=nl.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=nl.notNull){return this.nullability(!1,e)}required(e=nl.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=nl.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),s=Zf(n),r=n.exclusive||n.name&&i.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(i.exclusiveTests[n.name]=!!n.exclusive),i.tests=i.tests.filter(a=>!(a.OPTIONS.name===n.name&&(r||a.OPTIONS.test===s.OPTIONS.test))),i.tests.push(s),i}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let i=this.clone(),s=pF(e).map(r=>new Gu(r));return s.forEach(r=>{r.isSibling&&i.deps.push(r.key)}),i.conditions.push(typeof n=="function"?new _5(s,n):_5.fromOptions(s,n)),i}typeError(e){let n=this.clone();return n.internalTests.typeError=Zf({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=nl.oneOf){let i=this.clone();return e.forEach(s=>{i._whitelist.add(s),i._blacklist.delete(s)}),i.internalTests.whiteList=Zf({message:n,name:"oneOf",skipAbsent:!0,test(s){let r=this.schema._whitelist,a=r.resolveAll(this.resolve);return a.includes(s)?!0:this.createError({params:{values:Array.from(r).join(", "),resolved:a}})}}),i}notOneOf(e,n=nl.notOneOf){let i=this.clone();return e.forEach(s=>{i._blacklist.add(s),i._whitelist.delete(s)}),i.internalTests.blacklist=Zf({message:n,name:"notOneOf",test(s){let r=this.schema._blacklist,a=r.resolveAll(this.resolve);return a.includes(s)?this.createError({params:{values:Array.from(r).join(", "),resolved:a}}):!0}}),i}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:i,meta:s,optional:r,nullable:a}=n.spec;return{meta:s,label:i,optional:r,nullable:a,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,u)=>u.findIndex(d=>d.name===l.name)===c)}}}Lo.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Lo.prototype[`${t}At`]=function(e,n,i={}){const{parent:s,parentPath:r,schema:a}=yV(this,e,n,i.context);return a[t](s&&s[r],Object.assign({},i,{parent:s,path:e}))};for(const t of["equals","is"])Lo.prototype[t]=Lo.prototype.oneOf;for(const t of["not","nope"])Lo.prototype[t]=Lo.prototype.notOneOf;const wV=()=>!0;function bF(t){return new yF(t)}class yF extends Lo{constructor(e){super(typeof e=="function"?{type:"mixed",check:e}:Object.assign({type:"mixed",check:wV},e))}}bF.prototype=yF.prototype;const vV=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function SV(t){const e=fv(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function fv(t){var e,n;const i=vV.exec(t);return i?{year:Yl(i[1]),month:Yl(i[2],1)-1,day:Yl(i[3],1),hour:Yl(i[4]),minute:Yl(i[5]),second:Yl(i[6]),millisecond:i[7]?Yl(i[7].substring(0,3)):0,precision:(e=(n=i[7])==null?void 0:n.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Yl(i[10]),minuteOffset:Yl(i[11])}:null}function Yl(t,e=0){return Number(t)||e}let AV=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,kV=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,CV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,EV="^\\d{4}-\\d{2}-\\d{2}",_V="\\d{2}:\\d{2}:\\d{2}",TV="(([+-]\\d{2}(:?\\d{2})?)|Z)",IV=new RegExp(`${EV}T${_V}(\\.\\d+)?${TV}$`),PV=t=>Mh(t)||t===t.trim(),NV={}.toString();function mi(){return new wF}class wF extends Lo{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const s=e!=null&&e.toString?e.toString():e;return s===NV?e:s})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||nl.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Sr.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n=Sr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n=Sr.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,n){let i=!1,s,r;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:s,name:r}=n:s=n),this.test({name:r||"matches",message:s||Sr.matches,params:{regex:e},skipAbsent:!0,test:a=>a===""&&i||a.search(e)!==-1})}email(e=Sr.email){return this.matches(AV,{name:"email",message:e,excludeEmptyString:!0})}url(e=Sr.url){return this.matches(kV,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Sr.uuid){return this.matches(CV,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",i,s;return e&&(typeof e=="object"?{message:n="",allowOffset:i=!1,precision:s=void 0}=e:n=e),this.matches(IV,{name:"datetime",message:n||Sr.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Sr.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:r=>{if(!r||i)return!0;const a=fv(r);return a?!!a.z:!1}}).test({name:"datetime_precision",message:n||Sr.datetime_precision,params:{precision:s},skipAbsent:!0,test:r=>{if(!r||s==null)return!0;const a=fv(r);return a?a.precision===s:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Sr.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:PV})}lowercase(e=Sr.lowercase){return this.transform(n=>Mh(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Mh(n)||n===n.toLowerCase()})}uppercase(e=Sr.uppercase){return this.transform(n=>Mh(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Mh(n)||n===n.toUpperCase()})}}mi.prototype=wF.prototype;let RV=new Date(""),FV=t=>Object.prototype.toString.call(t)==="[object Date]";class dk extends Lo{constructor(){super({type:"date",check(e){return FV(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=SV(e),isNaN(e)?dk.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let i;if(Gu.isRef(e))i=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);i=s}return i}min(e,n=dv.min){let i=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(s){return s>=this.resolve(i)}})}max(e,n=dv.max){let i=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(s){return s<=this.resolve(i)}})}}dk.INVALID_DATE=RV;function MV(t,e=[]){let n=[],i=new Set,s=new Set(e.map(([a,o])=>`${a}-${o}`));function r(a,o){let l=Xd.split(a)[0];i.add(l),s.has(`${o}-${l}`)||n.push([o,l])}for(const a of Object.keys(t)){let o=t[a];i.add(a),Gu.isRef(o)&&o.isSibling?r(o.path,a):hk(o)&&"deps"in o&&o.deps.forEach(l=>r(l,a))}return aV.array(Array.from(i),n).reverse()}function uI(t,e){let n=1/0;return t.some((i,s)=>{var r;if((r=e.path)!=null&&r.includes(i))return n=s,!0}),n}function vF(t){return(e,n)=>uI(t,e)-uI(t,n)}const DV=(t,e,n)=>{if(typeof t!="string")return t;let i=t;try{i=JSON.parse(t)}catch{}return n.isType(i)?i:t};function fy(t){if("fields"in t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=fy(i);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=fy(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(fy)}):"optional"in t?t.optional():t}const LV=(t,e)=>{const n=[...Xd.normalizePath(e)];if(n.length===1)return n[0]in t;let i=n.pop(),s=Xd.getter(Xd.join(n),!0)(t);return!!(s&&i in s)};let hI=t=>Object.prototype.toString.call(t)==="[object Object]";function dI(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(i=>n.indexOf(i)===-1)}const OV=vF([]);function Nu(t){return new SF(t)}class SF extends Lo{constructor(e){super({type:"object",check(n){return hI(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=OV,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var i;let s=super._cast(e,n);if(s===void 0)return this.getDefault(n);if(!this._typeCheck(s))return s;let r=this.fields,a=(i=n.stripUnknown)!=null?i:this.spec.noUnknown,o=[].concat(this._nodes,Object.keys(s).filter(d=>!this._nodes.includes(d))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),u=!1;for(const d of o){let p=r[d],g=d in s;if(p){let m,b=s[d];c.path=(n.path?`${n.path}.`:"")+d,p=p.resolve({value:b,context:n.context,parent:l});let v=p instanceof Lo?p.spec:void 0,S=v==null?void 0:v.strict;if(v!=null&&v.strip){u=u||d in s;continue}m=!n.__validating||!S?p.cast(s[d],c):s[d],m!==void 0&&(l[d]=m)}else g&&!a&&(l[d]=s[d]);(g!==d in l||l[d]!==s[d])&&(u=!0)}return u?l:s}_validate(e,n={},i,s){let{from:r=[],originalValue:a=e,recursive:o=this.spec.recursive}=n;n.from=[{schema:this,value:a},...r],n.__validating=!0,n.originalValue=a,super._validate(e,n,i,(l,c)=>{if(!o||!hI(c)){s(l,c);return}a=a||c;let u=[];for(let d of this._nodes){let p=this.fields[d];!p||Gu.isRef(p)||u.push(p.asNestedTest({options:n,key:d,parent:c,parentPath:n.path,originalParent:a}))}this.runTests({tests:u,value:c,originalValue:a,options:n},i,d=>{s(d.sort(this._sortErrors).concat(l),c)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),i=n.fields;for(let[s,r]of Object.entries(this.fields)){const a=i[s];i[s]=a===void 0?r:a}return n.withMutation(s=>s.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(i=>{var s;const r=this.fields[i];let a=e;(s=a)!=null&&s.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[i]})),n[i]=r&&"getDefault"in r?r.getDefault(a):void 0}),n}setFields(e,n){let i=this.clone();return i.fields=e,i._nodes=MV(e,n),i._sortErrors=vF(Object.keys(e)),n&&(i._excludedEdges=n),i}shape(e,n=[]){return this.clone().withMutation(i=>{let s=i._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),s=[...i._excludedEdges,...n]),i.setFields(Object.assign(i.fields,e),s)})}partial(){const e={};for(const[n,i]of Object.entries(this.fields))e[n]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return fy(this)}pick(e){const n={};for(const i of e)this.fields[i]&&(n[i]=this.fields[i]);return this.setFields(n,this._excludedEdges.filter(([i,s])=>e.includes(i)&&e.includes(s)))}omit(e){const n=[];for(const i of Object.keys(this.fields))e.includes(i)||n.push(i);return this.pick(n)}from(e,n,i){let s=Xd.getter(e,!0);return this.transform(r=>{if(!r)return r;let a=r;return LV(r,e)&&(a=Object.assign({},r),i||delete a[e],a[n]=s(r)),a})}json(){return this.transform(DV)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||dy.exact,test(n){if(n==null)return!0;const i=dI(this.schema,n);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=dy.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const r=dI(this.schema,s);return!e||r.length===0||this.createError({params:{unknown:r.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,n=dy.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const i={};for(const s of Object.keys(n))i[e(s)]=n[s];return i})}camelCase(){return this.transformKeys(q4.camelCase)}snakeCase(){return this.transformKeys(q4.snakeCase)}constantCase(){return this.transformKeys(e=>q4.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[r,a]of Object.entries(n.fields)){var s;let o=e;(s=o)!=null&&s.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),i.fields[r]=a.describe(o)}return i}}Nu.prototype=SF.prototype;function us(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var BV=typeof Symbol=="function"&&Symbol.observable||"@@observable",fI=BV,G4=()=>Math.random().toString(36).substring(7).split("").join("."),jV={INIT:`@@redux/INIT${G4()}`,REPLACE:`@@redux/REPLACE${G4()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${G4()}`},I5=jV;function fk(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function AF(t,e,n){if(typeof t!="function")throw new Error(us(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(us(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(us(1));return n(AF)(t,e)}let i=t,s=e,r=new Map,a=r,o=0,l=!1;function c(){a===r&&(a=new Map,r.forEach((v,S)=>{a.set(S,v)}))}function u(){if(l)throw new Error(us(3));return s}function d(v){if(typeof v!="function")throw new Error(us(4));if(l)throw new Error(us(5));let S=!0;c();const C=o++;return a.set(C,v),function(){if(S){if(l)throw new Error(us(6));S=!1,c(),a.delete(C),r=null}}}function p(v){if(!fk(v))throw new Error(us(7));if(typeof v.type>"u")throw new Error(us(8));if(typeof v.type!="string")throw new Error(us(17));if(l)throw new Error(us(9));try{l=!0,s=i(s,v)}finally{l=!1}return(r=a).forEach(C=>{C()}),v}function g(v){if(typeof v!="function")throw new Error(us(10));i=v,p({type:I5.REPLACE})}function m(){const v=d;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(us(11));function C(){const w=S;w.next&&w.next(u())}return C(),{unsubscribe:v(C)}},[fI](){return this}}}return p({type:I5.INIT}),{dispatch:p,subscribe:d,getState:u,replaceReducer:g,[fI]:m}}function $V(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:I5.INIT})>"u")throw new Error(us(12));if(typeof n(void 0,{type:I5.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(us(13))})}function UV(t){const e=Object.keys(t),n={};for(let r=0;r<e.length;r++){const a=e[r];typeof t[a]=="function"&&(n[a]=t[a])}const i=Object.keys(n);let s;try{$V(n)}catch(r){s=r}return function(a={},o){if(s)throw s;let l=!1;const c={};for(let u=0;u<i.length;u++){const d=i[u],p=n[d],g=a[d],m=p(g,o);if(typeof m>"u")throw o&&o.type,new Error(us(14));c[d]=m,l=l||m!==g}return l=l||i.length!==Object.keys(a).length,l?c:a}}function P5(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function zV(...t){return e=>(n,i)=>{const s=e(n,i);let r=()=>{throw new Error(us(15))};const a={getState:s.getState,dispatch:(l,...c)=>r(l,...c)},o=t.map(l=>l(a));return r=P5(...o)(s.dispatch),{...s,dispatch:r}}}function HV(t){return fk(t)&&"type"in t&&typeof t.type=="string"}var kF=Symbol.for("immer-nothing"),pI=Symbol.for("immer-draftable"),xa=Symbol.for("immer-state");function Io(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ng=Object.getPrototypeOf;function of(t){return!!t&&!!t[xa]}function Kc(t){var e;return t?CF(t)||Array.isArray(t)||!!t[pI]||!!((e=t.constructor)!=null&&e[pI])||i6(t)||s6(t):!1}var qV=Object.prototype.constructor.toString();function CF(t){if(!t||typeof t!="object")return!1;const e=ng(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===qV}function N5(t,e){n6(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function n6(t){const e=t[xa];return e?e.type_:Array.isArray(t)?1:i6(t)?2:s6(t)?3:0}function pv(t,e){return n6(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function EF(t,e,n){const i=n6(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function GV(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function i6(t){return t instanceof Map}function s6(t){return t instanceof Set}function wh(t){return t.copy_||t.base_}function gv(t,e){if(i6(t))return new Map(t);if(s6(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=CF(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[xa];let s=Reflect.ownKeys(i);for(let r=0;r<s.length;r++){const a=s[r],o=i[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(i[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(ng(t),i)}else{const i=ng(t);if(i!==null&&n)return{...t};const s=Object.create(i);return Object.assign(s,t)}}function pk(t,e=!1){return r6(t)||of(t)||!Kc(t)||(n6(t)>1&&(t.set=t.add=t.clear=t.delete=WV),Object.freeze(t),e&&Object.entries(t).forEach(([n,i])=>pk(i,!0))),t}function WV(){Io(2)}function r6(t){return Object.isFrozen(t)}var VV={};function lf(t){const e=VV[t];return e||Io(0,t),e}var Ix;function _F(){return Ix}function XV(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gI(t,e){e&&(lf("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mv(t){xv(t),t.drafts_.forEach(KV),t.drafts_=null}function xv(t){t===Ix&&(Ix=t.parent_)}function mI(t){return Ix=XV(Ix,t)}function KV(t){const e=t[xa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function xI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[xa].modified_&&(mv(e),Io(4)),Kc(t)&&(t=R5(e,t),e.parent_||F5(e,t)),e.patches_&&lf("Patches").generateReplacementPatches_(n[xa].base_,t,e.patches_,e.inversePatches_)):t=R5(e,n,[]),mv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==kF?t:void 0}function R5(t,e,n){if(r6(e))return e;const i=e[xa];if(!i)return N5(e,(s,r)=>bI(t,i,e,s,r,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return F5(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let r=s,a=!1;i.type_===3&&(r=new Set(s),s.clear(),a=!0),N5(r,(o,l)=>bI(t,i,s,o,l,n,a)),F5(t,s,!1),n&&t.patches_&&lf("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function bI(t,e,n,i,s,r,a){if(of(s)){const o=r&&e&&e.type_!==3&&!pv(e.assigned_,i)?r.concat(i):void 0,l=R5(t,s,o);if(EF(n,i,l),of(l))t.canAutoFreeze_=!1;else return}else a&&n.add(s);if(Kc(s)&&!r6(s)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;R5(t,s),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,i)&&F5(t,s)}}function F5(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&pk(e,n)}function YV(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:_F(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=i,r=gk;n&&(s=[i],r=Px);const{revoke:a,proxy:o}=Proxy.revocable(s,r);return i.draft_=o,i.revoke_=a,o}var gk={get(t,e){if(e===xa)return t;const n=wh(t);if(!pv(n,e))return ZV(t,n,e);const i=n[e];return t.finalized_||!Kc(i)?i:i===W4(t.base_,e)?(V4(t),t.copy_[e]=yv(i,t)):i},has(t,e){return e in wh(t)},ownKeys(t){return Reflect.ownKeys(wh(t))},set(t,e,n){const i=TF(wh(t),e);if(i!=null&&i.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const s=W4(wh(t),e),r=s==null?void 0:s[xa];if(r&&r.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(GV(n,s)&&(n!==void 0||pv(t.base_,e)))return!0;V4(t),bv(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return W4(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,V4(t),bv(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=wh(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){Io(11)},getPrototypeOf(t){return ng(t.base_)},setPrototypeOf(){Io(12)}},Px={};N5(gk,(t,e)=>{Px[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Px.deleteProperty=function(t,e){return Px.set.call(this,t,e,void 0)};Px.set=function(t,e,n){return gk.set.call(this,t[0],e,n,t[0])};function W4(t,e){const n=t[xa];return(n?wh(n):t)[e]}function ZV(t,e,n){var s;const i=TF(e,n);return i?"value"in i?i.value:(s=i.get)==null?void 0:s.call(t.draft_):void 0}function TF(t,e){if(!(e in t))return;let n=ng(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=ng(n)}}function bv(t){t.modified_||(t.modified_=!0,t.parent_&&bv(t.parent_))}function V4(t){t.copy_||(t.copy_=gv(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var JV=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const r=n;n=e;const a=this;return function(l=r,...c){return a.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Io(6),i!==void 0&&typeof i!="function"&&Io(7);let s;if(Kc(e)){const r=mI(this),a=yv(e,void 0);let o=!0;try{s=n(a),o=!1}finally{o?mv(r):xv(r)}return gI(r,i),xI(s,r)}else if(!e||typeof e!="object"){if(s=n(e),s===void 0&&(s=e),s===kF&&(s=void 0),this.autoFreeze_&&pk(s,!0),i){const r=[],a=[];lf("Patches").generateReplacementPatches_(e,s,r,a),i(r,a)}return s}else Io(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let i,s;return[this.produce(e,n,(a,o)=>{i=a,s=o}),i,s]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Kc(t)||Io(8),of(t)&&(t=QV(t));const e=mI(this),n=yv(t,void 0);return n[xa].isManual_=!0,xv(e),n}finishDraft(t,e){const n=t&&t[xa];(!n||!n.isManual_)&&Io(9);const{scope_:i}=n;return gI(i,e),xI(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const s=e[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(e=e.slice(n+1));const i=lf("Patches").applyPatches_;return of(t)?i(t,e):this.produce(t,s=>i(s,e))}};function yv(t,e){const n=i6(t)?lf("MapSet").proxyMap_(t,e):s6(t)?lf("MapSet").proxySet_(t,e):YV(t,e);return(e?e.scope_:_F()).drafts_.push(n),n}function QV(t){return of(t)||Io(10,t),IF(t)}function IF(t){if(!Kc(t)||r6(t))return t;const e=t[xa];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=gv(t,e.scope_.immer_.useStrictShallowCopy_)}else n=gv(t,!0);return N5(n,(i,s)=>{EF(n,i,IF(s))}),e&&(e.finalized_=!1),n}var ba=new JV,PF=ba.produce;ba.produceWithPatches.bind(ba);ba.setAutoFreeze.bind(ba);ba.setUseStrictShallowCopy.bind(ba);ba.applyPatches.bind(ba);ba.createDraft.bind(ba);ba.finishDraft.bind(ba);function NF(t){return({dispatch:n,getState:i})=>s=>r=>typeof r=="function"?r(n,i,t):s(r)}var eX=NF(),tX=NF,nX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?P5:P5.apply(null,arguments)},iX=t=>t&&typeof t.match=="function";function ux(t,e){function n(...i){if(e){let s=e(...i);if(!s)throw new Error($c(0));return{type:t,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>HV(i)&&i.type===t,n}var RF=class Dm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Dm.prototype)}static get[Symbol.species](){return Dm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Dm(...e[0].concat(this)):new Dm(...e.concat(this))}};function yI(t){return Kc(t)?PF(t,()=>{}):t}function wI(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function sX(t){return typeof t=="boolean"}var rX=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:r=!0}=e??{};let a=new RF;return n&&(sX(n)?a.push(eX):a.push(tX(n.extraArgument))),a},aX="RTK_autoBatch",vI=t=>e=>{setTimeout(e,t)},oX=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let s=!0,r=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:vI(10):t.type==="callback"?t.queueNotification:vI(t.timeout),c=()=>{a=!1,r&&(r=!1,o.forEach(u=>u()))};return Object.assign({},i,{subscribe(u){const d=()=>s&&u(),p=i.subscribe(d);return o.add(u),()=>{p(),o.delete(u)}},dispatch(u){var d;try{return s=!((d=u==null?void 0:u.meta)!=null&&d[aX]),r=!s,r&&(a||(a=!0,l(c))),i.dispatch(u)}finally{s=!0}}})},lX=t=>function(n){const{autoBatch:i=!0}=n??{};let s=new RF(t);return i&&s.push(oX(typeof i=="object"?i:void 0)),s};function cX(t){const e=rX(),{reducer:n=void 0,middleware:i,devTools:s=!0,preloadedState:r=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(fk(n))o=UV(n);else throw new Error($c(1));let l;typeof i=="function"?l=i(e):l=e();let c=P5;s&&(c=nX({trace:!1,...typeof s=="object"&&s}));const u=zV(...l),d=lX(u);let p=typeof a=="function"?a(d):d();const g=c(...p);return AF(o,r,g)}function FF(t){const e={},n=[];let i;const s={addCase(r,a){const o=typeof r=="string"?r:r.type;if(!o)throw new Error($c(28));if(o in e)throw new Error($c(29));return e[o]=a,s},addMatcher(r,a){return n.push({matcher:r,reducer:a}),s},addDefaultCase(r){return i=r,s}};return t(s),[e,n,i]}function uX(t){return typeof t=="function"}function hX(t,e){let[n,i,s]=FF(e),r;if(uX(t))r=()=>yI(t());else{const o=yI(t);r=()=>o}function a(o=r(),l){let c=[n[l.type],...i.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[s]),c.reduce((u,d)=>{if(d)if(of(u)){const g=d(u,l);return g===void 0?u:g}else{if(Kc(u))return PF(u,p=>d(p,l));{const p=d(u,l);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},o)}return a.getInitialState=r,a}var dX=(t,e)=>iX(t)?t.match(e):t(e);function fX(...t){return e=>t.some(n=>dX(n,e))}var pX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",gX=(t=21)=>{let e="",n=t;for(;n--;)e+=pX[Math.random()*64|0];return e},mX=["name","message","stack","code"],X4=class{constructor(t,e){qe(this,"_type");this.payload=t,this.meta=e}},SI=class{constructor(t,e){qe(this,"_type");this.payload=t,this.meta=e}},xX=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of mX)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},AI="External signal was aborted",ni=(()=>{function t(e,n,i){const s=ux(e+"/fulfilled",(l,c,u,d)=>({payload:l,meta:{...d||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),r=ux(e+"/pending",(l,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:l,requestStatus:"pending"}})),a=ux(e+"/rejected",(l,c,u,d,p)=>({payload:d,error:(i&&i.serializeError||xX)(l||"Rejected"),meta:{...p||{},arg:u,requestId:c,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function o(l,{signal:c}={}){return(u,d,p)=>{const g=i!=null&&i.idGenerator?i.idGenerator(l):gX(),m=new AbortController;let b,v;function S(E){v=E,m.abort()}c&&(c.aborted?S(AI):c.addEventListener("abort",()=>S(AI),{once:!0}));const C=async function(){var A,T;let E;try{let P=(A=i==null?void 0:i.condition)==null?void 0:A.call(i,l,{getState:d,extra:p});if(yX(P)&&(P=await P),P===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const R=new Promise((D,O)=>{b=()=>{O({name:"AbortError",message:v||"Aborted"})},m.signal.addEventListener("abort",b)});u(r(g,l,(T=i==null?void 0:i.getPendingMeta)==null?void 0:T.call(i,{requestId:g,arg:l},{getState:d,extra:p}))),E=await Promise.race([R,Promise.resolve(n(l,{dispatch:u,getState:d,extra:p,requestId:g,signal:m.signal,abort:S,rejectWithValue:(D,O)=>new X4(D,O),fulfillWithValue:(D,O)=>new SI(D,O)})).then(D=>{if(D instanceof X4)throw D;return D instanceof SI?s(D.payload,g,l,D.meta):s(D,g,l)})])}catch(P){E=P instanceof X4?a(null,g,l,P.payload,P.meta):a(P,g,l)}finally{b&&m.signal.removeEventListener("abort",b)}return i&&!i.dispatchConditionRejection&&a.match(E)&&E.meta.condition||u(E),E}();return Object.assign(C,{abort:S,requestId:g,arg:l,unwrap(){return C.then(bX)}})}}return Object.assign(o,{pending:r,rejected:a,fulfilled:s,settled:fX(a,s),typePrefix:e})}return t.withTypes=()=>t,t})();function bX(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function yX(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var wX=Symbol.for("rtk-slice-createasyncthunk");function vX(t,e){return`${t}/${e}`}function SX({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[wX];return function(s){const{name:r,reducerPath:a=r}=s;if(!r)throw new Error($c(11));const o=(typeof s.reducers=="function"?s.reducers(kX()):s.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(E,w){const A=typeof E=="string"?E:E.type;if(!A)throw new Error($c(12));if(A in c.sliceCaseReducersByType)throw new Error($c(13));return c.sliceCaseReducersByType[A]=w,u},addMatcher(E,w){return c.sliceMatchers.push({matcher:E,reducer:w}),u},exposeAction(E,w){return c.actionCreators[E]=w,u},exposeCaseReducer(E,w){return c.sliceCaseReducersByName[E]=w,u}};l.forEach(E=>{const w=o[E],A={reducerName:E,type:vX(r,E),createNotation:typeof s.reducers=="function"};EX(w)?TX(A,w,u,e):CX(A,w,u)});function d(){const[E={},w=[],A=void 0]=typeof s.extraReducers=="function"?FF(s.extraReducers):[s.extraReducers],T={...E,...c.sliceCaseReducersByType};return hX(s.initialState,P=>{for(let R in T)P.addCase(R,T[R]);for(let R of c.sliceMatchers)P.addMatcher(R.matcher,R.reducer);for(let R of w)P.addMatcher(R.matcher,R.reducer);A&&P.addDefaultCase(A)})}const p=E=>E,g=new Map;let m;function b(E,w){return m||(m=d()),m(E,w)}function v(){return m||(m=d()),m.getInitialState()}function S(E,w=!1){function A(P){let R=P[E];return typeof R>"u"&&w&&(R=v()),R}function T(P=p){const R=wI(g,w,()=>new WeakMap);return wI(R,P,()=>{const D={};for(const[O,B]of Object.entries(s.selectors??{}))D[O]=AX(B,P,v,w);return D})}return{reducerPath:E,getSelectors:T,get selectors(){return T(A)},selectSlice:A}}const C={name:r,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...S(a),injectInto(E,{reducerPath:w,...A}={}){const T=w??a;return E.inject({reducerPath:T,reducer:b},A),{...C,...S(T,!0)}}};return C}}function AX(t,e,n,i){function s(r,...a){let o=e(r);return typeof o>"u"&&i&&(o=n()),t(o,...a)}return s.unwrapped=t,s}var wg=SX();function kX(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function CX({type:t,reducerName:e,createNotation:n},i,s){let r,a;if("reducer"in i){if(n&&!_X(i))throw new Error($c(17));r=i.reducer,a=i.prepare}else r=i;s.addCase(t,r).exposeCaseReducer(e,r).exposeAction(e,a?ux(t,a):ux(t))}function EX(t){return t._reducerDefinitionType==="asyncThunk"}function _X(t){return t._reducerDefinitionType==="reducerWithPrepare"}function TX({type:t,reducerName:e},n,i,s){if(!s)throw new Error($c(18));const{payloadCreator:r,fulfilled:a,pending:o,rejected:l,settled:c,options:u}=n,d=s(t,r,u);i.exposeAction(e,d),a&&i.addCase(d.fulfilled,a),o&&i.addCase(d.pending,o),l&&i.addCase(d.rejected,l),c&&i.addMatcher(d.settled,c),i.exposeCaseReducer(e,{fulfilled:a||Cb,pending:o||Cb,rejected:l||Cb,settled:c||Cb})}function Cb(){}function $c(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const IX=ni("auth/signup",async({data:t,toast:e},{rejectWithValue:n})=>{var i,s;try{const r=await fetch("http://localhost:3000/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){const o=await r.json();return e.error(o.message,{position:"top-center"}),n(o)}const a=await r.json();return e.success(a.message,{position:"top-center"}),a}catch(r){const a=((s=(i=r.response)==null?void 0:i.data)==null?void 0:s.message)||"An unexpected error occurred";return e.error(a,{position:"top-center"}),n({message:a})}}),PX=ni("auth/signin",async({data:t,toast:e,navigate:n},{rejectWithValue:i})=>{var s,r;try{const a=await fetch("http://localhost:3000/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok){const c=await a.json();return e.error(c.message,{position:"top-center"}),i(c)}const o=await a.json(),{token:l}=o;localStorage.setItem("token",l),e.success(o.message,{position:"top-center"}),setTimeout(()=>{n("/")},1e3)}catch(a){const o=((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||"An unexpected error occurred";return e.error(o,{position:"top-center"}),i({message:o})}}),NX=ni("/auth/googleSignin",async({credential:t,toast:e,navigate:n},{rejectWithValue:i})=>{try{const s=await fetch("http://localhost:3000/api/auth/google/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:t})});if(!s.ok){const o=await s.json();return e.error(o.message,{position:"top-center"}),i(o)}const r=await s.json(),{token:a}=r;localStorage.setItem("token",a),e.success(r.message,{position:"top-center"}),setTimeout(()=>{n("/")},1e3)}catch(s){console.error(s)}}),py=ni("fetchUserDetails",async(t,{rejectWithValue:e,dispatch:n})=>{try{const i=await fetch("http://localhost:3000/api/auth/user-info",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(i.ok){const s=await i.json();n(DF(s.user))}else return e("Failed to fetch user details")}catch(i){return e(i.message)}}),RX=ni("userDocumentUpload",async({id:t,formData:e,toast:n},{rejectWithValue:i})=>{try{const s=await fetch(`http://localhost:3000/api/auth/upload/${t}`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:e});if(!s.ok){const a=await s.json();n.error(a.message)}const r=await s.json();return n.success(r.message),r}catch(s){return n.error(s.message),i("An error occurred while uploading the document")}}),FX=ni("updateUserProfile",async({data:t,toast:e},{rejectWithValue:n,dispatch:i})=>{try{const s=await fetch("http://localhost:3000/api/auth/update/",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({...t})}),r=await s.json();return s.ok?(e.success(r.message,{position:"top-center"}),i(DF(r.user)),r):(e.error(r.message),n(r.message))}catch(s){return console.log(s.message),e.error("An error occurred while updating the profile."),n("An error occurred while updating the profile.")}}),MX=ni("auth/updatePassword",async({data:t,toast:e},{rejectWithValue:n})=>{var i,s;try{const r=await fetch("http://localhost:3000/api/auth/update-password",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)});if(!r.ok){const o=await r.json();return e.error(o.message,{position:"top-center"}),n(o)}const a=await r.json();return e.success(a.message,{position:"top-center"}),a}catch(r){const a=((s=(i=r.response)==null?void 0:i.data)==null?void 0:s.message)||"An unexpected error occurred";return e.error(a,{position:"top-center"}),n({message:a})}}),DX=ni("auth/forgetPassword",async({email:t,toast:e},{rejectWithValue:n})=>{var i,s;try{const r=await fetch(`http://localhost:3000/api/auth/forget-password/${t}`,{method:"POST"});if(!r.ok){const o=await r.json();return e.error(o.message,{position:"top-center"}),n(o)}const a=await r.json();return e.success(a.message,{position:"top-center"}),a}catch(r){const a=((s=(i=r.response)==null?void 0:i.data)==null?void 0:s.message)||"An unexpected error occurred";return e.error(a,{position:"top-center",className:"text-4xl"}),n({message:a})}}),LX=ni("auth/resetPassword",async({newPassword:t,toast:e,navigate:n},{rejectWithValue:i})=>{var s,r;try{const a=await fetch("http://localhost:3000/api/auth/reset-password",{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("resetToken")}`,"Content-Type":"application/json"},body:JSON.stringify({newPassword:t})});if(!a.ok){const l=await a.json();return e.error(l.message,{position:"top-center"}),i(l)}const o=await a.json();return e.success(o.message,{position:"top-center",autoClose:1500}),localStorage.removeItem("token"),setTimeout(()=>{n("/signin")},3e3),o}catch(a){const o=((r=(s=a.response)==null?void 0:s.data)==null?void 0:r.message)||"An unexpected error occurred";return e.error(o,{position:"top-center"}),i({message:o})}}),OX={user:null,isLoading:!0},MF=wg({name:"auth",initialState:OX,reducers:{setUserProfile:(t,e)=>{t.user=e==null?void 0:e.payload},logout:t=>{t.user=null,localStorage.removeItem("token")}},extraReducers:t=>{t.addCase(py.fulfilled,e=>{e.isLoading=!1}),t.addCase(py.pending,e=>{e.isLoading=!0}),t.addCase(py.rejected,e=>{e.isLoading=!1,e.isError=!0})}}),{logout:BX,setUserProfile:DF}=MF.actions,jX=MF.reducer;var K4={exports:{}},Y4={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kI;function $X(){if(kI)return Y4;kI=1;var t=X8();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,s=t.useRef,r=t.useEffect,a=t.useMemo,o=t.useDebugValue;return Y4.useSyncExternalStoreWithSelector=function(l,c,u,d,p){var g=s(null);if(g.current===null){var m={hasValue:!1,value:null};g.current=m}else m=g.current;g=a(function(){function v(A){if(!S){if(S=!0,C=A,A=d(A),p!==void 0&&m.hasValue){var T=m.value;if(p(T,A))return E=T}return E=A}if(T=E,n(C,A))return T;var P=d(A);return p!==void 0&&p(T,P)?(C=A,T):(C=A,E=P)}var S=!1,C,E,w=u===void 0?null:u;return[function(){return v(c())},w===null?void 0:function(){return v(w())}]},[c,u,d,p]);var b=i(l,g[0],g[1]);return r(function(){m.hasValue=!0,m.value=b},[b]),o(b),b},Y4}var CI;function UX(){return CI||(CI=1,K4.exports=$X()),K4.exports}var zX=UX();function HX(t){t()}function qX(){let t=null,e=null;return{clear(){t=null,e=null},notify(){HX(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const s=e={callback:n,next:null,prev:e};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var EI={notify(){},get:()=>[]};function GX(t,e){let n,i=EI,s=0,r=!1;function a(b){u();const v=i.subscribe(b);let S=!1;return()=>{S||(S=!0,v(),d())}}function o(){i.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return r}function u(){s++,n||(n=t.subscribe(l),i=qX())}function d(){s--,n&&s===0&&(n(),n=void 0,i.clear(),i=EI)}function p(){r||(r=!0,u())}function g(){r&&(r=!1,d())}const m={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>i};return m}var WX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VX=WX(),XX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",KX=XX(),YX=()=>VX||KX?H.useLayoutEffect:H.useEffect,ZX=YX(),Z4=Symbol.for("react-redux-context"),J4=typeof globalThis<"u"?globalThis:{};function JX(){if(!H.createContext)return{};const t=J4[Z4]??(J4[Z4]=new Map);let e=t.get(H.createContext);return e||(e=H.createContext(null),t.set(H.createContext,e)),e}var Ru=JX();function QX(t){const{children:e,context:n,serverState:i,store:s}=t,r=H.useMemo(()=>{const l=GX(s);return{store:s,subscription:l,getServerState:i?()=>i:void 0}},[s,i]),a=H.useMemo(()=>s.getState(),[s]);ZX(()=>{const{subscription:l}=r;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==s.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[r,a]);const o=n||Ru;return H.createElement(o.Provider,{value:r},e)}var eK=QX;function mk(t=Ru){return function(){return H.useContext(t)}}var LF=mk();function OF(t=Ru){const e=t===Ru?LF:mk(t),n=()=>{const{store:i}=e();return i};return Object.assign(n,{withTypes:()=>n}),n}var tK=OF();function nK(t=Ru){const e=t===Ru?tK:OF(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var dr=nK(),iK=(t,e)=>t===e;function sK(t=Ru){const e=t===Ru?LF:mk(t),n=(i,s={})=>{const{equalityFn:r=iK}=typeof s=="function"?{equalityFn:s}:s,a=e(),{store:o,subscription:l,getServerState:c}=a;H.useRef(!0);const u=H.useCallback({[i.name](p){return i(p)}}[i.name],[i]),d=zX.useSyncExternalStoreWithSelector(l.addNestedSub,o.getState,c||o.getState,u,r);return H.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var Wu=sK();function BF(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=BF(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function yu(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=BF(t))&&(i&&(i+=" "),i+=e);return i}const Nx=t=>typeof t=="number"&&!isNaN(t),Kd=t=>typeof t=="string",fa=t=>typeof t=="function",gy=t=>Kd(t)||fa(t)?t:null,wv=t=>H.isValidElement(t)||Kd(t)||fa(t)||Nx(t);function rK(t,e,n){n===void 0&&(n=300);const{scrollHeight:i,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function a6(t){let{enter:e,exit:n,appendPosition:i=!1,collapse:s=!0,collapseDuration:r=300}=t;return function(a){let{children:o,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:p,playToast:g}=a;const m=i?`${e}--${l}`:e,b=i?`${n}--${l}`:n,v=H.useRef(0);return H.useLayoutEffect(()=>{const S=d.current,C=m.split(" "),E=w=>{w.target===d.current&&(g(),S.removeEventListener("animationend",E),S.removeEventListener("animationcancel",E),v.current===0&&w.type!=="animationcancel"&&S.classList.remove(...C))};S.classList.add(...C),S.addEventListener("animationend",E),S.addEventListener("animationcancel",E)},[]),H.useEffect(()=>{const S=d.current,C=()=>{S.removeEventListener("animationend",C),s?rK(S,u,r):u()};p||(c?C():(v.current=1,S.className+=` ${b}`,S.addEventListener("animationend",C)))},[p]),it.createElement(it.Fragment,null,o)}}function _I(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const or=new Map;let Rx=[];const vv=new Set,aK=t=>vv.forEach(e=>e(t)),jF=()=>or.size>0;function $F(t,e){var n;if(e)return!((n=or.get(e))==null||!n.isToastActive(t));let i=!1;return or.forEach(s=>{s.isToastActive(t)&&(i=!0)}),i}function UF(t,e){wv(t)&&(jF()||Rx.push({content:t,options:e}),or.forEach(n=>{n.buildToast(t,e)}))}function TI(t,e){or.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function oK(t){const{subscribe:e,getSnapshot:n,setProps:i}=H.useRef(function(r){const a=r.containerId||1;return{subscribe(o){const l=function(u,d,p){let g=1,m=0,b=[],v=[],S=[],C=d;const E=new Map,w=new Set,A=()=>{S=Array.from(E.values()),w.forEach(R=>R())},T=R=>{v=R==null?[]:v.filter(D=>D!==R),A()},P=R=>{const{toastId:D,onOpen:O,updateId:B,children:U}=R.props,V=B==null;R.staleId&&E.delete(R.staleId),E.set(D,R),v=[...v,R.props.toastId].filter(ee=>ee!==R.staleId),A(),p(_I(R,V?"added":"updated")),V&&fa(O)&&O(H.isValidElement(U)&&U.props)};return{id:u,props:C,observe:R=>(w.add(R),()=>w.delete(R)),toggle:(R,D)=>{E.forEach(O=>{D!=null&&D!==O.props.toastId||fa(O.toggle)&&O.toggle(R)})},removeToast:T,toasts:E,clearQueue:()=>{m-=b.length,b=[]},buildToast:(R,D)=>{if((te=>{let{containerId:re,toastId:Ee,updateId:Re}=te;const we=re?re!==u:u!==1,K=E.has(Ee)&&Re==null;return we||K})(D))return;const{toastId:O,updateId:B,data:U,staleId:V,delay:ee}=D,Q=()=>{T(O)},G=B==null;G&&m++;const $={...C,style:C.toastStyle,key:g++,...Object.fromEntries(Object.entries(D).filter(te=>{let[re,Ee]=te;return Ee!=null})),toastId:O,updateId:B,data:U,closeToast:Q,isIn:!1,className:gy(D.className||C.toastClassName),bodyClassName:gy(D.bodyClassName||C.bodyClassName),progressClassName:gy(D.progressClassName||C.progressClassName),autoClose:!D.isLoading&&(ie=D.autoClose,he=C.autoClose,ie===!1||Nx(ie)&&ie>0?ie:he),deleteToast(){const te=E.get(O),{onClose:re,children:Ee}=te.props;fa(re)&&re(H.isValidElement(Ee)&&Ee.props),p(_I(te,"removed")),E.delete(O),m--,m<0&&(m=0),b.length>0?P(b.shift()):A()}};var ie,he;$.closeButton=C.closeButton,D.closeButton===!1||wv(D.closeButton)?$.closeButton=D.closeButton:D.closeButton===!0&&($.closeButton=!wv(C.closeButton)||C.closeButton);let pe=R;H.isValidElement(R)&&!Kd(R.type)?pe=H.cloneElement(R,{closeToast:Q,toastProps:$,data:U}):fa(R)&&(pe=R({closeToast:Q,toastProps:$,data:U}));const X={content:pe,props:$,staleId:V};C.limit&&C.limit>0&&m>C.limit&&G?b.push(X):Nx(ee)?setTimeout(()=>{P(X)},ee):P(X)},setProps(R){C=R},setToggle:(R,D)=>{E.get(R).toggle=D},isToastActive:R=>v.some(D=>D===R),getSnapshot:()=>S}}(a,r,aK);or.set(a,l);const c=l.observe(o);return Rx.forEach(u=>UF(u.content,u.options)),Rx=[],()=>{c(),or.delete(a)}},setProps(o){var l;(l=or.get(a))==null||l.setProps(o)},getSnapshot(){var o;return(o=or.get(a))==null?void 0:o.getSnapshot()}}}(t)).current;i(t);const s=H.useSyncExternalStore(e,n,n);return{getToastToRender:function(r){if(!s)return[];const a=new Map;return t.newestOnTop&&s.reverse(),s.forEach(o=>{const{position:l}=o.props;a.has(l)||a.set(l,[]),a.get(l).push(o)}),Array.from(a,o=>r(o[0],o[1]))},isToastActive:$F,count:s==null?void 0:s.length}}function lK(t){const[e,n]=H.useState(!1),[i,s]=H.useState(!1),r=H.useRef(null),a=H.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=t;var p,g;function m(){n(!0)}function b(){n(!1)}function v(E){const w=r.current;a.canDrag&&w&&(a.didMove=!0,e&&b(),a.delta=t.draggableDirection==="x"?E.clientX-a.start:E.clientY-a.start,a.start!==E.clientX&&(a.canCloseOnClick=!1),w.style.transform=`translate3d(${t.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`},0)`,w.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function S(){document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",S);const E=r.current;if(a.canDrag&&a.didMove&&E){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return s(!0),t.closeToast(),void t.collapseAll();E.style.transition="transform 0.2s, opacity 0.2s",E.style.removeProperty("transform"),E.style.removeProperty("opacity")}}(g=or.get((p={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||g.setToggle(p.id,p.fn),H.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||b(),window.addEventListener("focus",m),window.addEventListener("blur",b),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",b)}},[t.pauseOnFocusLoss]);const C={onPointerDown:function(E){if(t.draggable===!0||t.draggable===E.pointerType){a.didMove=!1,document.addEventListener("pointermove",v),document.addEventListener("pointerup",S);const w=r.current;a.canCloseOnClick=!0,a.canDrag=!0,w.style.transition="none",t.draggableDirection==="x"?(a.start=E.clientX,a.removalDistance=w.offsetWidth*(t.draggablePercent/100)):(a.start=E.clientY,a.removalDistance=w.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(E){const{top:w,bottom:A,left:T,right:P}=r.current.getBoundingClientRect();E.nativeEvent.type!=="touchend"&&t.pauseOnHover&&E.clientX>=T&&E.clientX<=P&&E.clientY>=w&&E.clientY<=A?b():m()}};return o&&l&&(C.onMouseEnter=b,t.stacked||(C.onMouseLeave=m)),d&&(C.onClick=E=>{u&&u(E),a.canCloseOnClick&&c()}),{playToast:m,pauseToast:b,isRunning:e,preventExitTransition:i,toastRef:r,eventHandlers:C}}function cK(t){let{delay:e,isRunning:n,closeToast:i,type:s="default",hide:r,className:a,style:o,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:p}=t;const g=r||l&&c===0,m={...o,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(m.transform=`scaleX(${c})`);const b=yu("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${p}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),v=fa(a)?a({rtl:u,type:s,defaultClassName:b}):yu(b,a),S={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&i()}};return it.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},it.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${p} Toastify__progress-bar--${s}`}),it.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:v,style:m,...S}))}let uK=1;const zF=()=>""+uK++;function hK(t){return t&&(Kd(t.toastId)||Nx(t.toastId))?t.toastId:zF()}function hx(t,e){return UF(t,e),e.toastId}function M5(t,e){return{...e,type:e&&e.type||t,toastId:hK(e)}}function Eb(t){return(e,n)=>hx(e,M5(t,n))}function bt(t,e){return hx(t,M5("default",e))}bt.loading=(t,e)=>hx(t,M5("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),bt.promise=function(t,e,n){let i,{pending:s,error:r,success:a}=e;s&&(i=Kd(s)?bt.loading(s,n):bt.loading(s.render,{...n,...s}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,p)=>{if(d==null)return void bt.dismiss(i);const g={type:u,...o,...n,data:p},m=Kd(d)?{render:d}:d;return i?bt.update(i,{...g,...m}):bt(m.render,{...g,...m}),p},c=fa(t)?t():t;return c.then(u=>l("success",a,u)).catch(u=>l("error",r,u)),c},bt.success=Eb("success"),bt.info=Eb("info"),bt.error=Eb("error"),bt.warning=Eb("warning"),bt.warn=bt.warning,bt.dark=(t,e)=>hx(t,M5("default",{theme:"dark",...e})),bt.dismiss=function(t){(function(e){var n;if(jF()){if(e==null||Kd(n=e)||Nx(n))or.forEach(i=>{i.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const i=or.get(e.containerId);i?i.removeToast(e.id):or.forEach(s=>{s.removeToast(e.id)})}}else Rx=Rx.filter(i=>e!=null&&i.options.toastId!==e)})(t)},bt.clearWaitingQueue=function(t){t===void 0&&(t={}),or.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},bt.isActive=$F,bt.update=function(t,e){e===void 0&&(e={});const n=((i,s)=>{var r;let{containerId:a}=s;return(r=or.get(a||1))==null?void 0:r.toasts.get(i)})(t,e);if(n){const{props:i,content:s}=n,r={delay:100,...i,...e,toastId:e.toastId||t,updateId:zF()};r.toastId!==t&&(r.staleId=t);const a=r.render||s;delete r.render,hx(a,r)}},bt.done=t=>{bt.update(t,{progress:1})},bt.onChange=function(t){return vv.add(t),()=>{vv.delete(t)}},bt.play=t=>TI(!0,t),bt.pause=t=>TI(!1,t);const dK=typeof window<"u"?H.useLayoutEffect:H.useEffect,_b=t=>{let{theme:e,type:n,isLoading:i,...s}=t;return it.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},Q4={info:function(t){return it.createElement(_b,{...t},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return it.createElement(_b,{...t},it.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return it.createElement(_b,{...t},it.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return it.createElement(_b,{...t},it.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return it.createElement("div",{className:"Toastify__spinner"})}},fK=t=>{const{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:s,playToast:r}=lK(t),{closeButton:a,children:o,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:p,transition:g,position:m,className:b,style:v,bodyClassName:S,bodyStyle:C,progressClassName:E,progressStyle:w,updateId:A,role:T,progress:P,rtl:R,toastId:D,deleteToast:O,isIn:B,isLoading:U,closeOnClick:V,theme:ee}=t,Q=yu("Toastify__toast",`Toastify__toast-theme--${ee}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":R},{"Toastify__toast--close-on-click":V}),G=fa(b)?b({rtl:R,position:m,type:u,defaultClassName:Q}):yu(Q,b),$=function(X){let{theme:te,type:re,isLoading:Ee,icon:Re}=X,we=null;const K={theme:te,type:re};return Re===!1||(fa(Re)?we=Re({...K,isLoading:Ee}):H.isValidElement(Re)?we=H.cloneElement(Re,K):Ee?we=Q4.spinner():(Z=>Z in Q4)(re)&&(we=Q4[re](K))),we}(t),ie=!!P||!l,he={closeToast:p,type:u,theme:ee};let pe=null;return a===!1||(pe=fa(a)?a(he):H.isValidElement(a)?H.cloneElement(a,he):function(X){let{closeToast:te,theme:re,ariaLabel:Ee="close"}=X;return it.createElement("button",{className:`Toastify__close-button Toastify__close-button--${re}`,type:"button",onClick:Re=>{Re.stopPropagation(),te(Re)},"aria-label":Ee},it.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},it.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(he)),it.createElement(g,{isIn:B,done:O,position:m,preventExitTransition:n,nodeRef:i,playToast:r},it.createElement("div",{id:D,onClick:c,"data-in":B,className:G,...s,style:v,ref:i},it.createElement("div",{...B&&{role:T},className:fa(S)?S({type:u}):yu("Toastify__toast-body",S),style:C},$!=null&&it.createElement("div",{className:yu("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!U})},$),it.createElement("div",null,o)),pe,it.createElement(cK,{...A&&!ie?{key:`pb-${A}`}:{},rtl:R,theme:ee,delay:l,isRunning:e,isIn:B,closeToast:p,hide:d,type:u,style:w,className:E,controlledProgress:ie,progress:P||0})))},o6=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},pK=a6(o6("bounce",!0));a6(o6("slide",!0));a6(o6("zoom"));a6(o6("flip"));const gK={position:"top-right",transition:pK,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function jl(t){let e={...gK,...t};const n=t.stacked,[i,s]=H.useState(!0),r=H.useRef(null),{getToastToRender:a,isToastActive:o,count:l}=oK(e),{className:c,style:u,rtl:d,containerId:p}=e;function g(b){const v=yu("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":d});return fa(c)?c({position:b,rtl:d,defaultClassName:v}):yu(v,gy(c))}function m(){n&&(s(!0),bt.play())}return dK(()=>{if(n){var b;const v=r.current.querySelectorAll('[data-in="true"]'),S=12,C=(b=e.position)==null?void 0:b.includes("top");let E=0,w=0;Array.from(v).reverse().forEach((A,T)=>{const P=A;P.classList.add("Toastify__toast--stacked"),T>0&&(P.dataset.collapsed=`${i}`),P.dataset.pos||(P.dataset.pos=C?"top":"bot");const R=E*(i?.2:1)+(i?0:S*T);P.style.setProperty("--y",`${C?R:-1*R}px`),P.style.setProperty("--g",`${S}`),P.style.setProperty("--s",""+(1-(i?w:0))),E+=P.offsetHeight,w+=.025})}},[i,l,n]),it.createElement("div",{ref:r,className:"Toastify",id:p,onMouseEnter:()=>{n&&(s(!1),bt.pause())},onMouseLeave:m},a((b,v)=>{const S=v.length?{...u}:{...u,pointerEvents:"none"};return it.createElement("div",{className:g(b),style:S,key:`container-${b}`},v.map(C=>{let{content:E,props:w}=C;return it.createElement(fK,{...w,stacked:n,collapseAll:m,isIn:o(w.toastId,w.containerId),style:w.style,key:`toast-${w.key}`},E)}))}))}var HF={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},II=it.createContext&&it.createContext(HF),mK=["attr","size","title"];function xK(t,e){if(t==null)return{};var n=bK(t,e),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function bK(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function D5(){return D5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},D5.apply(this,arguments)}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function L5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(i){yK(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function yK(t,e,n){return e=wK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wK(t){var e=vK(t,"string");return typeof e=="symbol"?e:e+""}function vK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qF(t){return t&&t.map((e,n)=>it.createElement(e.tag,L5({key:n},e.attr),qF(e.child)))}function Nt(t){return e=>it.createElement(SK,D5({attr:L5({},t.attr)},e),qF(t.child))}function SK(t){var e=n=>{var{attr:i,size:s,title:r}=t,a=xK(t,mK),o=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),it.createElement("svg",D5({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:l,style:L5(L5({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),r&&it.createElement("title",null,r),t.children)};return II!==void 0?it.createElement(II.Consumer,null,n=>e(n)):e(HF)}function AK(t){return Nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function kK(t){return Nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(t)}function GF(t){return Nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function WF(t){return Nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function CK(t){return Nt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"},child:[]}]})(t)}function VF(t){return Nt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function xk(t){return Nt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function EK(t){return Nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"},child:[]}]})(t)}function bk(t){return Nt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function _K(t){return Nt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z"},child:[]}]})(t)}function TK(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 4h5v8l-2.5-1.5L6 12V4z"},child:[]}]})(t)}function IK(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"},child:[]}]})(t)}function PK(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(t)}function NK(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 3 4 9v12h5v-7h6v7h5V9z"},child:[]}]})(t)}function RK(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(t)}function FK(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M7.5 21H2V9h5.5v12zm7.25-18h-5.5v18h5.5V3zM22 11h-5.5v10H22V11z"},child:[]}]})(t)}function XF(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"},child:[]}]})(t)}function ew(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(t)}function NI(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(t)}function MK(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"},child:[]}]})(t)}function KF(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(t)}function RI(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11zM8 15.01l1.41 1.41L11 14.84V19h2v-4.16l1.59 1.59L16 15.01 12.01 11z"},child:[]}]})(t)}function DK(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"},child:[]}]})(t)}function LK(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"},child:[]}]})(t)}function OK(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"},child:[]}]})(t)}function BK(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(t)}function FI(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18.39 14.56C16.71 13.7 14.53 13 12 13s-4.71.7-6.39 1.56A2.97 2.97 0 0 0 4 17.22V20h16v-2.78c0-1.12-.61-2.15-1.61-2.66zM9.78 12h4.44c1.21 0 2.14-1.06 1.98-2.26l-.32-2.45C15.57 5.39 13.92 4 12 4S8.43 5.39 8.12 7.29L7.8 9.74c-.16 1.2.77 2.26 1.98 2.26z"},child:[]}]})(t)}function MI(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"},child:[]}]})(t)}function jK(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zM7 9l1.41 1.41L11 7.83V16h2V7.83l2.59 2.58L17 9l-5-5-5 5z"},child:[]}]})(t)}const $K="/assets/logo-4ktFX_tO.png";function YF(){return _.jsx("div",{className:"logo sm:hidden flex flex-col items-center",children:_.jsx("div",{className:"logo-img rounded-full p-4 bg-white",children:_.jsx("img",{src:$K,alt:"EduDocs",className:"h-16"})})})}function UK(t={}){const{nonce:e,onScriptLoadSuccess:n,onScriptLoadError:i}=t,[s,r]=H.useState(!1),a=H.useRef(n);a.current=n;const o=H.useRef(i);return o.current=i,H.useEffect(()=>{const l=document.createElement("script");return l.src="https://accounts.google.com/gsi/client",l.async=!0,l.defer=!0,l.nonce=e,l.onload=()=>{var c;r(!0),(c=a.current)===null||c===void 0||c.call(a)},l.onerror=()=>{var c;r(!1),(c=o.current)===null||c===void 0||c.call(o)},document.body.appendChild(l),()=>{document.body.removeChild(l)}},[e]),s}const ZF=H.createContext(null);function zK({clientId:t,nonce:e,onScriptLoadSuccess:n,onScriptLoadError:i,children:s}){const r=UK({nonce:e,onScriptLoadSuccess:n,onScriptLoadError:i}),a=H.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:r}),[t,r]);return it.createElement(ZF.Provider,{value:a},s)}function HK(){const t=H.useContext(ZF);if(!t)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return t}function qK(t){var e;return(e=t==null?void 0:t.clientId)!==null&&e!==void 0?e:t==null?void 0:t.client_id}const GK={large:40,medium:32,small:20};function WK({onSuccess:t,onError:e,useOneTap:n,promptMomentNotification:i,type:s="standard",theme:r="outline",size:a="large",text:o,shape:l,logo_alignment:c,width:u,locale:d,click_listener:p,containerProps:g,...m}){const b=H.useRef(null),{clientId:v,scriptLoadedSuccessfully:S}=HK(),C=H.useRef(t);C.current=t;const E=H.useRef(e);E.current=e;const w=H.useRef(i);return w.current=i,H.useEffect(()=>{var A,T,P,R,D,O,B,U,V;if(S)return(P=(T=(A=window==null?void 0:window.google)===null||A===void 0?void 0:A.accounts)===null||T===void 0?void 0:T.id)===null||P===void 0||P.initialize({client_id:v,callback:ee=>{var Q;if(!(ee!=null&&ee.credential))return(Q=E.current)===null||Q===void 0?void 0:Q.call(E);const{credential:G,select_by:$}=ee;C.current({credential:G,clientId:qK(ee),select_by:$})},...m}),(O=(D=(R=window==null?void 0:window.google)===null||R===void 0?void 0:R.accounts)===null||D===void 0?void 0:D.id)===null||O===void 0||O.renderButton(b.current,{type:s,theme:r,size:a,text:o,shape:l,logo_alignment:c,width:u,locale:d,click_listener:p}),n&&((V=(U=(B=window==null?void 0:window.google)===null||B===void 0?void 0:B.accounts)===null||U===void 0?void 0:U.id)===null||V===void 0||V.prompt(w.current)),()=>{var ee,Q,G;n&&((G=(Q=(ee=window==null?void 0:window.google)===null||ee===void 0?void 0:ee.accounts)===null||Q===void 0?void 0:Q.id)===null||G===void 0||G.cancel())}},[v,S,n,s,r,a,o,l,c,u,d]),it.createElement("div",{...g,ref:b,style:{height:GK[a],...g==null?void 0:g.style}})}const JF=()=>{const t=dr(),e=Ol(),n=async i=>{try{const s=i==null?void 0:i.credential;s&&t(NX({credential:s,toast:bt,navigate:e}))}catch(s){console.log(s)}};return _.jsx("div",{className:"google-login-btn w-full flex justify-center my-4",children:_.jsx(WK,{onSuccess:i=>{n(i)},onError:()=>{bt.error("Login failed")},width:300})})},VK=()=>{const[t,e]=H.useState(!1),n=dr(),i=async(a,{setSubmitting:o})=>{try{await n(IX({data:a,toast:bt}))}catch(l){bt.error(l.message,{position:"top-center"})}finally{o(!1)}},s=/^[a-zA-Z]+$/,r=Nu({firstName:mi().required("- is required").matches(s,"- must be alphabets only").min(3,"- is too short").max(20,"- is too long").trim(),lastName:mi().required("- is required").matches(s,"- must be alphabets only").min(3,"- is too short").max(20,"- is too long").trim(),email:mi().email("- invalid  format").required("- is required").trim(),password:mi().required("- is required").min(8,"- must be 8 characters long").matches(/[0-9]/,"- requires a number").matches(/[a-z]/,"- requires a lowercase letter").matches(/[A-Z]/,"- requires an uppercase letter").matches(/[^\w]/,"- requires a symbol").trim()});return _.jsxs(_.Fragment,{children:[_.jsx(jl,{}),_.jsx("section",{className:"signup min-h-screen flex sm:items-center bg-gradient-to-b from-gray-800 to-blue-700",children:_.jsxs("div",{className:"h-full sm:max-w-md bg-white pb-10 px-4 sm:p-8 sm:my-10 rounded sm:border shadow mx-auto",children:[_.jsx(YF,{}),_.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900",children:"Signup Now"}),_.jsx("p",{className:"mt-3 text-lg text-gray-600 text-center sm:mt-5",children:"Share and explore high-quality study resources with students."}),_.jsx(JF,{}),_.jsx(Xc,{initialValues:{firstName:"",lastName:"",email:"",password:""},validationSchema:r,onSubmit:async(a,{setSubmitting:o})=>{o(!0),await i(a,{setSubmitting:o})},children:({isSubmitting:a,errors:o,touched:l})=>_.jsxs(Rl,{className:"signup-form rounded",autoComplete:"off",children:[_.jsxs("div",{className:"form-group flex flex-col relative mb-4",children:[_.jsxs("label",{htmlFor:"firstName",className:`text-gray-800 text-sm ${o.firstName&&l.firstName?"text-red-500":""}`,children:[_.jsx("span",{className:"font-semibold",children:"First Name"}),_.jsx(rr,{name:"firstName",component:"span",className:"ms-1 text-red-500 text-sm italic"})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"icon absolute top-1/2 -translate-y-1/2 left-0 text-xl p-2 text-gray-600",children:_.jsx(MI,{})}),_.jsx(Os,{type:"text",name:"firstName",id:"firstName",className:"w-full pl-10 py-2 rounded ring-1 ring-gray-300 focus:outline-none  focus:ring-blue-500 transition-all ease-in-out",placeholder:"First Name"})]})]}),_.jsxs("div",{className:"form-group flex flex-col relative  mb-4",children:[_.jsxs("label",{htmlFor:"lastName",className:`text-gray-800 text-sm ${o.lastName&&l.lastName?"text-red-500":""}`,children:[_.jsx("span",{className:"font-semibold",children:"Last Name"}),_.jsx(rr,{name:"lastName",component:"span",className:"ms-1 text-red-500 text-sm italic"})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"icon absolute top-1/2 -translate-y-1/2 left-0 text-xl p-2 text-gray-600",children:_.jsx(MI,{})}),_.jsx(Os,{type:"text",name:"lastName",id:"lastName",className:"w-full pl-10 py-2 rounded ring-1 ring-gray-300 focus:outline-none  focus:ring-blue-500 transition-all ease-in-out",placeholder:"Last Name"})]})]}),_.jsxs("div",{className:"form-group flex flex-col relative  mb-4",children:[_.jsxs("label",{htmlFor:"email",className:`text-gray-800 text-sm ${o.email&&l.email?"text-red-500":""}`,children:[_.jsx("span",{className:"font-semibold",children:"Email"}),_.jsx(rr,{name:"email",component:"span",className:"ms-1 text-red-500 text-sm italic"})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"icon absolute top-1/2 -translate-y-1/2 left-0 text-xl p-2 text-gray-600",children:_.jsx(KF,{})}),_.jsx(Os,{type:"email",name:"email",id:"email",className:"w-full pl-10 py-2 rounded ring-1 ring-gray-300 focus:outline-none  focus:ring-blue-500 transition-all ease-in-out",placeholder:"Email"})]})]}),_.jsxs("div",{className:"form-group flex flex-col relative mb-4",children:[_.jsxs("label",{htmlFor:"password",className:`text-gray-800 text-sm ${o.password&&l.password?"text-red-500":""}`,children:[_.jsx("span",{className:"font-semibold",children:"Password"}),_.jsx(rr,{name:"password",component:"span",className:"ms-1 text-red-500 text-sm italic"})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"icon absolute top-1/2 -translate-y-1/2 left-0 text-xl p-2 text-gray-600",children:_.jsx(XF,{})}),_.jsx(Os,{type:t?"text":"password",name:"password",id:"password",className:"w-full pl-10 py-2 rounded ring-1 ring-gray-300 focus:outline-none  focus:ring-blue-500 transition-all ease-in-out",placeholder:"Password"}),_.jsx("div",{className:"icon absolute top-1/2 -translate-y-1/2 right-0 text-xl p-2",onClick:()=>e(!t),children:t?_.jsx(WF,{}):_.jsx(GF,{})})]})]}),_.jsx("button",{type:"submit",className:"w-full mt-3 p-2 bg-blue-600 rounded hover:bg-blue-700 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75",disabled:a,children:a?"Signing You Up...":"Signup"})]})}),_.jsxs("p",{className:"text-center mt-4",children:[_.jsx("span",{className:"text-gray-600",children:"Already have an account?"}),_.jsx(Us,{to:"/signin",className:"text-blue-800 ms-1",children:"Login"})]})]})})]})},Sv="/assets/logo-CkwmXfl0.svg";function XK(t){return Nt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"},child:[]}]})(t)}function DI(t){return Nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"},child:[]}]})(t)}function LI(t){return Nt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"},child:[]}]})(t)}function QF(t){return Nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},child:[]}]})(t)}function KK(t){return Nt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 0c17.7 0 32 14.3 32 32l0 64 120 0c39.8 0 72 32.2 72 72l0 272c0 39.8-32.2 72-72 72l-304 0c-39.8 0-72-32.2-72-72l0-272c0-39.8 32.2-72 72-72l120 0 0-64c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224l16 0 0 192-16 0c-26.5 0-48-21.5-48-48l0-96c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48l0 96c0 26.5-21.5 48-48 48l-16 0 0-192 16 0z"},child:[]}]})(t)}function YK(t){return Nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2l144 0c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48l-97.5 0c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3l0-38.3 0-48 0-24.9c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192l64 0c17.7 0 32 14.3 32 32l0 224c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32L0 224c0-17.7 14.3-32 32-32z"},child:[]}]})(t)}function ZK(t){return Nt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75Zm0 10.5a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5a.75.75 0 0 1-.75-.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Z",clipRule:"evenodd"},child:[]}]})(t)}const OI=async({dispatch:t,navigate:e})=>{await t(BX()),e("/signin")},eM=it.createContext({}),tM=!0;function JK({baseColor:t,highlightColor:e,width:n,height:i,borderRadius:s,circle:r,direction:a,duration:o,enableAnimation:l=tM,customHighlightBackground:c}){const u={};return a==="rtl"&&(u["--animation-direction"]="reverse"),typeof o=="number"&&(u["--animation-duration"]=`${o}s`),l||(u["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(u.width=n),(typeof i=="string"||typeof i=="number")&&(u.height=i),(typeof s=="string"||typeof s=="number")&&(u.borderRadius=s),r&&(u.borderRadius="50%"),typeof t<"u"&&(u["--base-color"]=t),typeof e<"u"&&(u["--highlight-color"]=e),typeof c=="string"&&(u["--custom-highlight-background"]=c),u}function Bs({count:t=1,wrapper:e,className:n,containerClassName:i,containerTestId:s,circle:r=!1,style:a,...o}){var l,c,u;const d=it.useContext(eM),p={...o};for(const[E,w]of Object.entries(o))typeof w>"u"&&delete p[E];const g={...d,...p,circle:r},m={...a,...JK(g)};let b="react-loading-skeleton";n&&(b+=` ${n}`);const v=(l=g.inline)!==null&&l!==void 0?l:!1,S=[],C=Math.ceil(t);for(let E=0;E<C;E++){let w=m;if(C>t&&E===C-1){const T=(c=w.width)!==null&&c!==void 0?c:"100%",P=t%1,R=typeof T=="number"?T*P:`calc(${T} * ${P})`;w={...w,width:R}}const A=it.createElement("span",{className:b,style:w,key:E},"‌");v?S.push(A):S.push(it.createElement(it.Fragment,{key:E},A,it.createElement("br",null)))}return it.createElement("span",{className:i,"data-testid":s,"aria-live":"polite","aria-busy":(u=g.enableAnimation)!==null&&u!==void 0?u:tM},e?S.map((E,w)=>it.createElement(e,{key:w},E)):S)}function QK({children:t,...e}){return it.createElement(eM.Provider,{value:e},t)}const eY=()=>{const{user:t,isLoading:e}=Wu(m=>m==null?void 0:m.auth),[n,i]=H.useState(!1),[s,r]=H.useState(!1),[a,o]=H.useState(!0),l=H.useRef(window.scrollY),c=Ol(),u=dr(),d=localStorage.getItem("token");H.useEffect(()=>{d&&u(py()),document.addEventListener("click",m=>{m.target.closest(".user")||i(!1)})},[d,u]),H.useEffect(()=>{const m=()=>{const b=window.scrollY;o(l.current>b||b<10),l.current=b};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const p=()=>{i(!n)},g=()=>{r(!s)};return _.jsxs("header",{className:`flex justify-between items-center p-2 sticky w-full bg-gray-100 shadow z-10 transition-all duration-300 ${a?"top-0":"-top-16"}`,children:[_.jsxs("div",{className:"center gap-3",children:[_.jsx("div",{className:"flex items-center cursor-pointer sm:hidden",children:_.jsx(ZK,{size:24,onClick:g})}),_.jsx("div",{className:"logo",children:_.jsxs(_s,{to:"/",className:"center",children:[_.jsx("img",{src:Sv,alt:"logo",className:"h-8 block"}),_.jsxs("h2",{className:"text-2xl font-bold text-blue-500",children:[_.jsx("span",{className:"text-black",children:"Edu"}),"Docs"]})]})})]}),_.jsxs("div",{className:"center gap-4",children:[_.jsxs("nav",{className:`navbar absolute top-0 left-0 h-screen w-80 ${s?"-translate-x-0":"-translate-x-full"} overflow-hidden bg-white sm:bg-gray-100 sm:relative sm:w-fit sm:top-0 sm:h-fit z-10 transitions duration-100 ease-in-out transition-transform-full sm:translate-x-0`,children:[_.jsxs("div",{className:"flex p-2 items-center cursor-pointer sm:hidden border-b",children:[_.jsx("div",{className:"close-btn bg-gray-100 hover:bg-gray-200 p-2 rounded",children:_.jsx(BK,{size:24,onClick:()=>r(!1)})}),_.jsx("div",{className:"logo",children:_.jsxs(_s,{to:"/",className:"flex items-center",children:[_.jsx("img",{src:Sv,alt:"logo",className:"h-8 block"}),_.jsxs("h2",{className:"text-2xl font-bold text-blue-500",children:[_.jsx("span",{className:"text-black",children:"Edu"}),"Docs"]})]})})]}),_.jsxs("ul",{className:"flex flex-col sm:flex-row sm:items-center sm:gap-2 px-2 mt-8 sm:mt-0 ",children:[_.jsx("li",{className:"list-items hover:bg-gray-200 rounded",onClick:()=>{r(!1)},children:_.jsxs(_s,{to:"/",className:"flex items-center p-2 text-gray-800",children:[_.jsx("span",{className:"block sm:hidden",children:_.jsx(RK,{size:24,className:"me-2"})}),"Home"]})}),_.jsx("li",{className:"list-items hover:bg-gray-200 rounded",onClick:()=>{r(!1)},children:_.jsxs(_s,{to:"/books",className:"flex items-center p-2 text-gray-800 ",children:[_.jsx("span",{className:"block  sm:hidden",children:_.jsx(TK,{size:24,className:"me-2"})}),"Books"]})}),_.jsx("li",{className:"list-items hover:bg-gray-200 rounded",onClick:()=>{r(!1)},children:_.jsxs(_s,{to:"/solve-doubt",className:"flex items-center  p-2 text-gray-800",children:[_.jsx("span",{className:"block sm:hidden",children:_.jsx(KK,{size:24,className:"me-2"})}),"Ask AI"]})}),_.jsx("li",{className:"list-items hover:bg-gray-200 rounded",onClick:()=>{r(!1)},children:_.jsxs(_s,{to:"/tools",className:"flex items-center p-2 text-gray-800",children:[_.jsx("span",{className:"block sm:hidden",children:_.jsx(IK,{size:24,className:"me-2"})}),"Tools"]})}),_.jsx("li",{className:"list-items hover:bg-gray-200 rounded",onClick:()=>{r(!1)},children:_.jsxs(_s,{to:"/leaderboard",className:"flex items-center p-2 text-gray-800",children:[_.jsx("span",{className:"block sm:hidden",children:_.jsx(FK,{size:24,className:"me-2"})}),"Leaderboard"]})}),_.jsx("li",{className:"list-items hover:bg-gray-200 rounded sm:hidden",children:_.jsxs(_s,{to:`${d?`/profile/${t==null?void 0:t.username}`:"/signin"}`,className:"flex items-center p-2 text-gray-800",onClick:()=>{r(!1)},children:[_.jsx("span",{className:"block sm:hidden",children:_.jsx(FI,{size:24,className:"me-2"})}),"Profile"]})}),_.jsx("li",{className:"list-items  hover:bg-gray-200 rounded sm:hidden",children:_.jsxs(_s,{to:`${d?"uploads":"/signin"}`,className:"flex items-center p-2 text-gray-800",onClick:()=>{r(!1)},children:[_.jsx("span",{className:"block sm:hidden",children:_.jsx(RI,{size:24,className:"me-2"})}),"Uploads"]})}),_.jsx("li",{className:"list-items hover:bg-gray-200 rounded sm:hidden",children:_.jsxs(_s,{to:`${d?"/settings":"/signin"}`,className:"flex items-center p-2 text-gray-800",onClick:()=>{r(!1)},children:[_.jsx("span",{className:"block sm:hidden",children:_.jsx(NI,{size:24,className:"me-2"})}),"Settings"]})}),_.jsx("li",{className:"list-items sm:hidden absolute bottom-0 left-auto w-full border-t border-gray-200",onClick:()=>{r(!1)},children:d?_.jsxs("button",{className:"flex items-center w-full py-2 border text-red-600",onClick:()=>{OI({dispatch:u,navigate:c}),i(!1)},children:[_.jsx(ew,{size:20,className:"m-2 sm:hidden"}),"Logout"]}):_.jsx("button",{children:_.jsxs(_s,{to:"/signin",className:"flex items-center w-full py-2 border text-red-600",children:[_.jsx(ew,{size:20,className:"m-2 sm:hidden"}),"Signin"]})})})]})]}),d&&_.jsxs("div",{className:"user relative",children:[_.jsx("div",{className:"user-name flex items-center cursor-pointer",onClick:p,children:e?_.jsx(Bs,{className:"mx-1 h-10 w-10 rounded"}):_.jsxs("div",{className:"mx-1 h-10 w-10 text-white font-semibold bg-blue-500 rounded center hover:bg-blue-600 hover:ring-2",children:[_.jsx("span",{children:t==null?void 0:t.firstName.charAt(0)}),_.jsx("span",{children:t==null?void 0:t.lastName.charAt(0)})]})}),n&&_.jsx("div",{className:"user-menu absolute top-12 right-0 bg-white rounded ring-2 ring-gray-200 w-48 z-10",children:_.jsxs("ul",{className:"menu-list p-4",children:[_.jsx("li",{className:"text-gray-600  rounded px-2 hover:bg-blue-600 hover:text-white transition-colors",children:_.jsxs(_s,{to:"/",className:"text-center flex items-center ",onClick:()=>{i(!1)},children:[_.jsx(NK,{size:20,className:"m-2"}),"Home"]})}),_.jsx("li",{className:"text-gray-600 rounded px-2  hover:bg-blue-600 hover:text-white transition-colors",children:_.jsxs(_s,{to:`/profile/${t.username}`,className:"text-center flex items-center",onClick:()=>{i(!1)},children:[_.jsx(FI,{size:20,className:"m-2"}),"Profile"]})}),_.jsx("li",{className:"text-gray-600 rounded px-2  hover:bg-blue-600 hover:text-white transition-colors",children:_.jsxs(_s,{to:"/uploads",className:"text-center flex items-center ",onClick:()=>{i(!1)},children:[_.jsx(RI,{size:20,className:"m-2"}),"Uploads"]})}),_.jsx("li",{className:"text-gray-600 rounded px-2  hover:bg-blue-600 hover:text-white transition-colors",children:_.jsxs(_s,{to:"/settings",className:"text-center flex items-center ",onClick:()=>{i(!1)},children:[_.jsx(NI,{size:20,className:"m-2"}),"Settings"]})}),_.jsx("li",{className:"text-gray-600 rounded px-2 hover:bg-red-600 hover:text-white transition-colors",children:_.jsxs("button",{className:"text-center flex items-center",onClick:()=>{OI({dispatch:u,navigate:c}),i(!1)},children:[_.jsx(ew,{size:20,className:"m-2"}),"Sign out"]})})]})})]}),!d&&_.jsx("div",{className:"header-btns flex gap-2",children:_.jsx(_s,{to:"/signin",className:"bg-blue-600 text-white py-2 px-4 rounded",children:"Signin"})})]}),_.jsx("div",{className:`navbar-overlay absolute left-0 top-0 h-screen w-full ${s?"block":"hidden"}`,style:{backgroundColor:"rgba(0,0,0,0.4)"},onClick:()=>r(!1)})]})};var tw={exports:{}},nw,BI;function tY(){if(BI)return nw;BI=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return nw=t,nw}var iw,jI;function nY(){if(jI)return iw;jI=1;var t=tY();function e(){}function n(){}return n.resetWarningCache=e,iw=function(){function i(a,o,l,c,u,d){if(d!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}i.isRequired=i;function s(){return i}var r={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:e};return r.PropTypes=r,r},iw}var $I;function iY(){return $I||($I=1,tw.exports=nY()()),tw.exports}var nM=iY();const sr=$u(nM),my=({document:t})=>_.jsx(Us,{to:`/${t==null?void 0:t.username}/${t==null?void 0:t.uploadedBy}/document/${t==null?void 0:t.title}/${t==null?void 0:t._id}/view`,children:_.jsxs("div",{className:"document-card h-full bg-gray-50 rounded border p-2",children:[_.jsx("div",{className:"document-image overflow-hidden rounded",children:_.jsx("img",{src:t!=null&&t.url.endsWith(".doc")||t!=null&&t.url.endsWith(".docx")?`${t==null?void 0:t.url}.jpg`:t==null?void 0:t.url.replace(/\.[^/.]+$/,".jpg"),alt:t==null?void 0:t.title.replace(/\.[^/.]+$/,""),className:"object-cover w-full h-36 sm:h-56"})}),_.jsx("h4",{className:"text-sm font-semibold mt-2 sm:text-lg bg-white p-2 rounded",children:t.title.replace(/\.[^/.]+$/,"")})]})},t==null?void 0:t._id);my.propTypes={document:sr.shape({_id:sr.string.isRequired,username:sr.string.isRequired,uploadedBy:sr.string.isRequired,title:sr.string.isRequired,url:sr.string.isRequired,description:sr.string}).isRequired};const dx=ni("fetchDocuments",async(t,{rejectWithValue:e,dispatch:n})=>{try{const i=await fetch("http://localhost:3000/api/documents",{method:"GET"});if(!i.ok)throw new Error(`Failed to fetch: ${i.statusText||"Unknown error"}`);const s=await i.json();if(s)n(rY(s.documents));else throw new Error("Documents data is not in the expected format.");return s.documents}catch(i){return console.error("Fetch error:",i),e(i.message)}});ni("addDocumentLike",async({documentId:t,currentUserId:e},{rejectWithValue:n})=>{try{const i=await fetch(`http://localhost:3000/api/documents/document/like/${t}/${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!i.ok){const r=await i.json();return n(r.message)}return(await i.json()).message}catch(i){return console.error("Error adding like",i),n("An error occurred while adding like")}});ni("addDocumentVote",async({documentId:t,userId:e},{rejectWithValue:n})=>{try{const i=await fetch(`http://localhost:3000/api/documents/document/vote/${t}/${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!i.ok){const r=await i.json();return n(r.message)}return(await i.json()).message}catch(i){return console.log(i),n(i.message)}});ni("fetchFileDetails",async t=>{try{console.log(t);const e=await fetch(`http://localhost:3000/api/documents/document/${t}`,{method:"GET"});if(!e.ok)throw new Error(`Failed to fetch: ${e.message}`);return(await e.json()).data}catch(e){throw console.log(e.message),e}});const sY={documents:null,loading:!0,error:null},iM=wg({name:"documents",initialState:sY,reducers:{setDocuments(t,e){t.documents=e.payload}},extraReducers:t=>{t.addCase(dx.pending,e=>{e.loading=!0}),t.addCase(dx.fulfilled,e=>{e.loading=!1}),t.addCase(dx.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message})}}),{setDocuments:rY}=iM.actions,aY=iM.reducer,sw=()=>_.jsxs("div",{className:"document-card h-full bg-gray-50 p-4 rounded border-2 shadow",children:[_.jsx("div",{className:"document-image overflow-hidden rounded",children:_.jsx(Bs,{height:144,className:"sm:h-56"})}),_.jsx("h4",{className:"text-sm font-bold mt-4 sm:text-lg",children:_.jsx(Bs,{width:"60%"})})]}),oY=()=>{const{documents:t,loading:e}=Wu(o=>o==null?void 0:o.documents),[n,i]=H.useState(""),s=Ol(),r=dr();H.useEffect(()=>{r(dx()),window.scrollTo(0,0)},[r]);const a=o=>{o.preventDefault(),s(`/document-search?${n}`)};return _.jsxs(_.Fragment,{children:[_.jsx("section",{id:"hero",className:"center flex-col bg-gradient-to-b from-blue-900 to-gray-950",style:{height:"75vh"},children:_.jsxs("div",{className:"container center flex-col p-4 max-w-6xl",children:[_.jsx("h2",{className:"text-4xl font-semibold  text-white text-center",children:"Welcome to EduDocs"}),_.jsx("p",{className:"mt-4 mb-2 text-gray-200 text-md text-center",children:"Empowering students and educators with a seamless platform to share notes, documents, and assignments."}),_.jsx("div",{className:"search w-full relative",children:_.jsxs("form",{onSubmit:a,children:[_.jsx("input",{type:"text",className:"w-full py-3 px-4 outline-none border bg-gray-100 rounded",placeholder:"Type to search for documents",onChange:o=>i(o.target.value)}),_.jsx("div",{className:"icon absolute top-1/2 -translate-y-1/2 right-4 text-xl",children:_.jsx(QF,{})})]})})]})}),_.jsx("hr",{}),_.jsx("section",{id:"recently-uploaded",className:"py-10 px-4 sm:px-10 ",children:_.jsxs("div",{className:"recently-uploaded-container",children:[_.jsx("h3",{className:"text-2xl font-bold mb-8 text-gray-800 pb-3",children:"Recently Uploaded Documents"}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:e?Array(4).fill(null).map((o,l)=>_.jsx(sw,{},l)):(t==null?void 0:t.length)>0?t==null?void 0:t.filter(o=>o.uploadedAt).sort((o,l)=>new Date(l.uploadedAt)-new Date(o.uploadedAt)).slice(0,5).map(o=>_.jsx(my,{document:o},o==null?void 0:o._id)):_.jsx("p",{className:"text-gray-800",children:"No documents available at the moment. Check back soon!"})})]})}),_.jsx("hr",{}),_.jsx("section",{id:"assignments",className:"py-10 px-4 sm:px-10 bg-gradient-to-l ",children:_.jsxs("div",{className:"assignments-container",children:[_.jsx("h3",{className:"text-2xl font-bold mb-8 text-gray-800  pb-3",children:"Assignments"}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:e?Array(4).fill(null).map((o,l)=>_.jsx(sw,{},l)):(t==null?void 0:t.filter(o=>o.category==="assignment").length)>0?t.filter(o=>o.category==="assignment").slice(0,5).map(o=>_.jsx(my,{document:o},o._id)):_.jsx("p",{className:"text-gray-800",children:"No notes available at the moment. Check back soon!"})})]})}),_.jsx("hr",{}),_.jsx("section",{id:"notes",className:"py-10 px-4 sm:px-10 bg-gradient-to-l ",children:_.jsxs("div",{className:"notes-container",children:[_.jsx("h3",{className:"text-2xl font-bold mb-8 text-gray-800  pb-3",children:"Notes"}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:e?Array(4).fill(null).map((o,l)=>_.jsx(sw,{},l)):(t==null?void 0:t.filter(o=>o.category==="notes").length)>0?t.filter(o=>o.category==="notes").slice(0,5).map(o=>_.jsx(my,{document:o},o._id)):_.jsx("p",{className:"text-gray-800",children:"No notes available at the moment. Check back soon!"})})]})})]})},lY=()=>{const[t,e]=H.useState(!1),n=dr(),i=Ol();H.useEffect(()=>{window.scrollTo(0,0)},[]);const s=async(a,{setSubmitting:o})=>{try{await n(PX({data:a,toast:bt,navigate:i}))}catch(l){bt.error(l.message,{position:"top-center"})}finally{o(!1)}},r=Nu({email:mi().email("- invalid format").required("- is required").trim(),password:mi().required("- is required")});return _.jsxs(_.Fragment,{children:[_.jsx(jl,{}),_.jsx("section",{className:"login min-h-screen flex sm:items-center bg-gradient-to-b from-gray-800 to-blue-700 ",children:_.jsxs("div",{className:"h-screen sm:h-full sm:max-w-md bg-white p-4 sm:p-8 rounded sm:border mx-auto",children:[_.jsx("div",{className:"center",children:_.jsx(YF,{})}),_.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900",children:"Sign In Now"}),_.jsx("p",{className:"mt-3 text-lg text-gray-600 text-center sm:mt-5",children:"Share and explore high-quality study resources with students."}),_.jsx(JF,{}),_.jsx(Xc,{initialValues:{email:"",password:""},validationSchema:r,onSubmit:s,children:({isSubmitting:a,touched:o,errors:l})=>_.jsxs(Rl,{className:"login-form",children:[_.jsxs("div",{className:"form-group flex flex-col relative py-4",children:[_.jsxs("label",{htmlFor:"email",className:`text-gray-800 font-semibold ${o.email&&l.email?"text-red-500":""}`,children:["Email",_.jsx(rr,{name:"email",component:"span",className:"ms-1 text-red-500 text-sm italic"})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"icon absolute top-1/2 -translate-y-1/2 left-0 text-xl p-2 text-gray-600",children:_.jsx(KF,{})}),_.jsx(Os,{type:"email",name:"email",id:"email",className:"w-full pl-10 py-3 rounded ring-1 ring-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all ease-in-out",placeholder:"Email"})]})]}),_.jsxs("div",{className:"form-group flex flex-col relative py-4",children:[_.jsxs("label",{htmlFor:"password",className:`text-gray-800 font-semibold ${o.password&&l.password?"text-red-500":""}`,children:["Password",_.jsx(rr,{name:"password",component:"span",className:"ms-1 text-red-500 text-sm italic"})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"icon absolute top-1/2 -translate-y-1/2 left-3 text-xl text-gray-600",children:_.jsx(XF,{})}),_.jsx(Os,{type:t?"text":"password",name:"password",id:"password",className:"w-full pl-10 py-3 rounded ring-1 ring-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all ease-in-out",placeholder:"Password"}),_.jsx("div",{className:"icon absolute top-1/2 -translate-y-1/2 right-3 text-xl text-gray-600 cursor-pointer",onClick:()=>e(!t),children:t?_.jsx(WF,{}):_.jsx(GF,{})})]}),_.jsx(Us,{to:"/forget-password",className:"text-blue-800 mt-1 hover:underline",children:"Forget Password?"})]}),_.jsx("button",{type:"submit",className:`w-full my-6 p-3 bg-blue-600 rounded hover:bg-blue-700 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 ${a&&"cursor-not-allowed"}`,disabled:a,children:a?"Logging in...":"Login"})]})}),_.jsxs("p",{className:"text-center",children:[_.jsx("span",{className:"text-gray-600",children:"Don't have an account?"}),_.jsx(Us,{to:"/signup",className:"text-blue-800 ms-1",children:"Sign up"})]})]})})]})};function Tb(t){return Nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function cY(t){return Nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function uY(t){return Nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function hY(t){return Nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}const xy=ni("fetchUserDetailsByUsername",async t=>{try{const e=await fetch(`http://localhost:3000/api/user/${t}`,{method:"GET"});if(!e.ok)throw new Error(`Failed to fetch: ${e.message}`);return(await e.json()).user}catch(e){throw console.log(e.message),e}}),by=ni("fetchUserUploads",async({userId:t})=>{try{if(t){const e=await fetch(`http://localhost:3000/api/user/uploads/${t}`);if(!e.ok)throw new Error(`Failed to fetch user uploads: ${e.status}`);return await e.json()}}catch(e){throw console.error(e),e}}),dY=ni("addDocumentLike",async({documentId:t,currentUserId:e},{rejectWithValue:n})=>{try{const i=await fetch(`http://localhost:3000/api/documents/document/like/${t}/${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!i.ok){const r=await i.json();return n(r.message)}return(await i.json()).message}catch(i){return console.error("Error adding like",i),n("An error occurred while adding like")}}),fY=ni("addDocumentVote",async({documentId:t,userId:e},{rejectWithValue:n})=>{try{const i=await fetch(`http://localhost:3000/api/documents/document/vote/${t}/${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!i.ok){const r=await i.json();return n(r.message)}return(await i.json()).message}catch(i){return console.log(i),n(i.message)}}),pY=ni("fetchFileDetails",async t=>{try{const e=await fetch(`http://localhost:3000/api/documents/document/${t}`,{method:"GET"});if(!e.ok)throw new Error(`Failed to fetch: ${e.message}`);return(await e.json()).data}catch(e){throw console.log(e.message),e}});ni("fetchAllDocuments",async()=>{try{const t=await fetch("http://localhost:3000/api/documents",{method:"GET"});if(!t.ok)throw new Error(`Failed to fetch: ${t.message}`);return(await t.json()).documents}catch(t){throw console.log(t.message),t}});const gY={user:null,documents:[],isLogin:!!localStorage.getItem("token"),isLoading:!0,isError:!1},sM=wg({name:"user",initialState:gY,reducers:{},extraReducers:t=>{t.addCase(xy.fulfilled,(e,n)=>{e.isLoading=!1,e.isError=!1,e.user=n.payload}),t.addCase(xy.pending,e=>{e.isLoading=!0}),t.addCase(xy.rejected,e=>{e.isLoading=!1,e.isError=!0}),t.addCase(by.fulfilled,(e,n)=>{e.isLoading=!1,e.isError=!1,e.documents=n.payload}),t.addCase(by.pending,e=>{e.isLoading=!0}),t.addCase(by.rejected,e=>{e.isLoading=!1,e.isError=!0})}}),{setUser:Ide}=sM.actions,mY=sM.reducer;for(var UI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rM=new Map,Ib=0;Ib<UI.length;Ib++){var Pb=Ib.toString(2);Pb="0".repeat(6-Pb.length)+Pb,rM.set(UI.charCodeAt(Ib),Pb)}function aM(t){try{if(typeof t!="string"||t.split(".").length!==3)return null;var e=function(n){for(var i,s="",r=n.length,a=0;a<r;a++)i=n[a],s+=String.fromCodePoint(i>251&&i<254&&a+5<r?1073741824*(i-252)+(n[++a]-128<<24)+(n[++a]-128<<18)+(n[++a]-128<<12)+(n[++a]-128<<6)+n[++a]-128:i>247&&i<252&&a+4<r?(i-248<<24)+(n[++a]-128<<18)+(n[++a]-128<<12)+(n[++a]-128<<6)+n[++a]-128:i>239&&i<248&&a+3<r?(i-240<<18)+(n[++a]-128<<12)+(n[++a]-128<<6)+n[++a]-128:i>223&&i<240&&a+2<r?(i-224<<12)+(n[++a]-128<<6)+n[++a]-128:i>191&&i<224&&a+1<r?(i-192<<6)+n[++a]-128:i);return s}(function(n){for(var i="",s=0;s<n.length;s++)i+=rM.get(n.charCodeAt(s));i=i.slice(0,i.length-i.length%8);for(var r=[],a=0;a<i.length/8;a++)r.push(i.slice(8*a,8*a+8));return r}(t.split(".")[1].replaceAll("=","").replaceAll("-","+").replaceAll("_","/")).map(function(n){return parseInt(n,2)}));return JSON.parse(e)}catch(n){return console.error("There was an error decoding token: ",n),null}}function xY(t){var e=aM(t),n=!0;if(e&&e.exp){var i=new Date(0);i.setUTCSeconds(e.exp),n=i.valueOf()<new Date().valueOf()}return n}const l6=()=>{const t=localStorage.getItem("token");if(!t)return null;if(xY(t))return alert("Session expired, please signin again"),localStorage.removeItem("token"),window.location.href="/signin",null;const n=aM(t);return n?(n==null?void 0:n.userId)||null:(alert("Invalid token, please signin again"),localStorage.removeItem("token"),window.location.href="/signin",null)};var rw={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var zI;function bY(){return zI||(zI=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(r=s(r,i(o)))}return r}function i(r){if(typeof r=="string"||typeof r=="number")return r;if(typeof r!="object")return"";if(Array.isArray(r))return n.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var a="";for(var o in r)e.call(r,o)&&r[o]&&(a=s(a,o));return a}function s(r,a){return a?r?r+" "+a:r+a:r}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(rw)),rw.exports}var yY=bY();const oM=$u(yY);var Nb={exports:{}},Rb={exports:{}},aw,HI;function wY(){if(HI)return aw;HI=1;var t=1e3,e=t*60,n=e*60,i=n*24,s=i*365.25;aw=function(c,u){u=u||{};var d=typeof c;if(d==="string"&&c.length>0)return r(c);if(d==="number"&&isNaN(c)===!1)return u.long?o(c):a(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function r(c){if(c=String(c),!(c.length>100)){var u=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c);if(u){var d=parseFloat(u[1]),p=(u[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return d*s;case"days":case"day":case"d":return d*i;case"hours":case"hour":case"hrs":case"hr":case"h":return d*n;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function a(c){return c>=i?Math.round(c/i)+"d":c>=n?Math.round(c/n)+"h":c>=e?Math.round(c/e)+"m":c>=t?Math.round(c/t)+"s":c+"ms"}function o(c){return l(c,i,"day")||l(c,n,"hour")||l(c,e,"minute")||l(c,t,"second")||c+" ms"}function l(c,u,d){if(!(c<u))return c<u*1.5?Math.floor(c/u)+" "+d:Math.ceil(c/u)+" "+d+"s"}return aw}var qI;function vY(){return qI||(qI=1,function(t,e){e=t.exports=s.debug=s.default=s,e.coerce=l,e.disable=a,e.enable=r,e.enabled=o,e.humanize=wY(),e.names=[],e.skips=[],e.formatters={};var n;function i(c){var u=0,d;for(d in c)u=(u<<5)-u+c.charCodeAt(d),u|=0;return e.colors[Math.abs(u)%e.colors.length]}function s(c){function u(){if(u.enabled){var d=u,p=+new Date,g=p-(n||p);d.diff=g,d.prev=n,d.curr=p,n=p;for(var m=new Array(arguments.length),b=0;b<m.length;b++)m[b]=arguments[b];m[0]=e.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var v=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,E){if(C==="%%")return C;v++;var w=e.formatters[E];if(typeof w=="function"){var A=m[v];C=w.call(d,A),m.splice(v,1),v--}return C}),e.formatArgs.call(d,m);var S=u.log||e.log||console.log.bind(console);S.apply(d,m)}}return u.namespace=c,u.enabled=e.enabled(c),u.useColors=e.useColors(),u.color=i(c),typeof e.init=="function"&&e.init(u),u}function r(c){e.save(c),e.names=[],e.skips=[];for(var u=(typeof c=="string"?c:"").split(/[\s,]+/),d=u.length,p=0;p<d;p++)u[p]&&(c=u[p].replace(/\*/g,".*?"),c[0]==="-"?e.skips.push(new RegExp("^"+c.substr(1)+"$")):e.names.push(new RegExp("^"+c+"$")))}function a(){e.enable("")}function o(c){var u,d;for(u=0,d=e.skips.length;u<d;u++)if(e.skips[u].test(c))return!1;for(u=0,d=e.names.length;u<d;u++)if(e.names[u].test(c))return!0;return!1}function l(c){return c instanceof Error?c.stack||c.message:c}}(Rb,Rb.exports)),Rb.exports}var GI;function SY(){return GI||(GI=1,function(t,e){var n={};e=t.exports=vY(),e.log=r,e.formatArgs=s,e.save=a,e.load=o,e.useColors=i,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:l(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function i(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}};function s(c){var u=this.useColors;if(c[0]=(u?"%c":"")+this.namespace+(u?" %c":" ")+c[0]+(u?"%c ":" ")+"+"+e.humanize(this.diff),!!u){var d="color: "+this.color;c.splice(1,0,d,"color: inherit");var p=0,g=0;c[0].replace(/%[a-zA-Z%]/g,function(m){m!=="%%"&&(p++,m==="%c"&&(g=p))}),c.splice(g,0,d)}}function r(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(c){try{c==null?e.storage.removeItem("debug"):e.storage.debug=c}catch{}}function o(){var c;try{c=e.storage.debug}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=n.DEBUG),c}e.enable(o());function l(){try{return window.localStorage}catch{}}}(Nb,Nb.exports)),Nb.exports}var ow,WI;function AY(){if(WI)return ow;WI=1;var t=SY()("jsonp");ow=i;var e=0;function n(){}function i(s,r,a){typeof r=="function"&&(a=r,r={}),r||(r={});var o=r.prefix||"__jp",l=r.name||o+e++,c=r.param||"callback",u=r.timeout!=null?r.timeout:6e4,d=encodeURIComponent,p=document.getElementsByTagName("script")[0]||document.head,g,m;u&&(m=setTimeout(function(){b(),a&&a(new Error("Timeout"))},u));function b(){g.parentNode&&g.parentNode.removeChild(g),window[l]=n,m&&clearTimeout(m)}function v(){window[l]&&b()}return window[l]=function(S){t("jsonp got",S),b(),a&&a(null,S)},s+=(~s.indexOf("?")?"&":"?")+c+"="+d(l),s=s.replace("?&","?"),t('jsonp req "%s"',s),g=document.createElement("script"),g.src=s,p.parentNode.insertBefore(g,p),v}return ow}var kY=AY();const vf=$u(kY);var CY=Object.defineProperty,EY=Object.defineProperties,_Y=Object.getOwnPropertyDescriptors,O5=Object.getOwnPropertySymbols,lM=Object.prototype.hasOwnProperty,cM=Object.prototype.propertyIsEnumerable,VI=(t,e,n)=>e in t?CY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ca=(t,e)=>{for(var n in e||(e={}))lM.call(e,n)&&VI(t,n,e[n]);if(O5)for(var n of O5(e))cM.call(e,n)&&VI(t,n,e[n]);return t},c6=(t,e)=>EY(t,_Y(e)),u6=(t,e)=>{var n={};for(var i in t)lM.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&O5)for(var i of O5(t))e.indexOf(i)<0&&cM.call(t,i)&&(n[i]=t[i]);return n};function h6(t){return n=>{var i=n,{bgStyle:s={},borderRadius:r=0,iconFillColor:a="white",round:o=!1,size:l=64}=i,c=u6(i,["bgStyle","borderRadius","iconFillColor","round","size"]);return _.jsxs("svg",c6(ca({viewBox:"0 0 64 64",width:l,height:l},c),{children:[o?_.jsx("circle",{cx:"32",cy:"32",r:"32",fill:t.color,style:s}):_.jsx("rect",{width:"64",height:"64",rx:r,ry:r,fill:t.color,style:s}),_.jsx("path",{d:t.path,fill:a})]}))}}class TY extends Error{constructor(e){super(e),this.name="AssertionError"}}function Ln(t,e){if(!t)throw new TY(e)}function Cn(t){const e=Object.entries(t).filter(([,n])=>n!=null).map(([n,i])=>`${encodeURIComponent(n)}=${encodeURIComponent(String(i))}`);return e.length>0?`?${e.join("&")}`:""}const IY=t=>!!t&&(typeof t=="object"||typeof t=="function")&&"then"in t&&typeof t.then=="function",PY=(t,e)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-t/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-e/2}),NY=(t,e)=>({top:(window.screen.height-e)/2,left:(window.screen.width-t)/2});function RY(t,e,n){var i=e,{height:s,width:r}=i,a=u6(i,["height","width"]);const o=ca({height:s,width:r,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},a),l=window.open(t,"",Object.keys(o).map(c=>`${c}=${o[c]}`).join(", "));if(n){const c=window.setInterval(()=>{try{(l===null||l.closed)&&(window.clearInterval(c),n(l))}catch(u){console.error(u)}},1e3)}return l}function FY(t){var e=t,{beforeOnClick:n,children:i,className:s,disabled:r,disabledStyle:a={opacity:.6},forwardedRef:o,htmlTitle:l,networkLink:c,networkName:u,onClick:d,onShareWindowClose:p,openShareDialogOnClick:g=!0,opts:m,resetButtonStyle:b=!0,style:v,title:S,url:C,windowHeight:E=400,windowPosition:w="windowCenter",windowWidth:A=550}=e,T=u6(e,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","htmlTitle","networkLink","networkName","onClick","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","title","url","windowHeight","windowPosition","windowWidth"]);const P=async O=>{const B=c(C,m);if(!r){if(O.preventDefault(),n){const U=n();IY(U)&&await U}if(g){const U=ca({height:E,width:A},w==="windowCenter"?PY(A,E):NY(A,E));RY(B,U,p)}d&&d(O,B)}},R=oM("react-share__ShareButton",{"react-share__ShareButton--disabled":!!r,disabled:!!r},s),D=ca(ca(b?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},v),r&&a);return _.jsx("button",c6(ca({},T),{className:R,onClick:P,ref:o,style:D,title:l,children:i}))}function Xn(t,e,n,i){const s=(r,a)=>{const o=n(r),l=ca({},r);return Object.keys(o).forEach(u=>{delete l[u]}),_.jsx(FY,c6(ca(ca({},i),l),{forwardedRef:a,networkName:t,networkLink:e,opts:o}))};return s.displayName=`ShareButton-${t}`,H.forwardRef(s)}function MY(t,{title:e,separator:n}){return Ln(t,"bluesky.url"),"https://bsky.app/intent/compose"+Cn({text:e?e+n+t:t})}Xn("bluesky",MY,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});const DY=h6({color:"#7f7f7f",path:"M17,22v20h30V22H17z M41.1,25L32,32.1L22.9,25H41.1z M20,39V26.6l12,9.3l12-9.3V39H20z"});function LY(t,{subject:e,body:n,separator:i}){return"mailto:"+Cn({subject:e,body:n?n+i+t:t})}const OY=Xn("email",LY,t=>({subject:t.subject,body:t.body,separator:t.separator||" "}),{openShareDialogOnClick:!1,onClick:(t,e)=>{window.location.href=e}}),BY=h6({color:"#0965FE",path:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"});function jY(t,{appId:e,redirectUri:n,to:i}){return"https://www.facebook.com/dialog/send"+Cn({link:t,redirect_uri:n||t,app_id:e,to:i})}Xn("facebookmessenger",jY,t=>({appId:t.appId,redirectUri:t.redirectUri,to:t.to}),{windowWidth:1e3,windowHeight:820});function $Y(t,{hashtag:e}){return Ln(t,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+Cn({u:t,hashtag:e})}const UY=Xn("facebook",$Y,t=>({hashtag:t.hashtag}),{windowWidth:550,windowHeight:400});function zY(){const t=H.useRef(!1);return H.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),H.useCallback(()=>t.current,[])}function HY(t){var e=t,{children:n=p=>p,className:i,getCount:s,url:r}=e,a=u6(e,["children","className","getCount","url"]);const o=zY(),[l,c]=H.useState(void 0),[u,d]=H.useState(!1);return H.useEffect(()=>{d(!0),s(r,p=>{o()&&(c(p),d(!1))})},[r]),_.jsx("span",c6(ca({className:oM("react-share__ShareCount",i)},a),{children:!u&&l!==void 0&&n(l)}))}function Sf(t){const e=n=>_.jsx(HY,ca({getCount:t},n));return e.displayName=`ShareCount(${t.name})`,e}function qY(t,e){const n=`https://graph.facebook.com/?id=${t}&fields=og_object{engagement}`;vf(n,(i,s)=>{e(!i&&s&&s.og_object&&s.og_object.engagement?s.og_object.engagement.count:void 0)})}Sf(qY);function GY(t,{title:e}){return Ln(t,"hatena.url"),`http://b.hatena.ne.jp/add?mode=confirm&url=${t}&title=${e}`}Xn("hatena",GY,t=>({title:t.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function WY(t,e){vf("https://bookmark.hatenaapis.com/count/entry"+Cn({url:t}),(i,s)=>{e(s??void 0)})}Sf(WY);function VY(t,{title:e,description:n}){return Ln(t,"instapaper.url"),"http://www.instapaper.com/hello2"+Cn({url:t,title:e,description:n})}Xn("instapaper",VY,t=>({title:t.title,description:t.description}),{windowWidth:500,windowHeight:500,windowPosition:"windowCenter"});function XY(t,{title:e}){return Ln(t,"line.url"),"https://social-plugins.line.me/lineit/share"+Cn({url:t,text:e})}Xn("line",XY,t=>({title:t.title}),{windowWidth:500,windowHeight:500});function KY(t,{title:e,summary:n,source:i}){return Ln(t,"linkedin.url"),"https://linkedin.com/shareArticle"+Cn({url:t,mini:"true",title:e,summary:n,source:i})}Xn("linkedin",KY,({title:t,summary:e,source:n})=>({title:t,summary:e,source:n}),{windowWidth:750,windowHeight:600});function YY(t,{title:e,description:n}){return Ln(t,"livejournal.url"),"https://www.livejournal.com/update.bml"+Cn({subject:e,event:n})}Xn("livejournal",YY,t=>({title:t.title,description:t.description}),{windowWidth:660,windowHeight:460});function ZY(t,{title:e,description:n,imageUrl:i}){return Ln(t,"mailru.url"),"https://connect.mail.ru/share"+Cn({url:t,title:e,description:n,image_url:i})}Xn("mailru",ZY,t=>({title:t.title,description:t.description,imageUrl:t.imageUrl}),{windowWidth:660,windowHeight:460});function JY(t,{title:e,description:n,image:i}){return Ln(t,"ok.url"),"https://connect.ok.ru/offer"+Cn({url:t,title:e,description:n,imageUrl:i})}Xn("ok",JY,t=>({title:t.title,description:t.description,image:t.image}),{windowWidth:588,windowHeight:480,windowPosition:"screenCenter"});function QY(t,e){window.OK||(window.OK={Share:{count:function(r,a){var o,l;(l=(o=window.OK.callbacks)[r])==null||l.call(o,a)}},callbacks:[]});const n="https://connect.ok.ru/dk",i=window.OK.callbacks.length;return window.ODKL={updateCount(s,r){var a,o;const l=s===""?0:parseInt(s.replace("react-share-",""),10);(o=(a=window.OK.callbacks)[l])==null||o.call(a,r===""?void 0:parseInt(r,10))}},window.OK.callbacks.push(e),vf(n+Cn({"st.cmd":"extLike",uid:`react-share-${i}`,ref:t}))}Sf(QY);function eZ(t,{media:e,description:n,pinId:i}){return i?`https://pinterest.com/pin/${i}/repin/x/`:(Ln(t,"pinterest.url"),Ln(e,"pinterest.media"),"https://pinterest.com/pin/create/button/"+Cn({url:t,media:e,description:n}))}Xn("pinterest",eZ,t=>({media:t.media,description:t.description,pinId:t.pinId}),{windowWidth:1e3,windowHeight:730});function tZ(t,e){vf("https://api.pinterest.com/v1/urls/count.json"+Cn({url:t}),(i,s)=>{e(s?s.count:void 0)})}Sf(tZ);function nZ(t,{title:e}){return Ln(t,"pocket.url"),"https://getpocket.com/save"+Cn({url:t,title:e})}Xn("pocket",nZ,t=>({title:t.title}),{windowWidth:500,windowHeight:500});function iZ(t,{title:e}){return Ln(t,"reddit.url"),"https://www.reddit.com/web/submit"+Cn({url:t,title:e})}Xn("reddit",iZ,t=>({title:t.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function sZ(t,{title:e}){return Ln(t,"gab.url"),"https://gab.com/compose"+Cn({url:t,text:e})}Xn("gab",sZ,t=>({title:t.title}),{windowWidth:660,windowHeight:640,windowPosition:"windowCenter"});function rZ(t,e){const n=`https://www.reddit.com/api/info.json?limit=1&url=${t}`;vf(n,{param:"jsonp"},(i,s)=>{e(!i&&s&&s.data&&s.data.children.length>0&&s.data.children[0].data.score?s.data.children[0].data.score:void 0)})}Sf(rZ);function aZ(t,{title:e}){return Ln(t,"telegram.url"),"https://telegram.me/share/url"+Cn({url:t,text:e})}Xn("telegram",aZ,t=>({title:t.title}),{windowWidth:550,windowHeight:400});function oZ(t,{title:e}){return Ln(t,"threads.url"),"https://threads.net/intent/post"+Cn({url:t,text:e})}Xn("threads",oZ,t=>({title:t.title}),{windowWidth:550,windowHeight:600});function lZ(t,{title:e,caption:n,tags:i,posttype:s}){return Ln(t,"tumblr.url"),"https://www.tumblr.com/widgets/share/tool"+Cn({canonicalUrl:t,title:e,caption:n,tags:i,posttype:s})}Xn("tumblr",lZ,t=>({title:t.title,tags:(t.tags||[]).join(","),caption:t.caption,posttype:t.posttype||"link"}),{windowWidth:660,windowHeight:460});function cZ(t,e){return vf("https://api.tumblr.com/v2/share/stats"+Cn({url:t}),(i,s)=>{e(!i&&s&&s.response?s.response.note_count:void 0)})}Sf(cZ);function uZ(t,{title:e,via:n,hashtags:i=[],related:s=[]}){return Ln(t,"twitter.url"),Ln(Array.isArray(i),"twitter.hashtags is not an array"),Ln(Array.isArray(s),"twitter.related is not an array"),"https://twitter.com/intent/tweet"+Cn({url:t,text:e,via:n,hashtags:i.length>0?i.join(","):void 0,related:s.length>0?s.join(","):void 0})}const hZ=Xn("twitter",uZ,t=>({hashtags:t.hashtags,title:t.title,via:t.via,related:t.related}),{windowWidth:550,windowHeight:400});function dZ(t,{title:e,separator:n}){return Ln(t,"viber.url"),"viber://forward"+Cn({text:e?e+n+t:t})}Xn("viber",dZ,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:660,windowHeight:460});function fZ(t,{title:e,image:n,noParse:i,noVkLinks:s}){return Ln(t,"vk.url"),"https://vk.com/share.php"+Cn({url:t,title:e,image:n,noparse:i?1:0,no_vk_links:s?1:0})}Xn("vk",fZ,t=>({title:t.title,image:t.image,noParse:t.noParse,noVkLinks:t.noVkLinks}),{windowWidth:660,windowHeight:460});function pZ(t,e){window.VK||(window.VK={}),window.VK.Share={count:(s,r)=>{var a,o;return(o=(a=window.VK.callbacks)==null?void 0:a[s])==null?void 0:o.call(a,r)}},window.VK.callbacks=[];const n="https://vk.com/share.php",i=window.VK.callbacks.length;return window.VK.callbacks.push(e),vf(n+Cn({act:"count",index:i,url:t}))}Sf(pZ);function gZ(t,{title:e,image:n}){return Ln(t,"weibo.url"),"http://service.weibo.com/share/share.php"+Cn({url:t,title:e,pic:n})}Xn("weibo",gZ,t=>({title:t.title,image:t.image}),{windowWidth:660,windowHeight:550,windowPosition:"screenCenter"});const mZ=h6({color:"#25D366",path:"m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915"});function xZ(){return/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)}function bZ(t,{title:e,separator:n}){return Ln(t,"whatsapp.url"),"https://"+(xZ()?"api":"web")+".whatsapp.com/send"+Cn({text:e?e+n+t:t})}const yZ=Xn("whatsapp",bZ,t=>({title:t.title,separator:t.separator||" "}),{windowWidth:550,windowHeight:400});function wZ(t,{quote:e,hashtag:n}){return Ln(t,"workplace.url"),"https://work.facebook.com/sharer.php"+Cn({u:t,quote:e,hashtag:n})}Xn("workplace",wZ,t=>({quote:t.quote,hashtag:t.hashtag}),{windowWidth:550,windowHeight:400});const vZ=h6({color:"#000000",path:"M 41.116 18.375 h 4.962 l -10.8405 12.39 l 12.753 16.86 H 38.005 l -7.821 -10.2255 L 21.235 47.625 H 16.27 l 11.595 -13.2525 L 15.631 18.375 H 25.87 l 7.0695 9.3465 z m -1.7415 26.28 h 2.7495 L 24.376 21.189 H 21.4255 z"}),uM=({url:t,title:e})=>_.jsxs("div",{className:"flex items-center justify-around my-6",children:[_.jsxs(yZ,{url:t,title:e,className:"center flex-col",children:[_.jsx(mZ,{size:36,className:"rounded"}),_.jsx("p",{className:"text-sm text-gray-600",children:"Whatsapp"})]}),_.jsxs(UY,{url:t,title:e,className:"center flex-col",children:[_.jsx(BY,{size:36,className:"rounded"}),_.jsx("p",{className:"text-sm text-gray-600",children:"Facebook"})]}),_.jsxs(hZ,{url:t,title:e,className:"center flex-col",children:[_.jsx(vZ,{size:36,className:"rounded"}),_.jsx("p",{className:"text-sm text-gray-600",children:"X"})]}),_.jsxs(OY,{url:t,title:e,className:"center flex-col",children:[_.jsx(DY,{size:36,className:"rounded"}),_.jsx("p",{className:"text-sm text-gray-600",children:"Email"})]})]});uM.propTypes={url:sr.string,title:sr.string};const yk=({shareLink:t,shareTitle:e,menuOpen:n,setMenuOpen:i})=>{const s=()=>{navigator.clipboard.writeText(t),bt.success("Link copied",{position:"top-right"})};return n?_.jsx("div",{className:"h-full w-full fixed top-0 left-0 center p-4",style:{backgroundColor:"rgba(0,0,0,0.4)"},onClick:()=>i(!1),children:_.jsxs("div",{className:"share-menu relative p-4 w-96 bg-white border rounded",children:[_.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-gray-400",children:[_.jsx("h4",{className:"font-bold text-2xl text-blue-700",children:"Share"}),_.jsx("button",{className:"close-btn text-gray-600 hover:text-gray-700 transition-colors absolute top-0 right-0 p-4 bg-gray-100 rounded hover:bg-gray-200",onClick:()=>i(!1),children:_.jsx(bk,{})})]}),_.jsx(uM,{url:t,title:`Hi there! I'm sharing the link of ${e} with you. Hope it helps!`}),_.jsx("h4",{className:"font-semibold text-gray-900 mt-4 mb-3",children:"Share this link"}),_.jsxs("div",{className:"share-link flex items-center gap-2",children:[_.jsx("input",{type:"text",value:t,disabled:!0,className:"ring-1 ring-gray-300 p-2 rounded w-full bg-gray-100 text-gray-500"}),_.jsx("button",{className:"copy-btn bg-blue-600 hover:bg-blue-700 py-3 px-5 text-white text-sm rounded-lg transition-colors",onClick:s,children:_.jsx(XK,{size:20})})]})]})}):null};yk.propTypes={shareLink:sr.string,shareTitle:sr.string,menuOpen:sr.bool,setMenuOpen:sr.func};const SZ=()=>{const{user:t,documents:e,isLoading:n}=Wu(b=>b==null?void 0:b.user),[i,s]=H.useState(""),[r,a]=H.useState(""),[o,l]=H.useState(!1),c=l6(),{username:u}=RR(),d=dr();H.useEffect(()=>{d(xy(u)),window.scrollTo(0,0),d(by({userId:t==null?void 0:t._id}))},[u,d,t==null?void 0:t._id]);const p=e==null?void 0:e.reduce((b,v)=>b+v.likes.length,0),g=e==null?void 0:e.reduce((b,v)=>b+v.votes.length,0),m=(b,v)=>{l(!0);const S=encodeURI(b);s(S),a(v)};return _.jsxs("section",{className:"profile min-h-screen center p-4",children:[_.jsx(jl,{}),_.jsxs("div",{className:"container max-w-4xl mx-auto mt-14 mb-4  center flex-col",children:[n?_.jsx(Bs,{circle:!0,height:160,width:160}):_.jsx("div",{className:"avatar m-auto bg-white border h-40 w-40 rounded-full center",children:_.jsxs("h1",{className:"avatar-text text-5xl font-bold text-blue-500",children:[t==null?void 0:t.firstName.charAt(0),t==null?void 0:t.lastName.charAt(0)]})}),_.jsxs("div",{className:"details w-full mx-auto my-4 rounded",children:[_.jsx("h1",{className:"text-3xl font-bold text-center mt-4",children:n?_.jsx(Bs,{height:40,width:360}):_.jsxs("span",{children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]})}),_.jsx("p",{className:"text-center text-gray-500 my-1",children:n?_.jsx(Bs,{height:20,width:360}):_.jsxs("span",{children:["@",t==null?void 0:t.username]})}),_.jsx("p",{className:"text-center text-gray-500 my-1",children:n?_.jsx(Bs,{height:20,width:360}):_.jsx("span",{children:(t==null?void 0:t.university)||"University not mentioned"})}),c===(t==null?void 0:t._id)&&_.jsx("div",{className:"upload-button center my-10",children:_.jsx(Us,{to:"/uploads",children:_.jsx("button",{className:"btn btn-primary bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded",children:"Upload Document to help buddies!"})})}),_.jsxs("div",{className:"documents-statistics my-6 bg-white p-4 rounded border",children:[_.jsx("div",{className:"header p-3",children:_.jsx("h1",{className:"font-semibold text-md mb-2",children:"Uploads"})}),_.jsx("hr",{}),n?_.jsx(Bs,{height:80}):_.jsxs("div",{className:"flex justify-around p-2",children:[_.jsxs("div",{className:"uploads center flex-col",children:[_.jsx("span",{className:"font-bold text-2xl",children:(t==null?void 0:t.uploads.length)||0}),_.jsx("span",{children:"Documents"})]}),_.jsxs("div",{className:"uploads center flex-col",children:[_.jsx("span",{className:"font-bold text-2xl",children:p||0}),_.jsx("span",{children:"Likes"})]}),_.jsxs("div",{className:"uploads center flex-col",children:[_.jsx("span",{className:"font-bold text-2xl",children:g||0}),_.jsx("span",{children:"Votes"})]})]})]}),_.jsxs("div",{className:"documents-uploaded shadow my-2 p-4 rounded bg-white",children:[_.jsx("div",{className:"header border-b p-4 font-semibold",children:_.jsx("h1",{children:"Uploaded Documents"})}),_.jsx("div",{className:"documents-lists my-4 max-h-96 overflow-y-auto",children:_.jsx("ul",{className:"document-list",children:n?_.jsx(Bs,{height:80,count:4}):e?e.map(b=>_.jsxs("li",{className:"flex flex-col sm:flex-row justify-between gap-4 border-b p-4 my-2 bg-gray-100 rounded ",children:[_.jsx(Us,{to:`/${t==null?void 0:t.username}/${t==null?void 0:t._id}/document/${b.title}/${b._id}/view`,children:_.jsxs("div",{className:"flex gap-4 items-center",children:[_.jsx("div",{className:"document-icon text-2xl text-blue-600",children:_.jsx(cY,{})}),_.jsxs("div",{className:"document-details",children:[_.jsx("h1",{className:"document-title font-semibold text-blue-600",children:b.title}),_.jsx("p",{className:"document-subject text-sm text-gray-500",children:b.description})]})]})}),_.jsxs("div",{className:"flex gap-4 items-center",children:[_.jsxs("div",{className:"likes flex items-center text-gray-600",children:[_.jsx(MK,{size:20,className:"mx-2 text-blue-500"}),_.jsx("span",{children:b.likes.length})]}),_.jsx("div",{className:"share-options",children:_.jsx("button",{className:"border rounded py-2 px-4 text-white bg-blue-500",onClick:()=>{const v=`http://localhost:5173/${t==null?void 0:t.username}/${t==null?void 0:t._id}/document/${b.title}/${b._id}/view`,S=b.category;m(v,S)},children:"Share"})})]})]},b._id)):`${c==(t==null?void 0:t._id)?"You":"User"} haven't uploaded any document yet`})})]})]})]}),_.jsx(yk,{shareLink:i,shareTitle:r,menuOpen:o,setMenuOpen:l})]})};var Rr=function(){return Rr=Object.assign||function(e){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rr.apply(this,arguments)};function Fx(t,e,n){if(n||arguments.length===2)for(var i=0,s=e.length,r;i<s;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var Rn="-ms-",fx="-moz-",mn="-webkit-",hM="comm",d6="rule",wk="decl",AZ="@import",dM="@keyframes",kZ="@layer",fM=Math.abs,vk=String.fromCharCode,Av=Object.assign;function CZ(t,e){return Zi(t,0)^45?(((e<<2^Zi(t,0))<<2^Zi(t,1))<<2^Zi(t,2))<<2^Zi(t,3):0}function pM(t){return t.trim()}function ic(t,e){return(t=e.exec(t))?t[0]:t}function Ut(t,e,n){return t.replace(e,n)}function yy(t,e,n){return t.indexOf(e,n)}function Zi(t,e){return t.charCodeAt(e)|0}function ig(t,e,n){return t.slice(e,n)}function vl(t){return t.length}function gM(t){return t.length}function Lm(t,e){return e.push(t),t}function EZ(t,e){return t.map(e).join("")}function XI(t,e){return t.filter(function(n){return!ic(n,e)})}var f6=1,sg=1,mM=0,Za=0,Ci=0,vg="";function p6(t,e,n,i,s,r,a,o){return{value:t,root:e,parent:n,type:i,props:s,children:r,line:f6,column:sg,length:a,return:"",siblings:o}}function A0(t,e){return Av(p6("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Jf(t){for(;t.root;)t=A0(t.root,{children:[t]});Lm(t,t.siblings)}function _Z(){return Ci}function TZ(){return Ci=Za>0?Zi(vg,--Za):0,sg--,Ci===10&&(sg=1,f6--),Ci}function Mo(){return Ci=Za<mM?Zi(vg,Za++):0,sg++,Ci===10&&(sg=1,f6++),Ci}function Yd(){return Zi(vg,Za)}function wy(){return Za}function g6(t,e){return ig(vg,t,e)}function kv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function IZ(t){return f6=sg=1,mM=vl(vg=t),Za=0,[]}function PZ(t){return vg="",t}function lw(t){return pM(g6(Za-1,Cv(t===91?t+2:t===40?t+1:t)))}function NZ(t){for(;(Ci=Yd())&&Ci<33;)Mo();return kv(t)>2||kv(Ci)>3?"":" "}function RZ(t,e){for(;--e&&Mo()&&!(Ci<48||Ci>102||Ci>57&&Ci<65||Ci>70&&Ci<97););return g6(t,wy()+(e<6&&Yd()==32&&Mo()==32))}function Cv(t){for(;Mo();)switch(Ci){case t:return Za;case 34:case 39:t!==34&&t!==39&&Cv(Ci);break;case 40:t===41&&Cv(t);break;case 92:Mo();break}return Za}function FZ(t,e){for(;Mo()&&t+Ci!==57;)if(t+Ci===84&&Yd()===47)break;return"/*"+g6(e,Za-1)+"*"+vk(t===47?t:Mo())}function MZ(t){for(;!kv(Yd());)Mo();return g6(t,Za)}function DZ(t){return PZ(vy("",null,null,null,[""],t=IZ(t),0,[0],t))}function vy(t,e,n,i,s,r,a,o,l){for(var c=0,u=0,d=a,p=0,g=0,m=0,b=1,v=1,S=1,C=0,E="",w=s,A=r,T=i,P=E;v;)switch(m=C,C=Mo()){case 40:if(m!=108&&Zi(P,d-1)==58){yy(P+=Ut(lw(C),"&","&\f"),"&\f",fM(c?o[c-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:P+=lw(C);break;case 9:case 10:case 13:case 32:P+=NZ(m);break;case 92:P+=RZ(wy()-1,7);continue;case 47:switch(Yd()){case 42:case 47:Lm(LZ(FZ(Mo(),wy()),e,n,l),l);break;default:P+="/"}break;case 123*b:o[c++]=vl(P)*S;case 125*b:case 59:case 0:switch(C){case 0:case 125:v=0;case 59+u:S==-1&&(P=Ut(P,/\f/g,"")),g>0&&vl(P)-d&&Lm(g>32?YI(P+";",i,n,d-1,l):YI(Ut(P," ","")+";",i,n,d-2,l),l);break;case 59:P+=";";default:if(Lm(T=KI(P,e,n,c,u,s,o,E,w=[],A=[],d,r),r),C===123)if(u===0)vy(P,e,T,T,w,r,d,o,A);else switch(p===99&&Zi(P,3)===110?100:p){case 100:case 108:case 109:case 115:vy(t,T,T,i&&Lm(KI(t,T,T,0,0,s,o,E,s,w=[],d,A),A),s,A,d,o,i?w:A);break;default:vy(P,T,T,T,[""],A,0,o,A)}}c=u=g=0,b=S=1,E=P="",d=a;break;case 58:d=1+vl(P),g=m;default:if(b<1){if(C==123)--b;else if(C==125&&b++==0&&TZ()==125)continue}switch(P+=vk(C),C*b){case 38:S=u>0?1:(P+="\f",-1);break;case 44:o[c++]=(vl(P)-1)*S,S=1;break;case 64:Yd()===45&&(P+=lw(Mo())),p=Yd(),u=d=vl(E=P+=MZ(wy())),C++;break;case 45:m===45&&vl(P)==2&&(b=0)}}return r}function KI(t,e,n,i,s,r,a,o,l,c,u,d){for(var p=s-1,g=s===0?r:[""],m=gM(g),b=0,v=0,S=0;b<i;++b)for(var C=0,E=ig(t,p+1,p=fM(v=a[b])),w=t;C<m;++C)(w=pM(v>0?g[C]+" "+E:Ut(E,/&\f/g,g[C])))&&(l[S++]=w);return p6(t,e,n,s===0?d6:o,l,c,u,d)}function LZ(t,e,n,i){return p6(t,e,n,hM,vk(_Z()),ig(t,2,-2),0,i)}function YI(t,e,n,i,s){return p6(t,e,n,wk,ig(t,0,i),ig(t,i+1,-1),i,s)}function xM(t,e,n){switch(CZ(t,e)){case 5103:return mn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mn+t+t;case 4789:return fx+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return mn+t+fx+t+Rn+t+t;case 5936:switch(Zi(t,e+11)){case 114:return mn+t+Rn+Ut(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return mn+t+Rn+Ut(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return mn+t+Rn+Ut(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return mn+t+Rn+t+t;case 6165:return mn+t+Rn+"flex-"+t+t;case 5187:return mn+t+Ut(t,/(\w+).+(:[^]+)/,mn+"box-$1$2"+Rn+"flex-$1$2")+t;case 5443:return mn+t+Rn+"flex-item-"+Ut(t,/flex-|-self/g,"")+(ic(t,/flex-|baseline/)?"":Rn+"grid-row-"+Ut(t,/flex-|-self/g,""))+t;case 4675:return mn+t+Rn+"flex-line-pack"+Ut(t,/align-content|flex-|-self/g,"")+t;case 5548:return mn+t+Rn+Ut(t,"shrink","negative")+t;case 5292:return mn+t+Rn+Ut(t,"basis","preferred-size")+t;case 6060:return mn+"box-"+Ut(t,"-grow","")+mn+t+Rn+Ut(t,"grow","positive")+t;case 4554:return mn+Ut(t,/([^-])(transform)/g,"$1"+mn+"$2")+t;case 6187:return Ut(Ut(Ut(t,/(zoom-|grab)/,mn+"$1"),/(image-set)/,mn+"$1"),t,"")+t;case 5495:case 3959:return Ut(t,/(image-set\([^]*)/,mn+"$1$`$1");case 4968:return Ut(Ut(t,/(.+:)(flex-)?(.*)/,mn+"box-pack:$3"+Rn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mn+t+t;case 4200:if(!ic(t,/flex-|baseline/))return Rn+"grid-column-align"+ig(t,e)+t;break;case 2592:case 3360:return Rn+Ut(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(i,s){return e=s,ic(i.props,/grid-\w+-end/)})?~yy(t+(n=n[e].value),"span",0)?t:Rn+Ut(t,"-start","")+t+Rn+"grid-row-span:"+(~yy(n,"span",0)?ic(n,/\d+/):+ic(n,/\d+/)-+ic(t,/\d+/))+";":Rn+Ut(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(i){return ic(i.props,/grid-\w+-start/)})?t:Rn+Ut(Ut(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ut(t,/(.+)-inline(.+)/,mn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vl(t)-1-e>6)switch(Zi(t,e+1)){case 109:if(Zi(t,e+4)!==45)break;case 102:return Ut(t,/(.+:)(.+)-([^]+)/,"$1"+mn+"$2-$3$1"+fx+(Zi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~yy(t,"stretch",0)?xM(Ut(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Ut(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,s,r,a,o,l,c){return Rn+s+":"+r+c+(a?Rn+s+"-span:"+(o?l:+l-+r)+c:"")+t});case 4949:if(Zi(t,e+6)===121)return Ut(t,":",":"+mn)+t;break;case 6444:switch(Zi(t,Zi(t,14)===45?18:11)){case 120:return Ut(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+mn+(Zi(t,14)===45?"inline-":"")+"box$3$1"+mn+"$2$3$1"+Rn+"$2box$3")+t;case 100:return Ut(t,":",":"+Rn)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ut(t,"scroll-","scroll-snap-")+t}return t}function B5(t,e){for(var n="",i=0;i<t.length;i++)n+=e(t[i],i,t,e)||"";return n}function OZ(t,e,n,i){switch(t.type){case kZ:if(t.children.length)break;case AZ:case wk:return t.return=t.return||t.value;case hM:return"";case dM:return t.return=t.value+"{"+B5(t.children,i)+"}";case d6:if(!vl(t.value=t.props.join(",")))return""}return vl(n=B5(t.children,i))?t.return=t.value+"{"+n+"}":""}function BZ(t){var e=gM(t);return function(n,i,s,r){for(var a="",o=0;o<e;o++)a+=t[o](n,i,s,r)||"";return a}}function jZ(t){return function(e){e.root||(e=e.return)&&t(e)}}function $Z(t,e,n,i){if(t.length>-1&&!t.return)switch(t.type){case wk:t.return=xM(t.value,t.length,n);return;case dM:return B5([A0(t,{value:Ut(t.value,"@","@"+mn)})],i);case d6:if(t.length)return EZ(n=t.props,function(s){switch(ic(s,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Jf(A0(t,{props:[Ut(s,/:(read-\w+)/,":"+fx+"$1")]})),Jf(A0(t,{props:[s]})),Av(t,{props:XI(n,i)});break;case"::placeholder":Jf(A0(t,{props:[Ut(s,/:(plac\w+)/,":"+mn+"input-$1")]})),Jf(A0(t,{props:[Ut(s,/:(plac\w+)/,":"+fx+"$1")]})),Jf(A0(t,{props:[Ut(s,/:(plac\w+)/,Rn+"input-$1")]})),Jf(A0(t,{props:[s]})),Av(t,{props:XI(n,i)});break}return""})}}var UZ={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Vr={},rg=typeof process<"u"&&Vr!==void 0&&(Vr.REACT_APP_SC_ATTR||Vr.SC_ATTR)||"data-styled",bM="active",yM="data-styled-version",m6="6.1.17",Sk=`/*!sc*/
`,j5=typeof window<"u"&&"HTMLElement"in window,zZ=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Vr!==void 0&&Vr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Vr.REACT_APP_SC_DISABLE_SPEEDY!==""?Vr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Vr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Vr!==void 0&&Vr.SC_DISABLE_SPEEDY!==void 0&&Vr.SC_DISABLE_SPEEDY!==""&&Vr.SC_DISABLE_SPEEDY!=="false"&&Vr.SC_DISABLE_SPEEDY),x6=Object.freeze([]),ag=Object.freeze({});function HZ(t,e,n){return n===void 0&&(n=ag),t.theme!==n.theme&&t.theme||e||n.theme}var wM=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),qZ=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,GZ=/(^-|-$)/g;function ZI(t){return t.replace(qZ,"-").replace(GZ,"")}var WZ=/(a)(d)/gi,Fb=52,JI=function(t){return String.fromCharCode(t+(t>25?39:97))};function Ev(t){var e,n="";for(e=Math.abs(t);e>Fb;e=e/Fb|0)n=JI(e%Fb)+n;return(JI(e%Fb)+n).replace(WZ,"$1-$2")}var cw,vM=5381,v1=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},SM=function(t){return v1(vM,t)};function AM(t){return Ev(SM(t)>>>0)}function VZ(t){return t.displayName||t.name||"Component"}function uw(t){return typeof t=="string"&&!0}var kM=typeof Symbol=="function"&&Symbol.for,CM=kM?Symbol.for("react.memo"):60115,XZ=kM?Symbol.for("react.forward_ref"):60112,KZ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},YZ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},EM={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ZZ=((cw={})[XZ]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cw[CM]=EM,cw);function QI(t){return("type"in(e=t)&&e.type.$$typeof)===CM?EM:"$$typeof"in t?ZZ[t.$$typeof]:KZ;var e}var JZ=Object.defineProperty,QZ=Object.getOwnPropertyNames,eP=Object.getOwnPropertySymbols,eJ=Object.getOwnPropertyDescriptor,tJ=Object.getPrototypeOf,tP=Object.prototype;function _M(t,e,n){if(typeof e!="string"){if(tP){var i=tJ(e);i&&i!==tP&&_M(t,i,n)}var s=QZ(e);eP&&(s=s.concat(eP(e)));for(var r=QI(t),a=QI(e),o=0;o<s.length;++o){var l=s[o];if(!(l in YZ||n&&n[l]||a&&l in a||r&&l in r)){var c=eJ(e,l);try{JZ(t,l,c)}catch{}}}}return t}function og(t){return typeof t=="function"}function Ak(t){return typeof t=="object"&&"styledComponentId"in t}function Dh(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function _v(t,e){if(t.length===0)return"";for(var n=t[0],i=1;i<t.length;i++)n+=t[i];return n}function Mx(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Tv(t,e,n){if(n===void 0&&(n=!1),!n&&!Mx(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)t[i]=Tv(t[i],e[i]);else if(Mx(e))for(var i in e)t[i]=Tv(t[i],e[i]);return t}function kk(t,e){Object.defineProperty(t,"toString",{value:e})}function V9(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var nJ=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,i=0;i<e;i++)n+=this.groupSizes[i];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var i=this.groupSizes,s=i.length,r=s;e>=r;)if((r<<=1)<0)throw V9(16,"".concat(e));this.groupSizes=new Uint32Array(r),this.groupSizes.set(i),this.length=r;for(var a=s;a<r;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),l=(a=0,n.length);a<l;a++)this.tag.insertRule(o,n[a])&&(this.groupSizes[e]++,o++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],i=this.indexOfGroup(e),s=i+n;this.groupSizes[e]=0;for(var r=i;r<s;r++)this.tag.deleteRule(i)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var i=this.groupSizes[e],s=this.indexOfGroup(e),r=s+i,a=s;a<r;a++)n+="".concat(this.tag.getRule(a)).concat(Sk);return n},t}(),Sy=new Map,$5=new Map,Ay=1,Mb=function(t){if(Sy.has(t))return Sy.get(t);for(;$5.has(Ay);)Ay++;var e=Ay++;return Sy.set(t,e),$5.set(e,t),e},iJ=function(t,e){Ay=e+1,Sy.set(t,e),$5.set(e,t)},sJ="style[".concat(rg,"][").concat(yM,'="').concat(m6,'"]'),rJ=new RegExp("^".concat(rg,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),aJ=function(t,e,n){for(var i,s=n.split(","),r=0,a=s.length;r<a;r++)(i=s[r])&&t.registerName(e,i)},oJ=function(t,e){for(var n,i=((n=e.textContent)!==null&&n!==void 0?n:"").split(Sk),s=[],r=0,a=i.length;r<a;r++){var o=i[r].trim();if(o){var l=o.match(rJ);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(iJ(u,c),aJ(t,u,l[3]),t.getTag().insertRules(c,s)),s.length=0}else s.push(o)}}},nP=function(t){for(var e=document.querySelectorAll(sJ),n=0,i=e.length;n<i;n++){var s=e[n];s&&s.getAttribute(rg)!==bM&&(oJ(t,s),s.parentNode&&s.parentNode.removeChild(s))}};function lJ(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var TM=function(t){var e=document.head,n=t||e,i=document.createElement("style"),s=function(o){var l=Array.from(o.querySelectorAll("style[".concat(rg,"]")));return l[l.length-1]}(n),r=s!==void 0?s.nextSibling:null;i.setAttribute(rg,bM),i.setAttribute(yM,m6);var a=lJ();return a&&i.setAttribute("nonce",a),n.insertBefore(i,r),i},cJ=function(){function t(e){this.element=TM(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var i=document.styleSheets,s=0,r=i.length;s<r;s++){var a=i[s];if(a.ownerNode===n)return a}throw V9(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),uJ=function(){function t(e){this.element=TM(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var i=document.createTextNode(n);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),hJ=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),iP=j5,dJ={isServer:!j5,useCSSOMInjection:!zZ},IM=function(){function t(e,n,i){e===void 0&&(e=ag),n===void 0&&(n={});var s=this;this.options=Rr(Rr({},dJ),e),this.gs=n,this.names=new Map(i),this.server=!!e.isServer,!this.server&&j5&&iP&&(iP=!1,nP(this)),kk(this,function(){return function(r){for(var a=r.getTag(),o=a.length,l="",c=function(d){var p=function(S){return $5.get(S)}(d);if(p===void 0)return"continue";var g=r.names.get(p),m=a.getGroup(d);if(g===void 0||!g.size||m.length===0)return"continue";var b="".concat(rg,".g").concat(d,'[id="').concat(p,'"]'),v="";g!==void 0&&g.forEach(function(S){S.length>0&&(v+="".concat(S,","))}),l+="".concat(m).concat(b,'{content:"').concat(v,'"}').concat(Sk)},u=0;u<o;u++)c(u);return l}(s)})}return t.registerId=function(e){return Mb(e)},t.prototype.rehydrate=function(){!this.server&&j5&&nP(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Rr(Rr({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var i=n.useCSSOMInjection,s=n.target;return n.isServer?new hJ(s):i?new cJ(s):new uJ(s)}(this.options),new nJ(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Mb(e),this.names.has(e))this.names.get(e).add(n);else{var i=new Set;i.add(n),this.names.set(e,i)}},t.prototype.insertRules=function(e,n,i){this.registerName(e,n),this.getTag().insertRules(Mb(e),i)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Mb(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),fJ=/&/g,pJ=/^\s*\/\/.*$/gm;function PM(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=PM(n.children,e)),n})}function gJ(t){var e,n,i,s=ag,r=s.options,a=r===void 0?ag:r,o=s.plugins,l=o===void 0?x6:o,c=function(p,g,m){return m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):p},u=l.slice();u.push(function(p){p.type===d6&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(fJ,n).replace(i,c))}),a.prefix&&u.push($Z),u.push(OZ);var d=function(p,g,m,b){g===void 0&&(g=""),m===void 0&&(m=""),b===void 0&&(b="&"),e=b,n=g,i=new RegExp("\\".concat(n,"\\b"),"g");var v=p.replace(pJ,""),S=DZ(m||g?"".concat(m," ").concat(g," { ").concat(v," }"):v);a.namespace&&(S=PM(S,a.namespace));var C=[];return B5(S,BZ(u.concat(jZ(function(E){return C.push(E)})))),C};return d.hash=l.length?l.reduce(function(p,g){return g.name||V9(15),v1(p,g.name)},vM).toString():"",d}var mJ=new IM,Iv=gJ(),NM=it.createContext({shouldForwardProp:void 0,styleSheet:mJ,stylis:Iv});NM.Consumer;it.createContext(void 0);function sP(){return H.useContext(NM)}var RM=function(){function t(e,n){var i=this;this.inject=function(s,r){r===void 0&&(r=Iv);var a=i.name+r.hash;s.hasNameForId(i.id,a)||s.insertRules(i.id,a,r(i.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,kk(this,function(){throw V9(12,String(i.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=Iv),this.name+e.hash},t}(),xJ=function(t){return t>="A"&&t<="Z"};function rP(t){for(var e="",n=0;n<t.length;n++){var i=t[n];if(n===1&&i==="-"&&t[0]==="-")return t;xJ(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var FM=function(t){return t==null||t===!1||t===""},MM=function(t){var e,n,i=[];for(var s in t){var r=t[s];t.hasOwnProperty(s)&&!FM(r)&&(Array.isArray(r)&&r.isCss||og(r)?i.push("".concat(rP(s),":"),r,";"):Mx(r)?i.push.apply(i,Fx(Fx(["".concat(s," {")],MM(r),!1),["}"],!1)):i.push("".concat(rP(s),": ").concat((e=s,(n=r)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in UZ||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return i};function Zd(t,e,n,i){if(FM(t))return[];if(Ak(t))return[".".concat(t.styledComponentId)];if(og(t)){if(!og(r=t)||r.prototype&&r.prototype.isReactComponent||!e)return[t];var s=t(e);return Zd(s,e,n,i)}var r;return t instanceof RM?n?(t.inject(n,i),[t.getName(i)]):[t]:Mx(t)?MM(t):Array.isArray(t)?Array.prototype.concat.apply(x6,t.map(function(a){return Zd(a,e,n,i)})):[t.toString()]}function bJ(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(og(n)&&!Ak(n))return!1}return!0}var yJ=SM(m6),wJ=function(){function t(e,n,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&bJ(e),this.componentId=n,this.baseHash=v1(yJ,n),this.baseStyle=i,IM.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,i){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=Dh(s,this.staticRulesId);else{var r=_v(Zd(this.rules,e,n,i)),a=Ev(v1(this.baseHash,r)>>>0);if(!n.hasNameForId(this.componentId,a)){var o=i(r,".".concat(a),void 0,this.componentId);n.insertRules(this.componentId,a,o)}s=Dh(s,a),this.staticRulesId=a}else{for(var l=v1(this.baseHash,i.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var p=_v(Zd(d,e,n,i));l=v1(l,p+u),c+=p}}if(c){var g=Ev(l>>>0);n.hasNameForId(this.componentId,g)||n.insertRules(this.componentId,g,i(c,".".concat(g),void 0,this.componentId)),s=Dh(s,g)}}return s},t}(),DM=it.createContext(void 0);DM.Consumer;var hw={};function vJ(t,e,n){var i=Ak(t),s=t,r=!uw(t),a=e.attrs,o=a===void 0?x6:a,l=e.componentId,c=l===void 0?function(w,A){var T=typeof w!="string"?"sc":ZI(w);hw[T]=(hw[T]||0)+1;var P="".concat(T,"-").concat(AM(m6+T+hw[T]));return A?"".concat(A,"-").concat(P):P}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(w){return uw(w)?"styled.".concat(w):"Styled(".concat(VZ(w),")")}(t):u,p=e.displayName&&e.componentId?"".concat(ZI(e.displayName),"-").concat(e.componentId):e.componentId||c,g=i&&s.attrs?s.attrs.concat(o).filter(Boolean):o,m=e.shouldForwardProp;if(i&&s.shouldForwardProp){var b=s.shouldForwardProp;if(e.shouldForwardProp){var v=e.shouldForwardProp;m=function(w,A){return b(w,A)&&v(w,A)}}else m=b}var S=new wJ(n,p,i?s.componentStyle:void 0);function C(w,A){return function(T,P,R){var D=T.attrs,O=T.componentStyle,B=T.defaultProps,U=T.foldedComponentIds,V=T.styledComponentId,ee=T.target,Q=it.useContext(DM),G=sP(),$=T.shouldForwardProp||G.shouldForwardProp,ie=HZ(P,Q,B)||ag,he=function(Re,we,K){for(var Z,oe=Rr(Rr({},we),{className:void 0,theme:K}),de=0;de<Re.length;de+=1){var Ie=og(Z=Re[de])?Z(oe):Z;for(var ye in Ie)oe[ye]=ye==="className"?Dh(oe[ye],Ie[ye]):ye==="style"?Rr(Rr({},oe[ye]),Ie[ye]):Ie[ye]}return we.className&&(oe.className=Dh(oe.className,we.className)),oe}(D,P,ie),pe=he.as||ee,X={};for(var te in he)he[te]===void 0||te[0]==="$"||te==="as"||te==="theme"&&he.theme===ie||(te==="forwardedAs"?X.as=he.forwardedAs:$&&!$(te,pe)||(X[te]=he[te]));var re=function(Re,we){var K=sP(),Z=Re.generateAndInjectStyles(we,K.styleSheet,K.stylis);return Z}(O,he),Ee=Dh(U,V);return re&&(Ee+=" "+re),he.className&&(Ee+=" "+he.className),X[uw(pe)&&!wM.has(pe)?"class":"className"]=Ee,R&&(X.ref=R),H.createElement(pe,X)}(E,w,A)}C.displayName=d;var E=it.forwardRef(C);return E.attrs=g,E.componentStyle=S,E.displayName=d,E.shouldForwardProp=m,E.foldedComponentIds=i?Dh(s.foldedComponentIds,s.styledComponentId):"",E.styledComponentId=p,E.target=i?s.target:t,Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(w){this._foldedDefaultProps=i?function(A){for(var T=[],P=1;P<arguments.length;P++)T[P-1]=arguments[P];for(var R=0,D=T;R<D.length;R++)Tv(A,D[R],!0);return A}({},s.defaultProps,w):w}}),kk(E,function(){return".".concat(E.styledComponentId)}),r&&_M(E,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),E}function aP(t,e){for(var n=[t[0]],i=0,s=e.length;i<s;i+=1)n.push(e[i],t[i+1]);return n}var oP=function(t){return Object.assign(t,{isCss:!0})};function LM(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(og(t)||Mx(t))return oP(Zd(aP(x6,Fx([t],e,!0))));var i=t;return e.length===0&&i.length===1&&typeof i[0]=="string"?Zd(i):oP(Zd(aP(i,e)))}function Pv(t,e,n){if(n===void 0&&(n=ag),!e)throw V9(1,e);var i=function(s){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return t(e,n,LM.apply(void 0,Fx([s],r,!1)))};return i.attrs=function(s){return Pv(t,e,Rr(Rr({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},i.withConfig=function(s){return Pv(t,e,Rr(Rr({},n),s))},i}var OM=function(t){return Pv(vJ,t)},Vu=OM;wM.forEach(function(t){Vu[t]=OM(t)});function Ck(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=_v(LM.apply(void 0,Fx([t],e,!1))),s=AM(i);return new RM(s,i)}const BM="#4fa94d",b6={"aria-busy":!0,role:"progressbar"},jM=Vu.div`
  display: ${t=>t.$visible?"flex":"none"};
`,$M="http://www.w3.org/2000/svg",lo=242.776657104492,SJ=1.6,AJ=Ck`
12.5% {
  stroke-dasharray: ${lo*.14}px, ${lo}px;
  stroke-dashoffset: -${lo*.11}px;
}
43.75% {
  stroke-dasharray: ${lo*.35}px, ${lo}px;
  stroke-dashoffset: -${lo*.35}px;
}
100% {
  stroke-dasharray: ${lo*.01}px, ${lo}px;
  stroke-dashoffset: -${lo*.99}px;
}
`;Vu.path`
  stroke-dasharray: ${lo*.01}px, ${lo};
  stroke-dashoffset: 0;
  animation: ${AJ} ${SJ}s linear infinite;
`;const kJ=Ck`
to {
   transform: rotate(360deg);
 }
`;Vu.svg`
  animation: ${kJ} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Vu.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const UM=({wrapperStyle:t={},visible:e=!0,wrapperClass:n="",height:i=100,width:s=100,color:r=BM,ariaLabel:a="three-circles-loading",outerCircleColor:o,innerCircleColor:l,middleCircleColor:c})=>_.jsx(jM,{style:t,$visible:e,className:n,"data-testid":"three-circles-wrapper","aria-label":a,...b6,children:_.jsxs("svg",{version:"1.1",height:`${i}`,width:`${s}`,xmlns:$M,viewBox:"0 0 100 100",enableBackground:"new 0 0 100 100",xmlSpace:"preserve","data-testid":"three-circles-svg",children:[_.jsx("path",{fill:o||r,d:"M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3 c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z",children:_.jsx("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"2s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})}),_.jsx("path",{fill:c||r,d:"M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7 c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z",children:_.jsx("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"1s",from:"0 50 50",to:"-360 50 50",repeatCount:"indefinite"})}),_.jsx("path",{fill:l||r,d:"M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5 L82,35.7z",children:_.jsx("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",dur:"2s",from:"0 50 50",to:"360 50 50",repeatCount:"indefinite"})})]})}),CJ=({height:t=80,width:e=80,radius:n=9,color:i=BM,ariaLabel:s="three-dots-loading",wrapperStyle:r,wrapperClass:a,visible:o=!0})=>_.jsx(jM,{style:r,$visible:o,className:a,"data-testid":"three-dots-loading","aria-label":s,...b6,children:_.jsxs("svg",{width:e,height:t,viewBox:"0 0 120 30",xmlns:$M,fill:i,"data-testid":"three-dots-svg",children:[_.jsxs("circle",{cx:"15",cy:"15",r:Number(n)+6,children:[_.jsx("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),_.jsx("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]}),_.jsxs("circle",{cx:"60",cy:"15",r:n,attributeName:"fill-opacity",from:"1",to:"0.3",children:[_.jsx("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),_.jsx("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]}),_.jsxs("circle",{cx:"105",cy:"15",r:Number(n)+6,children:[_.jsx("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),_.jsx("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]})]})}),EJ=Ck`
to {
   stroke-dashoffset: 136;
 }
`;Vu.polygon`
  stroke-dasharray: 17;
  animation: ${EJ} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;Vu.svg`
  transform-origin: 50% 65%;
`;const _J=({visible:t=!0,width:e="80",height:n="80",colors:i=["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"],wrapperClass:s="",wrapperStyle:r={},ariaLabel:a="color-ring-loading"})=>t?_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:e,height:n,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",className:s,style:r,"aria-label":a,"data-testid":"color-ring-svg",...b6,children:[_.jsx("defs",{children:_.jsx("mask",{id:"ldio-4offds5dlws-mask",children:_.jsx("circle",{cx:"50",cy:"50",r:"26",stroke:"#fff",strokeLinecap:"round",strokeDasharray:"122.52211349000194 40.840704496667314",strokeWidth:"9",transform:"rotate(198.018 50 50)",children:_.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"1s",repeatCount:"indefinite"})})})}),_.jsxs("g",{mask:"url(#ldio-4offds5dlws-mask)",children:[_.jsx("rect",{x:"14.5",y:"0",width:"15",height:"100",fill:i[0],children:_.jsx("animate",{attributeName:"fill",values:i.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.8s"})}),_.jsx("rect",{x:"28.5",y:"0",width:"15",height:"100",fill:i[1],children:_.jsx("animate",{attributeName:"fill",values:i.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.6s"})}),_.jsx("rect",{x:"42.5",y:"0",width:"15",height:"100",fill:i[2],children:_.jsx("animate",{attributeName:"fill",values:i.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.4s"})}),_.jsx("rect",{x:"56.5",y:"0",width:"15",height:"100",fill:i[3],children:_.jsx("animate",{attributeName:"fill",values:i.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"-0.2s"})}),_.jsx("rect",{x:"70.5",y:"0",width:"15",height:"100",fill:i[4],children:_.jsx("animate",{attributeName:"fill",values:i.join(";").toString(),keyTimes:"0;0.25;0.5;0.75;1",dur:"1s",repeatCount:"indefinite",begin:"0s"})})]})]}):null,TJ=({visible:t=!0,width:e="80",height:n="80",wrapperClass:i="",wrapperStyle:s={},ariaLabel:r="hourglass-loading",colors:a=["#306cce","#72a1ed"]})=>t?_.jsxs("svg",{width:e,height:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 350 350",preserveAspectRatio:"xMidYMid",className:i,style:s,"aria-label":r,"data-testid":"hourglass-svg",...b6,children:[_.jsx("animateTransform",{attributeName:"transform",type:"rotate",values:"0; 0; -30; 360; 360",keyTimes:"0; 0.40; 0.55; 0.65; 1",dur:"3s",begin:"0s",calcMode:"linear",repeatCount:"indefinite"}),_.jsxs("g",{children:[_.jsx("path",{fill:a[0],stroke:a[0],d:"M324.658,20.572v-2.938C324.658,7.935,316.724,0,307.025,0H40.313c-9.699,0-17.635,7.935-17.635,17.634v2.938     c0,9.699,7.935,17.634,17.635,17.634h6.814c3.5,0,3.223,3.267,3.223,4.937c0,19.588,8.031,42.231,14.186,56.698     c12.344,29.012,40.447,52.813,63.516,69.619c4.211,3.068,3.201,5.916,0.756,7.875c-22.375,17.924-51.793,40.832-64.271,70.16     c-6.059,14.239-13.934,36.4-14.18,55.772c-0.025,1.987,0.771,5.862-3.979,5.862h-6.064c-9.699,0-17.635,7.936-17.635,17.634v2.94     c0,9.698,7.935,17.634,17.635,17.634h266.713c9.699,0,17.633-7.936,17.633-17.634v-2.94c0-9.698-7.934-17.634-17.633-17.634     h-3.816c-7,0-6.326-5.241-6.254-7.958c0.488-18.094-4.832-38.673-12.617-54.135c-17.318-34.389-44.629-56.261-61.449-68.915     c-3.65-2.745-4.018-6.143,0-8.906c17.342-11.929,44.131-34.526,61.449-68.916c8.289-16.464,13.785-38.732,12.447-57.621     c-0.105-1.514-0.211-4.472,3.758-4.472h6.482C316.725,38.206,324.658,30.272,324.658,20.572z M270.271,93.216     c-16.113,31.998-41.967,54.881-64.455,68.67c-1.354,0.831-3.936,2.881-3.936,8.602v6.838c0,6.066,2.752,7.397,4.199,8.286     c22.486,13.806,48.143,36.636,64.191,68.508c7.414,14.727,11.266,32.532,10.885,46.702c-0.078,2.947,1.053,8.308-6.613,8.308     H72.627c-6.75,0-6.475-3.37-6.459-5.213c0.117-12.895,4.563-30.757,12.859-50.255c14.404-33.854,44.629-54.988,64.75-67.577     c0.896-0.561,2.629-1.567,2.629-6.922v-10.236c0-5.534-2.656-7.688-4.057-8.57c-20.098-12.688-49.256-33.618-63.322-66.681     c-8.383-19.702-12.834-37.732-12.861-50.657c-0.002-1.694,0.211-4.812,3.961-4.812h206.582c4.168,0,4.127,3.15,4.264,4.829     C282.156,57.681,278.307,77.257,270.271,93.216z"}),_.jsxs("g",{children:[_.jsx("path",{fill:a[1],stroke:a[1],d:"M169.541,196.2l-68.748,86.03c-2.27,2.842-1.152,5.166,2.484,5.166h140.781c3.637,0,4.756-2.324,2.484-5.166     l-68.746-86.03C175.525,193.358,171.811,193.358,169.541,196.2z"}),_.jsx("animate",{attributeName:"opacity",values:"0; 0; 1; 1; 0; 0",keyTimes:"0; 0.1; 0.4; 0.6; 0.61; 1",dur:"3s",repeatCount:"indefinite"})]}),_.jsxs("g",{children:[_.jsx("path",{fill:a[1],stroke:a[1],d:"M168.986,156.219c2.576,2.568,6.789,2.568,9.363,0l34.576-34.489c2.574-2.568,1.707-4.67-1.932-4.67H136.34     c-3.637,0-4.506,2.102-1.932,4.67L168.986,156.219z"}),_.jsx("animate",{attributeName:"opacity",values:"1; 1; 0; 0; 1; 1",keyTimes:"0; 0.1; 0.4; 0.65; 0.66; 1",dur:"3s",repeatCount:"indefinite"})]})]})]}):null,IJ=()=>_.jsx("div",{className:"fixed top-14 left-0 z-1 w-screen h-screen flex items-center justify-center backdrop-blur-3xl",children:_.jsx(_J,{colors:[],height:64})});function lP(t){return Nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.1 144.8c56.2 0 101.9 45.3 101.9 101.1 0 13.1-2.6 25.5-7.3 37l59.5 59c30.8-25.5 55-58.4 69.9-96-35.3-88.7-122.3-151.6-224.2-151.6-28.5 0-55.8 5.1-81.1 14.1l44 43.7c11.6-4.6 24.1-7.3 37.3-7.3zM52.4 89.7l46.5 46.1 9.4 9.3c-33.9 26-60.4 60.8-76.3 100.8 35.2 88.7 122.2 151.6 224.1 151.6 31.6 0 61.7-6.1 89.2-17l8.6 8.5 59.7 59 25.9-25.7L78.2 64 52.4 89.7zM165 201.4l31.6 31.3c-1 4.2-1.6 8.7-1.6 13.1 0 33.5 27.3 60.6 61.1 60.6 4.5 0 9-.6 13.2-1.6l31.6 31.3c-13.6 6.7-28.7 10.7-44.8 10.7-56.2 0-101.9-45.3-101.9-101.1 0-15.8 4.1-30.7 10.8-44.3zm87.8-15.7l64.2 63.7.4-3.2c0-33.5-27.3-60.6-61.1-60.6l-3.5.1z"},child:[]}]})(t)}function cP(t){return Nt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 105c-101.8 0-188.4 62.4-224 151 35.6 88.6 122.2 151 224 151s188.4-62.4 224-151c-35.6-88.6-122.2-151-224-151zm0 251.7c-56 0-101.8-45.3-101.8-100.7S200 155.3 256 155.3 357.8 200.6 357.8 256 312 356.7 256 356.7zm0-161.1c-33.6 0-61.1 27.2-61.1 60.4s27.5 60.4 61.1 60.4 61.1-27.2 61.1-60.4-27.5-60.4-61.1-60.4z"},child:[]}]})(t)}const PJ=()=>{const{user:t,isLoading:e}=Wu(b=>b==null?void 0:b.auth),[n,i]=H.useState(!1),[s,r]=H.useState(!1),a=dr(),o={firstName:t==null?void 0:t.firstName,lastName:t==null?void 0:t.lastName,email:t==null?void 0:t.email,username:t==null?void 0:t.username,university:t==null?void 0:t.university},l={currentPassword:"",newPassword:""},c=/^[a-z][a-z0-9._]*[a-z0-9]$/i,u=/^[a-zA-Z]+$/,d=Nu({username:mi().required("Username is required").matches(c,"Invalid username format").min(5,"Username to short").max(20,"Username to long").lowercase("Username must be lowercase").trim(),firstName:mi().required("First name is required").matches(u,"First name must be alphabets only").min(3,"First name to short").max(20,"First name to long").trim(),lastName:mi().required("Last name is required").matches(u,"Last name must be alphabets only").min(3,"Last name to short").max(20,"Last name to long").trim(),university:mi().required("University is required").min(3,"University to short").max(50,"University to long").trim()}),p=Nu({currentPassword:mi().required("Current password is required"),newPassword:mi().required("New password is required").min(8,"Password to short").max(20,"Password to long").trim()}),g=async(b,{setSubmitting:v})=>{try{await a(FX({data:b,toast:bt}))}catch(S){bt.error(S.message,{position:"top-right"})}finally{v(!1)}},m=async(b,{setSubmitting:v})=>{try{await a(MX({data:b,toast:bt}))}catch(S){bt.error(S.message,{position:"top-right"})}finally{v(!1)}};return e?_.jsx(IJ,{}):_.jsxs(_.Fragment,{children:[_.jsx(jl,{}),_.jsx("section",{id:"settings",className:"sm:p-10  w-full center",children:_.jsxs("div",{className:"container xs:max-w-full mt-14 p-4 bg-white rounded border",children:[_.jsx("h3",{className:"text-3xl font-bold mb-4 border-b-2 pb-4",children:"Settings"}),_.jsx("h4",{className:"text-xl font-semibold my-4",children:"Account Settings"}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Update your account information below."}),_.jsx("div",{className:"update-profile-form",children:_.jsx(Xc,{initialValues:o,validationSchema:d,onSubmit:g,children:({isSubmitting:b})=>_.jsxs(Rl,{className:"update-form",children:[_.jsxs("div",{className:"form-group relative flex flex-col pb-5 mb-3",children:[_.jsx("label",{htmlFor:"firstName",className:"block text-gray-600",children:"First Name"}),_.jsx(Os,{type:"text",name:"firstName",id:"firstName",className:"w-full p-2 ring-1 ring-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),_.jsx(rr,{name:"firstName",component:"div",className:"text-red-500 text-xs font-semibold absolute bottom-0"})]}),_.jsxs("div",{className:"form-group relative flex flex-col pb-5 mb-3",children:[_.jsx("label",{htmlFor:"lastName",className:"block text-gray-600",children:"Last Name"}),_.jsx(Os,{type:"text",name:"lastName",id:"lastName",className:"w-full p-2 ring-1 ring-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),_.jsx(rr,{name:"lastName",component:"div",className:"text-red-500 text-xs font-semibold absolute bottom-0"})]}),_.jsxs("div",{className:"form-group relative flex flex-col pb-5 mb-3",children:[_.jsx("label",{htmlFor:"username",className:"block text-gray-600",children:"Username"}),_.jsx(Os,{type:"text",name:"username",id:"username",className:"w-full p-2 ring-1 ring-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),_.jsx(rr,{name:"username",component:"div",className:"text-red-500 text-xs font-semibold absolute bottom-0"})]}),_.jsxs("div",{className:"form-group relative flex flex-col pb-5 mb-3",children:[_.jsx("label",{htmlFor:"university",children:"University"}),_.jsx(Os,{type:"text",name:"university",id:"university",className:"w-full p-2 ring-1 ring-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),_.jsx(rr,{name:"university",component:"div",className:"text-red-500 text-xs font-semibold absolute bottom-0"})]}),_.jsxs("div",{className:"form-group relative flex flex-col pb-5 mb-3",children:[_.jsx("label",{htmlFor:"email",className:"block text-gray-600",children:"Email"}),_.jsx(Os,{type:"email",name:"email",id:"email",disabled:!0,className:"w-full p-2 ring-1 ring-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),_.jsx("button",{type:"submit",className:`my-6 py-2 px-4 bg-blue-600 rounded hover:bg-blue-700 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 ${b&&"cursor-not-allowed"}`,disabled:b,children:b?"Updating...":"Update"})]})})}),_.jsx("h4",{className:"text-xl font-semibold mt-10 mb-4",children:"Password Settings"}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Update your password below."}),_.jsx("div",{className:"update-profile-form",children:_.jsx(Xc,{initialValues:l,validationSchema:p,onSubmit:m,children:({isSubmitting:b})=>_.jsxs(Rl,{action:"",children:[_.jsxs("div",{className:"form-group relative flex flex-col pb-5 mb-3",children:[_.jsx("label",{htmlFor:"currentPassword",className:"block text-gray-600",children:"Current Password"}),_.jsxs("div",{className:"relative",children:[_.jsx(Os,{type:n?"text":"password",name:"currentPassword",id:"currentPassword",className:"w-full p-2 ring-1 ring-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),_.jsx("button",{type:"button",className:"absolute inset-y-0 right-2 flex items-center",onClick:()=>i(!n),children:n?_.jsx(cP,{className:"text-gray-600",size:24}):_.jsx(lP,{className:"text-gray-600",size:24})})]}),_.jsx(rr,{name:"currentPassword",component:"div",className:"text-red-500 text-xs font-semibold absolute bottom-0"})]}),_.jsxs("div",{className:"form-group relative flex flex-col pb-5 mb-3",children:[_.jsx("label",{htmlFor:"newPassword",className:"block text-gray-600",children:"New Password"}),_.jsxs("div",{className:"relative",children:[_.jsx(Os,{type:s?"text":"password",name:"newPassword",id:"newPassword",className:"w-full p-2 ring-1 ring-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"}),_.jsx("button",{type:"button",className:"absolute inset-y-0 right-2 flex items-center",onClick:()=>r(!s),children:s?_.jsx(cP,{className:"text-gray-600",size:24}):_.jsx(lP,{className:"text-gray-600",size:24})})]}),_.jsx(rr,{name:"newPassword",id:"newPassword",component:"div",className:"text-red-500 text-xs font-semibold absolute bottom-0"})]}),_.jsx("button",{type:"submit",className:`my-6 py-2 px-4 bg-blue-600 rounded hover:bg-blue-700 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 ${b&&"cursor-not-allowed"}`,disabled:b,children:b?"Updating...":"Update"})]})})})]})})]})};function NJ(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Trash"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M19.45,4.06H15.27v-.5a1.5,1.5,0,0,0-1.5-1.5H10.23a1.5,1.5,0,0,0-1.5,1.5v.5H4.55a.5.5,0,0,0,0,1h.72l.42,14.45a2.493,2.493,0,0,0,2.5,2.43h7.62a2.493,2.493,0,0,0,2.5-2.43l.42-14.45h.72A.5.5,0,0,0,19.45,4.06Zm-9.72-.5a.5.5,0,0,1,.5-.5h3.54a.5.5,0,0,1,.5.5v.5H9.73Zm7.58,15.92a1.5,1.5,0,0,1-1.5,1.46H8.19a1.5,1.5,0,0,1-1.5-1.46L6.26,5.06H17.74Z"},child:[]},{tag:"path",attr:{d:"M8.375,8h0a.5.5,0,0,1,1,0l.25,10a.5.5,0,0,1-1,0Z"},child:[]},{tag:"path",attr:{d:"M15.625,8.007a.5.5,0,0,0-1,0h0l-.25,10a.5.5,0,0,0,1,0Z"},child:[]}]}]}]})(t)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ir=function(){return ir=Object.assign||function(e){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ir.apply(this,arguments)};function X9(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}var zM=!1,HM=function(t){return"The ".concat(t," component must be a child of Combobox. Please wrap the component inside Combobox to ensure that the required context is available.")};var Qf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.forEach(function(i){return i&&i(n)})}},qM=H.createContext({contextAvailable:!0,listboxId:"",selectedItemId:"",isExpanded:zM,currentInputValue:""}),Ek=function(){return H.useContext(qM)};function RJ(t,e){return H.useMemo(function(){return!t||typeof t=="string"?t:t(e)},[e,t])}function FJ(t){var e=t.itemsRef,n=t.listboxRef,i=t.comboboxInputRef,s=t.onSelect,r=t.isExpandedRef,a=t.setIsExpanded,o=t.setValue,l=t.setSelectedItem,c=H.useCallback(function(C){o&&o(C.currentTarget.value),a&&a(!0)},[o,a]),u=H.useCallback(function(){!r.current&&a&&a(!0)},[a]),d=H.useCallback(function(){r.current&&a&&a(!1)},[a]),p=H.useCallback(function(C){C.key==="Escape"&&d()},[]),g=H.useCallback(function(C){if(!(!i.current||!n.current)){var E=C.target;(!E||!n.current.contains(E)&&E!==i.current)&&d()}},[d]),m=H.useCallback(function(){if(!(!i.current||!n.current)){var C=document.activeElement;(!C||!n.current.contains(C)&&C!==i.current)&&d()}},[d]),b=H.useCallback(function(C){i.current&&i.current.focus(),o&&o(C.value),a&&a(!1),l&&l(C),s&&s(C)},[o,s,a,l]),v=H.useCallback(function(C){var E=C.code==="Space"&&C.ctrlKey&&C.altKey,w=C.key==="ArrowDown"||E;if(!(!n.current||!w))if(E&&C.preventDefault(),r.current){var A=n.current.firstElementChild;A&&typeof A.focus=="function"&&A.focus()}else a&&(a(!0),window.setTimeout(function(){if(n.current){var T=n.current.firstElementChild;T&&typeof T.focus=="function"&&T.focus()}}))},[a]),S=H.useCallback(function(C){if(e.current){var E=e.current.find(function(T){return T.id===C.currentTarget.id});if(E){if(C.key==="Enter")return b(E);if(!(!n.current||C.key==="Escape"||C.key==="Tab"||C.key==="Shift")){if(C.key==="ArrowDown"||C.key==="ArrowUp"||C.key==="Alt"){C.preventDefault();var w=null;if(C.key==="ArrowDown"||C.key==="Alt"?w=C.currentTarget.nextElementSibling||n.current.firstElementChild:w=C.currentTarget.previousElementSibling||n.current.lastElementChild,!w)return;var A=w;A&&typeof A.focus=="function"&&A.focus();return}i.current&&(i.current.focus(),i.current.dispatchEvent(new KeyboardEvent("keydown",{key:C.key})))}}}},[b]);return{closeOnEscape:p,handleClickOutside:g,handleFocusOutside:m,handleChange:c,expandOnFocus:u,handleSelect:b,handleKeyDownOnInput:v,handleKeyDownOnListboxOption:S}}var y6=H.forwardRef(function(t,e){var n=t.value,i=X9(t,["value"]),s=Ek(),r=s.contextAvailable,a=s.listboxId,o=s.isExpanded;return HM(y6.name),it.createElement("input",ir({autoComplete:"off"},i,{ref:e,value:n,type:"text",role:"combobox","aria-autocomplete":"list","aria-haspopup":"listbox","aria-expanded":o,"aria-controls":a}))});y6.displayName="ComboboxInput";var GM=function(t){var e=t.children,n=t.currentInput,i=n===void 0?"":n,s=t.as,r=s===void 0?"mark":s,a=X9(t,["children","currentInput","as"]),o=H.useMemo(function(){if(typeof e!="string")return e;var l=e.toLowerCase().indexOf(i.toLowerCase()),c=i.length;return l===-1||!c?e:it.createElement(it.Fragment,null,e.substring(0,l),r==="mark"?it.createElement("mark",ir({},a),e.substring(l,l+c)):it.createElement("span",ir({},a),e.substring(l,l+c)),e.substring(l+c,e.length))},[i,e]);return it.createElement(it.Fragment,null,o)},_k=H.forwardRef(function(t,e){var n=t.children,i=t.id,s=t.className,r=X9(t,["children","id","className"]),a=Ek().selectedItemId,o=RJ(s,{isSelected:!!i&&i===a});return it.createElement("li",ir({},r,{ref:e,id:i,className:o,role:"option"}),n)});_k.displayName="ListboxOption";var w6=H.forwardRef(function(t,e){var n=t.children,i=X9(t,["children"]),s=Ek(),r=s.contextAvailable,a=s.listboxId,o=s.isExpanded;HM(w6.name);var l=H.useRef(o),c=H.useState(!1),u=c[0],d=c[1];return H.useEffect(function(){o?o&&o!==l.current&&d(!0):d(!1),l.current=o},[o]),it.createElement("ul",ir({},i,{ref:e,id:a,role:"listbox","aria-live":u?i["aria-live"]||"polite":"off"}),n)});w6.displayName="Listbox";var K9=function(t){var e=t.currentInputValue,n=t.listboxId,i=t.selectedItemId,s=t.isExpanded,r=s===void 0?!0:s,a=t.children,o=H.useId();return it.createElement(qM.Provider,{value:{currentInputValue:e,contextAvailable:!0,listboxId:n||o,selectedItemId:i,isExpanded:r}},a)};K9.ComboboxInput=y6;K9.Listbox=w6;K9.ListboxOption=_k;K9.Highlight=GM;function MJ(t){var e=H.useState(t),n=e[0],i=e[1],s=H.useRef(t),r=function(a){i(a),s.current=a};return[n,r,s]}var DJ=function(t,e){var n=H.useState(t||""),i=n[0],s=n[1],r=H.useCallback(function(a){e?e(a):s(a)},[e]);return H.useEffect(function(){s(t||"")},[t]),[i,r]};function LJ(t){var e=H.useState(t),n=e[0],i=e[1];return H.useEffect(function(){i(t)},[t]),[n,i]}var OJ=function(t,e){return e===void 0&&(e=""),t.filter(function(n){return typeof n.value=="string"?n.value.toLowerCase().includes(e.toLocaleLowerCase()):!0})};function BJ(t,e,n){var i=H.useRef(t),s=H.useMemo(function(){return n.reduce(function(r,a){return a(r,e)},t)},[t,n,e]);return H.useEffect(function(){i.current=s},[s]),[s,i]}var WM=H.forwardRef(function(t,e){var n=t.label,i=t.showLabel,s=i===void 0?!0:i,r=t.items,a=t.selectedItem,o=t.value,l=t.setValue,c=t.onSelect,u=t.placeholder,d=t.isExpanded,p=d===void 0?zM:d,g=t.setIsExpanded,m=t.filters,b=m===void 0?[OJ]:m,v=t.inputProps,S=t.labelProps,C=t.listboxOptionProps,E=t.listboxProps,w=t.highlightProps,A=t.isExpandedClassName,T=A===void 0?"":A,P=t.isCollapsedClassName,R=P===void 0?"":P,D=t.isExpandedStyle,O=t.isCollapsedStyle,B=X9(t,["label","showLabel","items","selectedItem","value","setValue","onSelect","placeholder","isExpanded","setIsExpanded","filters","inputProps","labelProps","listboxOptionProps","listboxProps","highlightProps","isExpandedClassName","isCollapsedClassName","isExpandedStyle","isCollapsedStyle"]),U=MJ(p),V=U[0],ee=U[1],Q=U[2],G=DJ(o,l),$=G[0],ie=G[1],he=H.useId(),pe=H.useDeferredValue($),X=BJ(r,pe,b),te=X[0],re=X[1],Ee=H.useRef(null),Re=H.useRef(null),we=LJ(a),K=we[0],Z=we[1],oe=H.useCallback(function(He){return g?g(He):ee(He)},[g]),de=FJ({listboxRef:Ee,comboboxInputRef:Re,isExpandedRef:Q,setValue:ie,onSelect:c,itemsRef:re,setIsExpanded:oe,setSelectedItem:Z}),Ie=de.handleClickOutside,ye=de.handleFocusOutside,xe=de.closeOnEscape,se=de.handleChange,Ue=de.expandOnFocus,Ve=de.handleSelect,Ke=de.handleKeyDownOnInput,Xe=de.handleKeyDownOnListboxOption;return H.useEffect(function(){ee(p)},[p]),H.useEffect(function(){return window.addEventListener("click",Ie),window.addEventListener("keyup",xe),function(){window.removeEventListener("click",Ie),window.removeEventListener("keyup",xe)}},[Ie]),H.useEffect(function(){return window.addEventListener("focusin",ye),function(){window.removeEventListener("focusin",ye)}},[ye]),it.createElement("div",ir({},B,{ref:e,className:"react-datalist-input__container ".concat(B.className)}),it.createElement(K9,{listboxId:E==null?void 0:E.id,selectedItemId:K==null?void 0:K.id,isExpanded:V,currentInputValue:$},s&&it.createElement("label",ir({},S,{className:"react-datalist-input__label ".concat(S==null?void 0:S.className),htmlFor:(v==null?void 0:v.id)||he}),n),it.createElement(y6,ir({},v,{ref:Re,id:(v==null?void 0:v.id)||he,placeholder:u,value:$,onClick:Qf(Ue,v==null?void 0:v.onClick),onFocus:Qf(Ue,v==null?void 0:v.onFocus),onChange:Qf(se,v==null?void 0:v.onChange),onKeyDown:Qf(Ke,v==null?void 0:v.onKeyDown),"aria-label":!s&&typeof n=="string"?n:void 0,className:"react-datalist-input__textbox ".concat(v==null?void 0:v.className)})),(te.length&&V||R||O)&&it.createElement(w6,ir({},E,{ref:Ee,"aria-hidden":V,className:"react-datalist-input__listbox ".concat(V?T:R," ").concat((E==null?void 0:E.className)||""),style:ir(ir({},V?D:O),E==null?void 0:E.style)}),te.map(function(He){return it.createElement(_k,ir({},C,{"aria-label":He.label||He.value,key:He.id,id:He.id,tabIndex:-1,onClick:Qf(function(){return Ve(He)},C==null?void 0:C.onClick),onKeyDown:Qf(Xe,C==null?void 0:C.onKeyDown),className:"react-datalist-input__listbox-option ".concat(C==null?void 0:C.className)}),it.createElement(GM,ir({},w,{currentInput:$}),He.node||He.value))}))))});WM.displayName="DatalistInput";const jJ=[{id:1,value:"Chandigarh University - CU"},{id:2,value:"Chandigarh Group of Colleges Landra - CGC-Landra"},{id:3,value:"Chandigarh Group of Colleges Jhanjheri - CGC-Jhanjheri"}],$J=[{id:1,value:"B.Sc. Computer Science"},{id:2,value:"M.Sc. Computer Science"},{id:3,value:"BCA (Bachelor of Computer Applications)"},{id:4,value:"MCA (Master of Computer Applications)"},{id:5,value:"B.Tech. Computer Science"},{id:6,value:"M.Tech. Computer Science"},{id:7,value:"BBA (Bachelor of Business Administration)"},{id:8,value:"MBA (Master of Business Administration)"},{id:9,value:"B.Com (Bachelor of Commerce)"},{id:10,value:"M.Com (Master of Commerce)"}],UJ=[{id:"2020 - 2021",value:"2021-2022"},{id:"2022 - 2023",value:"2022-2023"},{id:"2023 - 2024",value:"2023-2024"},{id:"2024 - 2025",value:"2024-2025"},{id:"2025 - 2026",value:"2025-2026"}],dw=Vu(WM)`
  &.datalist input {
    padding: 0.7rem;
  }
  &.datalist input:focus {
    outline: 1px solid #6366f1;
  }
  &.datalist {
    border-radius: 0.4rem;
  }
`,zJ=()=>{const t=dr(),[e,n]=H.useState(null),[i,s]=H.useState(!1),r=l6();window.scrollTo(0,0);const a=(l,c)=>{const u=l.target.files[0];if(u&&["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(u.type)){if(u.size>10*1024*1024){bt.error("File size exceeds the 10MB limit!"),n(null),c("file",null);return}n(u),c("file",u)}else bt.error("Invalid file type! Please upload a pdf, doc, or docx."),n(null),c("file",null)},o=async(l,{setSubmitting:c,resetForm:u})=>{try{if(e){const d=new FormData;d.append("file",e),d.append("title",e.name),d.append("fileType",e.type),d.append("category",l.category),d.append("university",l.university),d.append("course",l.course),d.append("session",l.session),d.append("description",l.description),await t(RX({id:r,formData:d,toast:bt}))}}catch{bt.error("Failed to upload")}finally{c(!1),u()}};return _.jsxs("section",{className:"file-upload center min-h-screen sm:p-4",children:[_.jsx(jl,{}),_.jsx("div",{className:"container xs:max-w-4xl mt-12 mb-8 bg-white p-10 rounded border",children:_.jsx("div",{className:"file-upload-form",children:_.jsx(Xc,{initialValues:{file:null,category:"",university:"",course:"",session:"",description:""},validationSchema:Nu().shape({file:bF().required("A file is required"),category:mi().required("Category is required"),university:mi().required("University is required"),course:mi().required("Course is required"),session:mi().required("Session is required"),description:mi().required("Description is required")}),onSubmit:o,children:({setFieldValue:l,errors:c,touched:u,values:d,isSubmitting:p})=>_.jsxs(Rl,{encType:"multipart/form-data",className:"form flex-col  flex gap-10",children:[_.jsxs("div",{className:`form-group center flex-col upload-box border-4 border-blue-200 ${i?"border-blue-500 bg-blue-200":"border-dashed"} rounded
                  xl p-10 bg-gray-50 my-2 w-full`,onDragOver:g=>{g.preventDefault(),s(!0)},onDragLeave:()=>s(!1),onDrop:g=>{g.preventDefault(),s(!1);const m=g.dataTransfer.files[0];a({target:{files:[m]}},l)},children:[_.jsx("input",{type:"file",name:"file",id:"file",className:"hidden",onChange:g=>a(g,l)}),_.jsx(jK,{size:64,className:"center text-blue-500"}),_.jsx("h1",{className:"center text-xl font-semibold text-gray-600 m-1",children:"Drag & Drop Your File"}),_.jsx("h1",{className:"center text-xl font-semibold text-gray-600 m-1",children:"Or Upload"}),_.jsx("p",{className:"text-center text-gray-500 my-2",children:"Supported files: pdf, doc, docx"}),_.jsx("button",{type:"button",className:"btn block mx-auto",children:_.jsx("label",{htmlFor:"file",className:"center my-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded text-white cursor-pointer font-normal",children:"Browse my files"})}),c.file&&u.file?_.jsx("div",{className:"text-red-500 text-center mt-2",children:c.file}):null]}),_.jsxs("div",{className:"form-right w-full sm:p-10",children:[e!=null&&_.jsxs("div",{className:"my-5",children:[_.jsx("h4",{className:"text-lg font-semibold mb-1",children:"Selected File:"}),_.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded",children:[_.jsx("span",{className:"text-gray-900",children:e.name}),_.jsxs("div",{className:"flex gap-6",children:[_.jsxs("span",{className:"text-gray-800 text-sm",children:[(e.size/1024).toFixed(2)," KB"]}),_.jsx("button",{type:"button",className:"text-red-600 text-xl",onClick:()=>{n(null),l("file",null)},children:_.jsx(NJ,{})})]})]})]}),_.jsxs("div",{className:"form-group pb-1",children:[_.jsx("label",{htmlFor:"category",className:"block mb-2 font-normal",children:"Category"}),_.jsxs("select",{name:"category",value:d.category,id:"category",onChange:g=>l("category",g.target.value),className:`font-normal p-2 ring-1 ring-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-700 w-full rounded ${c.category&&u.category?"ring-red-500":""}`,children:[_.jsx("option",{value:"",children:"Choose File Category"}),_.jsx("option",{value:"assignment",children:"Assignment"}),_.jsx("option",{value:"notes",children:"Notes"}),_.jsx("option",{value:"practice material",children:"Practice Material"}),_.jsx("option",{value:"practical",children:"Practical"}),_.jsx("option",{value:"other",children:"Other"})]}),c.category&&u.category?_.jsx("div",{className:"text-red-500 text-xs",children:c.category}):null]}),_.jsxs("div",{className:"form-group ",children:[_.jsx("label",{htmlFor:"university",className:"block my-2 font-normal",id:"university",children:"University"}),_.jsx(dw,{value:d.university,label:"Select your university",showLabel:!1,items:jJ.map(g=>({id:g.id,value:g.value})),onSelect:g=>l("university",g.value),className:`datalist font-normal ${c.university&&u.university?"border border-red-500":""}`}),c.university&&u.university&&_.jsx("div",{className:"text-red-500 text-xs",children:c.university})]}),_.jsxs("div",{className:"form-group my-2",children:[_.jsx("label",{htmlFor:"course",className:"block font-normal",id:"course",children:"Course"}),_.jsx(dw,{value:d.course,id:"course",label:"Select your course",showLabel:!1,items:$J.map(g=>({id:g.id,value:g.value})),onSelect:g=>l("course",g.value),className:`datalist font-normal ${c.course&&u.course?"border border-red-500":""}`}),c.course&&u.course?_.jsx("div",{className:"text-red-500 text-xs",children:c.course}):null]}),_.jsxs("div",{className:"form-group my-2",children:[_.jsx("label",{htmlFor:"session",className:"block font-normal",children:"Session"}),_.jsx(dw,{value:d.session,id:"session",label:"Select your session",showLabel:!1,items:UJ.map(g=>({id:g.id,value:g.value})),onSelect:g=>l("session",g.value),className:`datalist font-normal ${c.session&&u.session?"border border-red-500":""}`}),c.session&&u.session?_.jsx("div",{className:"text-red-500 text-xs",children:c.session}):null]}),_.jsxs("div",{className:"form-group my-2",children:[_.jsx("label",{htmlFor:"description",className:"block font-normal",children:"Description"}),_.jsx("textarea",{name:"description",id:"description",placeholder:"Write something about document.",rows:"3",className:`font-normal p-3 ring-1 ring-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-700 w-full rounded ${c.description&&u.description?"ring-red-500":""}`,value:d.description,onChange:g=>l("description",g.target.value)}),c.description&&u.description?_.jsx("div",{className:"text-red-500 text-xs",children:c.description}):null]}),_.jsx("div",{className:"center py-4",children:_.jsx("button",{type:"submit",className:`w-full my-6 py-2 px-4 bg-blue-600 rounded hover:bg-blue-700 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 ${p&&"cursor-not-allowed"}`,disabled:p,children:p?_.jsx("span",{children:"Uploading..."}):_.jsxs("span",{className:"center gap-2",children:["Upload ",_.jsx(DK,{size:24})]})})})]})]})})})})]})},HJ=()=>_.jsx("main",{children:_.jsx(zJ,{})}),qJ=()=>_.jsxs("footer",{className:"bg-gray-200 p-8 border-t",children:[_.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row justify-between items-start gap-8",children:[_.jsxs("div",{className:"md:w-1/3",children:[_.jsxs(Us,{to:"/",className:"flex items-center",children:[_.jsx("img",{src:Sv,alt:"logo",className:"h-8 block"}),_.jsxs("h2",{className:"text-2xl font-bold text-blue-500",children:[_.jsx("span",{className:"text-black",children:"Edu"}),"Docs"]})]}),_.jsx("p",{className:"text-gray-900 text-sm leading-relaxed",children:"Empowering students and educators with a seamless platform to share notes, documents, and assignments."})]}),_.jsxs("div",{className:"md:w-1/3",children:[_.jsx("h2",{className:"text-lg font-semibold  mb-4",children:"Why EduDocs?"}),_.jsxs("ul",{className:"space-y-2 text-sm",children:[_.jsxs("li",{className:"flex items-center gap-2 text-gray-900",children:[_.jsx(Tb,{className:"text-blue-600"}),"Easily share and access study materials."]}),_.jsxs("li",{className:"flex items-center gap-2 text-gray-900",children:[_.jsx(Tb,{className:"text-blue-600"}),"Simplified collaboration for students and educators."]}),_.jsxs("li",{className:"flex items-center gap-2 text-gray-900",children:[_.jsx(Tb,{className:"text-blue-600"}),"Organized and searchable notes platform."]}),_.jsxs("li",{className:"flex items-center gap-2 text-gray-900",children:[_.jsx(Tb,{className:"text-blue-600"}),"A growing community of learners."]})]})]}),_.jsxs("div",{className:"md:w-1/3",children:[_.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Get in Touch"}),_.jsxs("p",{className:"flex items-center gap-2 text-gray-900 text-sm mb-2",children:[_.jsx(uY,{className:"text-blue-600"})," sonumunda1312@gmail.com"]}),_.jsxs("p",{className:"flex items-center gap-2 text-gray-900 text-sm",children:[_.jsx(hY,{className:"text-blue-600"})," +91 8437076442"]})]})]}),_.jsx("div",{className:"border-t border-gray-700 my-6"}),_.jsxs("div",{className:"flex flex-wrap gap-4 justify-around text-center text-gray-700 text-sm",children:[_.jsxs("p",{children:["©  ",new Date().getFullYear()," EduDocs | Designed by Sonu Munda. All rights reserved."]}),_.jsx(Us,{to:"/privacy-policies",className:"text-blue-800 hover:underline",children:"Privacy Policies"})]})]});function GJ(t){return Nt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M4 14h4v7a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-7h4a1.001 1.001 0 0 0 .781-1.625l-8-10c-.381-.475-1.181-.475-1.562 0l-8 10A1.001 1.001 0 0 0 4 14z"},child:[]}]})(t)}const WJ=()=>{var v;const{fileId:t,username:e,userId:n}=RR(),[i,s]=H.useState(null),[r,a]=H.useState(!1),[o,l]=H.useState(""),[c,u]=H.useState(""),d=dr(),p=l6();window.scrollTo(0,0),H.useEffect(()=>{d(pY(t)).then(S=>{s(S.payload)})},[d,t]);const g=(S,C)=>{a(!0);const E=encodeURI(S);l(E),u(C)},m=async()=>{d(dY({documentId:t,currentUserId:p})).then(S=>{S.payload?bt.success(S.payload,{position:"top-right"}):S.error&&bt.error(S.error.message||"Failed to like document",{position:"top-right"})})},b=async()=>{d(fY({documentId:t,userId:p})).then(S=>{S.payload?bt.success(S.payload,{position:"top-right"}):S.error&&bt.error(S.error.message||"Failed to vote document",{position:"top-right"})})};return _.jsxs("main",{className:"min-h-screen p-4 flex justify-center items-center",children:[_.jsx(jl,{}),_.jsxs("div",{className:"container document-viewer flex flex-col gap-4 lg:flex-row my-12",children:[_.jsxs("div",{className:"document-description bg-white w-full md:w-4/12 p-4 rounded",children:[_.jsxs("div",{className:"flex flex-col gap-2 my-4",children:[i!=null&&i.title?_.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:i==null?void 0:i.title}):_.jsx(Bs,{height:40}),i!=null&&i.description?_.jsx("p",{className:"text-gray-700 text-xl",children:i==null?void 0:i.description}):_.jsx(Bs,{height:20})]}),_.jsxs("div",{className:"course mb-2",children:[_.jsx("h4",{className:"text-lg font-semibold",children:"Course"}),i!=null&&i.course?_.jsx("p",{className:"text-gray-800",children:i==null?void 0:i.course}):_.jsx(Bs,{height:20})]}),_.jsxs("div",{className:"university mb-2",children:[_.jsx("h4",{className:"text-lg font-semibold",children:"University"}),i!=null&&i.university?_.jsx("p",{className:"text-gray-800",children:i==null?void 0:i.university}):_.jsx(Bs,{height:20})]}),_.jsxs("div",{className:"academic-year mb-2",children:[_.jsx("h4",{className:"text-lg font-semibold",children:"Academic Year"}),i!=null&&i.session?_.jsx("p",{className:"text-gray-800",children:i==null?void 0:i.session}):_.jsx(Bs,{height:20})]}),_.jsxs("div",{className:"owner mb-2",children:[_.jsx("h4",{className:"text-lg font-semibold",children:"Uploaded by"}),i!=null&&i.username?_.jsx(Us,{to:`/profile/${i==null?void 0:i.username}`,className:"text-blue-800",children:i==null?void 0:i.username}):_.jsx(Bs,{height:20})]}),_.jsxs("div",{className:"document-btns flex gap-4",children:[_.jsxs("button",{className:"share-btn center bg-blue-600 text-white px-4 py-2 rounded",onClick:()=>g(`http://localhost:5173/${e}/${n}/document/${i==null?void 0:i.title}/${t}/view`,i==null?void 0:i.title),children:[_.jsx("div",{className:"icon me-2",children:_.jsx(EK,{})}),_.jsx("span",{className:"btn-text",children:"Share"})]}),p&&p!==(i==null?void 0:i.uploadedBy)&&_.jsxs(_.Fragment,{children:[_.jsxs("button",{className:"like-btn center bg-green-600 text-white px-4 py-2 rounded",onClick:m,children:[_.jsx("div",{className:"icon me-2",children:_.jsx(YK,{})}),_.jsx("span",{className:"btn-text",children:(v=i==null?void 0:i.likes)==null?void 0:v.length})]}),_.jsxs("button",{className:"vote center bg-red-600 text-white px-4 py-2 rounded",onClick:b,children:[_.jsx("div",{className:"icon me-2",children:_.jsx(GJ,{})}),_.jsx("span",{className:"btn-text",children:"Vote"})]})]})]})]}),_.jsx("div",{className:"relative w-full rounded overflow-hidden shadow-md bg-gray-200",style:{height:"85vh"},children:i!=null&&i.url?_.jsx("iframe",{src:`https://docs.google.com/gview?url=${i==null?void 0:i.url}&embedded=true`,className:"w-full h-full",loading:"lazy"}):_.jsx(Bs,{height:"100%"})})]}),_.jsx(yk,{shareLink:o,shareTitle:c,menuOpen:r,setMenuOpen:a})]})},VJ=()=>_.jsx("div",{className:"center min-h-screen",children:_.jsxs("div",{className:"container max-w-lg md:max-w-6xl flex flex-col-reverse items-center justify-around md:flex-row gap-10 mt-14 py-10 px-4",children:[_.jsxs("div",{className:"content p-4",children:[_.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:"So Sorry"}),_.jsx("p",{className:"text-gray-700 text-3xl font-bold my-4",children:"The page you are looking for cannot be found"}),_.jsx("p",{className:"text-gray-700 font-semibold mb-2",children:"Possible reasons"}),_.jsxs("ul",{className:"list-disc px-6",children:[_.jsx("li",{className:"text-gray-600",children:"The address may have been typed incorrectly."}),_.jsx("li",{className:"text-gray-600",children:"The page may have been moved or deleted."}),_.jsx("li",{className:"text-gray-600",children:"Go back to the previous page."})]}),_.jsx("button",{className:"btn py-2 px-4 rounded mt-4 bg-gray-700 text-gray-200 hover:bg-gray-500 ",children:_.jsx(Us,{to:"/",children:"EduDocs Home"})})]}),_.jsx("img",{src:"https://media.giphy.com/media/LmNwrBhejkK9EFP504/giphy.gif",alt:"404",className:"rounded-lg  md:w-2/4 mx-auto"})]})}),ky=ni("chatbot/sendMessage",async(t,{rejectWithValue:e})=>{try{return(await(await fetch("https://open-ai21.p.rapidapi.com/conversationgpt35",{method:"POST",headers:{"x-rapidapi-key":"173b28f9c2msh0b01579f55b7bfbp17d064jsnadaaaa0279ff","x-rapidapi-host":"open-ai21.p.rapidapi.com","Content-Type":"application/json"},body:JSON.stringify({messages:[{role:"user",content:t}],web_access:!1,system_prompt:"",temperature:.9,top_k:5,top_p:.9,max_tokens:256})})).json()).result}catch(n){return e(n.message)}}),XJ={status:"idle",error:null,isLoading:!1,conversation:[]},VM=wg({name:"chatbot",initialState:XJ,reducers:{clearConversation:t=>{t.conversation=[]},addUserMessage:(t,e)=>{t.conversation.push({role:"user",content:e.payload})}},extraReducers:t=>{t.addCase(ky.pending,e=>{e.isLoading=!0,e.error=null}).addCase(ky.fulfilled,(e,n)=>{e.isLoading=!1;const i=n.payload||"No response from API";e.conversation.push({role:"bot",content:i})}).addCase(ky.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload})}}),{clearConversation:Pde}=VM.actions,KJ=VM.reducer;function fw(t){return Nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 8V4H8"},child:[]},{tag:"rect",attr:{width:"16",height:"12",x:"4",y:"8",rx:"2"},child:[]},{tag:"path",attr:{d:"M2 14h2"},child:[]},{tag:"path",attr:{d:"M20 14h2"},child:[]},{tag:"path",attr:{d:"M15 13v2"},child:[]},{tag:"path",attr:{d:"M9 13v2"},child:[]}]})(t)}function YJ(t){return Nt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function ZJ(t){return Nt({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M233.86,110.48,65.8,14.58A20,20,0,0,0,37.15,38.64L67.33,128,37.15,217.36A20,20,0,0,0,56,244a20.1,20.1,0,0,0,9.81-2.58l.09-.06,168-96.07a20,20,0,0,0,0-34.81ZM63.19,215.26,88.61,140H144a12,12,0,0,0,0-24H88.61L63.18,40.72l152.76,87.17Z"},child:[]}]})(t)}const JJ=()=>{const t=dr(),{error:e,isLoading:n,conversation:i}=Wu(o=>o.chatbot||{}),[s,r]=H.useState(""),a=()=>{s.trim()&&(t(ky(s)),t({type:"chatbot/addUserMessage",payload:s}),r(""))};return _.jsxs("section",{className:"chat-bot max-h-screen bg-gray-100 flex flex-col",style:{overflow:"hidden"},children:[i==[]||i==""?_.jsxs("div",{className:"h-full min-w-xl center flex-col p-2",children:[_.jsx("div",{className:"bot-icon text-gray-700",children:_.jsx(fw,{size:64})}),_.jsx("h2",{className:"text-3xl text-center font-extrabold text-gray-700 mb-4",children:"Chatbot"}),_.jsx("p",{className:"text-lg text-gray-700 text-center",children:"Got questions or doubts? Ask away! Your learning companion is here to assist you."})]}):_.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 space-y-4 bg-gray-100",children:_.jsxs("div",{className:"message-list space-y-4",children:[i==null?void 0:i.map((o,l)=>_.jsxs("div",{className:`flex items-center space-x-3 ${o.role==="user"?"flex-row-reverse":"flex-row"}`,children:[o.role==="user"&&_.jsx("div",{className:"bg-blue-600 p-2 rounded-full ms-4",children:_.jsx(YJ,{size:24,className:"text-white"})}),o.role==="bot"&&_.jsx("div",{className:"bg-green-600 p-2 rounded-full",children:_.jsx(fw,{size:24,className:"text-white"})}),_.jsx("div",{className:`p-4 rounded-lg break-words max-w-xl ${o.role==="bot"?"bg-green-200 text-gray-800":"bg-blue-100 text-gray-800"}`,children:o.content.startsWith("```")?_.jsx("pre",{className:"bg-gray-900 text-white p-3 rounded-lg overflow-x-auto",children:_.jsx("code",{children:o.content.replace(/```/g,"")})}):_.jsx("p",{children:o.content})})]},l)),n&&_.jsxs("div",{className:"loader text-left mt-2 flex items-center gap-4",children:[_.jsx("div",{className:"bg-green-600 p-2 rounded-full",children:_.jsx(fw,{size:24,className:"text-white"})}),_.jsxs("div",{className:"flex items-center justify-center gap-2 p-4 rounded bg-gray-200",children:[_.jsx("p",{children:"One moment, I'm working on it..."}),_.jsx(TJ,{height:20,width:20})]})]}),e&&_.jsxs("p",{className:"text-center text-red-500",children:["Error: ",e]})]})}),_.jsx("div",{className:"bg-gray-100 py-2 px-6 border-t border-gray-300 relative w-full bottom-14",children:_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("textarea",{type:"text",value:s,onChange:o=>r(o.target.value),placeholder:"Type a message",className:"flex-1 p-3 ring-2 ring-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-200"}),_.jsx("button",{onClick:a,className:`bg-blue-600 text-white h-12 w-12 center m-auto rounded-full hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 ${n?"cursor-not-allowed":""}`,disabled:n,children:_.jsx(ZJ,{size:24})})]})})]})},QJ=()=>{const{documents:t,loading:e}=Wu(d=>d==null?void 0:d.documents),[n,i]=H.useState(""),[s,r]=H.useState([]),a=Ol(),o=Hu(),l=dr(),c=o.search.replace("?","");H.useEffect(()=>{document==null,l(dx())},[l]),H.useEffect(()=>{if(c||n){const d=c||n,p=t==null?void 0:t.filter(g=>g.title.toLowerCase().includes(d.toLowerCase()));r(p)}else r([])},[t,c,n]);const u=d=>{d.preventDefault(),n&&a(`?${n}`)};return _.jsxs(_.Fragment,{children:[_.jsx("section",{className:`hero ${c?"h-96":"h-screen"} w-full center bg-white`,children:_.jsxs("div",{className:"container p-4 center flex-col max-w-6xl mt-12",children:[_.jsx("h1",{className:"text-4xl font-semibold text-gray-900 text-center",children:"Which document do you want to find?"}),_.jsx("p",{className:"mt-8 mb-2 text-gray-700 text-lg text-center",children:"Search for notes, assignments, study materials, or documents"}),_.jsx("div",{className:"search w-full relative",children:_.jsxs("form",{onSubmit:u,children:[_.jsx("input",{type:"text",name:"search",id:"search",className:"w-full py-3 px-4 outline-none rounded border bg-gray-100",placeholder:"Type to search for documents",onChange:d=>i(d.target.value),disabled:e}),_.jsx("div",{className:"icon absolute top-1/2 -translate-y-1/2 right-4 text-xl",children:_.jsx(QF,{})})]})})]})}),_.jsx("hr",{}),(s==null?void 0:s.length)>0&&_.jsxs("section",{className:"filtered-documents py-10 px-6",children:[_.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-8",children:"Searched Documents"}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:s.map(d=>_.jsx(Us,{to:`/${d.username}/${d.uploadedBy}/document/${d.title}/${d._id}/view`,children:_.jsxs("div",{className:"note-card h-full rounded border bg-gray-200 p-2",children:[_.jsx("div",{className:"document-image h-20 sm:h-56 overflow-hidden",children:_.jsx("img",{src:d.url.endsWith(".doc")||d.url.endsWith(".docx")?`${d.url}.jpg`:d.url.replace(/\.[^/.]+$/,".jpg"),alt:d.title,className:"w-full h-full object-cover"})}),_.jsxs("div",{className:"details mt-2",children:[_.jsx("h4",{className:"font-bold",children:d.title.replace(/\.[^/.]+$/,"")}),_.jsx("p",{className:"text-sm text-gray-600",children:d.description})]})]})},d._id))})]}),c&&(s==null?void 0:s.length)<=0&&_.jsxs("section",{className:"filtered-documents py-10 px-6",children:[_.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Document you are looking for is not available!"}),_.jsx("p",{className:"text-gray-700",children:"Try searching for another document."})]})]})},eQ=ni("fetchBooks",async(t,{rejectWithValue:e,dispatch:n})=>{try{const i=await fetch("http://localhost:3000/api/books",{method:"GET"});if(!i.ok)throw new Error(`Failed to fetch: ${i.statusText||"Unknown error"}`);const s=await i.json();if(s)return s==null?void 0:s.books;throw new Error("Books data is not in the expected format.")}catch(i){return console.error("Fetch error:",i),e(i.message)}});ni("fetchBookDetails",async(t,{rejectWithValue:e})=>{try{const n=await fetch(`http://localhost:3000/api/books/${t}`,{method:"GET"});if(!n.ok)throw new Error(`Failed to fetch: ${n.statusText||"Unknown error"}`);const i=await n.json();if(i)return i;throw new Error("Book details data is not in the expected format.")}catch(n){return console.error("Fetch error:",n),e(n.message)}});const tQ={books:[],bookDetails:null,loading:!1,error:null},nQ=wg({name:"books",initialState:tQ,reducers:{},extraReducers:t=>{t.addCase("fetchBooks/pending",e=>{e.loading=!0}).addCase("fetchBooks/fulfilled",(e,n)=>{e.loading=!1,e.books=n.payload}).addCase("fetchBooks/rejected",(e,n)=>{e.loading=!1,e.error=n.error.message}).addCase("fetchBookDetails/pending",e=>{e.loading=!0}).addCase("fetchBookDetails/fulfilled",(e,n)=>{e.loading=!1,e.bookInfo=n.payload}).addCase("fetchBookDetails/rejected",(e,n)=>{e.loading=!1,e.error=n.error.message})}}),iQ=nQ.reducer,sQ=()=>{const{books:t,loading:e,error:n}=Wu(d=>d==null?void 0:d.books),i=Ol(),s=dr(),[r,a]=H.useState(""),[o,l]=H.useState("All");H.useEffect(()=>{window.scrollTo(0,0),s(eQ())},[s]);const c=["All",...new Set(t==null?void 0:t.map(d=>d.category))],u=t==null?void 0:t.filter(d=>{const p=d.title.toLowerCase().includes(r.toLowerCase())||d.author.toLowerCase().includes(r.toLowerCase()),g=o==="All"||d.category===o;return p&&g});return _.jsx("section",{className:"min-h-screen bg-gray-100 py-10",children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsxs("header",{className:"mb-8 text-center",children:[_.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Digital Book Library"}),_.jsx("p",{className:"text-gray-600 mt-2",children:"Explore and discover books from your favorite authors"})]}),_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-10",children:[_.jsx("input",{type:"text",placeholder:"Search by title or author...",className:"w-full md:w-1/2 px-4 py-2 border border-gray-300 rounded shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500",value:r,onChange:d=>a(d.target.value)}),_.jsx("select",{className:"w-full md:w-1/4 px-4 py-2 border border-gray-300 rounded shadow-sm focus:outline-none focus:ring focus:ring-blue-200",value:o,onChange:d=>l(d.target.value),children:c.map(d=>_.jsx("option",{children:d},d))})]}),n?_.jsx("div",{className:"max-w-lg mx-auto bg-red-100 border border-red-300 p-6 rounded text-center shadow",children:_.jsx("p",{className:"text-red-700 font-semibold",children:n})}):(u==null?void 0:u.length)>0?_.jsx("div",{className:"grid gap-6 grid-cols-2 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8",children:u.map(d=>_.jsxs("div",{className:"bg-gray-100 p-2 rounded border shadow cursor-pointer hover:shadow-lg transition duration-200",onClick:()=>i(`/book/view/${d._id}`),children:[_.jsx("img",{src:d.cover,alt:d.title,className:"w-full h-36 object-cover rounded-3xl"}),_.jsx("h3",{className:"text-sm font-semibold text-gray-800 mt-2",children:d.title}),_.jsxs("p",{className:"text-gray-600 text-sm",children:["- ",d.author]})]},d._id))}):_.jsxs("div",{className:"max-w-xl mx-auto bg-white p-8 rounded-lg shadow-md text-center",children:[_.jsx("p",{className:"text-gray-700 text-lg mb-6",children:"No books found matching your filters."}),_.jsx("button",{onClick:()=>i("/document-search"),className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition duration-200",children:"Browse Other Documents"})]})]})})},rQ=()=>{const[t]=Rz(),e=t.get("email");return _.jsx("div",{className:"center min-h-screen bg-white sm:bg-slate-100 sm:p-4",children:_.jsxs("div",{className:"sm:max-w-md h-full w-full bg-white sm:border rounded p-6 text-center",children:[_.jsxs("div",{className:"mb-6",children:[_.jsx(PK,{size:100,className:"text-green-600 mx-auto mb-5"}),_.jsx("h1",{className:"text-2xl font-semibold text-green-600",children:"Email Verified Successfully!"})]}),_.jsxs("p",{className:"text-gray-600 mb-8",children:["The email ",_.jsx("span",{className:"font-medium",children:e})," has been verified successfully. You can now log in and access your account."]}),_.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded shadow hover:bg-blue-700 transition",onClick:()=>window.location.href="/signin",children:"Move to Signin Page"})]})})},Cy=({component:t})=>{const e=localStorage.getItem("token"),n=Ol();return H.useEffect(()=>{e||n("/signin")},[e,n]),_.jsx(_.Fragment,{children:t})};Cy.propTypes={component:nM.PropTypes.element.isRequired};const aQ=()=>{const t=dr(),e=async(n,i)=>{try{n.email&&await t(DX({email:n.email,toast:bt}))}catch{bt.error("An unexpected error occurred",{position:"top-center"})}finally{i(!1)}};return _.jsx("main",{className:"main",children:_.jsxs("section",{className:"forget-password sm:p-4",children:[_.jsx(jl,{}),_.jsxs("div",{className:"container max-w-2xl bg-white p-10 sm:border rounded mx-auto",children:[_.jsx(Xc,{initialValues:{email:""},validationSchema:Nu({email:mi().email().trim().lowercase().required("Email is required")}),onSubmit:async(n,{setSubmitting:i})=>{i(!0),await e(n,i)},children:({isSubmitting:n})=>_.jsxs(Rl,{children:[_.jsx("h2",{className:"text-3xl font-bold text-3xl font-bold mb-1 lg:my-4",children:"Forget Password"}),_.jsx("p",{className:"text-gray-600",children:"Provide the email address associated with your account to recover your password."}),_.jsxs("div",{className:"form-group flex flex-col relative py-5 mt-10",children:[_.jsxs("label",{htmlFor:"email",className:"email-label",children:[_.jsx("span",{className:"text-gray-800",children:"Email"}),_.jsx("span",{className:"text-red-600",children:"*"})]}),_.jsx(Os,{type:"email",name:"email",id:"email",className:"w-full px-2 py-3 rounded ring-1 ring-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all ease-in-out",placeholder:"Enter your email"}),_.jsx(rr,{name:"email",component:"div",className:"text-red-500 text-xs absolute bottom-0"})]}),_.jsx("button",{type:"submit",className:`w-full my-6 p-3 bg-blue-600 rounded hover:bg-blue-700 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 ${n?"cursor-not-allowed":""}`,disabled:n,children:n?"Sending Mail...":"Recover Password"})]})}),_.jsxs("div",{className:"mt-10 flex gap-4 justify-end",children:[_.jsx(Us,{to:"/signin",className:"text-gray-600",children:"Login"}),_.jsx(Us,{to:"/signup",className:"text-gray-600",children:"Signup"})]})]})]})})},oQ=()=>{const[t,e]=H.useState(!1),[n,i]=H.useState(!1),r=new URLSearchParams(window.location.search).get("token");localStorage.setItem("resetToken",r);const a=dr(),o=Ol();H.useEffect(()=>{window.scrollTo(0,0)},[r]);const l=Nu({password:mi().required("New password is required").min(8,"Password must be 8 characters long").matches(/[0-9]/,"Password requires a number").matches(/[a-z]/,"Password requires a lowercase letter").matches(/[A-Z]/,"Password requires an uppercase letter").matches(/[^\w]/,"Password requires a symbol").trim(),confirmPassword:mi().oneOf([bV("password"),null],'Must match "New password" field value').trim()}),c=async(u,{setSubmitting:d})=>{try{await a(LX({newPassword:u.password,toast:bt,navigate:o}))}catch(p){bt.error(p.message,{position:"top-center",autoClose:1e3})}finally{d(!1)}};return _.jsx("main",{children:_.jsx("section",{className:"password-reset sm:p-4",children:_.jsxs("div",{className:"w-full max-w-xl m-auto bg-white p-8 rounded sm:border",children:[_.jsx("h2",{className:"text-2xl font-bold",children:"Reset Password"}),_.jsx("p",{className:"mb-6 text-gray-600",children:"Enter your new password below to reset your password."}),_.jsx(Xc,{initialValues:{password:"",confirmPassword:""},validationSchema:l,onSubmit:c,children:({isSubmitting:u})=>_.jsxs(Rl,{className:"reset-password-form",children:[_.jsxs("div",{className:"form-group flex flex-col relative py-6",children:[_.jsx("label",{htmlFor:"password",className:"block  font-medium text-gray-700",children:"New Password"}),_.jsxs("div",{className:"relative",children:[_.jsx(Os,{type:t?"text":"password",name:"password",id:"password",className:"w-full p-3 rounded ring-1 ring-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all ease-in-out"}),_.jsx("div",{className:"icon absolute top-1/2 -translate-y-1/2 right-0 p-2 text-xl",onClick:()=>e(!t),children:t?_.jsx(LI,{}):_.jsx(DI,{})})]}),_.jsx(rr,{name:"password",component:"div",className:"text-red-500 text-xs absolute bottom-0"})]}),_.jsxs("div",{className:"form-group flex flex-col relative py-4",children:[_.jsx("label",{htmlFor:"confirmPassword",className:"block font-medium text-gray-700",children:"Confirm Password"}),_.jsxs("div",{className:"relative",children:[_.jsx(Os,{type:n?"text":"password",name:"confirmPassword",id:"confirmPassword",className:"w-full p-3 rounded ring-1 ring-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all ease-in-out"}),_.jsx("div",{className:"icon absolute top-1/2 -translate-y-1/2 right-0 p-2 text-xl",onClick:()=>i(!n),children:n?_.jsx(LI,{}):_.jsx(DI,{})})]}),_.jsx(rr,{name:"confirmPassword",component:"div",className:"text-red-500 text-xs absolute bottom-0"})]}),_.jsx("button",{type:"submit",className:`w-full my-6 p-3 bg-blue-600 rounded hover:bg-blue-700 text-white shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75 ${u&&"cursor-not-allowed"}`,disabled:u,children:u?"Resetting...":"Reset Password"})]})})]})})})},XM=t=>{const e=Hu();return t.noRenderPaths&&t.noRenderPaths.includes(e.pathname)?_.jsx(_.Fragment,{}):_.jsx(_.Fragment,{children:t.children})};XM.propTypes={noRenderPaths:sr.array,children:sr.node};const lQ=()=>(window.scrollTo(0,0),_.jsx("section",{className:"privacy-policy sm:p-4",children:_.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-white sm:border rounded-lg",children:[_.jsx("h1",{className:"text-3xl font-semibold text-gray-900 mb-6",children:"Privacy Policy"}),_.jsx("h2",{className:"font-bold",children:"Note"}),_.jsx("p",{className:"text-gray-700 mb-6",children:"This is a personal project now i.e February 2025."}),_.jsx("p",{className:"text-gray-700 mb-6",children:"Your privacy is important to us. This Privacy Policy outlines how we collect, use, store, and protect your personal information. By using our platform, you agree to the practices described in this policy."}),_.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-4",children:"1. Information We Collect"}),_.jsxs("p",{className:"text-gray-700 mb-4",children:["We may collect the following types of information:",_.jsxs("ul",{className:"list-inside list-disc text-gray-700",children:[_.jsx("li",{children:"Your personal details (e.g., name, email address)"}),_.jsx("li",{children:"Usage data related to your interaction with our platform"})]})]}),_.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-4",children:"2. How We Use Your Information"}),_.jsxs("p",{className:"text-gray-700 mb-4",children:["The information we collect is used for the following purposes:",_.jsxs("ul",{className:"list-inside list-disc text-gray-700",children:[_.jsx("li",{children:"To enhance and personalize your experience with our platform"}),_.jsx("li",{children:"To improve our services and offer relevant content"}),_.jsx("li",{children:"To maintain the security and integrity of our platform"})]})]}),_.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-4",children:"3. Data Protection and Security"}),_.jsx("p",{className:"text-gray-700 mb-4",children:"We implement industry-standard security measures to protect your personal information from unauthorized access, alteration, or disclosure. However, please note that no method of transmission over the internet is completely secure."}),_.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-4",children:"4. Third-Party Services"}),_.jsx("p",{className:"text-gray-700 mb-4",children:"We may use third-party services to improve the functionality of our platform. These services may have access to your personal information as necessary to perform their functions, but we do not sell or lease your information to any third parties."}),_.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-4",children:"5. Your Rights and Choices"}),_.jsx("p",{className:"text-gray-700 mb-4",children:"You have the right to access, update, or delete your personal information. If you wish to exercise any of these rights, please contact us using the details provided below."}),_.jsx("h2",{className:"text-xl font-semibold text-gray-800 mt-4",children:"6. Contact Us"}),_.jsxs("p",{className:"text-gray-700 mb-4",children:["If you have any questions, concerns, or requests regarding this Privacy Policy, please reach out to us at"," ",_.jsx("span",{className:"font-semibold",children:"roxsonu2@gmail.com"}),". We will respond to your inquiry in a timely manner."]}),_.jsx("p",{className:"text-gray-600 text-sm mt-6",children:"Last updated: February 2025. This Privacy Policy may be updated from time to time, and any changes will be reflected on this page."})]})})),Fl=Object.create(null);Fl.open="0";Fl.close="1";Fl.ping="2";Fl.pong="3";Fl.message="4";Fl.upgrade="5";Fl.noop="6";const Ey=Object.create(null);Object.keys(Fl).forEach(t=>{Ey[Fl[t]]=t});const Nv={type:"error",data:"parser error"},KM=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",YM=typeof ArrayBuffer=="function",ZM=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Tk=({type:t,data:e},n,i)=>KM&&e instanceof Blob?n?i(e):uP(e,i):YM&&(e instanceof ArrayBuffer||ZM(e))?n?i(e):uP(new Blob([e]),i):i(Fl[t]+(e||"")),uP=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function hP(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let pw;function cQ(t,e){if(KM&&t.data instanceof Blob)return t.data.arrayBuffer().then(hP).then(e);if(YM&&(t.data instanceof ArrayBuffer||ZM(t.data)))return e(hP(t.data));Tk(t,!1,n=>{pw||(pw=new TextEncoder),e(pw.encode(n))})}const dP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Om=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<dP.length;t++)Om[dP.charCodeAt(t)]=t;const uQ=t=>{let e=t.length*.75,n=t.length,i,s=0,r,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const c=new ArrayBuffer(e),u=new Uint8Array(c);for(i=0;i<n;i+=4)r=Om[t.charCodeAt(i)],a=Om[t.charCodeAt(i+1)],o=Om[t.charCodeAt(i+2)],l=Om[t.charCodeAt(i+3)],u[s++]=r<<2|a>>4,u[s++]=(a&15)<<4|o>>2,u[s++]=(o&3)<<6|l&63;return c},hQ=typeof ArrayBuffer=="function",Ik=(t,e)=>{if(typeof t!="string")return{type:"message",data:JM(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:dQ(t.substring(1),e)}:Ey[n]?t.length>1?{type:Ey[n],data:t.substring(1)}:{type:Ey[n]}:Nv},dQ=(t,e)=>{if(hQ){const n=uQ(t);return JM(n,e)}else return{base64:!0,data:t}},JM=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},QM="",fQ=(t,e)=>{const n=t.length,i=new Array(n);let s=0;t.forEach((r,a)=>{Tk(r,!1,o=>{i[a]=o,++s===n&&e(i.join(QM))})})},pQ=(t,e)=>{const n=t.split(QM),i=[];for(let s=0;s<n.length;s++){const r=Ik(n[s],e);if(i.push(r),r.type==="error")break}return i};function gQ(){return new TransformStream({transform(t,e){cQ(t,n=>{const i=n.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const r=new DataView(s.buffer);r.setUint8(0,126),r.setUint16(1,i)}else{s=new Uint8Array(9);const r=new DataView(s.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let gw;function Db(t){return t.reduce((e,n)=>e+n.length,0)}function Lb(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)n[s]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function mQ(t,e){gw||(gw=new TextDecoder);const n=[];let i=0,s=-1,r=!1;return new TransformStream({transform(a,o){for(n.push(a);;){if(i===0){if(Db(n)<1)break;const l=Lb(n,1);r=(l[0]&128)===128,s=l[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(Db(n)<2)break;const l=Lb(n,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(i===2){if(Db(n)<8)break;const l=Lb(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){o.enqueue(Nv);break}s=u*Math.pow(2,32)+c.getUint32(4),i=3}else{if(Db(n)<s)break;const l=Lb(n,s);o.enqueue(Ik(r?l:gw.decode(l),e)),i=0}if(s===0||s>t){o.enqueue(Nv);break}}}})}const eD=4;function _i(t){if(t)return xQ(t)}function xQ(t){for(var e in _i.prototype)t[e]=_i.prototype[e];return t}_i.prototype.on=_i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};_i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};_i.prototype.off=_i.prototype.removeListener=_i.prototype.removeAllListeners=_i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===e||i.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+t],this};_i.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,e)}return this};_i.prototype.emitReserved=_i.prototype.emit;_i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};_i.prototype.hasListeners=function(t){return!!this.listeners(t).length};const v6=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Ha=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),bQ="arraybuffer";function tD(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const yQ=Ha.setTimeout,wQ=Ha.clearTimeout;function S6(t,e){e.useNativeTimers?(t.setTimeoutFn=yQ.bind(Ha),t.clearTimeoutFn=wQ.bind(Ha)):(t.setTimeoutFn=Ha.setTimeout.bind(Ha),t.clearTimeoutFn=Ha.clearTimeout.bind(Ha))}const vQ=1.33;function SQ(t){return typeof t=="string"?AQ(t):Math.ceil((t.byteLength||t.size)*vQ)}function AQ(t){let e=0,n=0;for(let i=0,s=t.length;i<s;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function nD(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function kQ(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function CQ(t){let e={},n=t.split("&");for(let i=0,s=n.length;i<s;i++){let r=n[i].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class EQ extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class Pk extends _i{constructor(e){super(),this.writable=!1,S6(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,i){return super.emitReserved("error",new EQ(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Ik(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=kQ(e);return n.length?"?"+n:""}}class _Q extends Pk{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};pQ(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,fQ(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=nD()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let iD=!1;try{iD=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const TQ=iD;function IQ(){}class PQ extends _Q{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(s,r)=>{this.onError("xhr post error",s,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}class _l extends _i{constructor(e,n,i){super(),this.createRequest=e,S6(this,i),this._opts=i,this._method=i.method||"GET",this._uri=n,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;const n=tD(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(n);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=_l.requestsCount++,_l.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=IQ,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete _l.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}_l.requestsCount=0;_l.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",fP);else if(typeof addEventListener=="function"){const t="onpagehide"in Ha?"pagehide":"unload";addEventListener(t,fP,!1)}}function fP(){for(let t in _l.requests)_l.requests.hasOwnProperty(t)&&_l.requests[t].abort()}const NQ=function(){const t=sD({xdomain:!1});return t&&t.responseType!==null}();class RQ extends PQ{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=NQ&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new _l(sD,this.uri(),e)}}function sD(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||TQ))return new XMLHttpRequest}catch{}if(!e)try{return new Ha[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const rD=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class FQ extends Pk{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,i=rD?{}:tD(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;Tk(i,this.supportsBinary,r=>{try{this.doWrite(i,r)}catch{}s&&v6(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=nD()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const mw=Ha.WebSocket||Ha.MozWebSocket;class MQ extends FQ{createSocket(e,n,i){return rD?new mw(e,n,i):n?new mw(e,n):new mw(e)}doWrite(e,n){this.ws.send(n)}}class DQ extends Pk{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=mQ(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),s=gQ();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const r=()=>{i.read().then(({done:o,value:l})=>{o||(this.onPacket(l),r())}).catch(o=>{})};r();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;this._writer.write(i).then(()=>{s&&v6(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const LQ={websocket:MQ,webtransport:DQ,polling:RQ},OQ=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,BQ=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Rv(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let s=OQ.exec(t||""),r={},a=14;for(;a--;)r[BQ[a]]=s[a]||"";return n!=-1&&i!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=jQ(r,r.path),r.queryKey=$Q(r,r.query),r}function jQ(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function $Q(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,r){s&&(n[s]=r)}),n}const Fv=typeof addEventListener=="function"&&typeof removeEventListener=="function",_y=[];Fv&&addEventListener("offline",()=>{_y.forEach(t=>t())},!1);class Iu extends _i{constructor(e,n){if(super(),this.binaryType=bQ,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const i=Rv(e);n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=Rv(n.host).host);S6(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(i=>{const s=i.prototype.name;this.transports.push(s),this._transportsByName[s]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=CQ(this.opts.query)),Fv&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},_y.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=eD,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Iu.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Iu.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(n+=SQ(s)),i>0&&n>this._maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,v6(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,i){return this._sendPacket("message",e,n,i),this}send(e,n,i){return this._sendPacket("message",e,n,i),this}_sendPacket(e,n,i,s){if(typeof n=="function"&&(s=n,n=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const r={type:e,data:n,options:i};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(Iu.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Fv&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=_y.indexOf(this._offlineEventListener);i!==-1&&_y.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Iu.protocol=eD;class UQ extends Iu{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),i=!1;Iu.priorWebsocketSuccess=!1;const s=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",d=>{if(!i)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Iu.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=n.name,this.emitReserved("upgradeError",p)}}))};function r(){i||(i=!0,u(),n.close(),n=null)}const a=d=>{const p=new Error("probe error: "+d);p.transport=n.name,r(),this.emitReserved("upgradeError",p)};function o(){a("transport closed")}function l(){a("socket closed")}function c(d){n&&d.name!==n.name&&r()}const u=()=>{n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",o),this.off("close",l),this.off("upgrading",c)};n.once("open",s),n.once("error",a),n.once("close",o),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}}let zQ=class extends UQ{constructor(e,n={}){const i=typeof e=="object"?e:n;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(s=>LQ[s]).filter(s=>!!s)),super(e,i)}};function HQ(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=Rv(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}const qQ=typeof ArrayBuffer=="function",GQ=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,aD=Object.prototype.toString,WQ=typeof Blob=="function"||typeof Blob<"u"&&aD.call(Blob)==="[object BlobConstructor]",VQ=typeof File=="function"||typeof File<"u"&&aD.call(File)==="[object FileConstructor]";function Nk(t){return qQ&&(t instanceof ArrayBuffer||GQ(t))||WQ&&t instanceof Blob||VQ&&t instanceof File}function Ty(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(Ty(t[n]))return!0;return!1}if(Nk(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ty(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Ty(t[n]))return!0;return!1}function XQ(t){const e=[],n=t.data,i=t;return i.data=Mv(n,e),i.attachments=e.length,{packet:i,buffers:e}}function Mv(t,e){if(!t)return t;if(Nk(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=Mv(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Mv(t[i],e));return n}return t}function KQ(t,e){return t.data=Dv(t.data,e),delete t.attachments,t}function Dv(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Dv(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Dv(t[n],e));return t}const YQ=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ZQ=5;var Jt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Jt||(Jt={}));class JQ{constructor(e){this.replacer=e}encode(e){return(e.type===Jt.EVENT||e.type===Jt.ACK)&&Ty(e)?this.encodeAsBinary({type:e.type===Jt.EVENT?Jt.BINARY_EVENT:Jt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Jt.BINARY_EVENT||e.type===Jt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=XQ(e),i=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(i),s}}function pP(t){return Object.prototype.toString.call(t)==="[object Object]"}class Rk extends _i{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===Jt.BINARY_EVENT;i||n.type===Jt.BINARY_ACK?(n.type=i?Jt.EVENT:Jt.ACK,this.reconstructor=new QQ(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Nk(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(Jt[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Jt.BINARY_EVENT||i.type===Jt.BINARY_ACK){const r=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const a=e.substring(r,n);if(a!=Number(a)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(a)}if(e.charAt(n+1)==="/"){const r=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(r,n)}else i.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const r=n+1;for(;++n;){const a=e.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===e.length)break}i.id=Number(e.substring(r,n+1))}if(e.charAt(++n)){const r=this.tryParse(e.substr(n));if(Rk.isPayloadValid(i.type,r))i.data=r;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Jt.CONNECT:return pP(n);case Jt.DISCONNECT:return n===void 0;case Jt.CONNECT_ERROR:return typeof n=="string"||pP(n);case Jt.EVENT:case Jt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&YQ.indexOf(n[0])===-1);case Jt.ACK:case Jt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class QQ{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=KQ(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const eee=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Rk,Encoder:JQ,get PacketType(){return Jt},protocol:ZQ},Symbol.toStringTag,{value:"Module"}));function ko(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const tee=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class oD extends _i{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ko(e,"open",this.onopen.bind(this)),ko(e,"packet",this.onpacket.bind(this)),ko(e,"error",this.onerror.bind(this)),ko(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var i,s,r;if(tee.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const a={type:Jt.EVENT,data:n};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const u=this.ids++,d=n.pop();this._registerAckCallback(u,d),a.id=u}const o=(s=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||s===void 0?void 0:s.writable,l=this.connected&&!(!((r=this.io.engine)===null||r===void 0)&&r._hasPingExpired());return this.flags.volatile&&!o||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,n){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},s),a=(...o)=>{this.io.clearTimeoutFn(r),n.apply(this,o)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...n){return new Promise((i,s)=>{const r=(a,o)=>a?s(a):i(o);r.withError=!0,n.push(r),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...r)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...r)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Jt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Jt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Jt.EVENT:case Jt.BINARY_EVENT:this.onevent(e);break;case Jt.ACK:case Jt.BINARY_ACK:this.onack(e);break;case Jt.DISCONNECT:this.ondisconnect();break;case Jt.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...s){i||(i=!0,n.packet({type:Jt.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Jt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function Sg(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Sg.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};Sg.prototype.reset=function(){this.attempts=0};Sg.prototype.setMin=function(t){this.ms=t};Sg.prototype.setMax=function(t){this.max=t};Sg.prototype.setJitter=function(t){this.jitter=t};class Lv extends _i{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,S6(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Sg({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||eee;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new zQ(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=ko(n,"open",function(){i.onopen(),e&&e()}),r=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},a=ko(n,"error",r);if(this._timeout!==!1){const o=this._timeout,l=this.setTimeoutFn(()=>{s(),r(new Error("timeout")),n.close()},o);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ko(e,"ping",this.onping.bind(this)),ko(e,"data",this.ondata.bind(this)),ko(e,"error",this.onerror.bind(this)),ko(e,"close",this.onclose.bind(this)),ko(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){v6(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new oD(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const fm={};function Iy(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=HQ(t,e.path||"/socket.io"),i=n.source,s=n.id,r=n.path,a=fm[s]&&r in fm[s].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let l;return o?l=new Lv(i,e):(fm[s]||(fm[s]=new Lv(i,e)),l=fm[s]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Iy,{Manager:Lv,Socket:oD,io:Iy,connect:Iy});const Py=ni("fetchLeaderboard",async(t,{rejectWithValue:e})=>{try{const n=await fetch("http://localhost:3000/api/leaderboard");return n.ok||e(`Failed to fetch: ${n.message}`),(await n.json()).users}catch(n){return console.error(n.message),e(n.message)}}),nee=wg({name:"leaderboard",initialState:{users:[],status:"idle",error:null},reducers:{},extraReducers:t=>{t.addCase(Py.pending,e=>{e.status="loading"}).addCase(Py.fulfilled,(e,n)=>{e.status="succeeded",e.users=n.payload}).addCase(Py.rejected,(e,n)=>{e.status="failed",e.error=n.error.message})}}),iee=nee.reducer,see=()=>{const{users:t,status:e,error:n}=Wu(a=>a.leaderboard),i=dr();H.useEffect(()=>{i(Py())},[i]);const s=[...t].sort((a,o)=>o.uploads.length-a.uploads.length),r=a=>{const o=["🥇","🥈","🥉"];return a<3?_.jsx("span",{className:"text-2xl",children:o[a]}):a+1};return e==="loading"?_.jsx("div",{className:"flex justify-center items-center h-screen",children:_.jsx(CJ,{color:"#2563eb"})}):n?_.jsx("div",{className:"flex justify-center items-center h-screen",children:_.jsx("p",{children:n})}):_.jsx("section",{className:"leader-board flex justify-center",children:_.jsxs("div",{className:"container max-w-full sm:max-w-6xl min-h-screen bg-white rounded p-4 mt-16",children:[_.jsx("h1",{className:"text-3xl font-bold text-center text-gray-800 my-6",children:"🏆 Leaderboard"}),_.jsx("div",{className:"w-full relative overflow-x-auto",children:_.jsxs("table",{className:"w-full text-sm table-auto border",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"uppercase border-b bg-gray-100",children:[_.jsx("th",{className:"p-2",children:"Rank"}),_.jsx("th",{className:"p-2",children:"User"}),_.jsx("th",{className:"p-2 text-left",children:"Name"}),_.jsx("th",{className:"p-2 text-left",children:"Username"}),_.jsx("th",{className:"p-2 text-left",children:"University"}),_.jsx("th",{className:"p-2",children:"Contributions"})]})}),_.jsx("tbody",{children:s.map((a,o)=>_.jsxs("tr",{className:"border-b hover:bg-gray-100",children:[_.jsx("td",{className:"p-2 font-semibold text-gray-800 flex items-center justify-center gap-2",children:r(o)}),_.jsx("td",{className:"p-2 text-gray-800 font-semibold text-center",children:_.jsxs("div",{className:"profile-image bg-blue-600 rounded-full h-10 w-10 center mx-auto text-white",children:[_.jsx("span",{children:a==null?void 0:a.firstName.charAt(0)}),_.jsx("span",{children:a==null?void 0:a.lastName.charAt(0)})]})}),_.jsx("td",{className:"p-2 text-gray-800 font-semibold",children:_.jsx("span",{children:a==null?void 0:a.firstName})}),_.jsx("td",{className:"p-2 text-gray-600",children:_.jsx(Us,{to:`/profile/${a==null?void 0:a.username}`,className:"hover:text-blue-600",children:a==null?void 0:a.username})}),_.jsx("td",{className:"p-2 text-gray-600",children:(a==null?void 0:a.university)||"Not mentioned"}),_.jsx("td",{className:"p-2 text-gray-600 text-center",children:a==null?void 0:a.uploads.length})]},o))})]})})]})})},ree=[{name:"DOCX to PDF",description:"Convert Word documents to PDF format",icon:"FaFileWord",path:"/docx-to-pdf",color:"bg-blue-100"},{name:"PDF to DOCX",description:"Convert PDF files back to editable Word documents",icon:"FaFilePdf",path:"/pdf-to-docx",color:"bg-red-100"},{name:"PDF to JPG",description:"Extract images from PDF files",icon:"FaFileImage",path:"/pdf-to-jpg",color:"bg-green-100"}],aee={FaFileWord:_.jsx(xk,{className:"text-blue-500 text-3xl"}),FaFilePdf:_.jsx(VF,{className:"text-red-500 text-3xl"}),FaFileImage:_.jsx(CK,{className:"text-green-500 text-3xl"})},oee=()=>_.jsx("section",{className:"tools flex justify-center min-h-screen bg-gray-50",children:_.jsxs("div",{className:"tools-container w-full max-w-6xl mt-16 p-4",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-3",children:"Office File Converter"}),_.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Easily convert between document formats with our powerful conversion tools"})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ree.map((t,e)=>_.jsxs("div",{className:`card p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300 border border-gray-200 ${t.color}`,children:[_.jsxs("div",{className:"flex items-center mb-4",children:[_.jsx("div",{className:"mr-4",children:aee[t.icon]}),_.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:t.name})]}),_.jsx("p",{className:"text-gray-600 mb-6",children:t.description}),_.jsxs(Us,{to:t.path,className:"convert-btn flex items-center justify-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg transition-colors duration-300",children:[_.jsx("span",{children:"Convert Now"}),_.jsx(AK,{className:"text-sm"})]})]},e))}),_.jsx("div",{className:"mt-12 text-center",children:_.jsxs("div",{className:"inline-flex items-center bg-gray-100 px-4 py-2 rounded-full",children:[_.jsx(kK,{className:"text-blue-500 mr-2"}),_.jsx("span",{className:"text-gray-700",children:"More conversion tools coming soon!"})]})})]})}),lee=()=>{const[t,e]=H.useState(null),[n,i]=H.useState(null),[s,r]=H.useState(!1),[a,o]=H.useState(!1),l=(d,p)=>{const g=d.target.files[0];g?g.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?(e(g),p("file",g)):bt.error("Please select a valid DOCX file.",{position:"top-center"}):bt.error("Please select a file.",{position:"top-center"})},c=d=>{d.preventDefault(),r(!1);const p=d.dataTransfer.files[0];p.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"?e(p):bt.error("Please select a valid DOCX file.",{position:"top-center"})},u=async(d,{setSubmitting:p})=>{if(!d.file)return;o(!0);const g=new FormData;g.append("file",d.file);try{const m=await fetch("http://localhost:3000/api/tools/docx-to-pdf",{method:"POST",body:g});if(m.ok){const b=await m.json();e(null),i(b.downloadUrl)}else{const b=await m.json();console.error("Error:",b.message),bt.error(b.message||"Something went wrong.",{position:"top-center"})}}catch(m){console.error("Error:",m),alert("Something went wrong.")}o(!1),p(!1)};return _.jsxs("section",{className:"min-h-screen flex justify-center",children:[_.jsx(jl,{}),_.jsxs("div",{className:`container p-4 mt-14 relative ${s?"bg-blue-100":""}`,id:"dropzone",onDragOver:d=>{d.preventDefault(),r(!0)},onDragLeave:()=>r(!1),onDrop:c,children:[_.jsx("h1",{className:"text-3xl font-bold text-center mt-10",children:"Convert DOCX to PDF"}),_.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Easily convert your DOCX file to PDF with just a click."}),_.jsx(Xc,{initialValues:{file:""},onSubmit:u,children:({setFieldValue:d})=>_.jsxs(Rl,{className:"form",children:[_.jsxs("div",{className:"file-drop-zone relative w-full max-w-md mx-auto",children:[_.jsx("input",{type:"file",name:"file",id:"file",className:"hidden",accept:".docx",onChange:p=>l(p,d)}),_.jsx("label",{htmlFor:"file",className:"rounded cursor-pointer bg-blue-500 text-white p-6 text-center font-bold text-2xl hover:bg-blue-600 focus:ring-2 w-full block",children:"Select WORD file"}),_.jsx("p",{className:"text-center text-gray-500",children:"Or drag file here"})]}),t&&_.jsxs("div",{className:"file-preview relative mx-auto bg-white center h-72 max-w-60 rounded-xl border border-2 mt-10 flex flex-col items-center hover:shadow-xl",children:[_.jsx("div",{className:"remove-btn absolute right-0 top-0 rounded bg-gray-100 p-2 border cursor-pointer",onClick:()=>{d("file",""),e(null)},children:_.jsx(bk,{size:18,color:"red"})}),_.jsxs("div",{className:"file-preview-inner flex flex-col justify-center items-center h-full w-full",children:[_.jsx(xk,{className:"text-7xl text-blue-500"}),_.jsx("p",{className:"text-gray-600 text-center mt-2",children:t.name})]})]}),_.jsx("button",{type:"submit",className:`absolute bottom-10 right-10 px-6 py-3 rounded bg-blue-500 text-white font-bold text-xl hover:bg-blue-600 focus:ring-2 ${!t||a?"opacity-50 cursor-not-allowed":""}`,disabled:!t||a,children:a?_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("span",{children:"Converting"}),_.jsx(UM,{height:20,width:20,color:"white"})]}):"Convert"})]})}),n&&_.jsx("div",{className:"mt-10",children:_.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:_.jsxs("button",{className:"flex items-center mt-2 mx-auto p-4 gap-4 ring ring-red-400 hover:shadow-xl hover:shadow-red-400 bg-red-500 text-white  rounded",children:[_.jsx(_K,{size:24})," Download PDF"]})})})]})]})},cee=()=>{const[t,e]=H.useState(null),[n,i]=H.useState(null),[s,r]=H.useState(!1),[a,o]=H.useState(!1),l=(d,p)=>{const g=d.target.files[0];g?g.type==="application/pdf"?(e(g),p("file",g)):bt.error("Please select a valid PDF file.",{position:"top-center"}):bt.error("Please select a file.",{position:"top-center"})},c=d=>{d.preventDefault(),r(!1);const p=d.dataTransfer.files[0];p.type==="application/pdf"?e(p):bt.error("Please select a valid PDF file.",{position:"top-center"})},u=async(d,{setSubmitting:p})=>{if(!d.file)return;o(!0);const g=new FormData;g.append("file",d.file);try{const m=await fetch("http://localhost:3000/api/tools/pdf-to-docx",{method:"POST",body:g});if(m.ok){const b=await m.json();e(null),i(b.downloadUrl)}else{const b=await m.json();console.error("Error:",b.message),bt.error(b.message||"Something went wrong.",{position:"top-center"})}}catch(m){console.error("Error:",m),alert("Something went wrong.")}o(!1),p(!1)};return _.jsxs("section",{className:`min-h-screen flex justify-center  ${s?"bg-red-100":""}`,onDragOver:d=>{d.preventDefault(),r(!0)},onDragLeave:()=>r(!1),onDrop:c,children:[_.jsx(jl,{}),_.jsxs("div",{className:"container p-4 mt-14 relative",id:"dropzone",children:[_.jsx("h1",{className:"text-3xl font-bold text-center mt-10",children:"Convert PDF to DOCX"}),_.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Select a PDF file to convert it to DOCX format."}),_.jsx(Xc,{initialValues:{file:""},onSubmit:u,children:({setFieldValue:d})=>_.jsxs(Rl,{className:"form",children:[_.jsxs("div",{className:"file-drop-zone relative w-full max-w-md mx-auto",children:[_.jsx("input",{type:"file",name:"file",id:"file",className:"hidden",accept:".pdf",onChange:p=>l(p,d)}),_.jsx("label",{htmlFor:"file",className:"rounded cursor-pointer bg-red-500 text-white p-6 text-center font-bold text-2xl hover:bg-red-600 focus:ring-2 w-full block",children:"Select PDF file"}),_.jsx("p",{className:"text-center text-gray-500",children:"Or drag file here"})]}),t&&_.jsxs("div",{className:"file-preview relative mx-auto bg-white center h-72 max-w-60 rounded-xl border border-2 mt-10 flex flex-col items-center hover:shadow-xl",children:[_.jsx("div",{className:"remove-btn absolute right-0 top-0 rounded bg-gray-100 p-2 border cursor-pointer",onClick:()=>{d("file",""),e(null)},children:_.jsx(bk,{size:18,color:"red"})}),_.jsxs("div",{className:"file-preview-inner flex flex-col justify-center items-center h-full w-full",children:[_.jsx(VF,{className:"text-7xl text-red-500"}),_.jsx("p",{className:"text-gray-600 text-center mt-2",children:t.name})]})]}),_.jsx("button",{type:"submit",className:`absolute bottom-10 right-10 px-6 py-3 rounded bg-red-500 text-white font-bold text-xl hover:bg-red-600 focus:ring-2 focus: ring-red-400 ${!t||a?"opacity-50 cursor-not-allowed":""}`,disabled:!t||a,children:a?_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("span",{children:"Converting"}),_.jsx(UM,{height:20,width:20,color:"white"})]}):"Convert"})]})}),n&&_.jsx("div",{className:"mt-10",children:_.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:_.jsxs("button",{className:"flex items-center mt-2 mx-auto p-4 gap-4 ring ring-blue-400 hover:shadow-xl hover:shadow-blue-400 bg-blue-500 text-white  rounded",children:[_.jsx(xk,{size:24})," Download DOCX"]})})})]})]})};var Bm={exports:{}},uee=Bm.exports,gP;function hee(){return gP||(gP=1,function(t,e){(function(n,i){i(e)})(uee,function(n){class i{constructor(w,A){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=A,this.nowDrawingDensity=this.createdDensity,this.render=w}setDensity(w){this.createdDensity=w,this.nowDrawingDensity=w}setDrawingDensity(w){this.nowDrawingDensity=w}setPosition(w){this.state.position=w}setAngle(w){this.state.angle=w}setArea(w){this.state.area=w}setHardDrawingAngle(w){this.state.hardDrawingAngle=w}setHardAngle(w){this.state.hardAngle=w,this.state.hardDrawingAngle=w}setOrientation(w){this.orientation=w}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class s extends i{constructor(w,A,T){super(w,T),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=A}draw(w){const A=this.render.getContext(),T=this.render.convertToGlobal(this.state.position),P=this.render.getRect().pageWidth,R=this.render.getRect().height;A.save(),A.translate(T.x,T.y),A.beginPath();for(let D of this.state.area)D!==null&&(D=this.render.convertToGlobal(D),A.lineTo(D.x-T.x,D.y-T.y));A.rotate(this.state.angle),A.clip(),this.isLoad?A.drawImage(this.image,0,0,P,R):this.drawLoader(A,{x:0,y:0},P,R),A.restore()}simpleDraw(w){const A=this.render.getRect(),T=this.render.getContext(),P=A.pageWidth,R=A.height,D=w===1?A.left+A.pageWidth:A.left,O=A.top;this.isLoad?T.drawImage(this.image,D,O,P,R):this.drawLoader(T,{x:D,y:O},P,R)}drawLoader(w,A,T,P){w.beginPath(),w.strokeStyle="rgb(200, 200, 200)",w.fillStyle="rgb(255, 255, 255)",w.lineWidth=1,w.rect(A.x+1,A.y+1,T-1,P-1),w.stroke(),w.fill();const R={x:A.x+T/2,y:A.y+P/2};w.beginPath(),w.lineWidth=10,w.arc(R.x,R.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),w.stroke(),w.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class r{constructor(w,A){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=A,this.app=w,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let A=0;A<this.pages.length;A++)this.portraitSpread.push([A]);let w=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([w]),w++);for(let A=w;A<this.pages.length;A+=2)A<this.pages.length-1?this.landscapeSpread.push([A,A+1]):(this.landscapeSpread.push([A]),this.pages[A].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(w){const A=this.getSpread();for(let T=0;T<A.length;T++)if(w===A[T][0]||w===A[T][1])return T;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(w){if(w>=0&&w<this.pages.length)return this.pages[w];throw new Error("Invalid page number")}nextBy(w){const A=this.pages.indexOf(w);return A<this.pages.length-1?this.pages[A+1]:null}prevBy(w){const A=this.pages.indexOf(w);return A>0?this.pages[A-1]:null}getFlippingPage(w){const A=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return w===0?this.pages[A].newTemporaryCopy():this.pages[A-1];{const T=w===0?this.getSpread()[A+1]:this.getSpread()[A-1];return T.length===1||w===0?this.pages[T[0]]:this.pages[T[1]]}}getBottomPage(w){const A=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return w===0?this.pages[A+1]:this.pages[A-1];{const T=w===0?this.getSpread()[A+1]:this.getSpread()[A-1];return T.length===1?this.pages[T[0]]:w===0?this.pages[T[1]]:this.pages[T[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(w=null){if(w===null&&(w=this.currentPageIndex),w<0||w>=this.pages.length)return;const A=this.getSpreadIndexByPage(w);A!==null&&(this.currentSpreadIndex=A,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(w){if(!(w>=0&&w<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=w}showSpread(){const w=this.getSpread()[this.currentSpreadIndex];w.length===2?(this.render.setLeftPage(this.pages[w[0]]),this.render.setRightPage(this.pages[w[1]])):this.render.getOrientation()==="landscape"&&w[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[w[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[w[0]])),this.currentPageIndex=w[0],this.app.updatePageIndex(this.currentPageIndex)}}class a extends r{constructor(w,A,T){super(w,A),this.imagesHref=T}load(){for(const w of this.imagesHref){const A=new s(this.render,w,"soft");A.load(),this.pages.push(A)}this.createSpread()}}class o{static GetDistanceBetweenTwoPoint(w,A){return w===null||A===null?1/0:Math.sqrt(Math.pow(A.x-w.x,2)+Math.pow(A.y-w.y,2))}static GetSegmentLength(w){return o.GetDistanceBetweenTwoPoint(w[0],w[1])}static GetAngleBetweenTwoLine(w,A){const T=w[0].y-w[1].y,P=A[0].y-A[1].y,R=w[1].x-w[0].x,D=A[1].x-A[0].x;return Math.acos((T*P+R*D)/(Math.sqrt(T*T+R*R)*Math.sqrt(P*P+D*D)))}static PointInRect(w,A){return A===null?null:A.x>=w.left&&A.x<=w.width+w.left&&A.y>=w.top&&A.y<=w.top+w.height?A:null}static GetRotatedPoint(w,A,T){return{x:w.x*Math.cos(T)+w.y*Math.sin(T)+A.x,y:w.y*Math.cos(T)-w.x*Math.sin(T)+A.y}}static LimitPointToCircle(w,A,T){if(o.GetDistanceBetweenTwoPoint(w,T)<=A)return T;const P=w.x,R=w.y,D=T.x,O=T.y;let B=Math.sqrt(Math.pow(A,2)*Math.pow(P-D,2)/(Math.pow(P-D,2)+Math.pow(R-O,2)))+P;T.x<0&&(B*=-1);let U=(B-P)*(R-O)/(P-D)+R;return P-D+R===0&&(U=A),{x:B,y:U}}static GetIntersectBetweenTwoSegment(w,A,T){return o.PointInRect(w,o.GetIntersectBeetwenTwoLine(A,T))}static GetIntersectBeetwenTwoLine(w,A){const T=w[0].y-w[1].y,P=A[0].y-A[1].y,R=w[1].x-w[0].x,D=A[1].x-A[0].x,O=w[0].x*w[1].y-w[1].x*w[0].y,B=A[0].x*A[1].y-A[1].x*A[0].y,U=T*B-P*O,V=R*B-D*O,ee=-(O*D-B*R)/(T*D-P*R),Q=-(T*B-P*O)/(T*D-P*R);if(isFinite(ee)&&isFinite(Q))return{x:ee,y:Q};if(Math.abs(U-V)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(w,A){const T=Math.abs(w.x-A.x),P=Math.abs(w.y-A.y),R=Math.max(T,P),D=[w];function O(B,U,V,ee,Q){return U>B?B+Q*(V/ee):U<B?B-Q*(V/ee):B}for(let B=1;B<=R;B+=1)D.push({x:O(w.x,A.x,T,R,B),y:O(w.y,A.y,P,R,B)});return D}}class l extends i{constructor(w,A,T){super(w,T),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=A,this.element.classList.add("stf__item"),this.element.classList.add("--"+T)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new l(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(w){const A=w||this.nowDrawingDensity,T=this.render.convertToGlobal(this.state.position),P=this.render.getRect().pageWidth,R=this.render.getRect().height;this.element.classList.remove("--simple");const D=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${P}px;
            height: ${R}px;
        `;A==="hard"?this.drawHard(D):this.drawSoft(T,D)}drawHard(w=""){const A=this.render.getRect().left+this.render.getRect().width/2,T=this.state.hardDrawingAngle,P=w+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${T}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${A}px, 0, 0) rotateY(${T}deg);`);this.element.style.cssText=P}drawSoft(w,A=""){let T="polygon( ";for(const R of this.state.area)if(R!==null){let D=this.render.getDirection()===1?{x:-R.x+this.state.position.x,y:R.y-this.state.position.y}:{x:R.x-this.state.position.x,y:R.y-this.state.position.y};D=o.GetRotatedPoint(D,{x:0,y:0},this.state.angle),T+=D.x+"px "+D.y+"px, "}T=T.slice(0,-2),T+=")";const P=A+`transform-origin: 0 0; clip-path: ${T}; -webkit-clip-path: ${T};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${w.x}px, ${w.y}px);`:`transform: translate3d(${w.x}px, ${w.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=P}simpleDraw(w){const A=this.render.getRect(),T=A.pageWidth,P=A.height,R=w===1?A.left+A.pageWidth:A.left,D=A.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${P}px; 
            left: ${R}px; 
            top: ${D}px; 
            width: ${T}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(w){super.setOrientation(w),this.element.classList.remove("--left","--right"),this.element.classList.add(w===1?"--right":"--left")}setDrawingDensity(w){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+w),super.setDrawingDensity(w)}}class c extends r{constructor(w,A,T,P){super(w,A),this.element=T,this.pagesElement=P}load(){for(const w of this.pagesElement){const A=new l(this.render,w,w.dataset.density==="hard"?"hard":"soft");A.load(),this.pages.push(A)}this.createSpread()}}class u{constructor(w,A,T,P){this.direction=w,this.corner=A,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(T,10),this.pageHeight=parseInt(P,10)}calc(w){try{return this.position=this.calcAngleAndPosition(w),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const w=[];let A=!1;return w.push(this.rect.topLeft),w.push(this.topIntersectPoint),this.sideIntersectPoint===null?A=!0:(w.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(A=!1)),w.push(this.bottomIntersectPoint),(A||this.corner==="bottom")&&w.push(this.rect.bottomLeft),w}getBottomClipArea(){const w=[];return w.push(this.topIntersectPoint),this.corner==="top"?w.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&w.push({x:this.pageWidth,y:0}),w.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?o.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&w.push(this.sideIntersectPoint):this.corner==="top"&&w.push({x:this.pageWidth,y:this.pageHeight}),w.push(this.bottomIntersectPoint),w.push(this.topIntersectPoint),w}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const w=o.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?w:Math.PI-w}calcAngleAndPosition(w){let A=w;if(this.updateAngleAndGeometry(A),A=this.corner==="top"?this.checkPositionAtCenterLine(A,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(A,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(A.x-this.pageWidth)<1&&Math.abs(A.y)<1)throw new Error("Point is too small");return A}updateAngleAndGeometry(w){this.angle=this.calculateAngle(w),this.rect=this.getPageRect(w)}calculateAngle(w){const A=this.pageWidth-w.x+1,T=this.corner==="bottom"?this.pageHeight-w.y:w.y;let P=2*Math.acos(A/Math.sqrt(T*T+A*A));T<0&&(P=-P);const R=Math.PI-P;if(!isFinite(P)||R>=0&&R<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(P=-P),P}getPageRect(w){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],w):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],w)}getRectFromBasePoint(w,A){return{topLeft:this.getRotatedPoint(w[0],A),topRight:this.getRotatedPoint(w[1],A),bottomLeft:this.getRotatedPoint(w[2],A),bottomRight:this.getRotatedPoint(w[3],A)}}getRotatedPoint(w,A){return{x:w.x*Math.cos(this.angle)+w.y*Math.sin(this.angle)+A.x,y:w.y*Math.cos(this.angle)-w.x*Math.sin(this.angle)+A.y}}calculateIntersectPoint(w){const A={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=o.GetIntersectBetweenTwoSegment(A,[w,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=o.GetIntersectBetweenTwoSegment(A,[w,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=o.GetIntersectBetweenTwoSegment(A,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=o.GetIntersectBetweenTwoSegment(A,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=o.GetIntersectBetweenTwoSegment(A,[w,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=o.GetIntersectBetweenTwoSegment(A,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(w,A,T){let P=w;const R=o.LimitPointToCircle(A,this.pageWidth,P);P!==R&&(P=R,this.updateAngleAndGeometry(P));const D=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let O=this.rect.bottomRight,B=this.rect.topLeft;if(this.corner==="bottom"&&(O=this.rect.topRight,B=this.rect.bottomLeft),O.x<=0){const U=o.LimitPointToCircle(T,D,B);U!==P&&(P=U,this.updateAngleAndGeometry(P))}return P}getSegmentToShadowLine(){const w=this.getShadowStartPoint();return[w,w!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class d{constructor(w,A){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=w,this.app=A}fold(w){this.setState("user_fold"),this.calc===null&&this.start(w),this.do(this.render.convertToPage(w))}flip(w){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(w)||(this.calc!==null&&this.render.finishAnimation(),!this.start(w)))return;const A=this.getBoundsRect();this.setState("flipping");const T=A.height/10,P=this.calc.getCorner()==="bottom"?A.height-T:T,R=this.calc.getCorner()==="bottom"?A.height:0;this.calc.calc({x:A.pageWidth-T,y:P}),this.animateFlippingTo({x:A.pageWidth-T,y:P},{x:-A.pageWidth,y:R},!0)}start(w){this.reset();const A=this.render.convertToBook(w),T=this.getBoundsRect(),P=this.getDirectionByPoint(A),R=A.y>=T.height/2?"bottom":"top";if(!this.checkDirection(P))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(P),this.bottomPage=this.app.getPageCollection().getBottomPage(P),this.render.getOrientation()==="landscape")if(P===1){const D=this.app.getPageCollection().nextBy(this.flippingPage);D!==null&&this.flippingPage.getDensity()!==D.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),D.setDrawingDensity("hard"))}else{const D=this.app.getPageCollection().prevBy(this.flippingPage);D!==null&&this.flippingPage.getDensity()!==D.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),D.setDrawingDensity("hard"))}return this.render.setDirection(P),this.calc=new u(P,R,T.pageWidth.toString(10),T.height.toString(10)),!0}catch{return!1}}do(w){if(this.calc!==null&&this.calc.calc(w)){const A=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*A)/100):this.flippingPage.setHardAngle(-90*(200-2*A)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),A,this.calc.getDirection())}}flipToPage(w,A){const T=this.app.getPageCollection().getCurrentSpreadIndex(),P=this.app.getPageCollection().getSpreadIndexByPage(w);try{P>T&&(this.app.getPageCollection().setCurrentSpreadIndex(P-1),this.flipNext(A)),P<T&&(this.app.getPageCollection().setCurrentSpreadIndex(P+1),this.flipPrev(A))}catch{}}flipNext(w){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:w==="top"?1:this.render.getRect().height-2})}flipPrev(w){this.flip({x:10,y:w==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const w=this.calc.getPosition(),A=this.getBoundsRect(),T=this.calc.getCorner()==="bottom"?A.height:0;w.x<=0?this.animateFlippingTo(w,{x:-A.pageWidth,y:T},!0):this.animateFlippingTo(w,{x:A.pageWidth,y:T},!1)}showCorner(w){if(!this.checkState("read","fold_corner"))return;const A=this.getBoundsRect(),T=A.pageWidth;if(this.isPointOnCorners(w))if(this.calc===null){if(!this.start(w))return;this.setState("fold_corner"),this.calc.calc({x:T-1,y:1});const P=50,R=this.calc.getCorner()==="bottom"?A.height-1:1,D=this.calc.getCorner()==="bottom"?A.height-P:P;this.animateFlippingTo({x:T-1,y:R},{x:T-P,y:D},!1,!1)}else this.do(this.render.convertToPage(w));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(w,A,T,P=!0){const R=o.GetCordsFromTwoPoint(w,A),D=[];for(const B of R)D.push(()=>this.do(B));const O=this.getAnimationDuration(R.length);this.render.startAnimation(D,O,()=>{this.calc&&(T&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),P&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(w){this.state!==w&&(this.app.updateState(w),this.state=w)}getDirectionByPoint(w){const A=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(w.x-A.pageWidth<=A.width/5)return 1}else if(w.x<A.width/2)return 1;return 0}getAnimationDuration(w){const A=this.app.getSettings().flippingTime;return w>=1e3?A:w/1e3*A}checkDirection(w){return w===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...w){for(const A of w)if(this.state===A)return!0;return!1}isPointOnCorners(w){const A=this.getBoundsRect(),T=A.pageWidth,P=Math.sqrt(Math.pow(T,2)+Math.pow(A.height,2))/5,R=this.render.convertToBook(w);return R.x>0&&R.y>0&&R.x<A.width&&R.y<A.height&&(R.x<P||R.x>A.width-P)&&(R.y<P||R.y>A.height-P)}}class p{constructor(w,A){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=A,this.app=w;const T=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=T.exec(window.navigator.userAgent)!==null}render(w){if(this.animation!==null){const A=Math.round((w-this.animation.startedAt)/this.animation.durationFrame);A<this.animation.frames.length?this.animation.frames[A]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=w,this.drawFrame()}start(){this.update();const w=A=>{this.render(A),requestAnimationFrame(w)};requestAnimationFrame(w)}startAnimation(w,A,T){this.finishAnimation(),this.animation={frames:w,duration:A,durationFrame:A/w.length,onAnimateEnd:T,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const w=this.calculateBoundsRect();this.orientation!==w&&(this.orientation=w,this.app.updateOrientation(w))}calculateBoundsRect(){let w="landscape";const A=this.getBlockWidth(),T=A/2,P=this.getBlockHeight()/2,R=this.setting.width/this.setting.height;let D=this.setting.width,O=this.setting.height,B=T-D;return this.setting.size==="stretch"?(A<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(w="portrait"),D=w==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,D>this.setting.maxWidth&&(D=this.setting.maxWidth),O=D/R,O>this.getBlockHeight()&&(O=this.getBlockHeight(),D=O*R),B=w==="portrait"?T-D/2-D:T-D):A<2*D&&this.app.getSettings().usePortrait&&(w="portrait",B=T-D/2-D),this.boundsRect={left:B,top:P-O/2,width:2*D,height:O,pageWidth:D},w}setShadowData(w,A,T,P){if(!this.app.getSettings().drawShadow)return;const R=100*this.getSettings().maxShadowOpacity;this.shadow={pos:w,angle:A,width:3*this.getRect().pageWidth/4*T/100,opacity:(100-T)*R/100/100,direction:P,progress:2*T}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(w){this.pageRect=w}setDirection(w){this.direction=w}setRightPage(w){w!==null&&w.setOrientation(1),this.rightPage=w}setLeftPage(w){w!==null&&w.setOrientation(0),this.leftPage=w}setBottomPage(w){w!==null&&w.setOrientation(this.direction===1?0:1),this.bottomPage=w}setFlippingPage(w){w!==null&&w.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=w}convertToBook(w){const A=this.getRect();return{x:w.x-A.left,y:w.y-A.top}}isSafari(){return this.safari}convertToPage(w,A){A||(A=this.direction);const T=this.getRect();return{x:A===0?w.x-T.left-T.width/2:T.width/2-w.x+T.left,y:w.y-T.top}}convertToGlobal(w,A){if(A||(A=this.direction),w==null)return null;const T=this.getRect();return{x:A===0?w.x+T.left+T.width/2:T.width/2-w.x+T.left,y:w.y+T.top}}convertRectToGlobal(w,A){return A||(A=this.direction),{topLeft:this.convertToGlobal(w.topLeft,A),topRight:this.convertToGlobal(w.topRight,A),bottomLeft:this.convertToGlobal(w.bottomLeft,A),bottomRight:this.convertToGlobal(w.bottomRight,A)}}}class g extends p{constructor(w,A,T){super(w,A),this.canvas=T,this.ctx=T.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const w=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(w.left+w.pageWidth,w.top,w.width,w.height),this.ctx.clip())}drawBookShadow(){const w=this.getRect();this.ctx.save(),this.ctx.beginPath();const A=w.width/20;this.ctx.rect(w.left,w.top,w.width,w.height);const T={x:w.left+w.width/2-A/2,y:0};this.ctx.translate(T.x,T.y);const P=this.ctx.createLinearGradient(0,0,A,0);P.addColorStop(0,"rgba(0, 0, 0, 0)"),P.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),P.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),P.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),P.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),P.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=P,this.ctx.fillRect(0,0,A,2*w.height),this.ctx.restore()}drawOuterShadow(){const w=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(w.left,w.top,w.width,w.height);const A=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(A.x,A.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const T=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),T.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),T.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),T.addColorStop(0,"rgba(0, 0, 0, 0)"),T.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=T,this.ctx.fillRect(0,0,this.shadow.width,2*w.height),this.ctx.restore()}drawInnerShadow(){const w=this.getRect();this.ctx.save(),this.ctx.beginPath();const A=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),T=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(T.topLeft.x,T.topLeft.y),this.ctx.lineTo(T.topRight.x,T.topRight.y),this.ctx.lineTo(T.bottomRight.x,T.bottomRight.y),this.ctx.lineTo(T.bottomLeft.x,T.bottomLeft.y),this.ctx.translate(A.x,A.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const P=3*this.shadow.width/4,R=this.ctx.createLinearGradient(0,0,P,0);this.shadow.direction===0?(this.ctx.translate(-P,-100),R.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),R.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),R.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),R.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),R.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),R.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),R.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),R.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=R,this.ctx.fillRect(0,0,P,2*w.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class m{constructor(w,A,T){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=R=>{if(this.checkTarget(R.target)){const D=this.getMousePos(R.clientX,R.clientY);this.app.startUserTouch(D),R.preventDefault()}},this.onTouchStart=R=>{if(this.checkTarget(R.target)&&R.changedTouches.length>0){const D=R.changedTouches[0],O=this.getMousePos(D.clientX,D.clientY);this.touchPoint={point:O,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(O)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||R.preventDefault()}},this.onMouseUp=R=>{const D=this.getMousePos(R.clientX,R.clientY);this.app.userStop(D)},this.onMouseMove=R=>{const D=this.getMousePos(R.clientX,R.clientY);this.app.userMove(D,!1)},this.onTouchMove=R=>{if(R.changedTouches.length>0){const D=R.changedTouches[0],O=this.getMousePos(D.clientX,D.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-O.x)>10||this.app.getState()!=="read")&&R.cancelable&&this.app.userMove(O,!0),this.app.getState()!=="read"&&R.preventDefault()):this.app.userMove(O,!0)}},this.onTouchEnd=R=>{if(R.changedTouches.length>0){const D=R.changedTouches[0],O=this.getMousePos(D.clientX,D.clientY);let B=!1;if(this.touchPoint!==null){const U=O.x-this.touchPoint.point.x,V=Math.abs(O.y-this.touchPoint.point.y);Math.abs(U)>this.swipeDistance&&V<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(U>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),B=!0),this.touchPoint=null}this.app.userStop(O,B)}},this.parentElement=w,w.classList.add("stf__parent"),w.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=w.querySelector(".stf__wrapper"),this.app=A;const P=this.app.getSettings().usePortrait?1:2;w.style.minWidth=T.minWidth*P+"px",w.style.minHeight=T.minHeight+"px",T.size==="fixed"&&(w.style.minWidth=T.width*P+"px",w.style.minHeight=T.height+"px"),T.autoSize&&(w.style.width="100%",w.style.maxWidth=2*T.maxWidth+"px"),w.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=T.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(w){this.wrapper.classList.remove("--portrait","--landscape"),w==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(w,A){const T=this.distElement.getBoundingClientRect();return{x:w-T.left,y:A-T.top}}checkTarget(w){return!this.app.getSettings().clickEventForward||!["a","button"].includes(w.tagName.toLowerCase())}}class b extends m{constructor(w,A,T,P){super(w,A,T),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=w.querySelector(".stf__block"),this.items=P;for(const R of P)this.distElement.appendChild(R);this.setHandlers()}clear(){for(const w of this.items)this.parentElement.appendChild(w)}updateItems(w){this.removeHandlers(),this.distElement.innerHTML="";for(const A of w)this.distElement.appendChild(A);this.items=w,this.setHandlers()}update(){this.app.getRender().update()}}class v extends m{constructor(w,A,T){super(w,A,T),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=w.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const w=getComputedStyle(this.canvas),A=parseInt(w.getPropertyValue("width"),10),T=parseInt(w.getPropertyValue("height"),10);this.canvas.width=A,this.canvas.height=T}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class S extends p{constructor(w,A,T){super(w,A),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=T,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const w=this.getRect(),A=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let T=(100-A)*(2.5*w.pageWidth)/100+20;T>w.pageWidth&&(T=w.pageWidth);let P=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${T}px;
            height: ${w.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*A/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${w.left+w.width/2}px;
            transform-origin: 0 0;
        `;P+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=P}drawHardOuterShadow(){const w=this.getRect();let A=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*w.pageWidth)/100+20;A>w.pageWidth&&(A=w.pageWidth);let T=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${A}px;
            height: ${w.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${w.left+w.width/2}px;
            transform-origin: 0 0;
        `;T+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=T}drawInnerShadow(){const w=this.getRect(),A=3*this.shadow.width/4,T=this.getDirection()===0?A:0,P=this.getDirection()===0?"to left":"to right",R=this.convertToGlobal(this.shadow.pos),D=this.shadow.angle+3*Math.PI/2,O=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let B="polygon( ";for(const V of O){let ee=this.getDirection()===1?{x:-V.x+this.shadow.pos.x,y:V.y-this.shadow.pos.y}:{x:V.x-this.shadow.pos.x,y:V.y-this.shadow.pos.y};ee=o.GetRotatedPoint(ee,{x:T,y:100},D),B+=ee.x+"px "+ee.y+"px, "}B=B.slice(0,-2),B+=")";const U=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${A}px;
            height: ${2*w.height}px;
            background: linear-gradient(${P},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${T}px 100px;
            transform: translate3d(${R.x-T}px, ${R.y-100}px, 0) rotate(${D}rad);
            clip-path: ${B};
            -webkit-clip-path: ${B};
        `;this.innerShadow.style.cssText=U}drawOuterShadow(){const w=this.getRect(),A=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),T=this.shadow.angle+3*Math.PI/2,P=this.getDirection()===1?this.shadow.width:0,R=this.getDirection()===0?"to right":"to left",D=[{x:0,y:0},{x:w.pageWidth,y:0},{x:w.pageWidth,y:w.height},{x:0,y:w.height}];let O="polygon( ";for(const U of D)if(U!==null){let V=this.getDirection()===1?{x:-U.x+this.shadow.pos.x,y:U.y-this.shadow.pos.y}:{x:U.x-this.shadow.pos.x,y:U.y-this.shadow.pos.y};V=o.GetRotatedPoint(V,{x:P,y:100},T),O+=V.x+"px "+V.y+"px, "}O=O.slice(0,-2),O+=")";const B=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*w.height}px;
            background: linear-gradient(${R}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${P}px 100px;
            transform: translate3d(${A.x-P}px, ${A.y-100}px, 0) rotate(${T}rad);
            clip-path: ${O};
            -webkit-clip-path: ${O};
        `;this.outerShadow.style.cssText=B}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const w=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(w))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const w of this.app.getPageCollection().getPages())w!==this.leftPage&&w!==this.rightPage&&w!==this.flippingPage&&w!==this.bottomPage&&(w.getElement().style.cssText="display: none"),w.getTemporaryCopy()!==this.flippingPage&&w.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class C{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(w){const A=this._default;if(Object.assign(A,w),A.size!=="stretch"&&A.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(A.width<=0||A.height<=0)throw new Error("Invalid width or height");if(A.flippingTime<=0)throw new Error("Invalid flipping time");return A.size==="stretch"?(A.minWidth<=0&&(A.minWidth=100),A.maxWidth<A.minWidth&&(A.maxWidth=2e3),A.minHeight<=0&&(A.minHeight=100),A.maxHeight<A.minHeight&&(A.maxHeight=2e3)):(A.minWidth=A.width,A.maxWidth=A.width,A.minHeight=A.height,A.maxHeight=A.height),A}}(function(E,w){w===void 0&&(w={});var A=w.insertAt;if(typeof document<"u"){var T=document.head||document.getElementsByTagName("head")[0],P=document.createElement("style");P.type="text/css",A==="top"&&T.firstChild?T.insertBefore(P,T.firstChild):T.appendChild(P),P.styleSheet?P.styleSheet.cssText=E:P.appendChild(document.createTextNode(E))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(E,w){return this.events.has(E)?this.events.get(E).push(w):this.events.set(E,[w]),this}off(E){this.events.delete(E)}trigger(E,w,A=null){if(this.events.has(E))for(const T of this.events.get(E))T({data:A,object:w})}}{constructor(E,w){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new C().getSettings(w),this.block=E}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(E){this.ui=new v(this.block,this,this.setting);const w=this.ui.getCanvas();this.render=new g(this,this.setting,w),this.flipController=new d(this.render,this),this.pages=new a(this,this.render,E),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(E){this.ui=new b(this.block,this,this.setting,E),this.render=new S(this,this.setting,this.ui.getDistElement()),this.flipController=new d(this.render,this),this.pages=new c(this,this.render,this.ui.getDistElement(),E),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(E){const w=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new a(this,this.render,E),this.pages.load(),this.pages.show(w),this.trigger("update",this,{page:w,mode:this.render.getOrientation()})}updateFromHtml(E){const w=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new c(this,this.render,this.ui.getDistElement(),E),this.pages.load(),this.ui.updateItems(E),this.render.reload(),this.pages.show(w),this.trigger("update",this,{page:w,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(E){this.pages.show(E)}flipNext(E="top"){this.flipController.flipNext(E)}flipPrev(E="top"){this.flipController.flipPrev(E)}flip(E,w="top"){this.flipController.flipToPage(E,w)}updateState(E){this.trigger("changeState",this,E)}updatePageIndex(E){this.trigger("flip",this,E)}updateOrientation(E){this.ui.setOrientationStyle(E),this.update(),this.trigger("changeOrientation",this,E)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(E){return this.pages.getPage(E)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(E){this.mousePosition=E,this.isUserTouch=!0,this.isUserMove=!1}userMove(E,w){this.isUserTouch||w||!this.setting.showPageCorners?this.isUserTouch&&o.GetDistanceBetweenTwoPoint(this.mousePosition,E)>5&&(this.isUserMove=!0,this.flipController.fold(E)):this.flipController.showCorner(E)}userStop(E,w=!1){this.isUserTouch&&(this.isUserTouch=!1,w||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(E)))}},Object.defineProperty(n,"__esModule",{value:!0})})}(Bm,Bm.exports)),Bm.exports}var dee=hee();const fee=it.forwardRef((t,e)=>{const n=H.useRef(null),i=H.useRef([]),s=H.useRef(),[r,a]=H.useState([]);H.useImperativeHandle(e,()=>({pageFlip:()=>s.current}));const o=H.useCallback(()=>{s.current&&s.current.clear()},[]),l=H.useCallback(()=>{const c=s.current;c&&(c.off("flip"),c.off("changeOrientation"),c.off("changeState"),c.off("init"),c.off("update"))},[]);return H.useEffect(()=>{if(i.current=[],t.children){const c=it.Children.map(t.children,u=>it.cloneElement(u,{ref:d=>{d&&i.current.push(d)}}));(!t.renderOnlyPageLengthChange||r.length!==c.length)&&(c.length<r.length&&o(),a(c))}},[t.children]),H.useEffect(()=>{const c=()=>{const u=s.current;u&&(t.onFlip&&u.on("flip",d=>t.onFlip(d)),t.onChangeOrientation&&u.on("changeOrientation",d=>t.onChangeOrientation(d)),t.onChangeState&&u.on("changeState",d=>t.onChangeState(d)),t.onInit&&u.on("init",d=>t.onInit(d)),t.onUpdate&&u.on("update",d=>t.onUpdate(d)))};r.length>0&&i.current.length>0&&(l(),n.current&&!s.current&&(s.current=new dee.PageFlip(n.current,t)),s.current.getFlipController()?s.current.updateFromHtml(i.current):s.current.loadFromHTML(i.current),c())},[r]),it.createElement("div",{ref:n,className:t.className,style:t.style},r)}),pee=it.memo(fee);var px={};px.d=(t,e)=>{for(var n in e)px.o(e,n)&&!px.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};px.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Et=globalThis.pdfjsLib={};px.d(Et,{AbortException:()=>Fu,AnnotationEditorLayer:()=>KS,AnnotationEditorParamsType:()=>en,AnnotationEditorType:()=>Ft,AnnotationEditorUIManager:()=>uf,AnnotationLayer:()=>kS,AnnotationMode:()=>N0,AnnotationType:()=>Si,ColorPicker:()=>V5,DOMSVGFactory:()=>G5,DrawLayer:()=>JS,FeatureTest:()=>vs,GlobalWorkerOptions:()=>Lc,ImageKind:()=>Ny,InvalidPDFException:()=>Bv,MathClamp:()=>tr,OPS:()=>U5,OutputScale:()=>Yc,PDFDataRangeTransport:()=>uL,PDFDateString:()=>Ok,PDFWorker:()=>R1,PasswordResponses:()=>xee,PermissionFlag:()=>mee,PixelsPerInch:()=>Mu,RenderingCancelledException:()=>Dk,ResponseException:()=>z5,SignatureExtractor:()=>Oc,SupportedImageMimeTypes:()=>$v,TextLayer:()=>Dx,TouchManager:()=>q5,Util:()=>pt,VerbosityLevel:()=>A6,XfaLayer:()=>dL,build:()=>jte,createValidAbsoluteUrl:()=>vee,fetchData:()=>Z9,getDocument:()=>Tte,getFilenameFromUrl:()=>Pee,getPdfFilenameFromUrl:()=>Nee,getUuid:()=>uD,getXfaPageViewport:()=>Ree,isDataScheme:()=>E6,isPdfFile:()=>Lk,isValidExplicitDest:()=>Rte,noContextMenu:()=>Oo,normalizeUnicode:()=>_ee,setLayerDimensions:()=>cf,shadow:()=>Yt,stopEvent:()=>ki,version:()=>Bte});const fs=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),lD=[1,0,0,1,0,0],Ov=[.001,0,0,.001,0,0],xw=1.35,oa={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},N0={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},gee="pdfjs_internal_editor_",Ft={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},en={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},mee={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Is={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ny={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Si={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},a1={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},A6={ERRORS:0,WARNINGS:1,INFOS:5},U5={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Ob={moveTo:0,lineTo:1,curveTo:2,closePath:3},xee={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let k6=A6.WARNINGS;function bee(t){Number.isInteger(t)&&(k6=t)}function yee(){return k6}function C6(t){k6>=A6.INFOS&&console.log(`Info: ${t}`)}function Dt(t){k6>=A6.WARNINGS&&console.log(`Warning: ${t}`)}function An(t){throw new Error(t)}function Ei(t,e){t||An(e)}function wee(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function vee(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const s=t.match(/\./g);(s==null?void 0:s.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=Eee(t)}catch{}}const i=e?URL.parse(t,e):URL.parse(t);return wee(i)?i:null}function Yt(t,e,n,i=!1){return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const Af=function(){function e(n,i){this.message=n,this.name=i}return e.prototype=new Error,e.constructor=e,e}();let mP=class extends Af{constructor(e,n){super(e,"PasswordException"),this.code=n}},bw=class extends Af{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}},Bv=class extends Af{constructor(e){super(e,"InvalidPDFException")}},z5=class extends Af{constructor(e,n,i){super(e,"ResponseException"),this.status=n,this.missing=i}},See=class extends Af{constructor(e){super(e,"FormatError")}},Fu=class extends Af{constructor(e){super(e,"AbortException")}};function cD(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&An("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let s=0;s<e;s+=n){const r=Math.min(s+n,e),a=t.subarray(s,r);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function Y9(t){typeof t!="string"&&An("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=t.charCodeAt(i)&255;return n}function Aee(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function Fk(t){const e=Object.create(null);for(const[n,i]of t)e[n]=i;return e}function kee(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function Cee(){try{return new Function(""),!0}catch{return!1}}class vs{static get isLittleEndian(){return Yt(this,"isLittleEndian",kee())}static get isEvalSupported(){return Yt(this,"isEvalSupported",Cee())}static get isOffscreenCanvasSupported(){return Yt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Yt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){if(typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"){const{platform:e,userAgent:n}=navigator;return Yt(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}return Yt(this,"platform",{isAndroid:!1,isLinux:!1,isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,n;return Yt(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const yw=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Gc,ev,Ry,jv;let pt=(ev=class{static makeHexColor(e,n,i){return`#${yw[e]}${yw[n]}${yw[i]}`}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const i=e[0]*n[0]+e[1]*n[2]+n[4],s=e[0]*n[1]+e[1]*n[3]+n[5];return[i,s]}static applyInverseTransform(e,n){const i=n[0]*n[3]-n[1]*n[2],s=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/i,r=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/i;return[s,r]}static getAxialAlignedBoundingBox(e,n){const i=this.applyTransform(e,n),s=this.applyTransform(e.slice(2,4),n),r=this.applyTransform([e[0],e[3]],n),a=this.applyTransform([e[2],e[1]],n);return[Math.min(i[0],s[0],r[0],a[0]),Math.min(i[1],s[1],r[1],a[1]),Math.max(i[0],s[0],r[0],a[0]),Math.max(i[1],s[1],r[1],a[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],i=e[0]*n[0]+e[1]*n[2],s=e[0]*n[1]+e[1]*n[3],r=e[2]*n[0]+e[3]*n[2],a=e[2]*n[1]+e[3]*n[3],o=(i+a)/2,l=Math.sqrt((i+a)**2-4*(i*a-r*s))/2,c=o+l||1,u=o-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const i=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(i>s)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return r>a?null:[i,r,s,a]}static pointBoundingBox(e,n,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],n),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],n)}static rectBoundingBox(e,n,i,s,r){r[0]=Math.min(r[0],e,i),r[1]=Math.min(r[1],n,s),r[2]=Math.max(r[2],e,i),r[3]=Math.max(r[3],n,s)}static bezierBoundingBox(e,n,i,s,r,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],n,l),M(this,Gc,jv).call(this,e,i,r,o,n,s,a,l,3*(-e+3*(i-r)+o),6*(e-2*i+r),3*(i-e),c),M(this,Gc,jv).call(this,e,i,r,o,n,s,a,l,3*(-n+3*(s-a)+l),6*(n-2*s+a),3*(s-n),c)}},Gc=new WeakSet,Ry=function(e,n,i,s,r,a,o,l,c,u){if(c<=0||c>=1)return;const d=1-c,p=c*c,g=p*c,m=d*(d*(d*e+3*c*n)+3*p*i)+g*s,b=d*(d*(d*r+3*c*a)+3*p*o)+g*l;u[0]=Math.min(u[0],m),u[1]=Math.min(u[1],b),u[2]=Math.max(u[2],m),u[3]=Math.max(u[3],b)},jv=function(e,n,i,s,r,a,o,l,c,u,d,p){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&M(this,Gc,Ry).call(this,e,n,i,s,r,a,o,l,-d/u,p);return}const g=u**2-4*d*c;if(g<0)return;const m=Math.sqrt(g),b=2*c;M(this,Gc,Ry).call(this,e,n,i,s,r,a,o,l,(-u+m)/b,p),M(this,Gc,Ry).call(this,e,n,i,s,r,a,o,l,(-u-m)/b,p)},L(ev,Gc),ev);function Eee(t){return decodeURIComponent(escape(t))}let ww=null,xP=null;function _ee(t){return ww||(ww=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,xP=new Map([["ﬅ","ſt"]])),t.replaceAll(ww,(e,n,i)=>n?n.normalize("NFKC"):xP.get(i))}function uD(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),cD(t)}const Mk="pdfjs_internal_id_";function Tee(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,s,...r]=n;if(!t(i)&&!Number.isInteger(i)||!e(s))return!1;const a=r.length;let o=!0;switch(s.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of r)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function tr(t,e,n){return Math.min(Math.max(t,e),n)}function hD(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(cD(t))}function Iee(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):Y9(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});const Ql="http://www.w3.org/2000/svg",Ph=class Ph{};qe(Ph,"CSS",96),qe(Ph,"PDF",72),qe(Ph,"PDF_TO_CSS_UNITS",Ph.CSS/Ph.PDF);let Mu=Ph;async function Z9(t,e="text"){if(o1(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(s.response);return}n(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})}class J9{constructor({viewBox:e,userUnit:n,scale:i,rotation:s,offsetX:r=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=n,this.scale=i,this.rotation=s,this.offsetX=r,this.offsetY=a,i*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,d,p,g;switch(s%=360,s<0&&(s+=360),s){case 180:u=-1,d=0,p=0,g=1;break;case 90:u=0,d=1,p=1,g=0;break;case 270:u=0,d=-1,p=-1,g=0;break;case 0:u=1,d=0,p=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(p=-p,g=-g);let m,b,v,S;u===0?(m=Math.abs(c-e[1])*i+r,b=Math.abs(l-e[0])*i+a,v=(e[3]-e[1])*i,S=(e[2]-e[0])*i):(m=Math.abs(l-e[0])*i+r,b=Math.abs(c-e[1])*i+a,v=(e[2]-e[0])*i,S=(e[3]-e[1])*i),this.transform=[u*i,d*i,p*i,g*i,m-u*i*l-p*i*c,b-d*i*l-g*i*c],this.width=v,this.height=S}get rawDims(){const e=this.viewBox;return Yt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:r=!1}={}){return new J9({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:i,offsetY:s,dontFlip:r})}convertToViewportPoint(e,n){return pt.applyTransform([e,n],this.transform)}convertToViewportRectangle(e){const n=pt.applyTransform([e[0],e[1]],this.transform),i=pt.applyTransform([e[2],e[3]],this.transform);return[n[0],n[1],i[0],i[1]]}convertToPdfPoint(e,n){return pt.applyInverseTransform([e,n],this.transform)}}class Dk extends Af{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function E6(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function Lk(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function Pee(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Nee(t,e="document.pdf"){if(typeof t!="string")return e;if(E6(t))return Dt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=n.exec(t);let r=i.exec(s[1])||i.exec(s[2])||i.exec(s[3]);if(r&&(r=r[0],r.includes("%")))try{r=i.exec(decodeURIComponent(r))[0]}catch{}return r||e}class bP{constructor(){qe(this,"started",Object.create(null));qe(this,"times",[])}time(e){e in this.started&&Dt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Dt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:i}of this.times)n=Math.max(i.length,n);for(const{name:i,start:s,end:r}of this.times)e.push(`${i.padEnd(n)} ${r-s}ms
`);return e.join("")}}function o1(t,e){const n=e?URL.parse(t,e):URL.parse(t);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function Oo(t){t.preventDefault()}function ki(t){t.preventDefault(),t.stopPropagation()}var i2;class Ok{static toDateObject(e){if(!e||typeof e!="string")return null;x(this,i2)||F(this,i2,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=x(this,i2).exec(e);if(!n)return null;const i=parseInt(n[1],10);let s=parseInt(n[2],10);s=s>=1&&s<=12?s-1:0;let r=parseInt(n[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(n[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let u=parseInt(n[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(n[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(a+=u,o+=d):c==="+"&&(a-=u,o-=d),new Date(Date.UTC(i,s,r,a,o,l))}}i2=new WeakMap,L(Ok,i2);function Ree(t,{scale:e=1,rotation:n=0}){const{width:i,height:s}=t.attributes.style,r=[0,0,parseInt(i),parseInt(s)];return new J9({viewBox:r,userUnit:1,scale:e,rotation:n})}function Bk(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Dt(`Not a valid color format: "${t}"`),[0,0,0])}function Fee(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,Bk(i))}e.remove()}function Un(t){const{a:e,b:n,c:i,d:s,e:r,f:a}=t.getTransform();return[e,n,i,s,r,a]}function Ko(t){const{a:e,b:n,c:i,d:s,e:r,f:a}=t.getTransform().invertSelf();return[e,n,i,s,r,a]}function cf(t,e,n=!1,i=!0){if(e instanceof J9){const{pageWidth:s,pageHeight:r}=e.rawDims,{style:a}=t,o=vs.isCSSRoundSupported,l=`var(--total-scale-factor) * ${s}px`,c=`var(--total-scale-factor) * ${r}px`,u=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(a.width=u,a.height=d):(a.width=d,a.height=u)}i&&t.setAttribute("data-main-rotation",e.rotation)}class Yc{constructor(){const{pixelRatio:e}=Yc;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,i,s){let r=1/0,a=1/0,o=1/0;i>0&&(r=Math.sqrt(i/(e*n))),s!==-1&&(a=s/e,o=s/n);const l=Math.min(r,a,o);return this.sx>l||this.sy>l?(this.sx=l,this.sy=l,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}}const $v=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var M0,Oh,Na,D0,s2,$1,r2,b8,dD,ws,fD,pD,jm,gD,Fy;const sc=class sc{constructor(e){L(this,ws);L(this,M0,null);L(this,Oh,null);L(this,Na);L(this,D0,null);L(this,s2,null);L(this,$1,null);F(this,Na,e),x(sc,r2)||F(sc,r2,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=F(this,M0,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=x(this,Na)._uiManager._signal;e.addEventListener("contextmenu",Oo,{signal:n}),e.addEventListener("pointerdown",M(sc,b8,dD),{signal:n});const i=F(this,D0,document.createElement("div"));i.className="buttons",e.append(i);const s=x(this,Na).toolbarPosition;if(s){const{style:r}=e,a=x(this,Na)._uiManager.direction==="ltr"?1-s[0]:s[0];r.insetInlineEnd=`${100*a}%`,r.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return M(this,ws,gD).call(this),e}get div(){return x(this,M0)}hide(){var e;x(this,M0).classList.add("hidden"),(e=x(this,Oh))==null||e.hideDropdown()}show(){var e;x(this,M0).classList.remove("hidden"),(e=x(this,s2))==null||e.shown()}async addAltText(e){const n=await e.render();M(this,ws,jm).call(this,n),x(this,D0).prepend(n,x(this,ws,Fy)),F(this,s2,e)}addColorPicker(e){F(this,Oh,e);const n=e.renderButton();M(this,ws,jm).call(this,n),x(this,D0).prepend(n,x(this,ws,Fy))}async addEditSignatureButton(e){const n=F(this,$1,await e.renderEditButton(x(this,Na)));M(this,ws,jm).call(this,n),x(this,D0).prepend(n,x(this,ws,Fy))}updateEditSignatureButton(e){x(this,$1)&&(x(this,$1).title=e)}remove(){var e;x(this,M0).remove(),(e=x(this,Oh))==null||e.destroy(),F(this,Oh,null)}};M0=new WeakMap,Oh=new WeakMap,Na=new WeakMap,D0=new WeakMap,s2=new WeakMap,$1=new WeakMap,r2=new WeakMap,b8=new WeakSet,dD=function(e){e.stopPropagation()},ws=new WeakSet,fD=function(e){x(this,Na)._focusEventsAllowed=!1,ki(e)},pD=function(e){x(this,Na)._focusEventsAllowed=!0,ki(e)},jm=function(e){const n=x(this,Na)._uiManager._signal;e.addEventListener("focusin",M(this,ws,fD).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",M(this,ws,pD).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Oo,{signal:n})},gD=function(){const{editorType:e,_uiManager:n}=x(this,Na),i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",x(sc,r2)[e]),M(this,ws,jm).call(this,i),i.addEventListener("click",s=>{n.delete()},{signal:n._signal}),x(this,D0).append(i)},Fy=function(){const e=document.createElement("div");return e.className="divider",e},L(sc,b8),L(sc,r2,null);let Uv=sc;var a2,Bh,jh,Ou,mD,xD,bD;class Mee{constructor(e){L(this,Ou);L(this,a2,null);L(this,Bh,null);L(this,jh);F(this,jh,e)}show(e,n,i){const[s,r]=M(this,Ou,xD).call(this,n,i),{style:a}=x(this,Bh)||F(this,Bh,M(this,Ou,mD).call(this));e.append(x(this,Bh)),a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){x(this,Bh).remove()}}a2=new WeakMap,Bh=new WeakMap,jh=new WeakMap,Ou=new WeakSet,mD=function(){const e=F(this,Bh,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Oo,{signal:x(this,jh)._signal});const n=F(this,a2,document.createElement("div"));return n.className="buttons",e.append(n),M(this,Ou,bD).call(this),e},xD=function(e,n){let i=0,s=0;for(const r of e){const a=r.y+r.height;if(a<i)continue;const o=r.x+(n?r.width:0);if(a>i){s=o,i=a;continue}n?o>s&&(s=o):o<s&&(s=o)}return[n?1-s:s,i]},bD=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const i=x(this,jh)._signal;e.addEventListener("contextmenu",Oo,{signal:i}),e.addEventListener("click",()=>{x(this,jh).highlightSelection("floating_button")},{signal:i}),x(this,a2).append(e)};function jk(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}var y8;class Dee{constructor(){L(this,y8,0)}get id(){return`${gee}${Ws(this,y8)._++}`}}y8=new WeakMap;var U1,o2,Ns,z1,My;const TC=class TC{constructor(){L(this,z1);L(this,U1,uD());L(this,o2,0);L(this,Ns,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;const r=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Yt(this,"_isSVGFittingCanvas",r)}async getFromFile(e){const{lastModified:n,name:i,size:s,type:r}=e;return M(this,z1,My).call(this,`${n}_${i}_${s}_${r}`,e)}async getFromUrl(e){return M(this,z1,My).call(this,e,e)}async getFromBlob(e,n){const i=await n;return M(this,z1,My).call(this,e,i)}async getFromId(e){x(this,Ns)||F(this,Ns,new Map);const n=x(this,Ns).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:i}=n;return delete n.blobPromise,this.getFromBlob(n.id,i)}return this.getFromUrl(n.url)}getFromCanvas(e,n){x(this,Ns)||F(this,Ns,new Map);let i=x(this,Ns).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const s=new OffscreenCanvas(n.width,n.height);return s.getContext("2d").drawImage(n,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${x(this,U1)}_${Ws(this,o2)._++}`,refCounter:1,isSvg:!1},x(this,Ns).set(e,i),x(this,Ns).set(i.id,i),i}getSvgUrl(e){const n=x(this,Ns).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var s;x(this,Ns)||F(this,Ns,new Map);const n=x(this,Ns).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:i}=n;if(!n.url&&!n.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=r.convertToBlob()}(s=i.close)==null||s.call(i),n.bitmap=null}isValidId(e){return e.startsWith(`image_${x(this,U1)}_`)}};U1=new WeakMap,o2=new WeakMap,Ns=new WeakMap,z1=new WeakSet,My=async function(e,n){x(this,Ns)||F(this,Ns,new Map);let i=x(this,Ns).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${x(this,U1)}_${Ws(this,o2)._++}`,refCounter:0,isSvg:!1});let s;if(typeof n=="string"?(i.url=n,s=await Z9(n,"blob")):n instanceof File?s=i.file=n:n instanceof Blob&&(s=n),s.type==="image/svg+xml"){const r=TC._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,c()},a.onload=async()=>{const d=i.svgUrl=a.result;o.src=await r?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=u});a.readAsDataURL(s),await l}else i.bitmap=await createImageBitmap(s);i.refCounter=1}catch(s){Dt(s),i=null}return x(this,Ns).set(e,i),i&&x(this,Ns).set(i.id,i),i};let zv=TC;var fi,L0,l2,ei;class Lee{constructor(e=128){L(this,fi,[]);L(this,L0,!1);L(this,l2);L(this,ei,-1);F(this,l2,e)}add({cmd:e,undo:n,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(s&&e(),x(this,L0))return;const l={cmd:e,undo:n,post:i,type:r};if(x(this,ei)===-1){x(this,fi).length>0&&(x(this,fi).length=0),F(this,ei,0),x(this,fi).push(l);return}if(a&&x(this,fi)[x(this,ei)].type===r){o&&(l.undo=x(this,fi)[x(this,ei)].undo),x(this,fi)[x(this,ei)]=l;return}const c=x(this,ei)+1;c===x(this,l2)?x(this,fi).splice(0,1):(F(this,ei,c),c<x(this,fi).length&&x(this,fi).splice(c)),x(this,fi).push(l)}undo(){if(x(this,ei)===-1)return;F(this,L0,!0);const{undo:e,post:n}=x(this,fi)[x(this,ei)];e(),n==null||n(),F(this,L0,!1),F(this,ei,x(this,ei)-1)}redo(){if(x(this,ei)<x(this,fi).length-1){F(this,ei,x(this,ei)+1),F(this,L0,!0);const{cmd:e,post:n}=x(this,fi)[x(this,ei)];e(),n==null||n(),F(this,L0,!1)}}hasSomethingToUndo(){return x(this,ei)!==-1}hasSomethingToRedo(){return x(this,ei)<x(this,fi).length-1}cleanType(e){if(x(this,ei)!==-1){for(let n=x(this,ei);n>=0;n--)if(x(this,fi)[n].type!==e){x(this,fi).splice(n+1,x(this,ei)-n),F(this,ei,n);return}x(this,fi).length=0,F(this,ei,-1)}}destroy(){F(this,fi,null)}}fi=new WeakMap,L0=new WeakMap,l2=new WeakMap,ei=new WeakMap;var w8,yD;class Q9{constructor(e){L(this,w8);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=vs.platform;for(const[i,s,r={}]of e)for(const a of i){const o=a.startsWith("mac+");n&&o?(this.callbacks.set(a.slice(4),{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1))):!n&&!o&&(this.callbacks.set(a,{callback:s,options:r}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const i=this.callbacks.get(M(this,w8,yD).call(this,n));if(!i)return;const{callback:s,options:{bubbles:r=!1,args:a=[],checker:o=null}}=i;o&&!o(e,n)||(s.bind(e,...a,n)(),r||ki(n))}}w8=new WeakSet,yD=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const v8=class v8{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Fee(e),Yt(this,"_colors",e)}convert(e){const n=Bk(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[i,s]of this._colors)if(s.every((r,a)=>r===n[a]))return v8._colorsMapping.get(i);return n}getHexCode(e){const n=this._colors.get(e);return n?pt.makeHexColor(...n):e}};qe(v8,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Hv=v8;var H1,Xr,Di,as,q1,cc,G1,Ra,O0,$h,W1,Uh,sl,ho,zh,c2,u2,V1,h2,rl,B0,X1,j0,al,S8,$0,d2,U0,Hh,qh,z0,f2,Hi,yn,uc,H0,Gh,p2,g2,q0,ol,hc,m2,Fa,Ze,Dy,qv,wD,vD,Ly,SD,AD,kD,Gv,CD,Wv,Vv,ED,Ys,ec,_D,TD,Xv,ID,$m,Kv;const C1=class C1{constructor(e,n,i,s,r,a,o,l,c,u,d,p,g,m){L(this,Ze);L(this,H1,new AbortController);L(this,Xr,null);L(this,Di,new Map);L(this,as,new Map);L(this,q1,null);L(this,cc,null);L(this,G1,null);L(this,Ra,new Lee);L(this,O0,null);L(this,$h,null);L(this,W1,0);L(this,Uh,new Set);L(this,sl,null);L(this,ho,null);L(this,zh,new Set);qe(this,"_editorUndoBar",null);L(this,c2,!1);L(this,u2,!1);L(this,V1,!1);L(this,h2,null);L(this,rl,null);L(this,B0,null);L(this,X1,null);L(this,j0,!1);L(this,al,null);L(this,S8,new Dee);L(this,$0,!1);L(this,d2,!1);L(this,U0,null);L(this,Hh,null);L(this,qh,null);L(this,z0,null);L(this,f2,null);L(this,Hi,Ft.NONE);L(this,yn,new Set);L(this,uc,null);L(this,H0,null);L(this,Gh,null);L(this,p2,null);L(this,g2,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});L(this,q0,[0,0]);L(this,ol,null);L(this,hc,null);L(this,m2,null);L(this,Fa,null);const b=this._signal=x(this,H1).signal;F(this,hc,e),F(this,m2,n),F(this,q1,i),F(this,H0,s),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:b}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:b}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:b}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:b}),r._on("setpreference",this.onSetPreference.bind(this),{signal:b}),r._on("switchannotationeditorparams",v=>this.updateParams(v.type,v.value),{signal:b}),M(this,Ze,SD).call(this),M(this,Ze,ED).call(this),M(this,Ze,Gv).call(this),F(this,cc,a.annotationStorage),F(this,h2,a.filterFactory),F(this,Gh,o),F(this,X1,l||null),F(this,c2,c),F(this,u2,u),F(this,V1,d),F(this,f2,p||null),this.viewParameters={realScale:Mu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=g||null,this._supportsPinchToZoom=m!==!1}static get _keyboardManager(){const e=C1.prototype,n=a=>x(a,hc).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},s=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Yt(this,"_keyboardManager",new Q9([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&x(a,hc).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&x(a,hc).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:n}]]))}destroy(){var e,n,i,s,r,a,o,l;(e=x(this,Fa))==null||e.resolve(),F(this,Fa,null),(n=x(this,H1))==null||n.abort(),F(this,H1,null),this._signal=null;for(const c of x(this,as).values())c.destroy();x(this,as).clear(),x(this,Di).clear(),x(this,zh).clear(),(i=x(this,z0))==null||i.clear(),F(this,Xr,null),x(this,yn).clear(),x(this,Ra).destroy(),(s=x(this,q1))==null||s.destroy(),(r=x(this,H0))==null||r.destroy(),(a=x(this,al))==null||a.hide(),F(this,al,null),(o=x(this,qh))==null||o.destroy(),F(this,qh,null),x(this,rl)&&(clearTimeout(x(this,rl)),F(this,rl,null)),x(this,ol)&&(clearTimeout(x(this,ol)),F(this,ol,null)),(l=this._editorUndoBar)==null||l.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return x(this,f2)}get useNewAltTextFlow(){return x(this,u2)}get useNewAltTextWhenAddingImage(){return x(this,V1)}get hcmFilter(){return Yt(this,"hcmFilter",x(this,Gh)?x(this,h2).addHCMFilter(x(this,Gh).foreground,x(this,Gh).background):"none")}get direction(){return Yt(this,"direction",getComputedStyle(x(this,hc)).direction)}get highlightColors(){return Yt(this,"highlightColors",x(this,X1)?new Map(x(this,X1).split(",").map(e=>e.split("=").map(n=>n.trim()))):null)}get highlightColorNames(){return Yt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),F(this,$h,e)}setMainHighlightColorPicker(e){F(this,qh,e)}editAltText(e,n=!1){var i;(i=x(this,q1))==null||i.editAltText(this,e,n)}getSignature(e){var n;(n=x(this,H0))==null||n.getSignature({uiManager:this,editor:e})}get signatureManager(){return x(this,H0)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":F(this,V1,n);break}}onPageChanging({pageNumber:e}){F(this,W1,e-1)}focusMainContainer(){x(this,hc).focus()}findParent(e,n){for(const i of x(this,as).values()){const{x:s,y:r,width:a,height:o}=i.div.getBoundingClientRect();if(e>=s&&e<=s+a&&n>=r&&n<=r+o)return i}return null}disableUserSelect(e=!1){x(this,m2).classList.toggle("noUserSelect",e)}addShouldRescale(e){x(this,zh).add(e)}removeShouldRescale(e){x(this,zh).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*Mu.PDF_TO_CSS_UNITS;for(const i of x(this,zh))i.onScaleChanging();(n=x(this,$h))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:a}=n,o=n.toString(),c=M(this,Ze,Dy).call(this,n).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;n.empty();const d=M(this,Ze,qv).call(this,c),p=x(this,Hi)===Ft.NONE,g=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:u,anchorNode:i,anchorOffset:s,focusNode:r,focusOffset:a,text:o}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(Ft.HIGHLIGHT,g);return}g()}addToAnnotationStorage(e){!e.isEmpty()&&x(this,cc)&&!x(this,cc).has(e.id)&&x(this,cc).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,x(this,j0)&&(F(this,j0,!1),M(this,Ze,Ly).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of x(this,yn))if(n.div.contains(e)){F(this,Hh,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!x(this,Hh))return;const[e,n]=x(this,Hh);F(this,Hh,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){M(this,Ze,Gv).call(this),M(this,Ze,Wv).call(this)}removeEditListeners(){M(this,Ze,CD).call(this),M(this,Ze,Vv).call(this)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const i of x(this,ho))if(i.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const i of x(this,ho))if(i.isHandlingMimeForPasting(n.type)){i.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=x(this,Xr))==null||i.commitOrRemove(),!this.hasSelection)return;const n=[];for(const s of x(this,yn)){const r=s.serialize(!0);r&&n.push(r)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const r of n.items)for(const a of x(this,ho))if(a.isHandlingMimeForPasting(r.type)){a.paste(r,this.currentLayer);return}let i=n.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(r){Dt(`paste: "${r.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const s=this.currentLayer;try{const r=[];for(const l of i){const c=await s.deserialize(l);if(!c)return;r.push(c)}const a=()=>{for(const l of r)M(this,Ze,Xv).call(this,l);M(this,Ze,Kv).call(this,r)},o=()=>{for(const l of r)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(r){Dt(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),x(this,Hi)!==Ft.NONE&&!this.isEditorHandlingKeyboard&&C1._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,x(this,j0)&&(F(this,j0,!1),M(this,Ze,Ly).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(M(this,Ze,AD).call(this),M(this,Ze,Wv).call(this),M(this,Ze,Ys).call(this,{isEditing:x(this,Hi)!==Ft.NONE,isEmpty:M(this,Ze,$m).call(this),hasSomethingToUndo:x(this,Ra).hasSomethingToUndo(),hasSomethingToRedo:x(this,Ra).hasSomethingToRedo(),hasSelectedEditor:!1})):(M(this,Ze,kD).call(this),M(this,Ze,Vv).call(this),M(this,Ze,Ys).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!x(this,ho)){F(this,ho,e);for(const n of x(this,ho))M(this,Ze,ec).call(this,n.defaultPropertiesToUpdate)}}getId(){return x(this,S8).id}get currentLayer(){return x(this,as).get(x(this,W1))}getLayer(e){return x(this,as).get(e)}get currentPageIndex(){return x(this,W1)}addLayer(e){x(this,as).set(e.pageIndex,e),x(this,$0)?e.enable():e.disable()}removeLayer(e){x(this,as).delete(e.pageIndex)}async updateMode(e,n=null,i=!1){var s,r;if(x(this,Hi)!==e&&!(x(this,Fa)&&(await x(this,Fa).promise,!x(this,Fa)))){if(F(this,Fa,Promise.withResolvers()),F(this,Hi,e),e===Ft.NONE){this.setEditingState(!1),M(this,Ze,TD).call(this),(s=this._editorUndoBar)==null||s.hide(),x(this,Fa).resolve();return}e===Ft.SIGNATURE&&await((r=x(this,H0))==null?void 0:r.loadSignatures()),this.setEditingState(!0),await M(this,Ze,_D).call(this),this.unselectAll();for(const a of x(this,as).values())a.updateMode(e);if(!n){i&&this.addNewEditorFromKeyboard(),x(this,Fa).resolve();return}for(const a of x(this,Di).values())a.annotationElementId===n?(this.setSelected(a),a.enterInEditMode()):a.unselect();x(this,Fa).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==x(this,Hi)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,n){var i;if(x(this,ho)){switch(e){case en.CREATE:this.currentLayer.addNewEditor(n);return;case en.HIGHLIGHT_DEFAULT_COLOR:(i=x(this,qh))==null||i.updateColor(n);break;case en.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(x(this,p2)||F(this,p2,new Map)).set(e,n),this.showAllEditors("highlight",n);break}for(const s of x(this,yn))s.updateParams(e,n);for(const s of x(this,ho))s.updateDefaultParams(e,n)}}showAllEditors(e,n,i=!1){var r;for(const a of x(this,Di).values())a.editorType===e&&a.show(n);(((r=x(this,p2))==null?void 0:r.get(en.HIGHLIGHT_SHOW_ALL))??!0)!==n&&M(this,Ze,ec).call(this,[[en.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(x(this,d2)!==e){F(this,d2,e);for(const n of x(this,as).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}getEditors(e){const n=[];for(const i of x(this,Di).values())i.pageIndex===e&&n.push(i);return n}getEditor(e){return x(this,Di).get(e)}addEditor(e){x(this,Di).set(e.id,e)}removeEditor(e){var n,i;e.div.contains(document.activeElement)&&(x(this,rl)&&clearTimeout(x(this,rl)),F(this,rl,setTimeout(()=>{this.focusMainContainer(),F(this,rl,null)},0))),x(this,Di).delete(e.id),e.annotationElementId&&((n=x(this,z0))==null||n.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!x(this,Uh).has(e.annotationElementId))&&((i=x(this,cc))==null||i.remove(e.id))}addDeletedAnnotationElement(e){x(this,Uh).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return x(this,Uh).has(e)}removeDeletedAnnotationElement(e){x(this,Uh).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){x(this,Xr)!==e&&(F(this,Xr,e),e&&M(this,Ze,ec).call(this,e.propertiesToUpdate))}updateUI(e){x(this,Ze,ID)===e&&M(this,Ze,ec).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){M(this,Ze,ec).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(x(this,yn).has(e)){x(this,yn).delete(e),e.unselect(),M(this,Ze,Ys).call(this,{hasSelectedEditor:this.hasSelection});return}x(this,yn).add(e),e.select(),M(this,Ze,ec).call(this,e.propertiesToUpdate),M(this,Ze,Ys).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;(n=x(this,$h))==null||n.commitOrRemove();for(const i of x(this,yn))i!==e&&i.unselect();x(this,yn).clear(),x(this,yn).add(e),e.select(),M(this,Ze,ec).call(this,e.propertiesToUpdate),M(this,Ze,Ys).call(this,{hasSelectedEditor:!0})}isSelected(e){return x(this,yn).has(e)}get firstSelectedEditor(){return x(this,yn).values().next().value}unselect(e){e.unselect(),x(this,yn).delete(e),M(this,Ze,Ys).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return x(this,yn).size!==0}get isEnterHandled(){return x(this,yn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;x(this,Ra).undo(),M(this,Ze,Ys).call(this,{hasSomethingToUndo:x(this,Ra).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:M(this,Ze,$m).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){x(this,Ra).redo(),M(this,Ze,Ys).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:x(this,Ra).hasSomethingToRedo(),isEmpty:M(this,Ze,$m).call(this)})}addCommands(e){x(this,Ra).add(e),M(this,Ze,Ys).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:M(this,Ze,$m).call(this)})}cleanUndoStack(e){x(this,Ra).cleanType(e)}delete(){var r;this.commitOrRemove();const e=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...x(this,yn)],i=()=>{var a;(a=this._editorUndoBar)==null||a.show(s,n.length===1?n[0].editorType:n.length);for(const o of n)o.remove()},s=()=>{for(const a of n)M(this,Ze,Xv).call(this,a)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){var e;(e=x(this,Xr))==null||e.commitOrRemove()}hasSomethingToControl(){return x(this,Xr)||this.hasSelection}selectAll(){for(const e of x(this,yn))e.commit();M(this,Ze,Kv).call(this,x(this,Di).values())}unselectAll(){var e;if(!(x(this,Xr)&&(x(this,Xr).commitOrRemove(),x(this,Hi)!==Ft.NONE))&&!((e=x(this,$h))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of x(this,yn))n.unselect();x(this,yn).clear(),M(this,Ze,Ys).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;x(this,q0)[0]+=e,x(this,q0)[1]+=n;const[s,r]=x(this,q0),a=[...x(this,yn)],o=1e3;x(this,ol)&&clearTimeout(x(this,ol)),F(this,ol,setTimeout(()=>{F(this,ol,null),x(this,q0)[0]=x(this,q0)[1]=0,this.addCommands({cmd:()=>{for(const l of a)x(this,Di).has(l.id)&&(l.translateInPage(s,r),l.translationDone())},undo:()=>{for(const l of a)x(this,Di).has(l.id)&&(l.translateInPage(-s,-r),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,n),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),F(this,sl,new Map);for(const e of x(this,yn))x(this,sl).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!x(this,sl))return!1;this.disableUserSelect(!1);const e=x(this,sl);F(this,sl,null);let n=!1;for(const[{x:s,y:r,pageIndex:a},o]of e)o.newX=s,o.newY=r,o.newPageIndex=a,n||(n=s!==o.savedX||r!==o.savedY||a!==o.savedPageIndex);if(!n)return!1;const i=(s,r,a,o)=>{if(x(this,Di).has(s.id)){const l=x(this,as).get(o);l?s._setParentAndPosition(l,r,a):(s.pageIndex=o,s.x=r,s.y=a)}};return this.addCommands({cmd:()=>{for(const[s,{newX:r,newY:a,newPageIndex:o}]of e)i(s,r,a,o)},undo:()=>{for(const[s,{savedX:r,savedY:a,savedPageIndex:o}]of e)i(s,r,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(x(this,sl))for(const i of x(this,sl).keys())i.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||x(this,yn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return x(this,Xr)===e}getActive(){return x(this,Xr)}getMode(){return x(this,Hi)}get imageManager(){return Yt(this,"imageManager",new zv)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,u=n.rangeCount;c<u;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:i,y:s,width:r,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,u,d,p)=>({x:(u-s)/a,y:1-(c+d-i)/r,width:p/a,height:d/r});break;case"180":o=(c,u,d,p)=>({x:1-(c+d-i)/r,y:1-(u+p-s)/a,width:d/r,height:p/a});break;case"270":o=(c,u,d,p)=>({x:1-(u+p-s)/a,y:(c-i)/r,width:p/a,height:d/r});break;default:o=(c,u,d,p)=>({x:(c-i)/r,y:(u-s)/a,width:d/r,height:p/a});break}const l=[];for(let c=0,u=n.rangeCount;c<u;c++){const d=n.getRangeAt(c);if(!d.collapsed)for(const{x:p,y:g,width:m,height:b}of d.getClientRects())m===0||b===0||l.push(o(p,g,m,b))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(x(this,G1)||F(this,G1,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=x(this,G1))==null||n.delete(e)}renderAnnotationElement(e){var s;const n=(s=x(this,G1))==null?void 0:s.get(e.data.id);if(!n)return;const i=x(this,cc).getRawValue(n);i&&(x(this,Hi)===Ft.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,n,i){var r;const s=(r=x(this,z0))==null?void 0:r.get(e);s&&(s.setCanvas(n,i),x(this,z0).delete(e))}addMissingCanvas(e,n){(x(this,z0)||F(this,z0,new Map)).set(e,n)}};H1=new WeakMap,Xr=new WeakMap,Di=new WeakMap,as=new WeakMap,q1=new WeakMap,cc=new WeakMap,G1=new WeakMap,Ra=new WeakMap,O0=new WeakMap,$h=new WeakMap,W1=new WeakMap,Uh=new WeakMap,sl=new WeakMap,ho=new WeakMap,zh=new WeakMap,c2=new WeakMap,u2=new WeakMap,V1=new WeakMap,h2=new WeakMap,rl=new WeakMap,B0=new WeakMap,X1=new WeakMap,j0=new WeakMap,al=new WeakMap,S8=new WeakMap,$0=new WeakMap,d2=new WeakMap,U0=new WeakMap,Hh=new WeakMap,qh=new WeakMap,z0=new WeakMap,f2=new WeakMap,Hi=new WeakMap,yn=new WeakMap,uc=new WeakMap,H0=new WeakMap,Gh=new WeakMap,p2=new WeakMap,g2=new WeakMap,q0=new WeakMap,ol=new WeakMap,hc=new WeakMap,m2=new WeakMap,Fa=new WeakMap,Ze=new WeakSet,Dy=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},qv=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const i of x(this,as).values())if(i.hasTextLayer(e))return i;return null},wD=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=M(this,Ze,Dy).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(i);s&&(x(this,al)||F(this,al,new Mee(this)),x(this,al).show(i,s,this.direction==="ltr"))},vD=function(){var r,a,o;const e=document.getSelection();if(!e||e.isCollapsed){x(this,uc)&&((r=x(this,al))==null||r.hide(),F(this,uc,null),M(this,Ze,Ys).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===x(this,uc))return;const s=M(this,Ze,Dy).call(this,e).closest(".textLayer");if(!s){x(this,uc)&&((a=x(this,al))==null||a.hide(),F(this,uc,null),M(this,Ze,Ys).call(this,{hasSelectedText:!1}));return}if((o=x(this,al))==null||o.hide(),F(this,uc,n),M(this,Ze,Ys).call(this,{hasSelectedText:!0}),!(x(this,Hi)!==Ft.HIGHLIGHT&&x(this,Hi)!==Ft.NONE)&&(x(this,Hi)===Ft.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),F(this,j0,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=x(this,Hi)===Ft.HIGHLIGHT?M(this,Ze,qv).call(this,s):null;l==null||l.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),d=p=>{p.type==="pointerup"&&p.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),p.type==="pointerup"&&M(this,Ze,Ly).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}},Ly=function(e=""){x(this,Hi)===Ft.HIGHLIGHT?this.highlightSelection(e):x(this,c2)&&M(this,Ze,wD).call(this)},SD=function(){document.addEventListener("selectionchange",M(this,Ze,vD).bind(this),{signal:this._signal})},AD=function(){if(x(this,B0))return;F(this,B0,new AbortController);const e=this.combinedSignal(x(this,B0));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},kD=function(){var e;(e=x(this,B0))==null||e.abort(),F(this,B0,null)},Gv=function(){if(x(this,U0))return;F(this,U0,new AbortController);const e=this.combinedSignal(x(this,U0));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},CD=function(){var e;(e=x(this,U0))==null||e.abort(),F(this,U0,null)},Wv=function(){if(x(this,O0))return;F(this,O0,new AbortController);const e=this.combinedSignal(x(this,O0));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Vv=function(){var e;(e=x(this,O0))==null||e.abort(),F(this,O0,null)},ED=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ys=function(e){Object.entries(e).some(([i,s])=>x(this,g2)[i]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(x(this,g2),e)}),x(this,Hi)===Ft.HIGHLIGHT&&e.hasSelectedEditor===!1&&M(this,Ze,ec).call(this,[[en.HIGHLIGHT_FREE,!0]]))},ec=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},_D=async function(){if(!x(this,$0)){F(this,$0,!0);const e=[];for(const n of x(this,as).values())e.push(n.enable());await Promise.all(e);for(const n of x(this,Di).values())n.enable()}},TD=function(){if(this.unselectAll(),x(this,$0)){F(this,$0,!1);for(const e of x(this,as).values())e.disable();for(const e of x(this,Di).values())e.disable()}},Xv=function(e){const n=x(this,as).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},ID=function(){let e=null;for(e of x(this,yn));return e},$m=function(){if(x(this,Di).size===0)return!0;if(x(this,Di).size===1)for(const e of x(this,Di).values())return e.isEmpty();return!1},Kv=function(e){for(const n of x(this,yn))n.unselect();x(this,yn).clear();for(const n of e)n.isEmpty()||(x(this,yn).add(n),n.select());M(this,Ze,Ys).call(this,{hasSelectedEditor:this.hasSelection})},qe(C1,"TRANSLATE_SMALL",1),qe(C1,"TRANSLATE_BIG",10);let uf=C1;var qi,ll,fo,K1,cl,Kr,Y1,ul,Cr,dc,Wh,hl,G0,Ro,Um,Oy;const Zs=class Zs{constructor(e){L(this,Ro);L(this,qi,null);L(this,ll,!1);L(this,fo,null);L(this,K1,null);L(this,cl,null);L(this,Kr,null);L(this,Y1,!1);L(this,ul,null);L(this,Cr,null);L(this,dc,null);L(this,Wh,null);L(this,hl,!1);F(this,Cr,e),F(this,hl,e._uiManager.useNewAltTextFlow),x(Zs,G0)||F(Zs,G0,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Zs._l10n??(Zs._l10n=e)}async render(){const e=F(this,fo,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=F(this,K1,document.createElement("span"));e.append(n),x(this,hl)?(e.classList.add("new"),e.setAttribute("data-l10n-id",x(Zs,G0).missing),n.setAttribute("data-l10n-id",x(Zs,G0)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=x(this,Cr)._uiManager._signal;e.addEventListener("contextmenu",Oo,{signal:i}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:i});const s=r=>{r.preventDefault(),x(this,Cr)._uiManager.editAltText(x(this,Cr)),x(this,hl)&&x(this,Cr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:x(this,Ro,Um)}})};return e.addEventListener("click",s,{capture:!0,signal:i}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(F(this,Y1,!0),s(r))},{signal:i}),await M(this,Ro,Oy).call(this),e}finish(){x(this,fo)&&(x(this,fo).focus({focusVisible:x(this,Y1)}),F(this,Y1,!1))}isEmpty(){return x(this,hl)?x(this,qi)===null:!x(this,qi)&&!x(this,ll)}hasData(){return x(this,hl)?x(this,qi)!==null||!!x(this,dc):this.isEmpty()}get guessedText(){return x(this,dc)}async setGuessedText(e){x(this,qi)===null&&(F(this,dc,e),F(this,Wh,await Zs._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),M(this,Ro,Oy).call(this))}toggleAltTextBadge(e=!1){var n;if(!x(this,hl)||x(this,qi)){(n=x(this,ul))==null||n.remove(),F(this,ul,null);return}if(!x(this,ul)){const i=F(this,ul,document.createElement("div"));i.className="noAltTextBadge",x(this,Cr).div.append(i)}x(this,ul).classList.toggle("hidden",!e)}serialize(e){let n=x(this,qi);return!e&&x(this,dc)===n&&(n=x(this,Wh)),{altText:n,decorative:x(this,ll),guessedText:x(this,dc),textWithDisclaimer:x(this,Wh)}}get data(){return{altText:x(this,qi),decorative:x(this,ll)}}set data({altText:e,decorative:n,guessedText:i,textWithDisclaimer:s,cancel:r=!1}){i&&(F(this,dc,i),F(this,Wh,s)),!(x(this,qi)===e&&x(this,ll)===n)&&(r||(F(this,qi,e),F(this,ll,n)),M(this,Ro,Oy).call(this))}toggle(e=!1){x(this,fo)&&(!e&&x(this,Kr)&&(clearTimeout(x(this,Kr)),F(this,Kr,null)),x(this,fo).disabled=!e)}shown(){x(this,Cr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:x(this,Ro,Um)}})}destroy(){var e,n;(e=x(this,fo))==null||e.remove(),F(this,fo,null),F(this,K1,null),F(this,cl,null),(n=x(this,ul))==null||n.remove(),F(this,ul,null)}};qi=new WeakMap,ll=new WeakMap,fo=new WeakMap,K1=new WeakMap,cl=new WeakMap,Kr=new WeakMap,Y1=new WeakMap,ul=new WeakMap,Cr=new WeakMap,dc=new WeakMap,Wh=new WeakMap,hl=new WeakMap,G0=new WeakMap,Ro=new WeakSet,Um=function(){return x(this,qi)&&"added"||x(this,qi)===null&&this.guessedText&&"review"||"missing"},Oy=async function(){var s,r,a;const e=x(this,fo);if(!e)return;if(x(this,hl)){if(e.classList.toggle("done",!!x(this,qi)),e.setAttribute("data-l10n-id",x(Zs,G0)[x(this,Ro,Um)]),(s=x(this,K1))==null||s.setAttribute("data-l10n-id",x(Zs,G0)[`${x(this,Ro,Um)}-label`]),!x(this,qi)){(r=x(this,cl))==null||r.remove();return}}else{if(!x(this,qi)&&!x(this,ll)){e.classList.remove("done"),(a=x(this,cl))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=x(this,cl);if(!n){F(this,cl,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${x(this,Cr).id}`;const o=100,l=x(this,Cr)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(x(this,Kr)),F(this,Kr,null)},{once:!0}),e.addEventListener("mouseenter",()=>{F(this,Kr,setTimeout(()=>{F(this,Kr,null),x(this,cl).classList.add("show"),x(this,Cr)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;x(this,Kr)&&(clearTimeout(x(this,Kr)),F(this,Kr,null)),(c=x(this,cl))==null||c.classList.remove("show")},{signal:l})}x(this,ll)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=x(this,qi)),n.parentNode||e.append(n);const i=x(this,Cr).getElementForAltText();i==null||i.setAttribute("aria-describedby",n.id)},L(Zs,G0,null),qe(Zs,"_l10n",null);let H5=Zs;var Z1,Vh,x2,b2,y2,w2,v2,fc,Xh,pc,Kh,W0,Bu,PD,ND,RD;const IC=class IC{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:s=null,onPinching:r=null,onPinchEnd:a=null,signal:o}){L(this,Bu);L(this,Z1);L(this,Vh,!1);L(this,x2,null);L(this,b2);L(this,y2);L(this,w2);L(this,v2);L(this,fc,null);L(this,Xh);L(this,pc,null);L(this,Kh);L(this,W0,null);F(this,Z1,e),F(this,x2,i),F(this,b2,n),F(this,y2,s),F(this,w2,r),F(this,v2,a),F(this,Kh,new AbortController),F(this,Xh,AbortSignal.any([o,x(this,Kh).signal])),e.addEventListener("touchstart",M(this,Bu,PD).bind(this),{passive:!1,signal:x(this,Xh)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Yc.pixelRatio}destroy(){var e,n;(e=x(this,Kh))==null||e.abort(),F(this,Kh,null),(n=x(this,fc))==null||n.abort(),F(this,fc,null)}};Z1=new WeakMap,Vh=new WeakMap,x2=new WeakMap,b2=new WeakMap,y2=new WeakMap,w2=new WeakMap,v2=new WeakMap,fc=new WeakMap,Xh=new WeakMap,pc=new WeakMap,Kh=new WeakMap,W0=new WeakMap,Bu=new WeakSet,PD=function(e){var s,r,a;if((s=x(this,b2))!=null&&s.call(this))return;if(e.touches.length===1){if(x(this,fc))return;const o=F(this,fc,new AbortController),l=AbortSignal.any([x(this,Xh),o.signal]),c=x(this,Z1),u={capture:!0,signal:l,passive:!1},d=p=>{var g;p.pointerType==="touch"&&((g=x(this,fc))==null||g.abort(),F(this,fc,null))};c.addEventListener("pointerdown",p=>{p.pointerType==="touch"&&(ki(p),d(p))},u),c.addEventListener("pointerup",d,u),c.addEventListener("pointercancel",d,u);return}if(!x(this,W0)){F(this,W0,new AbortController);const o=AbortSignal.any([x(this,Xh),x(this,W0).signal]),l=x(this,Z1),c={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",M(this,Bu,ND).bind(this),c);const u=M(this,Bu,RD).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",ki,c),l.addEventListener("pointermove",ki,c),l.addEventListener("pointercancel",ki,c),l.addEventListener("pointerup",ki,c),(r=x(this,y2))==null||r.call(this)}if(ki(e),e.touches.length!==2||(a=x(this,x2))!=null&&a.call(this)){F(this,pc,null);return}let[n,i]=e.touches;n.identifier>i.identifier&&([n,i]=[i,n]),F(this,pc,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:i.screenX,touch1Y:i.screenY})},ND=function(e){var w;if(!x(this,pc)||e.touches.length!==2)return;ki(e);let[n,i]=e.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:s,screenY:r}=n,{screenX:a,screenY:o}=i,l=x(this,pc),{touch0X:c,touch0Y:u,touch1X:d,touch1Y:p}=l,g=d-c,m=p-u,b=a-s,v=o-r,S=Math.hypot(b,v)||1,C=Math.hypot(g,m)||1;if(!x(this,Vh)&&Math.abs(C-S)<=IC.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=s,l.touch0Y=r,l.touch1X=a,l.touch1Y=o,!x(this,Vh)){F(this,Vh,!0);return}const E=[(s+a)/2,(r+o)/2];(w=x(this,w2))==null||w.call(this,E,C,S)},RD=function(e){var n;e.touches.length>=2||(x(this,W0).abort(),F(this,W0,null),(n=x(this,v2))==null||n.call(this),x(this,pc)&&(ki(e),F(this,pc,null),F(this,Vh,!1)))};let q5=IC;var Yh,po,Fn,J1,V0,S2,Zh,os,Jh,gc,X0,A2,Qh,Yr,k2,ed,mc,dl,Q1,ep,Ma,td,C2,A8,Ct,Yv,E2,Zv,By,FD,MD,Jv,jy,Qv,DD,LD,OD,eS,BD,tS,jD,$D,UD,nS,zm;const $t=class $t{constructor(e){L(this,Ct);L(this,Yh,null);L(this,po,null);L(this,Fn,null);L(this,J1,!1);L(this,V0,null);L(this,S2,"");L(this,Zh,!1);L(this,os,null);L(this,Jh,null);L(this,gc,null);L(this,X0,null);L(this,A2,"");L(this,Qh,!1);L(this,Yr,null);L(this,k2,!1);L(this,ed,!1);L(this,mc,!1);L(this,dl,null);L(this,Q1,0);L(this,ep,0);L(this,Ma,null);L(this,td,null);qe(this,"_isCopy",!1);qe(this,"_editToolbar",null);qe(this,"_initialOptions",Object.create(null));qe(this,"_initialData",null);qe(this,"_isVisible",!0);qe(this,"_uiManager",null);qe(this,"_focusEventsAllowed",!0);L(this,C2,!1);L(this,A8,$t._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:n,rawDims:{pageWidth:i,pageHeight:s,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[r,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=$t.prototype._resizeWithKeyboard,n=uf.TRANSLATE_SMALL,i=uf.TRANSLATE_BIG;return Yt(this,"_resizerKeyboardManager",new Q9([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],$t.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Yt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new Oee({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if($t._l10n??($t._l10n=e),$t._l10nResizer||($t._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),$t._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);$t._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){An("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return x(this,C2)}set _isDraggable(e){var n;F(this,C2,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=x(this,A8)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):M(this,Ct,zm).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(x(this,Qh)?F(this,Qh,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,i,s){const[r,a]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(e+i)/r,this.y=(n+s)/a,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[i,s]=this.parentDimensions;this.setAt(e*i,n*s,this.width*i,this.height*s),this._onTranslated()}translate(e,n){M(this,Ct,Yv).call(this,this.parentDimensions,e,n)}translateInPage(e,n){x(this,Yr)||F(this,Yr,[this.x,this.y,this.width,this.height]),M(this,Ct,Yv).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){x(this,Yr)||F(this,Yr,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[s,r]}=this;if(this.x+=e/s,this.y+=n/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:u}=i;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),i.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!x(this,Yr)&&(x(this,Yr)[0]!==this.x||x(this,Yr)[1]!==this.y)}get _hasBeenResized(){return!!x(this,Yr)&&(x(this,Yr)[2]!==this.width||x(this,Yr)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:i}=$t,s=i/e,r=i/n;switch(this.rotation){case 90:return[-s,r];case 180:return[s,r];case 270:return[s,-r];default:return[-s,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[i,s]}=this;let{x:r,y:a,width:o,height:l}=this;if(o*=i,l*=s,r*=i,a*=s,this._mustFixPosition)switch(e){case 0:r=tr(r,0,i-o),a=tr(a,0,s-l);break;case 90:r=tr(r,0,i-l),a=tr(a,o,s);break;case 180:r=tr(r,o,i),a=tr(a,l,s);break;case 270:r=tr(r,l,i),a=tr(a,0,s-o);break}this.x=r/=i,this.y=a/=s;const[c,u]=this.getBaseTranslation();r+=c,a+=u,n.left=`${(100*r).toFixed(2)}%`,n.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var i;return M(i=$t,E2,Zv).call(i,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var i;return M(i=$t,E2,Zv).call(i,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,i]}=this;return[n*e,i*e]}setDims(e,n){const[i,s]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*e/i).toFixed(2)}%`,x(this,Zh)||(r.height=`${(100*n/s).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:n,width:i}=e,s=i.endsWith("%"),r=!x(this,Zh)&&n.endsWith("%");if(s&&r)return;const[a,o]=this.parentDimensions;s||(e.width=`${(100*parseFloat(i)/a).toFixed(2)}%`),!x(this,Zh)&&!r&&(e.height=`${(100*parseFloat(n)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=x(this,Fn))==null||e.finish()}async addEditToolbar(){return this._editToolbar||x(this,ed)?this._editToolbar:(this._editToolbar=new Uv(this),this.div.append(this._editToolbar.render()),x(this,Fn)&&await this._editToolbar.addAltText(x(this,Fn)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=x(this,Fn))==null||e.destroy())}addContainer(e){var i;const n=(i=this._editToolbar)==null?void 0:i.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){x(this,Fn)||(H5.initialize($t._l10n),F(this,Fn,new H5(this)),x(this,Yh)&&(x(this,Fn).data=x(this,Yh),F(this,Yh,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=x(this,Fn))==null?void 0:e.data}set altTextData(e){x(this,Fn)&&(x(this,Fn).data=e)}get guessedAltText(){var e;return(e=x(this,Fn))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=x(this,Fn))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=x(this,Fn))==null?void 0:n.serialize(e)}hasAltText(){return!!x(this,Fn)&&!x(this,Fn).isEmpty()}hasAltTextData(){var e;return((e=x(this,Fn))==null?void 0:e.hasData())??!1}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=x(this,J1)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),M(this,Ct,tS).call(this);const[n,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/i).toFixed(2)}%`);const[s,r]=this.getInitialTranslation();return this.translate(s,r),jk(this,e,["keydown","pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(x(this,td)||F(this,td,new q5({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:M(this,Ct,DD).bind(this),onPinching:M(this,Ct,LD).bind(this),onPinchEnd:M(this,Ct,OD).bind(this),signal:this._uiManager._signal}))),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:n}=vs.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(F(this,Qh,!0),this._isDraggable){M(this,Ct,BD).call(this,e);return}M(this,Ct,eS).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){x(this,dl)&&clearTimeout(x(this,dl)),F(this,dl,setTimeout(()=>{var e;F(this,dl,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,i){e.changeParent(this),this.x=n,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,i=this.rotation){const s=this.parentScale,[r,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/s,u=n/s,d=this.x*r,p=this.y*a,g=this.width*r,m=this.height*a;switch(i){case 0:return[d+c+o,a-p-u-m+l,d+c+g+o,a-p-u+l];case 90:return[d+u+o,a-p+c+l,d+u+m+o,a-p+c+g+l];case 180:return[d-c-g+o,a-p+u+l,d-c+o,a-p+u+m+l];case 270:return[d-u-m+o,a-p-c-g+l,d-u+o,a-p-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[i,s,r,a]=e,o=r-i,l=a-s;switch(this.rotation){case 0:return[i,n-a,o,l];case 90:return[i,n-s,l,o];case 180:return[r,n-s,o,l];case 270:return[r,n-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){F(this,ed,!0)}disableEditMode(){F(this,ed,!1)}isInEditMode(){return x(this,ed)}shouldGetKeyboardEvents(){return x(this,mc)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:i,right:s}=this.getClientDimensions(),{innerHeight:r,innerWidth:a}=window;return n<a&&s>0&&e<r&&i>0}rebuild(){M(this,Ct,tS).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){An("An editor must be serializable")}static async deserialize(e,n,i){const s=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:i});s.rotation=e.rotation,F(s,Yh,e.accessibilityData),s._isCopy=e.isCopy||!1;const[r,a]=s.pageDimensions,[o,l,c,u]=s.getRectInCurrentCoords(e.rect,a);return s.x=o/r,s.y=l/a,s.width=c/r,s.height=u/a,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n;if((e=x(this,X0))==null||e.abort(),F(this,X0,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),x(this,dl)&&(clearTimeout(x(this,dl)),F(this,dl,null)),M(this,Ct,zm).call(this),this.removeEditToolbar(),x(this,Ma)){for(const i of x(this,Ma).values())clearTimeout(i);F(this,Ma,null)}this.parent=null,(n=x(this,td))==null||n.destroy(),F(this,td,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(M(this,Ct,FD).call(this),x(this,os).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),F(this,gc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=x(this,os).children;if(!x(this,po)){F(this,po,Array.from(n));const a=M(this,Ct,jD).bind(this),o=M(this,Ct,$D).bind(this),l=this._uiManager._signal;for(const c of x(this,po)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",M(this,Ct,UD).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",$t._l10nResizer[u])}}const i=x(this,po)[0];let s=0;for(const a of n){if(a===i)break;s++}const r=(360-this.rotation+this.parentRotation)%360/90*(x(this,po).length/4);if(r!==s){if(r<s)for(let o=0;o<s-r;o++)x(this,os).append(x(this,os).firstChild);else if(r>s)for(let o=0;o<r-s;o++)x(this,os).firstChild.before(x(this,os).lastChild);let a=0;for(const o of n){const c=x(this,po)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",$t._l10nResizer[c])}}M(this,Ct,nS).call(this,0),F(this,mc,!0),x(this,os).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){x(this,mc)&&M(this,Ct,Qv).call(this,x(this,A2),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){M(this,Ct,zm).call(this),this.div.focus()}select(){var e,n,i;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var s,r;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(n=this._editToolbar)==null||n.show(),(i=x(this,Fn))==null||i.toggleAltTextBadge(!1)}unselect(){var e,n,i,s,r;(e=x(this,os))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(s=this._editToolbar)==null||s.hide(),(r=x(this,Fn))==null||r.toggleAltTextBadge(!0)}updateParams(e,n){}disableEditing(){}enableEditing(){}enterInEditMode(){}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return x(this,k2)}set isEditing(e){F(this,k2,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,n){F(this,Zh,!0);const i=e/n,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){x(this,Ma)||F(this,Ma,new Map);const{action:i}=e;let s=x(this,Ma).get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),x(this,Ma).delete(i),x(this,Ma).size===0&&F(this,Ma,null)},$t._telemetryTimeout),x(this,Ma).set(i,s);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),F(this,J1,!1)}disable(){this.div&&(this.div.tabIndex=-1),F(this,J1,!0)}renderAnnotationElement(e){let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const i=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),i.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Yh=new WeakMap,po=new WeakMap,Fn=new WeakMap,J1=new WeakMap,V0=new WeakMap,S2=new WeakMap,Zh=new WeakMap,os=new WeakMap,Jh=new WeakMap,gc=new WeakMap,X0=new WeakMap,A2=new WeakMap,Qh=new WeakMap,Yr=new WeakMap,k2=new WeakMap,ed=new WeakMap,mc=new WeakMap,dl=new WeakMap,Q1=new WeakMap,ep=new WeakMap,Ma=new WeakMap,td=new WeakMap,C2=new WeakMap,A8=new WeakMap,Ct=new WeakSet,Yv=function([e,n],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/e,this.y+=s/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},E2=new WeakSet,Zv=function(e,n,i){switch(i){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},By=function(e){switch(e){case 90:{const[n,i]=this.pageDimensions;return[0,-n/i,i/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,i]=this.pageDimensions;return[0,n/i,-i/n,0]}default:return[1,0,0,1]}},FD=function(){if(x(this,os))return;F(this,os,document.createElement("div")),x(this,os).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const i of e){const s=document.createElement("div");x(this,os).append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",M(this,Ct,MD).bind(this,i),{signal:n}),s.addEventListener("contextmenu",Oo,{signal:n}),s.tabIndex=-1}this.div.prepend(x(this,os))},MD=function(e,n){var u;n.preventDefault();const{isMac:i}=vs.platform;if(n.button!==0||n.ctrlKey&&i)return;(u=x(this,Fn))==null||u.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,F(this,Jh,[n.screenX,n.screenY]);const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",M(this,Ct,Qv).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",ki,{passive:!1,signal:a}),window.addEventListener("contextmenu",Oo,{signal:a}),F(this,gc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{var d;r.abort(),this.parent.togglePointerEvents(!0),(d=x(this,Fn))==null||d.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=o,this.div.style.cursor=l,M(this,Ct,jy).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},Jv=function(e,n,i,s){this.width=i,this.height=s,this.x=e,this.y=n;const[r,a]=this.parentDimensions;this.setDims(r*i,a*s),this.fixAndSetPosition(),this._onResized()},jy=function(){if(!x(this,gc))return;const{savedX:e,savedY:n,savedWidth:i,savedHeight:s}=x(this,gc);F(this,gc,null);const r=this.x,a=this.y,o=this.width,l=this.height;r===e&&a===n&&o===i&&l===s||this.addCommands({cmd:M(this,Ct,Jv).bind(this,r,a,o,l),undo:M(this,Ct,Jv).bind(this,e,n,i,s),mustExec:!0})},Qv=function(e,n){const[i,s]=this.parentDimensions,r=this.x,a=this.y,o=this.width,l=this.height,c=$t.MIN_SIZE/i,u=$t.MIN_SIZE/s,d=M(this,Ct,By).call(this,this.rotation),p=(G,$)=>[d[0]*G+d[2]*$,d[1]*G+d[3]*$],g=M(this,Ct,By).call(this,360-this.rotation),m=(G,$)=>[g[0]*G+g[2]*$,g[1]*G+g[3]*$];let b,v,S=!1,C=!1;switch(e){case"topLeft":S=!0,b=(G,$)=>[0,0],v=(G,$)=>[G,$];break;case"topMiddle":b=(G,$)=>[G/2,0],v=(G,$)=>[G/2,$];break;case"topRight":S=!0,b=(G,$)=>[G,0],v=(G,$)=>[0,$];break;case"middleRight":C=!0,b=(G,$)=>[G,$/2],v=(G,$)=>[0,$/2];break;case"bottomRight":S=!0,b=(G,$)=>[G,$],v=(G,$)=>[0,0];break;case"bottomMiddle":b=(G,$)=>[G/2,$],v=(G,$)=>[G/2,0];break;case"bottomLeft":S=!0,b=(G,$)=>[0,$],v=(G,$)=>[G,0];break;case"middleLeft":C=!0,b=(G,$)=>[0,$/2],v=(G,$)=>[G,$/2];break}const E=b(o,l),w=v(o,l);let A=p(...w);const T=$t._round(r+A[0]),P=$t._round(a+A[1]);let R=1,D=1,O,B;if(n.fromKeyboard)({deltaX:O,deltaY:B}=n);else{const{screenX:G,screenY:$}=n,[ie,he]=x(this,Jh);[O,B]=this.screenToPageTranslation(G-ie,$-he),x(this,Jh)[0]=G,x(this,Jh)[1]=$}if([O,B]=m(O/i,B/s),S){const G=Math.hypot(o,l);R=D=Math.max(Math.min(Math.hypot(w[0]-E[0]-O,w[1]-E[1]-B)/G,1/o,1/l),c/o,u/l)}else C?R=tr(Math.abs(w[0]-E[0]-O),c,1)/o:D=tr(Math.abs(w[1]-E[1]-B),u,1)/l;const U=$t._round(o*R),V=$t._round(l*D);A=p(...v(U,V));const ee=T-A[0],Q=P-A[1];x(this,Yr)||F(this,Yr,[this.x,this.y,this.width,this.height]),this.width=U,this.height=V,this.x=ee,this.y=Q,this.setDims(i*U,s*V),this.fixAndSetPosition(),this._onResizing()},DD=function(){var e;F(this,gc,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=x(this,Fn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},LD=function(e,n,i){let r=.7*(i/n)+1-.7;if(r===1)return;const a=M(this,Ct,By).call(this,this.rotation),o=(T,P)=>[a[0]*T+a[2]*P,a[1]*T+a[3]*P],[l,c]=this.parentDimensions,u=this.x,d=this.y,p=this.width,g=this.height,m=$t.MIN_SIZE/l,b=$t.MIN_SIZE/c;r=Math.max(Math.min(r,1/p,1/g),m/p,b/g);const v=$t._round(p*r),S=$t._round(g*r);if(v===p&&S===g)return;x(this,Yr)||F(this,Yr,[u,d,p,g]);const C=o(p/2,g/2),E=$t._round(u+C[0]),w=$t._round(d+C[1]),A=o(v/2,S/2);this.x=E-A[0],this.y=w-A[1],this.width=v,this.height=S,this.setDims(l*v,c*S),this.fixAndSetPosition(),this._onResizing()},OD=function(){var e;(e=x(this,Fn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),M(this,Ct,jy).call(this)},eS=function(e){const{isMac:n}=vs.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},BD=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let i=!1;const s=new AbortController,r=this._uiManager.combinedSignal(s),a={capture:!0,passive:!1,signal:r},o=c=>{s.abort(),F(this,V0,null),F(this,Qh,!1),this._uiManager.endDragSession()||M(this,Ct,eS).call(this,c),i&&this._onStopDragging()};n&&(F(this,Q1,e.clientX),F(this,ep,e.clientY),F(this,V0,e.pointerId),F(this,S2,e.pointerType),window.addEventListener("pointermove",c=>{i||(i=!0,this._onStartDragging());const{clientX:u,clientY:d,pointerId:p}=c;if(p!==x(this,V0)){ki(c);return}const[g,m]=this.screenToPageTranslation(u-x(this,Q1),d-x(this,ep));F(this,Q1,u),F(this,ep,d),this._uiManager.dragSelectedEditors(g,m)},a),window.addEventListener("touchmove",ki,a),window.addEventListener("pointerdown",c=>{c.pointerType===x(this,S2)&&(x(this,td)||c.isPrimary)&&o(c),ki(c)},a));const l=c=>{if(!x(this,V0)||x(this,V0)===c.pointerId){o(c);return}ki(c)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})},tS=function(){if(x(this,X0)||!this.div)return;F(this,X0,new AbortController);const e=this._uiManager.combinedSignal(x(this,X0));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},jD=function(e){$t._resizerKeyboardManager.exec(this,e)},$D=function(e){var n;x(this,mc)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==x(this,os)&&M(this,Ct,zm).call(this)},UD=function(e){F(this,A2,x(this,mc)?e:"")},nS=function(e){if(x(this,po))for(const n of x(this,po))n.tabIndex=e},zm=function(){F(this,mc,!1),M(this,Ct,nS).call(this,-1),M(this,Ct,jy).call(this)},L($t,E2),qe($t,"_l10n",null),qe($t,"_l10nResizer",null),qe($t,"_borderLineWidth",-1),qe($t,"_colorManager",new Hv),qe($t,"_zIndex",1),qe($t,"_telemetryTimeout",1e3);let Wn=$t;class Oee extends Wn{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const yP=3285377520,Ta=4294901760,Yo=65535;let zD=class{constructor(e){this.h1=e?e&4294967295:yP,this.h2=e?e&4294967295:yP}update(e){let n,i;if(typeof e=="string"){n=new Uint8Array(e.length*2),i=0;for(let b=0,v=e.length;b<v;b++){const S=e.charCodeAt(b);S<=255?n[i++]=S:(n[i++]=S>>>8,n[i++]=S&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),i=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,r=i-s*4,a=new Uint32Array(n.buffer,0,s);let o=0,l=0,c=this.h1,u=this.h2;const d=3432918353,p=461845907,g=d&Yo,m=p&Yo;for(let b=0;b<s;b++)b&1?(o=a[b],o=o*d&Ta|o*g&Yo,o=o<<15|o>>>17,o=o*p&Ta|o*m&Yo,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[b],l=l*d&Ta|l*g&Yo,l=l<<15|l>>>17,l=l*p&Ta|l*m&Yo,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,r){case 3:o^=n[s*4+2]<<16;case 2:o^=n[s*4+1]<<8;case 1:o^=n[s*4],o=o*d&Ta|o*g&Yo,o=o<<15|o>>>17,o=o*p&Ta|o*m&Yo,s&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&Ta|e*36045&Yo,n=n*4283543511&Ta|((n<<16|e>>>16)*2950163797&Ta)>>>16,e^=n>>>1,e=e*444984403&Ta|e*60499&Yo,n=n*3301882366&Ta|((n<<16|e>>>16)*3120437893&Ta)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}};const iS=Object.freeze({map:null,hash:"",transfer:void 0});var nd,id,Gi,k8,HD;class $k{constructor(){L(this,k8);L(this,nd,!1);L(this,id,null);L(this,Gi,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const i=x(this,Gi).get(e);return i===void 0?n:Object.assign(n,i)}getRawValue(e){return x(this,Gi).get(e)}remove(e){if(x(this,Gi).delete(e),x(this,Gi).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of x(this,Gi).values())if(n instanceof Wn)return;this.onAnnotationEditor(null)}}setValue(e,n){const i=x(this,Gi).get(e);let s=!1;if(i!==void 0)for(const[r,a]of Object.entries(n))i[r]!==a&&(s=!0,i[r]=a);else s=!0,x(this,Gi).set(e,n);s&&M(this,k8,HD).call(this),n instanceof Wn&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(e){return x(this,Gi).has(e)}getAll(){return x(this,Gi).size>0?Fk(x(this,Gi)):null}setAll(e){for(const[n,i]of Object.entries(e))this.setValue(n,i)}get size(){return x(this,Gi).size}resetModified(){x(this,nd)&&(F(this,nd,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new qD(this)}get serializable(){if(x(this,Gi).size===0)return iS;const e=new Map,n=new zD,i=[],s=Object.create(null);let r=!1;for(const[a,o]of x(this,Gi)){const l=o instanceof Wn?o.serialize(!1,s):o;l&&(e.set(a,l),n.update(`${a}:${JSON.stringify(l)}`),r||(r=!!l.bitmap))}if(r)for(const a of e.values())a.bitmap&&i.push(a.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:i}:iS}get editorStats(){let e=null;const n=new Map;for(const i of x(this,Gi).values()){if(!(i instanceof Wn))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:r}=s;n.has(r)||n.set(r,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const a=e[r]||(e[r]=new Map);for(const[o,l]of Object.entries(s)){if(o==="type")continue;let c=a.get(o);c||(c=new Map,a.set(o,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[i,s]of n)e[i]=s.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){F(this,id,null)}get modifiedIds(){if(x(this,id))return x(this,id);const e=[];for(const n of x(this,Gi).values())!(n instanceof Wn)||!n.annotationElementId||!n.serialize()||e.push(n.annotationElementId);return F(this,id,{ids:new Set(e),hash:e.join(",")})}}nd=new WeakMap,id=new WeakMap,Gi=new WeakMap,k8=new WeakSet,HD=function(){x(this,nd)||(F(this,nd,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var _2;class qD extends $k{constructor(n){super();L(this,_2);const{map:i,hash:s,transfer:r}=n.serializable,a=structuredClone(i,r?{transfer:r}:null);F(this,_2,{map:a,hash:s,transfer:r})}get print(){An("Should not call PrintAnnotationStorage.print")}get serializable(){return x(this,_2)}get modifiedIds(){return Yt(this,"modifiedIds",{ids:new Set,hash:""})}}_2=new WeakMap;var tp;class Bee{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){L(this,tp,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),x(this,tp).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:i}){if(!(!e||x(this,tp).has(e.loadedName))){if(Ei(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:r,style:a}=e,o=new FontFace(s,r,a);this.addNativeFontFace(o);try{await o.load(),x(this,tp).add(s),i==null||i(e)}catch{Dt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}An("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(s){throw Dt(`Failed to load font '${i.family}': '${s}'.`),e.disableFontFace=!0,s}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return Yt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Yt(this,"isSyncFontLoadingSupported",fs||vs.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(Ei(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){const r=i.shift();setTimeout(r.callback,0)}}const{loadingRequests:i}=this,s={done:!1,complete:n,callback:e};return i.push(s),s}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Yt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function i(w,A){return w.charCodeAt(A)<<24|w.charCodeAt(A+1)<<16|w.charCodeAt(A+2)<<8|w.charCodeAt(A+3)&255}function s(w,A,T,P){const R=w.substring(0,A),D=w.substring(A+T);return R+P+D}let r,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(w,A){if(++c>30){Dt("Load test font never loaded."),A();return}if(l.font="30px "+w,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){A();return}setTimeout(u.bind(null,w,A))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=s(p,976,d.length,d);const m=16,b=1482184792;let v=i(p,m);for(r=0,a=d.length-3;r<a;r+=4)v=v-b+i(d,r)|0;r<d.length&&(v=v-b+i(d+"XXX",r)|0),p=s(p,m,4,Aee(v));const S=`url(data:font/opentype;base64,${btoa(p)});`,C=`@font-face {font-family:"${d}";src:${S}}`;this.insertRule(C);const E=this._document.createElement("div");E.style.visibility="hidden",E.style.width=E.style.height="10px",E.style.position="absolute",E.style.top=E.style.left="0px";for(const w of[e.loadedName,d]){const A=this._document.createElement("span");A.textContent="Hi",A.style.fontFamily=w,E.append(A)}this._document.body.append(E),u(d,()=>{E.remove(),n.complete()})}}tp=new WeakMap;class jee{constructor(e,n=null){this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this._inspectFont=n}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${hD(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const i=this.loadedName+"_path_"+n;let s;try{s=e.get(i)}catch(a){Dt(`getPathGenerator - ignoring character: "${a}".`)}const r=new Path2D(s||"");return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[n]=r}}const Bb={DATA:1,ERROR:2},wi={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wP(){}function Ar(t){if(t instanceof Fu||t instanceof Bv||t instanceof mP||t instanceof z5||t instanceof bw)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||An('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Fu(t.message);case"InvalidPDFException":return new Bv(t.message);case"PasswordException":return new mP(t.message,t.code);case"ResponseException":return new z5(t.message,t.status,t.missing);case"UnknownErrorException":return new bw(t.message,t.details)}return new bw(t.message,t.toString())}var np,Ka,GD,WD,VD,$y,wR;let Hm=(wR=class{constructor(e,n,i){L(this,Ka);L(this,np,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",M(this,Ka,GD).bind(this),{signal:x(this,np).signal})}on(e,n){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=n}send(e,n,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},i)}sendWithPromise(e,n,i){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:n},i)}catch(a){r.reject(a)}return r.promise}sendWithStream(e,n,i,s){const r=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[r]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:r,data:n,desiredSize:c.desiredSize},s),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[r].pullCall=u,l.postMessage({sourceName:a,targetName:o,stream:wi.PULL,streamId:r,desiredSize:c.desiredSize}),u.promise},cancel:c=>{Ei(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[r].cancelCall=u,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:wi.CANCEL,streamId:r,reason:Ar(c)}),u.promise}},i)}destroy(){var e;(e=x(this,np))==null||e.abort(),F(this,np,null)}},np=new WeakMap,Ka=new WeakSet,GD=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){M(this,Ka,VD).call(this,e);return}if(e.callback){const i=e.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===Bb.DATA)s.resolve(e.data);else if(e.callback===Bb.ERROR)s.reject(Ar(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,s=e.sourceName,r=this.comObj;Promise.try(n,e.data).then(function(a){r.postMessage({sourceName:i,targetName:s,callback:Bb.DATA,callbackId:e.callbackId,data:a})},function(a){r.postMessage({sourceName:i,targetName:s,callback:Bb.ERROR,callbackId:e.callbackId,reason:Ar(a)})});return}if(e.streamId){M(this,Ka,WD).call(this,e);return}n(e.data)},WD=function(e){const n=e.streamId,i=this.sourceName,s=e.sourceName,r=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=u,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:s,stream:wi.ENQUEUE,streamId:n,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:wi.CLOSE,streamId:n}),delete a.streamSinks[n])},error(c){Ei(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:wi.ERROR,streamId:n,reason:Ar(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(o,e.data,l).then(function(){r.postMessage({sourceName:i,targetName:s,stream:wi.START_COMPLETE,streamId:n,success:!0})},function(c){r.postMessage({sourceName:i,targetName:s,stream:wi.START_COMPLETE,streamId:n,reason:Ar(c)})})},VD=function(e){const n=e.streamId,i=this.sourceName,s=e.sourceName,r=this.comObj,a=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case wi.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Ar(e.reason));break;case wi.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Ar(e.reason));break;case wi.PULL:if(!o){r.postMessage({sourceName:i,targetName:s,stream:wi.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||wP).then(function(){r.postMessage({sourceName:i,targetName:s,stream:wi.PULL_COMPLETE,streamId:n,success:!0})},function(c){r.postMessage({sourceName:i,targetName:s,stream:wi.PULL_COMPLETE,streamId:n,reason:Ar(c)})});break;case wi.ENQUEUE:if(Ei(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case wi.CLOSE:if(Ei(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),M(this,Ka,$y).call(this,a,n);break;case wi.ERROR:Ei(a,"error should have stream controller"),a.controller.error(Ar(e.reason)),M(this,Ka,$y).call(this,a,n);break;case wi.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Ar(e.reason)),M(this,Ka,$y).call(this,a,n);break;case wi.CANCEL:if(!o)break;const l=Ar(e.reason);Promise.try(o.onCancel||wP,l).then(function(){r.postMessage({sourceName:i,targetName:s,stream:wi.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){r.postMessage({sourceName:i,targetName:s,stream:wi.CANCEL_COMPLETE,streamId:n,reason:Ar(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},$y=async function(e,n){var i,s,r;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(s=e.pullCall)==null?void 0:s.promise,(r=e.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[n]},wR);var T2;class XD{constructor({enableHWA:e=!1}){L(this,T2,!1);F(this,T2,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,n);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!x(this,T2)})}}reset(e,n,i){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){An("Abstract method `_createCanvas` called.")}}T2=new WeakMap;class $ee extends XD{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const i=this._document.createElement("canvas");return i.width=e,i.height=n,i}}class KD{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){An("Abstract method `_fetch` called.")}}class vP extends KD{async _fetch(e){const n=await Z9(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Y9(n)}}class YD{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,i,s,r){return"none"}destroy(e=!1){}}var sd,ip,xc,bc,Rs,rd,ad,rt,Ps,qm,l1,Uy,c1,ZD,sS,u1,Gm,Wm,rS,Vm;class Uee extends YD{constructor({docId:n,ownerDocument:i=globalThis.document}){super();L(this,rt);L(this,sd);L(this,ip);L(this,xc);L(this,bc);L(this,Rs);L(this,rd);L(this,ad,0);F(this,bc,n),F(this,Rs,i)}addFilter(n){if(!n)return"none";let i=x(this,rt,Ps).get(n);if(i)return i;const[s,r,a]=M(this,rt,Uy).call(this,n),o=n.length===1?s:`${s}${r}${a}`;if(i=x(this,rt,Ps).get(o),i)return x(this,rt,Ps).set(n,i),i;const l=`g_${x(this,bc)}_transfer_map_${Ws(this,ad)._++}`,c=M(this,rt,c1).call(this,l);x(this,rt,Ps).set(n,c),x(this,rt,Ps).set(o,c);const u=M(this,rt,u1).call(this,l);return M(this,rt,Wm).call(this,s,r,a,u),c}addHCMFilter(n,i){var m;const s=`${n}-${i}`,r="base";let a=x(this,rt,qm).get(r);if((a==null?void 0:a.key)===s||(a?((m=a.filter)==null||m.remove(),a.key=s,a.url="none",a.filter=null):(a={key:s,url:"none",filter:null},x(this,rt,qm).set(r,a)),!n||!i))return a.url;const o=M(this,rt,Vm).call(this,n);n=pt.makeHexColor(...o);const l=M(this,rt,Vm).call(this,i);if(i=pt.makeHexColor(...l),x(this,rt,l1).style.color="",n==="#000000"&&i==="#ffffff"||n===i)return a.url;const c=new Array(256);for(let b=0;b<=255;b++){const v=b/255;c[b]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const u=c.join(","),d=`g_${x(this,bc)}_hcm_filter`,p=a.filter=M(this,rt,u1).call(this,d);M(this,rt,Wm).call(this,u,u,u,p),M(this,rt,sS).call(this,p);const g=(b,v)=>{const S=o[b]/255,C=l[b]/255,E=new Array(v+1);for(let w=0;w<=v;w++)E[w]=S+w/v*(C-S);return E.join(",")};return M(this,rt,Wm).call(this,g(0,5),g(1,5),g(2,5),p),a.url=M(this,rt,c1).call(this,d),a.url}addAlphaFilter(n){let i=x(this,rt,Ps).get(n);if(i)return i;const[s]=M(this,rt,Uy).call(this,[n]),r=`alpha_${s}`;if(i=x(this,rt,Ps).get(r),i)return x(this,rt,Ps).set(n,i),i;const a=`g_${x(this,bc)}_alpha_map_${Ws(this,ad)._++}`,o=M(this,rt,c1).call(this,a);x(this,rt,Ps).set(n,o),x(this,rt,Ps).set(r,o);const l=M(this,rt,u1).call(this,a);return M(this,rt,rS).call(this,s,l),o}addLuminosityFilter(n){let i=x(this,rt,Ps).get(n||"luminosity");if(i)return i;let s,r;if(n?([s]=M(this,rt,Uy).call(this,[n]),r=`luminosity_${s}`):r="luminosity",i=x(this,rt,Ps).get(r),i)return x(this,rt,Ps).set(n,i),i;const a=`g_${x(this,bc)}_luminosity_map_${Ws(this,ad)._++}`,o=M(this,rt,c1).call(this,a);x(this,rt,Ps).set(n,o),x(this,rt,Ps).set(r,o);const l=M(this,rt,u1).call(this,a);return M(this,rt,ZD).call(this,l),n&&M(this,rt,rS).call(this,s,l),o}addHighlightHCMFilter(n,i,s,r,a){var C;const o=`${i}-${s}-${r}-${a}`;let l=x(this,rt,qm).get(n);if((l==null?void 0:l.key)===o||(l?((C=l.filter)==null||C.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},x(this,rt,qm).set(n,l)),!i||!s))return l.url;const[c,u]=[i,s].map(M(this,rt,Vm).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),p=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[g,m]=[r,a].map(M(this,rt,Vm).bind(this));p<d&&([d,p,g,m]=[p,d,m,g]),x(this,rt,l1).style.color="";const b=(E,w,A)=>{const T=new Array(256),P=(p-d)/A,R=E/255,D=(w-E)/(255*A);let O=0;for(let B=0;B<=A;B++){const U=Math.round(d+B*P),V=R+B*D;for(let ee=O;ee<=U;ee++)T[ee]=V;O=U+1}for(let B=O;B<256;B++)T[B]=T[O-1];return T.join(",")},v=`g_${x(this,bc)}_hcm_${n}_filter`,S=l.filter=M(this,rt,u1).call(this,v);return M(this,rt,sS).call(this,S),M(this,rt,Wm).call(this,b(g[0],m[0],5),b(g[1],m[1],5),b(g[2],m[2],5),S),l.url=M(this,rt,c1).call(this,v),l.url}destroy(n=!1){var i,s,r,a;n&&((i=x(this,rd))!=null&&i.size)||((s=x(this,xc))==null||s.parentNode.parentNode.remove(),F(this,xc,null),(r=x(this,ip))==null||r.clear(),F(this,ip,null),(a=x(this,rd))==null||a.clear(),F(this,rd,null),F(this,ad,0))}}sd=new WeakMap,ip=new WeakMap,xc=new WeakMap,bc=new WeakMap,Rs=new WeakMap,rd=new WeakMap,ad=new WeakMap,rt=new WeakSet,Ps=function(){return x(this,ip)||F(this,ip,new Map)},qm=function(){return x(this,rd)||F(this,rd,new Map)},l1=function(){if(!x(this,xc)){const n=x(this,Rs).createElement("div"),{style:i}=n;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const s=x(this,Rs).createElementNS(Ql,"svg");s.setAttribute("width",0),s.setAttribute("height",0),F(this,xc,x(this,Rs).createElementNS(Ql,"defs")),n.append(s),s.append(x(this,xc)),x(this,Rs).body.append(n)}return x(this,xc)},Uy=function(n){if(n.length===1){const c=n[0],u=new Array(256);for(let p=0;p<256;p++)u[p]=c[p]/255;const d=u.join(",");return[d,d,d]}const[i,s,r]=n,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=i[c]/255,o[c]=s[c]/255,l[c]=r[c]/255;return[a.join(","),o.join(","),l.join(",")]},c1=function(n){if(x(this,sd)===void 0){F(this,sd,"");const i=x(this,Rs).URL;i!==x(this,Rs).baseURI&&(E6(i)?Dt('#createUrl: ignore "data:"-URL for performance reasons.'):F(this,sd,i.split("#",1)[0]))}return`url(${x(this,sd)}#${n})`},ZD=function(n){const i=x(this,Rs).createElementNS(Ql,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(i)},sS=function(n){const i=x(this,Rs).createElementNS(Ql,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(i)},u1=function(n){const i=x(this,Rs).createElementNS(Ql,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",n),x(this,rt,l1).append(i),i},Gm=function(n,i,s){const r=x(this,Rs).createElementNS(Ql,i);r.setAttribute("type","discrete"),r.setAttribute("tableValues",s),n.append(r)},Wm=function(n,i,s,r){const a=x(this,Rs).createElementNS(Ql,"feComponentTransfer");r.append(a),M(this,rt,Gm).call(this,a,"feFuncR",n),M(this,rt,Gm).call(this,a,"feFuncG",i),M(this,rt,Gm).call(this,a,"feFuncB",s)},rS=function(n,i){const s=x(this,Rs).createElementNS(Ql,"feComponentTransfer");i.append(s),M(this,rt,Gm).call(this,s,"feFuncA",n)},Vm=function(n){return x(this,rt,l1).style.color=n,Bk(getComputedStyle(x(this,rt,l1)).getPropertyValue("color"))};class JD{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){An("Abstract method `_fetch` called.")}}class SP extends JD{async _fetch(e){const n=await Z9(e,"arraybuffer");return new Uint8Array(n)}}class QD{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){An("Abstract method `_fetch` called.")}}class AP extends QD{async _fetch(e){const n=await Z9(e,"arraybuffer");return new Uint8Array(n)}}fs&&Dt("Please use the `legacy` build in Node.js environments.");async function Uk(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class zee extends YD{}class Hee extends XD{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class qee extends KD{async _fetch(e){return Uk(e)}}class Gee extends JD{async _fetch(e){return Uk(e)}}class Wee extends QD{async _fetch(e){return Uk(e)}}const gs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function aS(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],n,i),t.clip(s)}class zk{isModifyingCurrentTransform(){return!1}getPattern(){An("Abstract method `getPattern` called.")}}class Vee extends zk{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)n.addColorStop(i[0],i[1]);return n}getPattern(e,n,i,s){let r;if(s===gs.STROKE||s===gs.FILL){const a=n.current.getClippedPathBoundingBox(s,Un(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=n.cachedCanvases.getCanvas("pattern",o,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),i=pt.transform(i,[1,0,0,1,a[0],a[1]]),u.transform(...n.baseTransform),this.matrix&&u.transform(...this.matrix),aS(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),r=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(i);r.setTransform(d)}else aS(e,this._bbox),r=this._createGradient(e);return r}}function vw(t,e,n,i,s,r,a,o){const l=e.coords,c=e.colors,u=t.data,d=t.width*4;let p;l[n+1]>l[i+1]&&(p=n,n=i,i=p,p=r,r=a,a=p),l[i+1]>l[s+1]&&(p=i,i=s,s=p,p=a,a=o,o=p),l[n+1]>l[i+1]&&(p=n,n=i,i=p,p=r,r=a,a=p);const g=(l[n]+e.offsetX)*e.scaleX,m=(l[n+1]+e.offsetY)*e.scaleY,b=(l[i]+e.offsetX)*e.scaleX,v=(l[i+1]+e.offsetY)*e.scaleY,S=(l[s]+e.offsetX)*e.scaleX,C=(l[s+1]+e.offsetY)*e.scaleY;if(m>=C)return;const E=c[r],w=c[r+1],A=c[r+2],T=c[a],P=c[a+1],R=c[a+2],D=c[o],O=c[o+1],B=c[o+2],U=Math.round(m),V=Math.round(C);let ee,Q,G,$,ie,he,pe,X;for(let te=U;te<=V;te++){if(te<v){const K=te<m?0:(m-te)/(m-v);ee=g-(g-b)*K,Q=E-(E-T)*K,G=w-(w-P)*K,$=A-(A-R)*K}else{let K;te>C?K=1:v===C?K=0:K=(v-te)/(v-C),ee=b-(b-S)*K,Q=T-(T-D)*K,G=P-(P-O)*K,$=R-(R-B)*K}let re;te<m?re=0:te>C?re=1:re=(m-te)/(m-C),ie=g-(g-S)*re,he=E-(E-D)*re,pe=w-(w-O)*re,X=A-(A-B)*re;const Ee=Math.round(Math.min(ee,ie)),Re=Math.round(Math.max(ee,ie));let we=d*te+Ee*4;for(let K=Ee;K<=Re;K++)re=(ee-K)/(ee-ie),re<0?re=0:re>1&&(re=1),u[we++]=Q-(Q-he)*re|0,u[we++]=G-(G-pe)*re|0,u[we++]=$-($-X)*re|0,u[we++]=255}}function Xee(t,e,n){const i=e.coords,s=e.colors;let r,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(r=0;r<l;r++){let u=r*o;for(let d=0;d<c;d++,u++)vw(t,n,i[u],i[u+1],i[u+o],s[u],s[u+1],s[u+o]),vw(t,n,i[u+o+1],i[u+1],i[u+o],s[u+o+1],s[u+1],s[u+o])}break;case"triangles":for(r=0,a=i.length;r<a;r+=3)vw(t,n,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class Kee extends zk{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,i){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),g=c/d,m=u/p,b={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/g,scaleY:1/m},v=d+2*2,S=p+2*2,C=i.getCanvas("mesh",v,S),E=C.context,w=E.createImageData(d,p);if(n){const T=w.data;for(let P=0,R=T.length;P<R;P+=4)T[P]=n[0],T[P+1]=n[1],T[P+2]=n[2],T[P+3]=255}for(const T of this._figures)Xee(w,T,b);return E.putImageData(w,2,2),{canvas:C.canvas,offsetX:o-2*g,offsetY:l-2*m,scaleX:g,scaleY:m}}isModifyingCurrentTransform(){return!0}getPattern(e,n,i,s){aS(e,this._bbox);let r;if(s===gs.SHADING)r=pt.singularValueDecompose2dScale(Un(e));else if(r=pt.singularValueDecompose2dScale(n.baseTransform),this.matrix){const o=pt.singularValueDecompose2dScale(this.matrix);r=[r[0]*o[0],r[1]*o[1]]}const a=this._createMeshCanvas(r,s===gs.SHADING?null:this._background,n.cachedCanvases);return s!==gs.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class Yee extends zk{getPattern(){return"hotpink"}}function Zee(t){switch(t[0]){case"RadialAxial":return new Vee(t);case"Mesh":return new Kee(t);case"Dummy":return new Yee}throw new Error(`Unknown IR type: ${t[0]}`)}const kP={COLORED:1,UNCOLORED:2},C8=class C8{constructor(e,n,i,s){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:n,operatorList:i,paintType:s,tilingType:r,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),C6("TilingType: "+r);const u=n[0],d=n[1],p=n[2],g=n[3],m=p-u,b=g-d,v=pt.singularValueDecompose2dScale(this.matrix),S=pt.singularValueDecompose2dScale(this.baseTransform),C=v[0]*S[0],E=v[1]*S[1];let w=m,A=b,T=!1,P=!1;const R=Math.ceil(l*C),D=Math.ceil(c*E),O=Math.ceil(m*C),B=Math.ceil(b*E);R>=O?w=l:T=!0,D>=B?A=c:P=!0;const U=this.getSizeAndScale(w,this.ctx.canvas.width,C),V=this.getSizeAndScale(A,this.ctx.canvas.height,E),ee=e.cachedCanvases.getCanvas("pattern",U.size,V.size),Q=ee.context,G=o.createCanvasGraphics(Q);if(G.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(G,s,a),Q.translate(-U.scale*u,-V.scale*d),G.transform(U.scale,0,0,V.scale,0,0),Q.save(),this.clipBbox(G,u,d,p,g),G.baseTransform=Un(G.ctx),G.executeOperatorList(i),G.endDrawing(),Q.restore(),T||P){const $=ee.canvas;T&&(w=l),P&&(A=c);const ie=this.getSizeAndScale(w,this.ctx.canvas.width,C),he=this.getSizeAndScale(A,this.ctx.canvas.height,E),pe=ie.size,X=he.size,te=e.cachedCanvases.getCanvas("pattern-workaround",pe,X),re=te.context,Ee=T?Math.floor(m/l):0,Re=P?Math.floor(b/c):0;for(let we=0;we<=Ee;we++)for(let K=0;K<=Re;K++)re.drawImage($,pe*we,X*K,pe,X,0,0,pe,X);return{canvas:te.canvas,scaleX:ie.scale,scaleY:he.scale,offsetX:u,offsetY:d}}return{canvas:ee.canvas,scaleX:U.scale,scaleY:V.scale,offsetX:u,offsetY:d}}getSizeAndScale(e,n,i){const s=Math.max(C8.MAX_PATTERN_SIZE,n);let r=Math.ceil(e*i);return r>=s?r=s:i=r/e,{scale:i,size:r}}clipBbox(e,n,i,s,r){const a=s-n,o=r-i;e.ctx.rect(n,i,a,o),e.current.updateRectMinMax(Un(e.ctx),[n,i,s,r]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,i){const s=e.ctx,r=e.current;switch(n){case kP.COLORED:const a=this.ctx;s.fillStyle=a.fillStyle,s.strokeStyle=a.strokeStyle,r.fillColor=a.fillStyle,r.strokeColor=a.strokeStyle;break;case kP.UNCOLORED:const o=pt.makeHexColor(i[0],i[1],i[2]);s.fillStyle=o,s.strokeStyle=o,r.fillColor=o,r.strokeColor=o;break;default:throw new See(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,i,s){let r=i;s!==gs.SHADING&&(r=pt.transform(r,n.baseTransform),this.matrix&&(r=pt.transform(r,this.matrix)));const a=this.createPatternCanvas(n);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};qe(C8,"MAX_PATTERN_SIZE",3e3);let oS=C8;function Jee({src:t,srcPos:e=0,dest:n,width:i,height:s,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const o=vs.isLittleEndian?4278190080:255,[l,c]=a?[r,o]:[o,r],u=i>>3,d=i&7,p=t.length;n=new Uint32Array(n.buffer);let g=0;for(let m=0;m<s;m++){for(const v=e+u;e<v;e++){const S=e<p?t[e]:255;n[g++]=S&128?c:l,n[g++]=S&64?c:l,n[g++]=S&32?c:l,n[g++]=S&16?c:l,n[g++]=S&8?c:l,n[g++]=S&4?c:l,n[g++]=S&2?c:l,n[g++]=S&1?c:l}if(d===0)continue;const b=e<p?t[e++]:255;for(let v=0;v<d;v++)n[g++]=b&1<<7-v?c:l}return{srcPos:e,destPos:g}}const CP=16,EP=100,Qee=15,_P=10,TP=1e3,Tr=16,Sw=new DOMMatrix;function ete(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(i,s){e.translate(i,s),this.__originalTranslate(i,s)},t.scale=function(i,s){e.scale(i,s),this.__originalScale(i,s)},t.transform=function(i,s,r,a,o,l){e.transform(i,s,r,a,o,l),this.__originalTransform(i,s,r,a,o,l)},t.setTransform=function(i,s,r,a,o,l){e.setTransform(i,s,r,a,o,l),this.__originalSetTransform(i,s,r,a,o,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(i){e.rotate(i),this.__originalRotate(i)},t.clip=function(i){e.clip(i),this.__originalClip(i)},t.moveTo=function(n,i){e.moveTo(n,i),this.__originalMoveTo(n,i)},t.lineTo=function(n,i){e.lineTo(n,i),this.__originalLineTo(n,i)},t.bezierCurveTo=function(n,i,s,r,a,o){e.bezierCurveTo(n,i,s,r,a,o),this.__originalBezierCurveTo(n,i,s,r,a,o)},t.rect=function(n,i,s,r){e.rect(n,i,s,r),this.__originalRect(n,i,s,r)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class tte{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,i){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,n,i)):(s=this.canvasFactory.create(n,i),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function jb(t,e,n,i,s,r,a,o,l,c){const[u,d,p,g,m,b]=Un(t);if(d===0&&p===0){const C=a*u+m,E=Math.round(C),w=o*g+b,A=Math.round(w),T=(a+l)*u+m,P=Math.abs(Math.round(T)-E)||1,R=(o+c)*g+b,D=Math.abs(Math.round(R)-A)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(g),E,A),t.drawImage(e,n,i,s,r,0,0,P,D),t.setTransform(u,d,p,g,m,b),[P,D]}if(u===0&&g===0){const C=o*p+m,E=Math.round(C),w=a*d+b,A=Math.round(w),T=(o+c)*p+m,P=Math.abs(Math.round(T)-E)||1,R=(a+l)*d+b,D=Math.abs(Math.round(R)-A)||1;return t.setTransform(0,Math.sign(d),Math.sign(p),0,E,A),t.drawImage(e,n,i,s,r,0,0,D,P),t.setTransform(u,d,p,g,m,b),[D,P]}t.drawImage(e,n,i,s,r,a,o,l,c);const v=Math.hypot(u,d),S=Math.hypot(p,g);return[v*l,S*c]}function nte(t){const{width:e,height:n}=t;if(e>TP||n>TP)return null;const i=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=e+1,a=new Uint8Array(r*(n+1));let o,l,c;const u=e+7&-8,d=new Uint8Array(u*n);let p=0;for(const T of t.data){let P=128;for(;P>0;)d[p++]=T&P?0:255,P>>=1}let g=0;for(p=0,d[p]!==0&&(a[0]=1,++g),l=1;l<e;l++)d[p]!==d[p+1]&&(a[l]=d[p]?2:1,++g),p++;for(d[p]!==0&&(a[l]=2,++g),o=1;o<n;o++){p=o*u,c=o*r,d[p-u]!==d[p]&&(a[c]=d[p]?1:8,++g);let T=(d[p]?4:0)+(d[p-u]?8:0);for(l=1;l<e;l++)T=(T>>2)+(d[p+1]?4:0)+(d[p-u+1]?8:0),s[T]&&(a[c+l]=s[T],++g),p++;if(d[p-u]!==d[p]&&(a[c+l]=d[p]?2:4,++g),g>i)return null}for(p=u*(n-1),c=o*r,d[p]!==0&&(a[c]=8,++g),l=1;l<e;l++)d[p]!==d[p+1]&&(a[c+l]=d[p]?4:8,++g),p++;if(d[p]!==0&&(a[c+l]=4,++g),g>i)return null;const m=new Int32Array([0,r,-1,0,-r,0,0,0,1]),b=new Path2D,{a:v,b:S,c:C,d:E,e:w,f:A}=new DOMMatrix().scaleSelf(1/e,-1/n).translateSelf(0,-n);for(o=0;g&&o<=n;o++){let T=o*r;const P=T+e;for(;T<P&&!a[T];)T++;if(T===P)continue;let R=T%r,D=o;b.moveTo(v*R+C*D+w,S*R+E*D+A);const O=T;let B=a[T];do{const U=m[B];do T+=U;while(!a[T]);const V=a[T];V!==5&&V!==10?(B=V,a[T]=0):(B=V&51*B>>4,a[T]&=B>>2|B<<2),R=T%r,D=T/r|0,b.lineTo(v*R+C*D+w,S*R+E*D+A),a[T]||--g}while(O!==T);--o}return b}class IP{constructor(e,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=lD,this.textMatrixScale=1,this.fontMatrix=Ov,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Is.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}updateRectMinMax(e,n){const i=pt.applyTransform(n,e),s=pt.applyTransform(n.slice(2),e),r=pt.applyTransform([n[0],n[3]],e),a=pt.applyTransform([n[2],n[1]],e);this.minX=Math.min(this.minX,i[0],s[0],r[0],a[0]),this.minY=Math.min(this.minY,i[1],s[1],r[1],a[1]),this.maxX=Math.max(this.maxX,i[0],s[0],r[0],a[0]),this.maxY=Math.max(this.maxY,i[1],s[1],r[1],a[1])}getPathBoundingBox(e=gs.FILL,n=null){const i=[this.minX,this.minY,this.maxX,this.maxY];if(e===gs.STROKE){n||An("Stroke bounding box must include transform.");const s=pt.singularValueDecompose2dScale(n),r=s[0]*this.lineWidth/2,a=s[1]*this.lineWidth/2;i[0]-=r,i[1]-=a,i[2]+=r,i[3]+=a}return i}updateClipFromPath(){const e=pt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=gs.FILL,n=null){return pt.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function PP(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,i=e.width,s=n%Tr,r=(n-s)/Tr,a=s===0?r:r+1,o=t.createImageData(i,Tr);let l=0,c;const u=e.data,d=o.data;let p,g,m,b;if(e.kind===Ny.GRAYSCALE_1BPP){const v=u.byteLength,S=new Uint32Array(d.buffer,0,d.byteLength>>2),C=S.length,E=i+7>>3,w=4294967295,A=vs.isLittleEndian?4278190080:255;for(p=0;p<a;p++){for(m=p<r?Tr:s,c=0,g=0;g<m;g++){const T=v-l;let P=0;const R=T>E?i:T*8-7,D=R&-8;let O=0,B=0;for(;P<D;P+=8)B=u[l++],S[c++]=B&128?w:A,S[c++]=B&64?w:A,S[c++]=B&32?w:A,S[c++]=B&16?w:A,S[c++]=B&8?w:A,S[c++]=B&4?w:A,S[c++]=B&2?w:A,S[c++]=B&1?w:A;for(;P<R;P++)O===0&&(B=u[l++],O=128),S[c++]=B&O?w:A,O>>=1}for(;c<C;)S[c++]=0;t.putImageData(o,0,p*Tr)}}else if(e.kind===Ny.RGBA_32BPP){for(g=0,b=i*Tr*4,p=0;p<r;p++)d.set(u.subarray(l,l+b)),l+=b,t.putImageData(o,0,g),g+=Tr;p<a&&(b=i*s*4,d.set(u.subarray(l,l+b)),t.putImageData(o,0,g))}else if(e.kind===Ny.RGB_24BPP)for(m=Tr,b=i*m,p=0;p<a;p++){for(p>=r&&(m=s,b=i*m),c=0,g=b;g--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;t.putImageData(o,0,p*Tr)}else throw new Error(`bad image kind: ${e.kind}`)}function NP(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,i=e.width,s=n%Tr,r=(n-s)/Tr,a=s===0?r:r+1,o=t.createImageData(i,Tr);let l=0;const c=e.data,u=o.data;for(let d=0;d<a;d++){const p=d<r?Tr:s;({srcPos:l}=Jee({src:c,srcPos:l,dest:u,width:i,height:p,nonBlackColor:0})),t.putImageData(o,0,d*Tr)}}function pm(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)t[i]!==void 0&&(e[i]=t[i]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function $b(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!fs){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function RP(t,e){if(e)return!0;const n=pt.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround(Yc.pixelRatio*Mu.PDF_TO_CSS_UNITS);return n[0]<=i&&n[1]<=i}const ite=["butt","round","square"],ste=["miter","round","bevel"],rte={},FP={};var jo,lS,cS,uS;const PC=class PC{constructor(e,n,i,s,r,{optionalContentConfig:a,markedContentStack:o=null},l,c){L(this,jo);this.ctx=e,this.current=new IP(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=i,this.canvasFactory=s,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new tte(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,n=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):n}beginDrawing({transform:e,viewport:n,transparency:i=!1,background:s=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,i){const l=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Un(this.compositeCtx))}this.ctx.save(),$b(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Un(this.ctx)}executeOperatorList(e,n,i,s){const r=e.argsArray,a=e.fnArray;let o=n||0;const l=r.length;if(l===o)return o;const c=l-o>_P&&typeof i=="function",u=c?Date.now()+Qee:0;let d=0;const p=this.commonObjs,g=this.objs;let m;for(;;){if(s!==void 0&&o===s.nextBreakPoint)return s.breakIt(o,i),o;if(m=a[o],m!==U5.dependency)this[m].apply(this,r[o]);else for(const b of r[o]){const v=b.startsWith("g_")?p:g;if(!v.has(b))return v.get(b,i),o}if(o++,o===l)return o;if(c&&++d>_P){if(Date.now()>u)return i(),o;d=0}}}endDrawing(){M(this,jo,lS).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),M(this,jo,cS).call(this)}_scaleImage(e,n){const i=e.width??e.displayWidth,s=e.height??e.displayHeight;let r=Math.max(Math.hypot(n[0],n[1]),1),a=Math.max(Math.hypot(n[2],n[3]),1),o=i,l=s,c="prescale1",u,d;for(;r>2&&o>1||a>2&&l>1;){let p=o,g=l;r>2&&o>1&&(p=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),r/=o/p),a>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/g),u=this.cachedCanvases.getCanvas(c,p,g),d=u.context,d.clearRect(0,0,p,g),d.drawImage(e,0,0,o,l,0,0,p,g),e=u.canvas,o=p,l=g,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const n=this.ctx,{width:i,height:s}=e,r=this.current.fillColor,a=this.current.patternFill,o=Un(n);let l,c,u,d;if((e.bitmap||e.data)&&e.count>1){const R=e.bitmap||e.data.buffer;c=JSON.stringify(a?o:[o.slice(0,4),r]),l=this._cachedBitmapsMap.get(R),l||(l=new Map,this._cachedBitmapsMap.set(R,l));const D=l.get(c);if(D&&!a){const O=Math.round(Math.min(o[0],o[2])+o[4]),B=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:D,offsetX:O,offsetY:B}}u=D}u||(d=this.cachedCanvases.getCanvas("maskCanvas",i,s),NP(d.context,e));let p=pt.transform(o,[1/i,0,0,-1/s,0,0]);p=pt.transform(p,[1,0,0,1,0,-s]);const[g,m,b,v]=pt.getAxialAlignedBoundingBox([0,0,i,s],p),S=Math.round(b-g)||1,C=Math.round(v-m)||1,E=this.cachedCanvases.getCanvas("fillCanvas",S,C),w=E.context,A=g,T=m;w.translate(-A,-T),w.transform(...p),u||(u=this._scaleImage(d.canvas,Ko(w)),u=u.img,l&&a&&l.set(c,u)),w.imageSmoothingEnabled=RP(Un(w),e.interpolate),jb(w,u,0,0,u.width,u.height,0,0,i,s),w.globalCompositeOperation="source-in";const P=pt.transform(Ko(w),[1,0,0,1,-A,-T]);return w.fillStyle=a?r.getPattern(n,this,P,gs.FILL):r,w.fillRect(0,0,i,s),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,E.canvas)),{canvas:E.canvas,offsetX:Math.round(A),offsetY:Math.round(T)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=ite[e]}setLineJoin(e){this.ctx.lineJoin=ste[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,n){const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=n)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,i]of e)switch(n){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,e,n);this.suspendedCtx=this.ctx;const r=this.ctx=s.context;r.setTransform(this.suspendedCtx.getTransform()),pm(this.suspendedCtx,r),ete(r,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),pm(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,i,s){const r=s[0],a=s[1],o=s[2]-r,l=s[3]-a;o===0||l===0||(this.genericComposeSMask(n.context,i,o,l,n.subtype,n.backdrop,n.transferMap,r,a,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,n,i,s,r,a,o,l,c,u,d){let p=e.canvas,g=l-u,m=c-d;if(a){const v=pt.makeHexColor(...a);if(g<0||m<0||g+i>p.width||m+s>p.height){const S=this.cachedCanvases.getCanvas("maskExtension",i,s),C=S.context;C.drawImage(p,-g,-m),C.globalCompositeOperation="destination-atop",C.fillStyle=v,C.fillRect(0,0,i,s),C.globalCompositeOperation="source-over",p=S.canvas,g=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(g,m,i,s),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=v,e.fillRect(g,m,i,s),e.restore()}}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),r==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):r==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const b=new Path2D;b.rect(l,c,i,s),n.clip(b),n.globalCompositeOperation="destination-in",n.drawImage(p,g,m,i,s,l,c,i,s),n.restore()}save(){this.inSMaskMode&&pm(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&pm(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,i,s,r,a){this.ctx.transform(e,n,i,s,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,i){let[s]=n;if(!i){s||(s=n[0]=new Path2D),this[e](s);return}if(!(s instanceof Path2D)){const r=n[0]=new Path2D;for(let a=0,o=s.length;a<o;)switch(s[a++]){case Ob.moveTo:r.moveTo(s[a++],s[a++]);break;case Ob.lineTo:r.lineTo(s[a++],s[a++]);break;case Ob.curveTo:r.bezierCurveTo(s[a++],s[a++],s[a++],s[a++],s[a++],s[a++]);break;case Ob.closePath:r.closePath();break;default:Dt(`Unrecognized drawing path operator: ${s[a-1]}`);break}s=r}this.current.updateRectMinMax(Un(this.ctx),i),this[e](s)}closePath(){this.ctx.closePath()}stroke(e,n=!0){const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const r=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,Ko(i),gs.STROKE),r){const a=new Path2D;a.addPath(e,i.getTransform().invertSelf().multiplySelf(r)),e=a}this.rescaleAndStroke(e,!1),i.restore()}else this.rescaleAndStroke(e,!0);n&&this.consumePath(e,this.current.getClippedPathBoundingBox(gs.STROKE,Un(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,n=!0){const i=this.ctx,s=this.current.fillColor,r=this.current.patternFill;let a=!1;if(r){const l=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.fillStyle=s.getPattern(i,this,Ko(i),gs.FILL),l){const c=new Path2D;c.addPath(e,i.getTransform().invertSelf().multiplySelf(l)),e=c}a=!0}const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(i.fill(e,"evenodd"),this.pendingEOFill=!1):i.fill(e)),a&&i.restore(),n&&this.consumePath(e,o)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}clip(){this.pendingClip=rte}eoClip(){this.pendingClip=FP}beginText(){this.current.textMatrix=lD,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,n=this.ctx;if(e===void 0){n.beginPath();return}const i=new Path2D,s=n.getTransform().invertSelf();for(const{transform:r,x:a,y:o,fontSize:l,path:c}of e)i.addPath(c,new DOMMatrix(r).preMultiplySelf(s).translate(a,o).scale(l,-l));n.clip(i),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,n){var u;const i=this.commonObjs.get(e),s=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=i.fontMatrix||Ov,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Dt("Invalid font matrix for font "+e),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const r=i.loadedName||"sans-serif",a=((u=i.systemFontInfo)==null?void 0:u.css)||`"${r}", ${i.fallbackName}`;let o="normal";i.black?o="900":i.bold&&(o="bold");const l=i.italic?"italic":"normal";let c=n;n<CP?c=CP:n>EP&&(c=EP),this.current.fontSizeScale=n/c,this.ctx.font=`${l} ${o} ${c}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,n){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}setTextMatrix(e,n,i,s,r,a){this.current.textMatrix=[e,n,i,s,r,a],this.current.textMatrixScale=Math.hypot(e,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,n,i,s,r){const a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,u=o.fontSize/o.fontSizeScale,d=c&Is.FILL_STROKE_MASK,p=!!(c&Is.ADD_TO_PATH_FLAG),g=o.patternFill&&!l.missingFile,m=o.patternStroke&&!l.missingFile;let b;if((l.disableFontFace||p||g||m)&&(b=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||g||m){a.save(),a.translate(n,i),a.scale(u,-u);let v;if((d===Is.FILL||d===Is.FILL_STROKE)&&(s?(v=a.getTransform(),a.setTransform(...s),a.fill(M(this,jo,uS).call(this,b,v,s))):a.fill(b)),d===Is.STROKE||d===Is.FILL_STROKE)if(r){v||(v=a.getTransform()),a.setTransform(...r);const{a:S,b:C,c:E,d:w}=v,A=pt.inverseTransform(r),T=pt.transform([S,C,E,w,0,0],A),[P,R]=pt.singularValueDecompose2dScale(T);a.lineWidth*=Math.max(P,R)/u,a.stroke(M(this,jo,uS).call(this,b,v,r))}else a.lineWidth/=u,a.stroke(b);a.restore()}else(d===Is.FILL||d===Is.FILL_STROKE)&&a.fillText(e,n,i),(d===Is.STROKE||d===Is.FILL_STROKE)&&a.strokeText(e,n,i);p&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Un(a),x:n,y:i,fontSize:u,path:b})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let i=!1;for(let s=3;s<n.length;s+=4)if(n[s]>0&&n[s]<255){i=!0;break}return Yt(this,"isFontSubpixelAAEnabled",i)}showText(e){const n=this.current,i=n.font;if(i.isType3Font)return this.showType3Text(e);const s=n.fontSize;if(s===0)return;const r=this.ctx,a=n.fontSizeScale,o=n.charSpacing,l=n.wordSpacing,c=n.fontDirection,u=n.textHScale*c,d=e.length,p=i.vertical,g=p?1:-1,m=i.defaultVMetrics,b=s*n.fontMatrix[0],v=n.textRenderingMode===Is.FILL&&!i.disableFontFace&&!n.patternFill;r.save(),r.transform(...n.textMatrix),r.translate(n.x,n.y+n.textRise),c>0?r.scale(u,-1):r.scale(u,1);let S,C;if(n.patternFill){r.save();const P=n.fillColor.getPattern(r,this,Ko(r),gs.FILL);S=Un(r),r.restore(),r.fillStyle=P}if(n.patternStroke){r.save();const P=n.strokeColor.getPattern(r,this,Ko(r),gs.STROKE);C=Un(r),r.restore(),r.strokeStyle=P}let E=n.lineWidth;const w=n.textMatrixScale;if(w===0||E===0){const P=n.textRenderingMode&Is.FILL_STROKE_MASK;(P===Is.STROKE||P===Is.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=w;if(a!==1&&(r.scale(a,a),E/=a),r.lineWidth=E,i.isInvalidPDFjsFont){const P=[];let R=0;for(const D of e)P.push(D.unicode),R+=D.width;r.fillText(P.join(""),0,0),n.x+=R*b*u,r.restore(),this.compose();return}let A=0,T;for(T=0;T<d;++T){const P=e[T];if(typeof P=="number"){A+=g*P*s/1e3;continue}let R=!1;const D=(P.isSpace?l:0)+o,O=P.fontChar,B=P.accent;let U,V,ee=P.width;if(p){const G=P.vmetric||m,$=-(P.vmetric?G[1]:ee*.5)*b,ie=G[2]*b;ee=G?-G[0]:ee,U=$/a,V=(A+ie)/a}else U=A/a,V=0;if(i.remeasure&&ee>0){const G=r.measureText(O).width*1e3/s*a;if(ee<G&&this.isFontSubpixelAAEnabled){const $=ee/G;R=!0,r.save(),r.scale($,1),U/=$}else ee!==G&&(U+=(ee-G)/2e3*s/a)}if(this.contentVisible&&(P.isInFont||i.missingFile)){if(v&&!B)r.fillText(O,U,V);else if(this.paintChar(O,U,V,S,C),B){const G=U+s*B.offset.x/a,$=V-s*B.offset.y/a;this.paintChar(B.fontChar,G,$,S,C)}}const Q=p?ee*b-D*c:ee*b+D*c;A+=Q,R&&r.restore()}p?n.y-=A:n.x+=A*u,r.restore(),this.compose()}showType3Text(e){const n=this.ctx,i=this.current,s=i.font,r=i.fontSize,a=i.fontDirection,o=s.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,u=i.textHScale*a,d=i.fontMatrix||Ov,p=e.length,g=i.textRenderingMode===Is.INVISIBLE;let m,b,v,S;if(!(g||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(u,a),m=0;m<p;++m){if(b=e[m],typeof b=="number"){S=o*b*r/1e3,this.ctx.translate(S,0),i.x+=S*u;continue}const C=(b.isSpace?c:0)+l,E=s.charProcOperatorList[b.operatorListId];E?this.contentVisible&&(this.processingType3=b,this.save(),n.scale(r,r),n.transform(...d),this.executeOperatorList(E),this.restore()):Dt(`Type3 character "${b.operatorListId}" is not available.`),v=pt.applyTransform([b.width,0],d)[0]*r+C,n.translate(v,0),i.x+=v*u}n.restore(),this.processingType3=null}}setCharWidth(e,n){}setCharWidthAndBounds(e,n,i,s,r,a){this.ctx.rect(i,s,r-i,a-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let n;if(e[0]==="TilingPattern"){const i=this.baseTransform||Un(this.ctx),s={createCanvasGraphics:r=>new PC(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new oS(e,this.ctx,s,i)}else n=this._getPattern(e[1],e[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,n,i){this.ctx.strokeStyle=this.current.strokeColor=pt.makeHexColor(e,n,i),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n,i){this.ctx.fillStyle=this.current.fillColor=pt.makeHexColor(e,n,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=Zee(this.getObject(e)),this.cachedPatterns.set(e,i)),n&&(i.matrix=n),i}shadingFill(e){if(!this.contentVisible)return;const n=this.ctx;this.save();const i=this._getPattern(e);n.fillStyle=i.getPattern(n,this,Ko(n),gs.SHADING);const s=Ko(n);if(s){const{width:r,height:a}=n.canvas,[o,l,c,u]=pt.getAxialAlignedBoundingBox([0,0,r,a],s);this.ctx.fillRect(o,l,c-o,u-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){An("Should not call beginInlineImage")}beginImageData(){An("Should not call beginImageData")}paintFormXObjectBegin(e,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Un(this.ctx),n)){const i=n[2]-n[0],s=n[3]-n[1];this.ctx.rect(n[0],n[1],i,s),this.current.updateRectMinMax(Un(this.ctx),n),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||C6("TODO: Support non-isolated groups."),e.knockout&&Dt("Knockout groups not supported.");const i=Un(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=pt.getAxialAlignedBoundingBox(e.bbox,Un(n));const r=[0,0,n.canvas.width,n.canvas.height];s=pt.intersect(s,r)||[0,0,0,0];const a=Math.floor(s[0]),o=Math.floor(s[1]),l=Math.max(Math.ceil(s[2])-a,1),c=Math.max(Math.ceil(s[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(u,l,c),p=d.context;p.translate(-a,-o),p.transform(...i);let g=new Path2D;const[m,b,v,S]=e.bbox;if(g.rect(m,b,v-m,S-b),e.matrix){const C=new Path2D;C.addPath(g,new DOMMatrix(e.matrix)),g=C}p.clip(g),e.smask?this.smaskStack.push({canvas:d.canvas,context:p,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(a,o),n.save()),pm(n,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const s=Un(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);const r=pt.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],s);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(e,n,i,s,r){if(M(this,jo,lS).call(this),$b(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const a=n[2]-n[0],o=n[3]-n[1];if(r&&this.annotationCanvasMap){i=i.slice(),i[4]-=n[0],i[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=a,n[3]=o;const[l,c]=pt.singularValueDecompose2dScale(Un(this.ctx)),{viewportScale:u}=this,d=Math.ceil(a*this.outputScaleX*u),p=Math.ceil(o*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,p);const{canvas:g,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,o*c),$b(this.ctx)}else $b(this.ctx),this.endPath(),this.ctx.rect(n[0],n[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new IP(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),M(this,jo,cS).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(e.data,e),e.count=n;const i=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=nte(e)),s.compiled)){i.fill(s.compiled);return}const r=this._createMaskCanvas(e),a=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,r.offsetX,r.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,i=0,s=0,r,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Un(o);o.transform(n,i,s,r,0,0);const c=this._createMaskCanvas(e);o.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,d=a.length;u<d;u+=2){const p=pt.transform(l,[n,i,s,r,a[u],a[u+1]]),[g,m]=pt.applyTransform([0,0],p);o.drawImage(c.canvas,g,m)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(const r of e){const{data:a,width:o,height:l,transform:c}=r,u=this.cachedCanvases.getCanvas("maskCanvas",o,l),d=u.context;d.save();const p=this.getObject(a,r);NP(d,p),d.globalCompositeOperation="source-in",d.fillStyle=s?i.getPattern(d,this,Ko(n),gs.FILL):i,d.fillRect(0,0,o,l),d.restore(),n.save(),n.transform(...c),n.scale(1,-1),jb(n,u.canvas,0,0,o,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const n=this.getObject(e);if(!n){Dt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(e,n,i,s){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){Dt("Dependent image isn't ready yet");return}const a=r.width,o=r.height,l=[];for(let c=0,u=s.length;c<u;c+=2)l.push({transform:[n,0,0,i,s[c],s[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:i,height:s}=e,r=this.cachedCanvases.getCanvas("inlineImage",i,s),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(n,0,0),a.filter="none",r.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const n=e.width,i=e.height,s=this.ctx;if(this.save(),!fs){const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none")}s.scale(1/n,-1/i);let r;if(e.bitmap)r=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)r=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",n,i).context;PP(l,e),r=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(r,Ko(s));s.imageSmoothingEnabled=RP(Un(s),e.interpolate),jb(s,a.img,0,0,a.paintWidth,a.paintHeight,0,-i,n,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,n){if(!this.contentVisible)return;const i=this.ctx;let s;if(e.bitmap)s=e.bitmap;else{const r=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",r,a).context;PP(l,e),s=this.applyTransferMapsToCanvas(l)}for(const r of n)i.save(),i.transform(...r.transform),i.scale(1,-1),jb(i,s,r.x,r.y,r.w,r.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,n){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip&&(i||(this.pendingClip===FP?s.clip(e,"evenodd"):s.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Un(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:i,c:s,d:r}=this.ctx.getTransform();let a,o;if(i===0&&s===0){const l=Math.abs(n),c=Math.abs(r);if(l===c)if(e===0)a=o=1/l;else{const u=l*e;a=o=u<1?1/u:1}else if(e===0)a=1/l,o=1/c;else{const u=l*e,d=c*e;a=u<1?1/u:1,o=d<1?1/d:1}}else{const l=Math.abs(n*r-i*s),c=Math.hypot(n,i),u=Math.hypot(s,r);if(e===0)a=u/l,o=c/l;else{const d=e*l;a=u>d?u/d:1,o=c>d?c/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:i,current:{lineWidth:s}}=this,[r,a]=this.getScaleForStroking();if(r===a){i.lineWidth=(s||1)*r,i.stroke(e);return}const o=i.getLineDash();n&&i.save(),i.scale(r,a),Sw.a=1/r,Sw.d=1/a;const l=new Path2D;if(l.addPath(e,Sw),o.length>0){const c=Math.max(r,a);i.setLineDash(o.map(u=>u/c)),i.lineDashOffset/=c}i.lineWidth=s||1,i.stroke(l),n&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};jo=new WeakSet,lS=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},cS=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},uS=function(e,n,i){const s=new Path2D;return s.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(n)),s};let N1=PC;for(const t in U5)N1.prototype[t]!==void 0&&(N1.prototype[U5[t]]=N1.prototype[t]);var I2,P2;class Lc{static get workerPort(){return x(this,I2)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");F(this,I2,e)}static get workerSrc(){return x(this,P2)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");F(this,P2,e)}}I2=new WeakMap,P2=new WeakMap,L(Lc,I2,null),L(Lc,P2,"");var od,N2;class ate{constructor({parsedData:e,rawData:n}){L(this,od);L(this,N2);F(this,od,e),F(this,N2,n)}getRaw(){return x(this,N2)}get(e){return x(this,od).get(e)??null}getAll(){return Fk(x(this,od))}has(e){return x(this,od).has(e)}}od=new WeakMap,N2=new WeakMap;const h1=Symbol("INTERNAL");var R2,F2,M2,sp;class ote{constructor(e,{name:n,intent:i,usage:s,rbGroups:r}){L(this,R2,!1);L(this,F2,!1);L(this,M2,!1);L(this,sp,!0);F(this,R2,!!(e&oa.DISPLAY)),F(this,F2,!!(e&oa.PRINT)),this.name=n,this.intent=i,this.usage=s,this.rbGroups=r}get visible(){if(x(this,M2))return x(this,sp);if(!x(this,sp))return!1;const{print:e,view:n}=this.usage;return x(this,R2)?(n==null?void 0:n.viewState)!=="OFF":x(this,F2)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,i=!1){e!==h1&&An("Internal method `_setVisible` called."),F(this,M2,i),F(this,sp,n)}}R2=new WeakMap,F2=new WeakMap,M2=new WeakMap,sp=new WeakMap;var K0,wn,rp,ap,D2,hS;class lte{constructor(e,n=oa.DISPLAY){L(this,D2);L(this,K0,null);L(this,wn,new Map);L(this,rp,null);L(this,ap,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,F(this,ap,e.order);for(const i of e.groups)x(this,wn).set(i.id,new ote(n,i));if(e.baseState==="OFF")for(const i of x(this,wn).values())i._setVisible(h1,!1);for(const i of e.on)x(this,wn).get(i)._setVisible(h1,!0);for(const i of e.off)x(this,wn).get(i)._setVisible(h1,!1);F(this,rp,this.getHash())}}isVisible(e){if(x(this,wn).size===0)return!0;if(!e)return C6("Optional content group not defined."),!0;if(e.type==="OCG")return x(this,wn).has(e.id)?x(this,wn).get(e.id).visible:(Dt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return M(this,D2,hS).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!x(this,wn).has(n))return Dt(`Optional content group not found: ${n}`),!0;if(x(this,wn).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!x(this,wn).has(n))return Dt(`Optional content group not found: ${n}`),!0;if(!x(this,wn).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!x(this,wn).has(n))return Dt(`Optional content group not found: ${n}`),!0;if(!x(this,wn).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!x(this,wn).has(n))return Dt(`Optional content group not found: ${n}`),!0;if(x(this,wn).get(n).visible)return!1}return!0}return Dt(`Unknown optional content policy ${e.policy}.`),!0}return Dt(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,i=!0){var r;const s=x(this,wn).get(e);if(!s){Dt(`Optional content group not found: ${e}`);return}if(i&&n&&s.rbGroups.length)for(const a of s.rbGroups)for(const o of a)o!==e&&((r=x(this,wn).get(o))==null||r._setVisible(h1,!1,!0));s._setVisible(h1,!!n,!0),F(this,K0,null)}setOCGState({state:e,preserveRB:n}){let i;for(const s of e){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}const r=x(this,wn).get(s);if(r)switch(i){case"ON":this.setVisibility(s,!0,n);break;case"OFF":this.setVisibility(s,!1,n);break;case"Toggle":this.setVisibility(s,!r.visible,n);break}}F(this,K0,null)}get hasInitialVisibility(){return x(this,rp)===null||this.getHash()===x(this,rp)}getOrder(){return x(this,wn).size?x(this,ap)?x(this,ap).slice():[...x(this,wn).keys()]:null}getGroups(){return x(this,wn).size>0?Fk(x(this,wn)):null}getGroup(e){return x(this,wn).get(e)||null}getHash(){if(x(this,K0)!==null)return x(this,K0);const e=new zD;for(const[n,i]of x(this,wn))e.update(`${n}:${i.visible}`);return F(this,K0,e.hexdigest())}}K0=new WeakMap,wn=new WeakMap,rp=new WeakMap,ap=new WeakMap,D2=new WeakSet,hS=function(e){const n=e.length;if(n<2)return!0;const i=e[0];for(let s=1;s<n;s++){const r=e[s];let a;if(Array.isArray(r))a=M(this,D2,hS).call(this,r);else if(x(this,wn).has(r))a=x(this,wn).get(r).visible;else return Dt(`Optional content group not found: ${r}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class cte{constructor(e,{disableRange:n=!1,disableStream:i=!1}){Ei(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(r==null?void 0:r.length)>0){const l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const s=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(i),!0)});Ei(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,i,s,r;e.total===void 0?(i=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||i.call(n,{loaded:e.loaded}):(r=(s=this._fullRequestReader)==null?void 0:s.onProgress)==null||r.call(s,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){Ei(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new ute(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new hte(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class ute{constructor(e,n,i=!1,s=null){this._stream=e,this._done=i||!1,this._filename=Lk(s)?s:null,this._queuedChunks=n||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class hte{constructor(e,n,i){this._stream=e,this._begin=n,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function dte(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let u=o(n);return u=unescape(u),u=l(u),u=c(u),r(u)}if(n=a(t),n){const u=c(n);return r(u)}if(n=i("filename","i").exec(t),n){n=n[1];let u=o(n);return u=c(u),r(u)}function i(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function s(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const p=new TextDecoder(u,{fatal:!0}),g=Y9(d);d=p.decode(g),e=!1}catch{}}return d}function r(u){return e&&/[\x80-\xff]/.test(u)&&(u=s("utf-8",u),e&&(u=s("iso-8859-1",u))),u}function a(u){const d=[];let p;const g=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=g.exec(u))!==null;){let[,b,v,S]=p;if(b=parseInt(b,10),b in d){if(b===0)break;continue}d[b]=[v,S]}const m=[];for(let b=0;b<d.length&&b in d;++b){let[v,S]=d[b];S=o(S),v&&(S=unescape(S),b===0&&(S=l(S))),m.push(S)}return m.join("")}function o(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let p=0;p<d.length;++p){const g=d[p].indexOf('"');g!==-1&&(d[p]=d[p].slice(0,g),d.length=p+1),d[p]=d[p].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");if(d===-1)return u;const p=u.slice(0,d),m=u.slice(d+1).replace(/^[^']*'/,"");return s(p,m)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,p,g,m){if(g==="q"||g==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,v){return String.fromCharCode(parseInt(v,16))}),s(p,m);try{m=atob(m)}catch{}return s(p,m)})}return""}function eL(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const i in e){const s=e[i];s!==void 0&&n.append(i,s)}return n}function _6(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function tL({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:i}){const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(t.get("Content-Length"),10);return!Number.isInteger(r)||(s.suggestedLength=r,r<=2*n)||i||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function nL(t){const e=t.get("Content-Disposition");if(e){let n=dte(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(Lk(n))return n}return null}function e3(t,e){return new z5(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function iL(t){return t===200||t===206}function sL(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function rL(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Dt(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class MP{constructor(e){qe(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=eL(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ei(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new fte(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new pte(this,e,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class fte{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const i=new Headers(e.headers),s=n.url;fetch(s,sL(i,this._withCredentials,this._abortController)).then(r=>{if(e._responseOrigin=_6(r.url),!iL(r.status))throw e3(r.status,s);this._reader=r.body.getReader(),this._headersCapability.resolve();const a=r.headers,{allowRangeRequests:o,suggestedLength:l}=tL({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=nL(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Fu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:rL(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class pte{constructor(e,n,i){this._stream=e,this._reader=null,this._loaded=0;const s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${n}-${i-1}`);const a=s.url;fetch(a,sL(r,this._withCredentials,this._abortController)).then(o=>{const l=_6(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!iL(o.status))throw e3(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:rL(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const Aw=200,kw=206;function gte(t){const e=t.response;return typeof e!="string"?e:Y9(e).buffer}class mte{constructor({url:e,httpHeaders:n,withCredentials:i}){qe(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=eL(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[r,a]of this.headers)n.setRequestHeader(r,a);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=kw):s.expectedStatus=Aw,n.responseType="arraybuffer",Ei(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,i),n.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,n.send(null),i}onProgress(e,n){var s;const i=this.pendingRequests[e];i&&((s=i.onProgress)==null||s.call(i,n))}onStateChange(e,n){const i=this.pendingRequests[e];if(!i)return;const s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){i.onError(s.status);return}const r=s.status||Aw;if(!(r===Aw&&i.expectedStatus===kw)&&r!==i.expectedStatus){i.onError(s.status);return}const o=gte(s);if(r===kw){const l=s.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?i.onDone({begin:parseInt(c[1],10),chunk:o}):(Dt('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone({begin:0,chunk:o}):i.onError(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class xte{constructor(e){this._source=e,this._manager=new mte(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return Ei(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new bte(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const i=new yte(this._manager,e,n);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class bte{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=_6(n.responseURL);const i=n.getAllResponseHeaders(),s=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:a}=tL({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=nL(s),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=e3(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class yte{constructor(e,n,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=_6((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=e3(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const wte=/^[a-z][a-z0-9\-+.]+:/i;function vte(t){if(wte.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class Ste{constructor(e){this.source=e,this.url=vte(e.url),Ei(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ei(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Ate(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new kte(this,e,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Ate{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=e3(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Fu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class kte{constructor(e,n,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=e.source;this._isStreamingSupported=!s.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:n,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Cte=1e5,DP=30;var vR,Y0,Er,L2,O2,ld,yc,B2,j2,cd,op,lp,Z0,cp,$2,up,ud,U2,z2,hp,hd,H2,J0,dp,Qc,aL,oL,dS,ga,zy,fS,lL,cL;const Fi=class Fi{constructor({textContentSource:e,container:n,viewport:i}){L(this,Qc);L(this,Y0,Promise.withResolvers());L(this,Er,null);L(this,L2,!1);L(this,O2,!!((vR=globalThis.FontInspector)!=null&&vR.enabled));L(this,ld,null);L(this,yc,null);L(this,B2,0);L(this,j2,0);L(this,cd,null);L(this,op,null);L(this,lp,0);L(this,Z0,0);L(this,cp,Object.create(null));L(this,$2,[]);L(this,up,null);L(this,ud,[]);L(this,U2,new WeakMap);L(this,z2,null);var l;if(e instanceof ReadableStream)F(this,up,e);else if(typeof e=="object")F(this,up,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');F(this,Er,F(this,op,n)),F(this,Z0,i.scale*Yc.pixelRatio),F(this,lp,i.rotation),F(this,yc,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:a,pageY:o}=i.rawDims;F(this,z2,[1,0,0,-1,-a,o+r]),F(this,j2,s),F(this,B2,r),M(l=Fi,ga,lL).call(l),cf(n,i),x(this,Y0).promise.finally(()=>{x(Fi,dp).delete(this),F(this,yc,null),F(this,cp,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=vs.platform;return Yt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{x(this,cd).read().then(({value:n,done:i})=>{if(i){x(this,Y0).resolve();return}x(this,ld)??F(this,ld,n.lang),Object.assign(x(this,cp),n.styles),M(this,Qc,aL).call(this,n.items),e()},x(this,Y0).reject)};return F(this,cd,x(this,up).getReader()),x(Fi,dp).add(this),e(),x(this,Y0).promise}update({viewport:e,onBefore:n=null}){var r;const i=e.scale*Yc.pixelRatio,s=e.rotation;if(s!==x(this,lp)&&(n==null||n(),F(this,lp,s),cf(x(this,op),{rotation:s})),i!==x(this,Z0)){n==null||n(),F(this,Z0,i);const a={div:null,properties:null,ctx:M(r=Fi,ga,zy).call(r,x(this,ld))};for(const o of x(this,ud))a.properties=x(this,U2).get(o),a.div=o,M(this,Qc,dS).call(this,a)}}cancel(){var n;const e=new Fu("TextLayer task cancelled.");(n=x(this,cd))==null||n.cancel(e).catch(()=>{}),F(this,cd,null),x(this,Y0).reject(e)}get textDivs(){return x(this,ud)}get textContentItemsStr(){return x(this,$2)}static cleanup(){if(!(x(this,dp).size>0)){x(this,hp).clear();for(const{canvas:e}of x(this,hd).values())e.remove();x(this,hd).clear()}}};Y0=new WeakMap,Er=new WeakMap,L2=new WeakMap,O2=new WeakMap,ld=new WeakMap,yc=new WeakMap,B2=new WeakMap,j2=new WeakMap,cd=new WeakMap,op=new WeakMap,lp=new WeakMap,Z0=new WeakMap,cp=new WeakMap,$2=new WeakMap,up=new WeakMap,ud=new WeakMap,U2=new WeakMap,z2=new WeakMap,hp=new WeakMap,hd=new WeakMap,H2=new WeakMap,J0=new WeakMap,dp=new WeakMap,Qc=new WeakSet,aL=function(e){var s,r;if(x(this,L2))return;(r=x(this,yc)).ctx??(r.ctx=M(s=Fi,ga,zy).call(s,x(this,ld)));const n=x(this,ud),i=x(this,$2);for(const a of e){if(n.length>Cte){Dt("Ignoring additional textDivs for performance reasons."),F(this,L2,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=x(this,Er);F(this,Er,document.createElement("span")),x(this,Er).classList.add("markedContent"),a.id!==null&&x(this,Er).setAttribute("id",`${a.id}`),o.append(x(this,Er))}else a.type==="endMarkedContent"&&F(this,Er,x(this,Er).parentNode);continue}i.push(a.str),M(this,Qc,oL).call(this,a)}},oL=function(e){var b;const n=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};x(this,ud).push(n);const s=pt.transform(x(this,z2),e.transform);let r=Math.atan2(s[1],s[0]);const a=x(this,cp)[e.fontName];a.vertical&&(r+=Math.PI/2);let o=x(this,O2)&&a.fontSubstitution||a.fontFamily;o=Fi.fontFamilyMap.get(o)||o;const l=Math.hypot(s[2],s[3]),c=l*M(b=Fi,ga,cL).call(b,o,a,x(this,ld));let u,d;r===0?(u=s[4],d=s[5]-c):(u=s[4]+c*Math.sin(r),d=s[5]-c*Math.cos(r));const p="calc(var(--total-scale-factor) *",g=n.style;x(this,Er)===x(this,op)?(g.left=`${(100*u/x(this,j2)).toFixed(2)}%`,g.top=`${(100*d/x(this,B2)).toFixed(2)}%`):(g.left=`${p}${u.toFixed(2)}px)`,g.top=`${p}${d.toFixed(2)}px)`),g.fontSize=`${p}${(x(Fi,J0)*l).toFixed(2)}px)`,g.fontFamily=o,i.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,x(this,O2)&&(n.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),r!==0&&(i.angle=r*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),S=Math.abs(e.transform[3]);v!==S&&Math.max(v,S)/Math.min(v,S)>1.5&&(m=!0)}if(m&&(i.canvasWidth=a.vertical?e.height:e.width),x(this,U2).set(n,i),x(this,yc).div=n,x(this,yc).properties=i,M(this,Qc,dS).call(this,x(this,yc)),i.hasText&&x(this,Er).append(n),i.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),x(this,Er).append(v)}},dS=function(e){var o;const{div:n,properties:i,ctx:s}=e,{style:r}=n;let a="";if(x(Fi,J0)>1&&(a=`scale(${1/x(Fi,J0)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:l}=r,{canvasWidth:c,fontSize:u}=i;M(o=Fi,ga,fS).call(o,s,u*x(this,Z0),l);const{width:d}=s.measureText(n.textContent);d>0&&(a=`scaleX(${c*x(this,Z0)/d}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(r.transform=a)},ga=new WeakSet,zy=function(e=null){let n=x(this,hd).get(e||(e=""));if(!n){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),n=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),x(this,hd).set(e,n),x(this,H2).set(n,{size:0,family:""})}return n},fS=function(e,n,i){const s=x(this,H2).get(e);n===s.size&&i===s.family||(e.font=`${n}px ${i}`,s.size=n,s.family=i)},lL=function(){if(x(this,J0)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),F(this,J0,e.getBoundingClientRect().height),e.remove()},cL=function(e,n,i){const s=x(this,hp).get(e);if(s)return s;const r=M(this,ga,zy).call(this,i);r.canvas.width=r.canvas.height=DP,M(this,ga,fS).call(this,r,DP,e);const a=r.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let c=.8;return o?c=o/(o+l):(vs.platform.isFirefox&&Dt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),x(this,hp).set(e,c),c},L(Fi,ga),L(Fi,hp,new Map),L(Fi,hd,new Map),L(Fi,H2,new WeakMap),L(Fi,J0,null),L(Fi,dp,new Set);let Dx=Fi;class Lx{static textContent(e){const n=[],i={items:n,styles:Object.create(null)};function s(r){var l;if(!r)return;let a=null;const o=r.name;if(o==="#text")a=r.value;else if(Lx.shouldBuildText(o))(l=r==null?void 0:r.attributes)!=null&&l.textContent?a=r.attributes.textContent:r.value&&(a=r.value);else return;if(a!==null&&n.push({str:a}),!!r.children)for(const c of r.children)s(c)}return s(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const Ete=65536,_te=100;function Tte(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new gS,{docId:n}=e,i=t.url?Ite(t.url):null,s=t.data?Pte(t.data):null,r=t.httpHeaders||null,a=t.withCredentials===!0,o=t.password??null,l=t.range instanceof uL?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:Ete;let u=t.worker instanceof R1?t.worker:null;const d=t.verbosity,p=typeof t.docBaseUrl=="string"&&!E6(t.docBaseUrl)?t.docBaseUrl:null,g=Ub(t.cMapUrl),m=t.cMapPacked!==!1,b=t.CMapReaderFactory||(fs?qee:vP),v=Ub(t.iccUrl),S=Ub(t.standardFontDataUrl),C=t.StandardFontDataFactory||(fs?Gee:SP),E=Ub(t.wasmUrl),w=t.WasmFactory||(fs?Wee:AP),A=t.stopAtErrors!==!0,T=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,P=t.isEvalSupported!==!1,R=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!fs,D=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!fs&&(vs.platform.isFirefox||!globalThis.chrome),O=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,B=typeof t.disableFontFace=="boolean"?t.disableFontFace:fs,U=t.fontExtraProperties===!0,V=t.enableXfa===!0,ee=t.ownerDocument||globalThis.document,Q=t.disableRange===!0,G=t.disableStream===!0,$=t.disableAutoFetch===!0,ie=t.pdfBug===!0,he=t.CanvasFactory||(fs?Hee:$ee),pe=t.FilterFactory||(fs?zee:Uee),X=t.enableHWA===!0,te=t.useWasm!==!1,re=l?l.length:t.length??NaN,Ee=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!fs&&!B,Re=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(b===vP&&C===SP&&w===AP&&g&&S&&E&&o1(g,document.baseURI)&&o1(S,document.baseURI)&&o1(E,document.baseURI)),we=null;bee(d);const K={canvasFactory:new he({ownerDocument:ee,enableHWA:X}),filterFactory:new pe({docId:n,ownerDocument:ee}),cMapReaderFactory:Re?null:new b({baseUrl:g,isCompressed:m}),standardFontDataFactory:Re?null:new C({baseUrl:S}),wasmFactory:Re?null:new w({baseUrl:E})};if(!u){const de={verbosity:d,port:Lc.workerPort};u=de.port?R1.fromPort(de):new R1(de),e._worker=u}const Z={docId:n,apiVersion:"5.1.91",data:s,password:o,disableAutoFetch:$,rangeChunkSize:c,length:re,docBaseUrl:p,enableXfa:V,evaluatorOptions:{maxImageSize:T,disableFontFace:B,ignoreErrors:A,isEvalSupported:P,isOffscreenCanvasSupported:R,isImageDecoderSupported:D,canvasMaxAreaInBytes:O,fontExtraProperties:U,useSystemFonts:Ee,useWasm:te,useWorkerFetch:Re,cMapUrl:g,iccUrl:v,standardFontDataUrl:S,wasmUrl:E}},oe={ownerDocument:ee,pdfBug:ie,styleElement:we,loadingParams:{disableAutoFetch:$,enableXfa:V}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const de=u.messageHandler.sendWithPromise("GetDocRequest",Z,s?[s.buffer]:null);let Ie;if(l)Ie=new cte(l,{disableRange:Q,disableStream:G});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");let ye;if(fs)if(o1(i)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");ye=MP}else ye=Ste;else ye=o1(i)?MP:xte;Ie=new ye({url:i,length:re,httpHeaders:r,withCredentials:a,rangeChunkSize:c,disableRange:Q,disableStream:G})}return de.then(ye=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const xe=new Hm(n,ye,u.port),se=new Lte(xe,e,Ie,oe,K);e._transport=se,xe.send("Ready",null)})}).catch(e._capability.reject),e}function Ite(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(fs)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Pte(t){if(fs&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return Y9(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Ub(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const pS=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,Nte=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",Rte=Tee.bind(null,pS,Nte);var E8;const _8=class _8{constructor(){qe(this,"_capability",Promise.withResolvers());qe(this,"_transport",null);qe(this,"_worker",null);qe(this,"docId",`d${Ws(_8,E8)._++}`);qe(this,"destroyed",!1);qe(this,"onPassword",null);qe(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,n,i,s;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(r){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,r}this._transport=null,(s=this._worker)==null||s.destroy(),this._worker=null}async getData(){return this._transport.getData()}};E8=new WeakMap,L(_8,E8,0);let gS=_8;class uL{constructor(e,n,i=!1,s=null){this.length=e,this.initialData=n,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,n){for(const i of this._rangeListeners)i(e,n)}onDataProgress(e,n){this._readyCapability.promise.then(()=>{for(const i of this._progressListeners)i(e,n)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const n of this._progressiveReadListeners)n(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,n){An("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Fte{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Yt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var wc,dd,Xm;class Mte{constructor(e,n,i,s=!1){L(this,dd);L(this,wc,!1);this._pageIndex=e,this._pageInfo=n,this._transport=i,this._stats=s?new bP:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new hL,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:r=!1}={}){return new J9({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:i,offsetY:s,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Yt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:n,intent:i="display",annotationMode:s=N0.ENABLE,transform:r=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:d=!1}){var w,A;(w=this._stats)==null||w.time("Overall");const p=this._transport.getRenderingIntent(i,s,u,d),{renderingIntent:g,cacheKey:m}=p;F(this,wc,!1),o||(o=this._transport.getOptionalContentConfig(g));let b=this._intentStates.get(m);b||(b=Object.create(null),this._intentStates.set(m,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const v=!!(g&oa.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(A=this._stats)==null||A.time("Page Request"),this._pumpOperatorList(p));const S=T=>{var P;b.renderTasks.delete(C),v&&F(this,wc,!0),M(this,dd,Xm).call(this),T?(C.capability.reject(T),this._abortOperatorList({intentState:b,reason:T instanceof Error?T:new Error(T)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(P=globalThis.Stats)!=null&&P.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new xS({callback:S,params:{canvasContext:e,viewport:n,transform:r,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:c});(b.renderTasks||(b.renderTasks=new Set)).add(C);const E=C.task;return Promise.all([b.displayReadyCapability.promise,o]).then(([T,P])=>{var R;if(this.destroyed){S();return}if((R=this._stats)==null||R.time("Rendering"),!(P.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:T,optionalContentConfig:P}),C.operatorListChanged()}).catch(S),E}getOperatorList({intent:e="display",annotationMode:n=N0.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){var c;function r(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,n,i,s,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=r,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Lx.textContent(i));const n=this.streamTextContent(e);return new Promise(function(i,s){function r(){a.read().then(function({value:l,done:c}){if(c){i(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),r()},s)}const a=n.getReader(),o={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const i of n.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),F(this,wc,!1),Promise.all(e)}cleanup(e=!1){F(this,wc,!0);const n=M(this,dd,Xm).call(this);return e&&n&&this._stats&&(this._stats=new bP),n}_startRenderPage(e,n){var s,r;const i=this._intentStates.get(n);i&&((s=this._stats)==null||s.timeEnd("Page Request"),(r=i.displayReadyCapability)==null||r.resolve(e))}_renderPageChunk(e,n){for(let i=0,s=e.length;i<s;i++)n.operatorList.fnArray.push(e.fnArray[i]),n.operatorList.argsArray.push(e.argsArray[i]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const i of n.renderTasks)i.operatorListChanged();e.lastChunk&&M(this,dd,Xm).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:i,modifiedIds:s}){const{map:r,transfer:a}=i,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:r,modifiedIds:s},a).getReader(),c=this._intentStates.get(n);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:p})=>{if(p){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const p of c.renderTasks)p.operatorListChanged();M(this,dd,Xm).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:n,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof Dk){let s=_te;n.extraDelay>0&&n.extraDelay<1e3&&(s+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},s);return}}if(e.streamReader.cancel(new Fu(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[s,r]of this._intentStates)if(r===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}wc=new WeakMap,dd=new WeakSet,Xm=function(){if(!x(this,wc)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),F(this,wc,!1),!0};var vc,T8;class Dte{constructor(){L(this,vc,new Map);L(this,T8,Promise.resolve())}postMessage(e,n){const i={data:structuredClone(e,n?{transfer:n}:null)};x(this,T8).then(()=>{for(const[s]of x(this,vc))s.call(this,i)})}addEventListener(e,n,i=null){let s=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:r}=i;if(r.aborted){Dt("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,n);s=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}x(this,vc).set(n,s)}removeEventListener(e,n){const i=x(this,vc).get(n);i==null||i(),x(this,vc).delete(n)}terminate(){for(const[,e]of x(this,vc))e==null||e();x(this,vc).clear()}}vc=new WeakMap,T8=new WeakMap;var I8,fd,pd,fp,Hy,pp,qy;const Bn=class Bn{constructor({name:e=null,port:n=null,verbosity:i=yee()}={}){L(this,fp);var s;if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,n){if((s=x(Bn,pd))!=null&&s.has(n))throw new Error("Cannot use more than one PDFWorker per port.");(x(Bn,pd)||F(Bn,pd,new WeakMap)).set(n,this),this._initializeFromPort(n);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Hm("main","worker",e),this._messageHandler.on("ready",function(){}),M(this,fp,Hy).call(this)}_initialize(){if(x(Bn,fd)||x(Bn,pp,qy)){this._setupFakeWorker();return}let{workerSrc:e}=Bn;try{Bn._isSameOrigin(window.location,e)||(e=Bn._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),i=new Hm("main","worker",n),s=()=>{r.abort(),i.destroy(),n.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;n.addEventListener("error",()=>{this._webWorker||s()},{signal:r.signal}),i.on("test",o=>{if(r.abort(),this.destroyed||!o){s();return}this._messageHandler=i,this._port=n,this._webWorker=n,M(this,fp,Hy).call(this)}),i.on("ready",o=>{if(r.abort(),this.destroyed){s();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};a();return}catch{C6("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){x(Bn,fd)||(Dt("Setting up fake worker."),F(Bn,fd,!0)),Bn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const n=new Dte;this._port=n;const i=`fake${Ws(Bn,I8)._++}`,s=new Hm(i+"_worker",i,n);e.setup(s,n),this._messageHandler=new Hm(i,i+"_worker",n),M(this,fp,Hy).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,n,i;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(n=x(Bn,pd))==null||n.delete(this._port),this._port=null,(i=this._messageHandler)==null||i.destroy(),this._messageHandler=null}static fromPort(e){var i;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const n=(i=x(this,pd))==null?void 0:i.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Bn(e)}static get workerSrc(){if(Lc.workerSrc)return Lc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Yt(this,"_setupFakeWorkerGlobal",(async()=>x(this,pp,qy)?x(this,pp,qy):(await import(this.workerSrc)).WorkerMessageHandler)())}};I8=new WeakMap,fd=new WeakMap,pd=new WeakMap,fp=new WeakSet,Hy=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},pp=new WeakSet,qy=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},L(Bn,pp),L(Bn,I8,0),L(Bn,fd,!1),L(Bn,pd),fs&&(F(Bn,fd,!0),Lc.workerSrc||(Lc.workerSrc="./pdf.worker.mjs")),Bn._isSameOrigin=(e,n)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const s=new URL(n,i);return i.origin===s.origin},Bn._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))};let R1=Bn;var Sc,fl,gp,mp,Ac,gd,Km;class Lte{constructor(e,n,i,s,r){L(this,gd);L(this,Sc,new Map);L(this,fl,new Map);L(this,gp,new Map);L(this,mp,new Map);L(this,Ac,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new hL,this.fontLoader=new Bee({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Yt(this,"annotationStorage",new $k)}getRenderingIntent(e,n=N0.ENABLE,i=null,s=!1,r=!1){let a=oa.DISPLAY,o=iS;switch(e){case"any":a=oa.ANY;break;case"display":break;case"print":a=oa.PRINT;break;default:Dt(`getRenderingIntent - invalid intent: ${e}`)}const l=a&oa.PRINT&&i instanceof qD?i:this.annotationStorage;switch(n){case N0.DISABLE:a+=oa.ANNOTATIONS_DISABLE;break;case N0.ENABLE:break;case N0.ENABLE_FORMS:a+=oa.ANNOTATIONS_FORMS;break;case N0.ENABLE_STORAGE:a+=oa.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Dt(`getRenderingIntent - invalid annotationMode: ${n}`)}s&&(a+=oa.IS_EDITING),r&&(a+=oa.OPLIST);const{ids:c,hash:u}=l.modifiedIds,d=[a,o.hash,u];return{renderingIntent:a,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=x(this,Ac))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of x(this,fl).values())e.push(s._destroy());x(this,fl).clear(),x(this,gp).clear(),x(this,mp).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var s,r;this.commonObjs.clear(),this.fontLoader.clear(),x(this,Sc).clear(),this.filterFactory.destroy(),Dx.cleanup(),(s=this._networkStream)==null||s.cancelAllRequests(new Fu("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(i,s)=>{Ei(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},s.onPull=()=>{this._fullReader.read().then(function({value:r,done:a}){if(a){s.close();return}Ei(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{this._fullReader.cancel(r),s.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async i=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:r,contentLength:a}=this._fullReader;return(!s||!r)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:s,isRangeSupported:r,contentLength:a}}),e.on("GetRangeReader",(i,s)=>{Ei(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(i.begin,i.end);if(!r){s.close();return}s.onPull=()=>{r.read().then(function({value:a,done:o}){if(o){s.close();return}Ei(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{s.error(a)})},s.onCancel=a=>{r.cancel(a),s.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,n._capability.resolve(new Fte(i,this))}),e.on("DocException",i=>{n._capability.reject(Ar(i))}),e.on("PasswordRequest",i=>{F(this,Ac,Promise.withResolvers());try{if(!n.onPassword)throw Ar(i);const s=r=>{r instanceof Error?x(this,Ac).reject(r):x(this,Ac).resolve({password:r})};n.onPassword(s,i.code)}catch(s){x(this,Ac).reject(s)}return x(this,Ac).promise}),e.on("DataLoaded",i=>{var s;(s=n.onProgress)==null||s.call(n,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;x(this,fl).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,s,r])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":if("error"in r){const u=r.error;Dt(`Error during font loading: ${u}`),this.commonObjs.resolve(i,u);break}const o=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(u,d)=>globalThis.FontInspector.fontAdded(u,d):null,l=new jee(r,o);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(i,l)});break;case"CopyLocalImage":const{imageRef:c}=r;Ei(c,"The imageRef must be defined.");for(const u of x(this,fl).values())for(const[,d]of u.objs)if((d==null?void 0:d.ref)===c)return d.dataLen?(this.commonObjs.resolve(i,structuredClone(d)),d.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([i,s,r,a])=>{var l;if(this.destroyed)return;const o=x(this,fl).get(s);if(!o.objs.has(i)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(r){case"Image":case"Pattern":o.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",i=>{var s;this.destroyed||(s=n.onProgress)==null||s.call(n,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[i.type];if(!s)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Dt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,i=x(this,gp).get(n);if(i)return i;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&x(this,mp).set(r.refStr,e);const a=new Mte(n,r,this,this._params.pdfBug);return x(this,fl).set(n,a),a});return x(this,gp).set(n,s),s}getPageIndex(e){return pS(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return M(this,gd,Km).call(this,"GetFieldObjects")}hasJSActions(){return M(this,gd,Km).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return M(this,gd,Km).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return M(this,gd,Km).call(this,"GetOptionalContentConfig").then(n=>new lte(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=x(this,Sc).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,null).then(s=>{var r,a;return{info:s[0],metadata:s[1]?new ate(s[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return x(this,Sc).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of x(this,fl).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),x(this,Sc).clear(),this.filterFactory.destroy(!0),Dx.cleanup()}}cachedPageNumber(e){if(!pS(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return x(this,mp).get(n)??null}}Sc=new WeakMap,fl=new WeakMap,gp=new WeakMap,mp=new WeakMap,Ac=new WeakMap,gd=new WeakSet,Km=function(e,n=null){const i=x(this,Sc).get(e);if(i)return i;const s=this.messageHandler.sendWithPromise(e,n);return x(this,Sc).set(e,s),s};const gm=Symbol("INITIAL_DATA");var Zr,q2,mS;class hL{constructor(){L(this,q2);L(this,Zr,Object.create(null))}get(e,n=null){if(n){const s=M(this,q2,mS).call(this,e);return s.promise.then(()=>n(s.data)),null}const i=x(this,Zr)[e];if(!i||i.data===gm)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const n=x(this,Zr)[e];return!!n&&n.data!==gm}delete(e){const n=x(this,Zr)[e];return!n||n.data===gm?!1:(delete x(this,Zr)[e],!0)}resolve(e,n=null){const i=M(this,q2,mS).call(this,e);i.data=n,i.resolve()}clear(){var e;for(const n in x(this,Zr)){const{data:i}=x(this,Zr)[n];(e=i==null?void 0:i.bitmap)==null||e.close()}F(this,Zr,Object.create(null))}*[Symbol.iterator](){for(const e in x(this,Zr)){const{data:n}=x(this,Zr)[e];n!==gm&&(yield[e,n])}}}Zr=new WeakMap,q2=new WeakSet,mS=function(e){var n;return(n=x(this,Zr))[e]||(n[e]={...Promise.withResolvers(),data:gm})};var Q0;class Ote{constructor(e){L(this,Q0,null);qe(this,"onContinue",null);qe(this,"onError",null);F(this,Q0,e)}get promise(){return x(this,Q0).capability.promise}cancel(e=0){x(this,Q0).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=x(this,Q0).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=x(this,Q0);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}Q0=new WeakMap;var eu,md;const Nh=class Nh{constructor({callback:e,params:n,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:p=null}){L(this,eu,null);this.callback=e,this.params=n,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Ote(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var o,l;if(this.cancelled)return;if(this._canvas){if(x(Nh,md).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");x(Nh,md).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:i,viewport:s,transform:r,background:a}=this.params;this.gfx=new N1(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:s,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,n=0){var i,s,r;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),x(this,eu)&&(window.cancelAnimationFrame(x(this,eu)),F(this,eu,null)),x(Nh,md).delete(this._canvas),e||(e=new Dk(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(e),(r=(s=this.task).onError)==null||r.call(s,e)}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?F(this,eu,window.requestAnimationFrame(()=>{F(this,eu,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),x(Nh,md).delete(this._canvas),this.callback())))}};eu=new WeakMap,md=new WeakMap,L(Nh,md,new WeakSet);let xS=Nh;const Bte="5.1.91",jte="45cbe8bb0";function LP(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function mm(t){return Math.max(0,Math.min(255,255*t))}class OP{static CMYK_G([e,n,i,s]){return["G",1-Math.min(1,.3*e+.59*i+.11*n+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=mm(e),[e,e,e]}static G_HTML([e]){const n=LP(e);return`#${n}${n}${n}`}static RGB_G([e,n,i]){return["G",.3*e+.59*n+.11*i]}static RGB_rgb(e){return e.map(mm)}static RGB_HTML(e){return`#${e.map(LP).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,i,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,i+s),1-Math.min(1,n+s)]}static CMYK_rgb([e,n,i,s]){return[mm(1-Math.min(1,e+s)),mm(1-Math.min(1,i+s)),mm(1-Math.min(1,n+s))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,i]){const s=1-e,r=1-n,a=1-i,o=Math.min(s,r,a);return["CMYK",s,r,a,o]}}class $te{create(e,n,i=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${n}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${n}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){An("Abstract method `_createSVG` called.")}}class G5 extends $te{_createSVG(e){return document.createElementNS(Ql,e)}}class dL{static setupStorage(e,n,i,s,r){const a=s.getValue(n,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),r==="print")break;e.addEventListener("input",o=>{s.setValue(n,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?e.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",o=>{s.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),r==="print")break;e.addEventListener("input",o=>{s.setValue(n,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of i.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;s.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:i=null,intent:s,linkService:r}){const{attributes:a}=n,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${s}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&r.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,n,i)}static render(e){var d,p;const n=e.annotationStorage,i=e.linkService,s=e.xfaHtml,r=e.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:r,linkService:i});const o=r!=="richText",l=e.div;if(l.append(a),e.viewport){const g=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=g}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(s.children.length===0){if(s.value){const g=document.createTextNode(s.value);a.append(g),o&&Lx.shouldBuildText(s.name)&&c.push(g)}return{textDivs:c}}const u=[[s,-1,a]];for(;u.length>0;){const[g,m,b]=u.at(-1);if(m+1===g.children.length){u.pop();continue}const v=g.children[++u.at(-1)[1]];if(v===null)continue;const{name:S}=v;if(S==="#text"){const E=document.createTextNode(v.value);c.push(E),b.append(E);continue}const C=(d=v==null?void 0:v.attributes)!=null&&d.xmlns?document.createElementNS(v.attributes.xmlns,S):document.createElement(S);if(b.append(C),v.attributes&&this.setAttributes({html:C,element:v,storage:n,intent:r,linkService:i}),((p=v.children)==null?void 0:p.length)>0)u.push([v,-1,C]);else if(v.value){const E=document.createTextNode(v.value);o&&Lx.shouldBuildText(S)&&c.push(E),C.append(E)}}for(const g of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const t3=1e3,Ute=9,hf=new WeakSet;class BP{static create(e){switch(e.data.annotationType){case Si.LINK:return new fL(e);case Si.TEXT:return new zte(e);case Si.WIDGET:switch(e.data.fieldType){case"Tx":return new Hte(e);case"Btn":return e.data.radioButton?new mL(e):e.data.checkBox?new Gte(e):new Wte(e);case"Ch":return new Vte(e);case"Sig":return new qte(e)}return new kf(e);case Si.POPUP:return new yS(e);case Si.FREETEXT:return new vL(e);case Si.LINE:return new Kte(e);case Si.SQUARE:return new Yte(e);case Si.CIRCLE:return new Zte(e);case Si.POLYLINE:return new SL(e);case Si.CARET:return new Qte(e);case Si.INK:return new Hk(e);case Si.POLYGON:return new Jte(e);case Si.HIGHLIGHT:return new AL(e);case Si.UNDERLINE:return new ene(e);case Si.SQUIGGLY:return new tne(e);case Si.STRIKEOUT:return new nne(e);case Si.STAMP:return new kL(e);case Si.FILEATTACHMENT:return new ine(e);default:return new xi(e)}}}var xd,xp,bp,G2,bS;const NC=class NC{constructor(e,{isRenderable:n=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){L(this,G2);L(this,xd,null);L(this,xp,!1);L(this,bp,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,n&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:n,richText:i}){return!!(e!=null&&e.str||n!=null&&n.str||i!=null&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return NC._hasPopupData(this.data)}updateEdited(e){var i;if(!this.container)return;x(this,xd)||F(this,xd,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&M(this,G2,bS).call(this,n),(i=x(this,bp))==null||i.popup.updateEdited(e)}resetEdited(){var e;x(this,xd)&&(M(this,G2,bS).call(this,x(this,xd).rect),(e=x(this,bp))==null||e.popup.resetEdited(),F(this,xd,null))}_createContainer(e){const{data:n,parent:{page:i,viewport:s}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",n.id),this instanceof kf||(r.tabIndex=t3);const{style:a}=r;if(a.zIndex=this.parent.zIndex++,n.alternativeText&&(r.title=n.alternativeText),n.noRotate&&r.classList.add("norotate"),!n.rect||this instanceof yS){const{rotation:b}=n;return!n.hasOwnCanvas&&b!==0&&this.setRotation(b,r),r}const{width:o,height:l}=this;if(!e&&n.borderStyle.width>0){a.borderWidth=`${n.borderStyle.width}px`;const b=n.borderStyle.horizontalCornerRadius,v=n.borderStyle.verticalCornerRadius;if(b>0||v>0){const C=`calc(${b}px * var(--total-scale-factor)) / calc(${v}px * var(--total-scale-factor))`;a.borderRadius=C}else if(this instanceof mL){const C=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=C}switch(n.borderStyle.style){case a1.SOLID:a.borderStyle="solid";break;case a1.DASHED:a.borderStyle="dashed";break;case a1.BEVELED:Dt("Unimplemented border style: beveled");break;case a1.INSET:Dt("Unimplemented border style: inset");break;case a1.UNDERLINE:a.borderBottomStyle="solid";break}const S=n.borderColor||null;S?(F(this,xp,!0),a.borderColor=pt.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):a.borderWidth=0}const c=pt.normalizeRect([n.rect[0],i.view[3]-n.rect[1]+i.view[1],n.rect[2],i.view[3]-n.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:d,pageX:p,pageY:g}=s.rawDims;a.left=`${100*(c[0]-p)/u}%`,a.top=`${100*(c[1]-g)/d}%`;const{rotation:m}=n;return n.hasOwnCanvas||m===0?(a.width=`${100*o/u}%`,a.height=`${100*l/d}%`):this.setRotation(m,r),r}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims;let{width:r,height:a}=this;e%180!==0&&([r,a]=[a,r]),n.style.width=`${100*r/i}%`,n.style.height=`${100*a/s}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,i,s)=>{const r=s.detail[n],a=r[0],o=r.slice(1);s.target.style[i]=OP[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:OP[`${a}_rgb`](o)})};return Yt(this,"_commonActions",{display:n=>{const{display:i}=n.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:i}=n.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const i=n.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,n){const i=this._commonActions;for(const s of Object.keys(n.detail)){const r=e[s]||i[s];r==null||r(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const i=this._commonActions;for(const[s,r]of Object.entries(n)){const a=i[s];if(a){const o={detail:{[s]:r},target:e};a(o),delete n[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,i,s,r]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,v,S,C]=e.subarray(2,6);if(s===b&&r===v&&n===S&&i===C)return}const{style:a}=this.container;let o;if(x(this,xp)){const{borderColor:b,borderWidth:v}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const l=s-n,c=r-i,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const p=u.createElement("defs");d.append(p);const g=u.createElement("clipPath"),m=`clippath_${this.data.id}`;g.setAttribute("id",m),g.setAttribute("clipPathUnits","objectBoundingBox"),p.append(g);for(let b=2,v=e.length;b<v;b+=8){const S=e[b],C=e[b+1],E=e[b+2],w=e[b+3],A=u.createElement("rect"),T=(E-n)/l,P=(r-C)/c,R=(S-E)/l,D=(C-w)/c;A.setAttribute("x",T),A.setAttribute("y",P),A.setAttribute("width",R),A.setAttribute("height",D),g.append(A),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${P}" width="${R}" height="${D}"/>`)}x(this,xp)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{data:e}=this,n=F(this,bp,new yS({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){An("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const i=[];if(this._fieldObjects){const s=this._fieldObjects[e];if(s)for(const{page:r,id:a,exportValues:o}of s){if(r===-1||a===n)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!hf.has(c)){Dt(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:l,domElement:c})}return i}for(const s of document.getElementsByName(e)){const{exportValue:r}=s,a=s.getAttribute("data-element-id");a!==n&&hf.has(s)&&i.push({id:a,exportValue:r,domElement:s})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};xd=new WeakMap,xp=new WeakMap,bp=new WeakMap,G2=new WeakSet,bS=function(e){const{container:{style:n},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:o,pageY:l}}}}=this;i==null||i.splice(0,4,...e),n.left=`${100*(e[0]-o)/r}%`,n.top=`${100*(a-e[3]+l)/a}%`,s===0?(n.width=`${100*(e[2]-e[0])/r}%`,n.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(s)};let xi=NC;var da,vh,pL,gL;class fL extends xi{constructor(n,i=null){super(n,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});L(this,da);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:i}=this,s=document.createElement("a");s.setAttribute("data-element-id",n.id);let r=!1;return n.url?(i.addLinkAttributes(s,n.url,n.newWindow),r=!0):n.action?(this._bindNamedAction(s,n.action),r=!0):n.attachment?(M(this,da,pL).call(this,s,n.attachment,n.attachmentDest),r=!0):n.setOCGState?(M(this,da,gL).call(this,s,n.setOCGState),r=!0):n.dest?(this._bindLink(s,n.dest),r=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,n),r=!0),n.resetForm?(this._bindResetFormAction(s,n.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(s,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(s),this.container}_bindLink(n,i){n.href=this.linkService.getDestinationHash(i),n.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&M(this,da,vh).call(this)}_bindNamedAction(n,i){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(i),!1),M(this,da,vh).call(this)}_bindJSAction(n,i){n.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(i.actions)){const a=s.get(r);a&&(n[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:r}}),!1})}n.onclick||(n.onclick=()=>!1),M(this,da,vh).call(this)}_bindResetFormAction(n,i){const s=n.onclick;if(s||(n.href=this.linkService.getAnchorUrl("")),M(this,da,vh).call(this),!this._fieldObjects){Dt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(n.onclick=()=>!1);return}n.onclick=()=>{var d;s==null||s();const{fields:r,refs:a,include:o}=i,l=[];if(r.length!==0||a.length!==0){const p=new Set(a);for(const g of r){const m=this._fieldObjects[g]||[];for(const{id:b}of m)p.add(b)}for(const g of Object.values(this._fieldObjects))for(const m of g)p.has(m.id)===o&&l.push(m)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const c=this.annotationStorage,u=[];for(const p of l){const{id:g}=p;switch(u.push(g),p.type){case"text":{const b=p.defaultValue||"";c.setValue(g,{value:b});break}case"checkbox":case"radiobutton":{const b=p.defaultValue===p.exportValues;c.setValue(g,{value:b});break}case"combobox":case"listbox":{const b=p.defaultValue||"";c.setValue(g,{value:b});break}default:continue}const m=document.querySelector(`[data-element-id="${g}"]`);if(m){if(!hf.has(m)){Dt(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}da=new WeakSet,vh=function(){this.container.setAttribute("data-internal-link","")},pL=function(n,i,s=null){n.href=this.linkService.getAnchorUrl(""),i.description&&(n.title=i.description),n.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(i.content,i.filename,s),!1},M(this,da,vh).call(this)},gL=function(n,i){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(i),!1),M(this,da,vh).call(this)};class zte extends xi{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class kf extends xi{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return vs.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,i,s,r){i.includes("mouse")?e.addEventListener(i,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(i,a=>{var o;if(i==="blur"){if(!n.focused||!a.relatedTarget)return;n.focused=!1}else if(i==="focus"){if(n.focused)return;n.focused=!0}r&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:r(a)}}))})}_setEventListeners(e,n,i,s){var r,a,o;for(const[l,c]of i)(c==="Action"||(r=this.data.actions)!=null&&r[c])&&((c==="Focus"||c==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,c,s),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,n,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":pt.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||Ute,r=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(xw*s))||1,d=c/u;a=Math.min(s,l(d/xw))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(s,l(c/xw))}r.fontSize=`calc(${a}px * var(--total-scale-factor))`,r.color=pt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(r.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class Hte extends kf{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,i,s){const r=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[n]=i),r.setValue(a.id,{[s]:i})}render(){var s,r;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=e.getValue(n,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((s=this.data.textContent)==null?void 0:s.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",c??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),hf.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=t3,this._setRequired(i,this.data.required),l&&(i.maxLength=l),i.addEventListener("input",p=>{e.setValue(n,{value:p.target.value}),this.setPropertyOnSiblings(i,"value",p.target.value,"value"),u.formattedValue=null}),i.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue??"";i.value=u.userValue=g,u.formattedValue=null});let d=p=>{const{formattedValue:g}=u;g!=null&&(p.target.value=g),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",g=>{var b;if(u.focused)return;const{target:m}=g;u.userValue&&(m.value=u.userValue),u.lastCommittedValue=m.value,u.commitKey=1,(b=this.data.actions)!=null&&b.Focus||(u.focused=!0)}),i.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const m={value(b){u.userValue=b.detail.value??"",e.setValue(n,{value:u.userValue.toString()}),b.target.value=u.userValue},formattedValue(b){const{formattedValue:v}=b.detail;u.formattedValue=v,v!=null&&b.target!==document.activeElement&&(b.target.value=v),e.setValue(n,{formattedValue:v})},selRange(b){b.target.setSelectionRange(...b.detail.selRange)},charLimit:b=>{var E;const{charLimit:v}=b.detail,{target:S}=b;if(v===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",v);let C=u.userValue;!C||C.length<=v||(C=C.slice(0,v),S.value=u.userValue=C,e.setValue(n,{value:C}),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:C,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(m,g)}),i.addEventListener("keydown",g=>{var v;u.commitKey=1;let m=-1;if(g.key==="Escape"?m=0:g.key==="Enter"&&!this.data.multiLine?m=2:g.key==="Tab"&&(u.commitKey=3),m===-1)return;const{value:b}=g.target;u.lastCommittedValue!==b&&(u.lastCommittedValue=b,u.userValue=b,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:b,willCommit:!0,commitKey:m,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const p=d;d=null,i.addEventListener("blur",g=>{var b,v;if(!u.focused||!g.relatedTarget)return;(b=this.data.actions)!=null&&b.Blur||(u.focused=!1);const{value:m}=g.target;u.userValue=m,u.lastCommittedValue!==m&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:m,willCommit:!0,commitKey:u.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),p(g)}),(r=this.data.actions)!=null&&r.Keystroke&&i.addEventListener("beforeinput",g=>{var A;u.lastCommittedValue=null;const{data:m,target:b}=g,{value:v,selectionStart:S,selectionEnd:C}=b;let E=S,w=C;switch(g.inputType){case"deleteWordBackward":{const T=v.substring(0,S).match(/\w*[^\w]*$/);T&&(E-=T[0].length);break}case"deleteWordForward":{const T=v.substring(S).match(/^[^\w]*\w*/);T&&(w+=T[0].length);break}case"deleteContentBackward":S===C&&(E-=1);break;case"deleteContentForward":S===C&&(w+=1);break}g.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:v,change:m||"",willCommit:!1,selStart:E,selEnd:w}})}),this._setEventListeners(i,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(d&&i.addEventListener("blur",d),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/l;i.classList.add("comb"),i.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class qte extends kf{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Gte extends kf{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,i=n.id;let s=e.getValue(i,{value:n.exportValue===n.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return hf.add(r),r.setAttribute("data-element-id",i),r.disabled=n.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=n.fieldName,s&&r.setAttribute("checked",!0),r.setAttribute("exportValue",n.exportValue),r.tabIndex=t3,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,i)){const u=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(i,{value:l})}),r.addEventListener("resetform",a=>{const o=n.defaultFieldValue||"Off";a.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(i,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class mL extends kf{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,i=n.id;let s=e.getValue(i,{value:n.fieldValue===n.buttonValue}).value;if(typeof s=="string"&&(s=s!==n.buttonValue,e.setValue(i,{value:s})),s)for(const a of this._getElementsByName(n.fieldName,i))e.setValue(a.id,{value:!1});const r=document.createElement("input");if(hf.add(r),r.setAttribute("data-element-id",i),r.disabled=n.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=n.fieldName,s&&r.setAttribute("checked",!0),r.tabIndex=t3,r.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,i))e.setValue(c.id,{value:!1});e.setValue(i,{value:l})}),r.addEventListener("resetform",a=>{const o=n.defaultFieldValue;a.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const a=n.buttonValue;r.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=a===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const p=u&&d.id===i;d.domElement&&(d.domElement.checked=p),e.setValue(d.id,{value:p})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Wte extends fL{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class Vte extends kf{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,i=e.getValue(n,{value:this.data.fieldValue}),s=document.createElement("select");hf.add(s),s.setAttribute("data-element-id",n),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=t3;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const p of s.options)p.selected=p.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,i.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),r=!1),s.append(d)}let a=null;if(r){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),s.prepend(u),a=()=>{u.remove(),s.removeEventListener("input",a),a=null},s.addEventListener("input",a)}const o=u=>{const d=u?"value":"textContent",{options:p,multiple:g}=s;return g?Array.prototype.filter.call(p,m=>m.selected).map(m=>m[d]):p.selectedIndex===-1?null:p[p.selectedIndex][d]};let l=o(!1);const c=u=>{const d=u.target.options;return Array.prototype.map.call(d,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",u=>{const d={value(p){a==null||a();const g=p.detail.value,m=new Set(Array.isArray(g)?g:[g]);for(const b of s.options)b.selected=m.has(b.value);e.setValue(n,{value:o(!0)}),l=o(!1)},multipleSelection(p){s.multiple=!0},remove(p){const g=s.options,m=p.detail.remove;g[m].selected=!1,s.remove(m),g.length>0&&Array.prototype.findIndex.call(g,v=>v.selected)===-1&&(g[0].selected=!0),e.setValue(n,{value:o(!0),items:c(p)}),l=o(!1)},clear(p){for(;s.length!==0;)s.remove(0);e.setValue(n,{value:null,items:[]}),l=o(!1)},insert(p){const{index:g,displayValue:m,exportValue:b}=p.detail.insert,v=s.children[g],S=document.createElement("option");S.textContent=m,S.value=b,v?v.before(S):s.append(S),e.setValue(n,{value:o(!0),items:c(p)}),l=o(!1)},items(p){const{items:g}=p.detail;for(;s.length!==0;)s.remove(0);for(const m of g){const{displayValue:b,exportValue:v}=m,S=document.createElement("option");S.textContent=b,S.value=v,s.append(S)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(n,{value:o(!0),items:c(p)}),l=o(!1)},indices(p){const g=new Set(p.detail.indices);for(const m of p.target.options)m.selected=g.has(m.index);e.setValue(n,{value:o(!0)}),l=o(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(d,u)}),s.addEventListener("input",u=>{var g;const d=o(!0),p=o(!1);e.setValue(n,{value:d}),u.preventDefault(),(g=this.linkService.eventBus)==null||g.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:p,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):s.addEventListener("input",function(u){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class yS extends xi{constructor(e){const{data:n,elements:i}=e;super(e,{isRenderable:xi._hasPopupData(n)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Xte({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[];for(const i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(i=>`${Mk}${i}`).join(",")),this.container}}var yp,P8,N8,wp,vp,si,kc,Sp,W2,V2,Ap,Cc,go,Ec,X2,_c,K2,bd,yd,kn,Gy,wS,xL,bL,yL,wL,Wy,Vy,vS;class Xte{constructor({container:e,color:n,elements:i,titleObj:s,modificationDate:r,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:d}){L(this,kn);L(this,yp,M(this,kn,yL).bind(this));L(this,P8,M(this,kn,vS).bind(this));L(this,N8,M(this,kn,Vy).bind(this));L(this,wp,M(this,kn,Wy).bind(this));L(this,vp,null);L(this,si,null);L(this,kc,null);L(this,Sp,null);L(this,W2,null);L(this,V2,null);L(this,Ap,null);L(this,Cc,!1);L(this,go,null);L(this,Ec,null);L(this,X2,null);L(this,_c,null);L(this,K2,null);L(this,bd,null);L(this,yd,!1);var p;F(this,si,e),F(this,K2,s),F(this,kc,a),F(this,_c,o),F(this,V2,l),F(this,vp,n),F(this,X2,c),F(this,Ap,u),F(this,W2,i),F(this,Sp,Ok.toDateObject(r)),this.trigger=i.flatMap(g=>g.getElementsToTriggerPopup());for(const g of this.trigger)g.addEventListener("click",x(this,wp)),g.addEventListener("mouseenter",x(this,N8)),g.addEventListener("mouseleave",x(this,P8)),g.classList.add("popupTriggerArea");for(const g of i)(p=g.container)==null||p.addEventListener("keydown",x(this,yp));x(this,si).hidden=!0,d&&M(this,kn,Wy).call(this)}render(){if(x(this,go))return;const e=F(this,go,document.createElement("div"));if(e.className="popup",x(this,vp)){const r=e.style.outlineColor=pt.makeHexColor(...x(this,vp));e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const n=document.createElement("span");n.className="header";const i=document.createElement("h1");if(n.append(i),{dir:i.dir,str:i.textContent}=x(this,K2),e.append(n),x(this,Sp)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:x(this,Sp).valueOf()})),n.append(r)}const s=x(this,kn,Gy);if(s)dL.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(x(this,kc));e.append(r)}x(this,si).append(e)}_formatContents({str:e,dir:n}){const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const s=e.split(/(?:\r\n?|\n)/);for(let r=0,a=s.length;r<a;++r){const o=s[r];i.append(document.createTextNode(o)),r<a-1&&i.append(document.createElement("br"))}return i}updateEdited({rect:e,popupContent:n}){var i;x(this,bd)||F(this,bd,{contentsObj:x(this,kc),richText:x(this,_c)}),e&&F(this,Ec,null),n&&(F(this,_c,M(this,kn,bL).call(this,n)),F(this,kc,null)),(i=x(this,go))==null||i.remove(),F(this,go,null)}resetEdited(){var e;x(this,bd)&&({contentsObj:Ws(this,kc)._,richText:Ws(this,_c)._}=x(this,bd),F(this,bd,null),(e=x(this,go))==null||e.remove(),F(this,go,null),F(this,Ec,null))}forceHide(){F(this,yd,this.isVisible),x(this,yd)&&(x(this,si).hidden=!0)}maybeShow(){x(this,yd)&&(x(this,go)||M(this,kn,Vy).call(this),F(this,yd,!1),x(this,si).hidden=!1)}get isVisible(){return x(this,si).hidden===!1}}yp=new WeakMap,P8=new WeakMap,N8=new WeakMap,wp=new WeakMap,vp=new WeakMap,si=new WeakMap,kc=new WeakMap,Sp=new WeakMap,W2=new WeakMap,V2=new WeakMap,Ap=new WeakMap,Cc=new WeakMap,go=new WeakMap,Ec=new WeakMap,X2=new WeakMap,_c=new WeakMap,K2=new WeakMap,bd=new WeakMap,yd=new WeakMap,kn=new WeakSet,Gy=function(){const e=x(this,_c),n=x(this,kc);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&x(this,_c).html||null},wS=function(){var e,n,i;return((i=(n=(e=x(this,kn,Gy))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:i.fontSize)||0},xL=function(){var e,n,i;return((i=(n=(e=x(this,kn,Gy))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:i.color)||null},bL=function(e){const n=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},s={style:{color:x(this,kn,xL),fontSize:x(this,kn,wS)?`calc(${x(this,kn,wS)}px * var(--total-scale-factor))`:""}};for(const r of e.split(`
`))n.push({name:"span",value:r,attributes:s});return i},yL=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&x(this,Cc))&&M(this,kn,Wy).call(this)},wL=function(){if(x(this,Ec)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:r}}}=x(this,V2);let a=!!x(this,Ap),o=a?x(this,Ap):x(this,X2);for(const m of x(this,W2))if(!o||pt.intersect(m.data.rect,o)!==null){o=m.data.rect,a=!0;break}const l=pt.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=a?o[2]-o[0]+5:0,d=l[0]+u,p=l[1];F(this,Ec,[100*(d-s)/n,100*(p-r)/i]);const{style:g}=x(this,si);g.left=`${x(this,Ec)[0]}%`,g.top=`${x(this,Ec)[1]}%`},Wy=function(){F(this,Cc,!x(this,Cc)),x(this,Cc)?(M(this,kn,Vy).call(this),x(this,si).addEventListener("click",x(this,wp)),x(this,si).addEventListener("keydown",x(this,yp))):(M(this,kn,vS).call(this),x(this,si).removeEventListener("click",x(this,wp)),x(this,si).removeEventListener("keydown",x(this,yp)))},Vy=function(){x(this,go)||this.render(),this.isVisible?x(this,Cc)&&x(this,si).classList.add("focused"):(M(this,kn,wL).call(this),x(this,si).hidden=!1,x(this,si).style.zIndex=parseInt(x(this,si).style.zIndex)+1e3)},vS=function(){x(this,si).classList.remove("focused"),!(x(this,Cc)||!this.isVisible)&&(x(this,si).hidden=!0,x(this,si).style.zIndex=parseInt(x(this,si).style.zIndex)-1e3)};class vL extends xi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ft.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const i=document.createElement("span");i.textContent=n,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Y2;class Kte extends xi{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});L(this,Y2,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),a=F(this,Y2,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),a.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),a.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),a.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),a.setAttribute("stroke-width",n.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,Y2)}addHighlightArea(){this.container.classList.add("highlightArea")}}Y2=new WeakMap;var Z2;class Yte extends xi{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});L(this,Z2,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),a=n.borderStyle.width,o=F(this,Z2,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",i-a),o.setAttribute("height",s-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,Z2)}addHighlightArea(){this.container.classList.add("highlightArea")}}Z2=new WeakMap;var J2;class Zte extends xi{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});L(this,J2,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:i,height:s}=this,r=this.svgFactory.create(i,s,!0),a=n.borderStyle.width,o=F(this,J2,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",s/2),o.setAttribute("rx",i/2-a/2),o.setAttribute("ry",s/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,J2)}addHighlightArea(){this.container.classList.add("highlightArea")}}J2=new WeakMap;var Q2;class SL extends xi{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});L(this,Q2,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:i,borderStyle:s,popupRef:r},width:a,height:o}=this;if(!i)return this.container;const l=this.svgFactory.create(a,o,!0);let c=[];for(let d=0,p=i.length;d<p;d+=2){const g=i[d]-n[0],m=n[3]-i[d+1];c.push(`${g},${m}`)}c=c.join(" ");const u=F(this,Q2,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",s.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return x(this,Q2)}addHighlightArea(){this.container.classList.add("highlightArea")}}Q2=new WeakMap;class Jte extends SL{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Qte extends xi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var e9,wd,t9,SS;class Hk extends xi{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});L(this,t9);L(this,e9,null);L(this,wd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ft.HIGHLIGHT:Ft.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:i,inkLists:s,borderStyle:r,popupRef:a}}=this,{transform:o,width:l,height:c}=M(this,t9,SS).call(this,i,n),u=this.svgFactory.create(l,c,!0),d=F(this,e9,this.svgFactory.createElement("svg:g"));u.append(d),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",o);for(let p=0,g=s.length;p<g;p++){const m=this.svgFactory.createElement(this.svgElementName);x(this,wd).push(m),m.setAttribute("points",s[p].join(",")),d.append(m)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:i,points:s,rect:r}=n,a=x(this,e9);if(i>=0&&a.setAttribute("stroke-width",i||1),s)for(let o=0,l=x(this,wd).length;o<l;o++)x(this,wd)[o].setAttribute("points",s[o].join(","));if(r){const{transform:o,width:l,height:c}=M(this,t9,SS).call(this,this.data.rotation,r);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return x(this,wd)}addHighlightArea(){this.container.classList.add("highlightArea")}}e9=new WeakMap,wd=new WeakMap,t9=new WeakSet,SS=function(n,i){switch(n){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class AL extends xi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ft.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class ene extends xi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class tne extends xi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class nne extends xi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class kL extends xi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ft.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var n9,i9,AS;class ine extends xi{constructor(n){var s;super(n,{isRenderable:!0});L(this,i9);L(this,n9,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(s=this.linkService.eventBus)==null||s.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:i}=this;let s;i.hasAppearance||i.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),s.addEventListener("dblclick",M(this,i9,AS).bind(this)),F(this,n9,s);const{isMac:r}=vs.platform;return n.addEventListener("keydown",a=>{a.key==="Enter"&&(r?a.metaKey:a.ctrlKey)&&M(this,i9,AS).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),n.append(s),n}getElementsToTriggerPopup(){return x(this,n9)}addHighlightArea(){this.container.classList.add("highlightArea")}}n9=new WeakMap,i9=new WeakSet,AS=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var s9,vd,tu,r9,ju,CS,ES;const RC=class RC{constructor({div:e,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:a,structTreeLayer:o}){L(this,ju);L(this,s9,null);L(this,vd,null);L(this,tu,new Map);L(this,r9,null);this.div=e,F(this,s9,n),F(this,vd,i),F(this,r9,o||null),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return x(this,tu).size>0}async render(e){var a;const{annotations:n}=e,i=this.div;cf(i,this.viewport);const s=new Map,r={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new G5,annotationStorage:e.annotationStorage||new $k,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of n){if(o.noHTML)continue;const l=o.annotationType===Si.POPUP;if(l){const d=s.get(o.id);if(!d)continue;r.elements=d}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;r.data=o;const c=BP.create(r);if(!c.isRenderable)continue;if(!l&&o.popupRef){const d=s.get(o.popupRef);d?d.push(c):s.set(o.popupRef,[c])}const u=c.render();o.hidden&&(u.style.visibility="hidden"),await M(this,ju,CS).call(this,u,o.id),c._isEditable&&(x(this,tu).set(c.data.id,c),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(c))}M(this,ju,ES).call(this)}async addLinkAnnotations(e,n){const i={data:null,layer:this.div,linkService:n,svgFactory:new G5,parent:this};for(const s of e){s.borderStyle||(s.borderStyle=RC._defaultBorderStyle),i.data=s;const r=BP.create(i);if(!r.isRenderable)continue;const a=r.render();await M(this,ju,CS).call(this,a,s.id)}}update({viewport:e}){const n=this.div;this.viewport=e,cf(n,{rotation:e.rotation}),M(this,ju,ES).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(x(this,tu).values())}getEditableAnnotation(e){return x(this,tu).get(e)}static get _defaultBorderStyle(){return Yt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:a1.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};s9=new WeakMap,vd=new WeakMap,tu=new WeakMap,r9=new WeakMap,ju=new WeakSet,CS=async function(e,n){var a,o;const i=e.firstChild||e,s=i.id=`${Mk}${n}`,r=await((a=x(this,r9))==null?void 0:a.getAriaAttributes(s));if(r)for(const[l,c]of r)i.setAttribute(l,c);this.div.append(e),(o=x(this,s9))==null||o.moveElementInDOM(this.div,e,i,!1)},ES=function(){var n;if(!x(this,vd))return;const e=this.div;for(const[i,s]of x(this,vd)){const r=e.querySelector(`[data-annotation-id="${i}"]`);if(!r)continue;s.className="annotationContent";const{firstChild:a}=r;a?a.nodeName==="CANVAS"?a.replaceWith(s):a.classList.contains("annotationContent")?a.after(s):a.before(s):r.append(s);const o=x(this,tu).get(i);o&&(o._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(i,r.id,s),o._hasNoCanvas=!1):o.canvas=s)}x(this,vd).clear()};let kS=RC;const zb=/\r\n?|\n/g;var mo,Jr,a9,Sd,Qr,Ii,CL,EL,_L,Xy,Wc,Ky,Yy,TL,TS,IL;const Tn=class Tn extends Wn{constructor(n){super({...n,name:"freeTextEditor"});L(this,Ii);L(this,mo);L(this,Jr,"");L(this,a9,`${this.id}-editor`);L(this,Sd,null);L(this,Qr);F(this,mo,n.color||Tn._defaultColor||Wn._defaultLineColor),F(this,Qr,n.fontSize||Tn._defaultFontSize)}static get _keyboardManager(){const n=Tn.prototype,i=a=>a.isEmpty(),s=uf.TRANSLATE_SMALL,r=uf.TRANSLATE_BIG;return Yt(this,"_keyboardManager",new Q9([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-s,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[s,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-s],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,s],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,r],checker:i}]]))}static initialize(n,i){Wn.initialize(n,i);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,i){switch(n){case en.FREETEXT_SIZE:Tn._defaultFontSize=i;break;case en.FREETEXT_COLOR:Tn._defaultColor=i;break}}updateParams(n,i){switch(n){case en.FREETEXT_SIZE:M(this,Ii,CL).call(this,i);break;case en.FREETEXT_COLOR:M(this,Ii,EL).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[en.FREETEXT_SIZE,Tn._defaultFontSize],[en.FREETEXT_COLOR,Tn._defaultColor||Wn._defaultLineColor]]}get propertiesToUpdate(){return[[en.FREETEXT_SIZE,x(this,Qr)],[en.FREETEXT_COLOR,x(this,mo)]]}_translateEmpty(n,i){this._uiManager.translateSelectedEditors(n,i,!0)}getInitialTranslation(){const n=this.parentScale;return[-Tn._internalPadding*n,-(Tn._internalPadding+x(this,Qr))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Ft.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),F(this,Sd,new AbortController);const n=this._uiManager.combinedSignal(x(this,Sd));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n})}disableEditMode(){var n;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",x(this,a9)),this._isDraggable=!0,(n=x(this,Sd))==null||n.abort(),F(this,Sd,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var i;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=x(this,Jr),i=F(this,Jr,M(this,Ii,_L).call(this).trimEnd());if(n===i)return;const s=r=>{if(F(this,Jr,r),!r){this.remove();return}M(this,Ii,Yy).call(this),this._uiManager.rebuild(this),M(this,Ii,Xy).call(this)};this.addCommands({cmd:()=>{s(i)},undo:()=>{s(n)},mustExec:!1}),M(this,Ii,Xy).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(n){this.enterInEditMode()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){Tn._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let n,i;(this._isCopy||this.annotationElementId)&&(n=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",x(this,a9)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${x(this,Qr)}px * var(--total-scale-factor))`,s.color=x(this,mo),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),jk(this,this.div,["dblclick","keydown"]),this._isCopy||this.annotationElementId){const[r,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,d]=this.pageDimensions,[p,g]=this.pageTranslation;let m,b;switch(this.rotation){case 0:m=n+(o[0]-p)/u,b=i+this.height-(o[1]-g)/d;break;case 90:m=n+(o[0]-p)/u,b=i-(o[1]-g)/d,[l,c]=[c,-l];break;case 180:m=n-this.width+(o[0]-p)/u,b=i-(o[1]-g)/d,[l,c]=[-l,-c];break;case 270:m=n+(o[0]-p-this.height*d)/u,b=i+(o[1]-g-this.width*u)/d,[l,c]=[-c,l];break}this.setAt(m*r,b*a,l,c)}else this._moveAfterPaste(n,i);M(this,Ii,Yy).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var m,b,v;const i=n.clipboardData||window.clipboardData,{types:s}=i;if(s.length===1&&s[0]==="text/plain")return;n.preventDefault();const r=M(m=Tn,Wc,TS).call(m,i.getData("text")||"").replaceAll(zb,`
`);if(!r)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,u=[],d=[];if(l.nodeType===Node.TEXT_NODE){const S=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(zb,"")),S!==this.editorDiv){let C=u;for(const E of this.editorDiv.childNodes){if(E===S){C=d;continue}C.push(M(b=Tn,Wc,Ky).call(b,E))}}u.push(l.nodeValue.slice(0,c).replaceAll(zb,""))}else if(l===this.editorDiv){let S=u,C=0;for(const E of this.editorDiv.childNodes)C++===c&&(S=d),S.push(M(v=Tn,Wc,Ky).call(v,E))}F(this,Jr,`${u.join(`
`)}${r}${d.join(`
`)}`),M(this,Ii,Yy).call(this);const p=new Range;let g=Math.sumPrecise(u.map(S=>S.length));for(const{firstChild:S}of this.editorDiv.childNodes)if(S.nodeType===Node.TEXT_NODE){const C=S.nodeValue.length;if(g<=C){p.setStart(S,g),p.setEnd(S,g);break}g-=C}a.removeAllRanges(),a.addRange(p)}get contentDiv(){return this.editorDiv}static async deserialize(n,i,s){var o;let r=null;if(n instanceof vL){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:d,id:p,popupRef:g},textContent:m,textPosition:b,parent:{page:{pageNumber:v}}}=n;if(!m||m.length===0)return null;r=n={annotationType:Ft.FREETEXT,color:Array.from(c),fontSize:l,value:m.join(`
`),position:b,pageIndex:v-1,rect:u.slice(0),rotation:d,id:p,deleted:!1,popupRef:g}}const a=await super.deserialize(n,i,s);return F(a,Qr,n.fontSize),F(a,mo,pt.makeHexColor(...n.color)),F(a,Jr,M(o=Tn,Wc,TS).call(o,n.value)),a.annotationElementId=n.id||null,a._initialData=r,a}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Tn._internalPadding*this.parentScale,s=this.getRect(i,i),r=Wn._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:x(this,mo)),a={annotationType:Ft.FREETEXT,color:r,fontSize:x(this,Qr),value:M(this,Ii,TL).call(this),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(a.isCopy=!0,a):this.annotationElementId&&!M(this,Ii,IL).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(n){const i=super.renderAnnotationElement(n);if(this.deleted)return i;const{style:s}=i;s.fontSize=`calc(${x(this,Qr)}px * var(--total-scale-factor))`,s.color=x(this,mo),i.replaceChildren();for(const a of x(this,Jr).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),i.append(o)}const r=Tn._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(r,r),popupContent:x(this,Jr)}),i}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};mo=new WeakMap,Jr=new WeakMap,a9=new WeakMap,Sd=new WeakMap,Qr=new WeakMap,Ii=new WeakSet,CL=function(n){const i=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-x(this,Qr))*this.parentScale),F(this,Qr,r),M(this,Ii,Xy).call(this)},s=x(this,Qr);this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},EL=function(n){const i=r=>{F(this,mo,this.editorDiv.style.color=r)},s=x(this,mo);this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},_L=function(){var s;const n=[];this.editorDiv.normalize();let i=null;for(const r of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(n.push(M(s=Tn,Wc,Ky).call(s,r)),i=r);return n.join(`
`)},Xy=function(){const[n,i]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:r,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",r.div.append(this.div),s=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=s.width/n,this.height=s.height/i):(this.width=s.height/n,this.height=s.width/i),this.fixAndSetPosition()},Wc=new WeakSet,Ky=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(zb,"")},Yy=function(){if(this.editorDiv.replaceChildren(),!!x(this,Jr))for(const n of x(this,Jr).split(`
`)){const i=document.createElement("div");i.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(i)}},TL=function(){return x(this,Jr).replaceAll(" "," ")},TS=function(n){return n.replaceAll(" "," ")},IL=function(n){const{value:i,fontSize:s,color:r,pageIndex:a}=this._initialData;return this._hasBeenMoved||n.value!==i||n.fontSize!==s||n.color.some((o,l)=>o!==r[l])||n.pageIndex!==a},L(Tn,Wc),qe(Tn,"_freeTextDefaultContent",""),qe(Tn,"_internalPadding",0),qe(Tn,"_defaultColor",null),qe(Tn,"_defaultFontSize",10),qe(Tn,"_type","freetext"),qe(Tn,"_editorType",Ft.FREETEXT);let _S=Tn;class at{toSVGPath(){An("Abstract method `toSVGPath` must be implemented.")}get box(){An("Abstract getter `box` must be implemented.")}serialize(e,n){An("Abstract method `serialize` must be implemented.")}static _rescale(e,n,i,s,r,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o]*s,a[o+1]=i+e[o+1]*r;return a}static _rescaleAndSwap(e,n,i,s,r,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o+1]*s,a[o+1]=i+e[o]*r;return a}static _translate(e,n,i,s){s||(s=new Float32Array(e.length));for(let r=0,a=e.length;r<a;r+=2)s[r]=n+e[r],s[r+1]=i+e[r+1];return s}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,i,s,r){switch(r){case 90:return[1-n/i,e/s];case 180:return[1-e/i,1-n/s];case 270:return[n/i,1-e/s];default:return[e/i,n/s]}}static _normalizePagePoint(e,n,i){switch(i){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,i,s,r,a){return[(e+5*i)/6,(n+5*s)/6,(5*i+r)/6,(5*s+a)/6,(i+r)/2,(s+a)/2]}}qe(at,"PRECISION",1e-4);var ea,xo,kp,Cp,pl,qt,Ad,kd,o9,l9,Ep,_p,nu,c9,R8,F8,ji,Ym,PL,NL,RL,FL,ML,DL;const rc=class rc{constructor({x:e,y:n},i,s,r,a,o=0){L(this,ji);L(this,ea);L(this,xo,[]);L(this,kp);L(this,Cp);L(this,pl,[]);L(this,qt,new Float32Array(18));L(this,Ad);L(this,kd);L(this,o9);L(this,l9);L(this,Ep);L(this,_p);L(this,nu,[]);F(this,ea,i),F(this,_p,r*s),F(this,Cp,a),x(this,qt).set([NaN,NaN,NaN,NaN,e,n],6),F(this,kp,o),F(this,l9,x(rc,c9)*s),F(this,o9,x(rc,F8)*s),F(this,Ep,s),x(this,nu).push(e,n)}isEmpty(){return isNaN(x(this,qt)[8])}add({x:e,y:n}){var D;F(this,Ad,e),F(this,kd,n);const[i,s,r,a]=x(this,ea);let[o,l,c,u]=x(this,qt).subarray(8,12);const d=e-c,p=n-u,g=Math.hypot(d,p);if(g<x(this,o9))return!1;const m=g-x(this,l9),b=m/g,v=b*d,S=b*p;let C=o,E=l;o=c,l=u,c+=v,u+=S,(D=x(this,nu))==null||D.push(e,n);const w=-S/m,A=v/m,T=w*x(this,_p),P=A*x(this,_p);return x(this,qt).set(x(this,qt).subarray(2,8),0),x(this,qt).set([c+T,u+P],4),x(this,qt).set(x(this,qt).subarray(14,18),12),x(this,qt).set([c-T,u-P],16),isNaN(x(this,qt)[6])?(x(this,pl).length===0&&(x(this,qt).set([o+T,l+P],2),x(this,pl).push(NaN,NaN,NaN,NaN,(o+T-i)/r,(l+P-s)/a),x(this,qt).set([o-T,l-P],14),x(this,xo).push(NaN,NaN,NaN,NaN,(o-T-i)/r,(l-P-s)/a)),x(this,qt).set([C,E,o,l,c,u],6),!this.isEmpty()):(x(this,qt).set([C,E,o,l,c,u],6),Math.abs(Math.atan2(E-l,C-o)-Math.atan2(S,v))<Math.PI/2?([o,l,c,u]=x(this,qt).subarray(2,6),x(this,pl).push(NaN,NaN,NaN,NaN,((o+c)/2-i)/r,((l+u)/2-s)/a),[o,l,C,E]=x(this,qt).subarray(14,18),x(this,xo).push(NaN,NaN,NaN,NaN,((C+o)/2-i)/r,((E+l)/2-s)/a),!0):([C,E,o,l,c,u]=x(this,qt).subarray(0,6),x(this,pl).push(((C+5*o)/6-i)/r,((E+5*l)/6-s)/a,((5*o+c)/6-i)/r,((5*l+u)/6-s)/a,((o+c)/2-i)/r,((l+u)/2-s)/a),[c,u,o,l,C,E]=x(this,qt).subarray(12,18),x(this,xo).push(((C+5*o)/6-i)/r,((E+5*l)/6-s)/a,((5*o+c)/6-i)/r,((5*l+u)/6-s)/a,((o+c)/2-i)/r,((l+u)/2-s)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=x(this,pl),n=x(this,xo);if(isNaN(x(this,qt)[6])&&!this.isEmpty())return M(this,ji,PL).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);M(this,ji,RL).call(this,i);for(let s=n.length-6;s>=6;s-=6)isNaN(n[s])?i.push(`L${n[s+4]} ${n[s+5]}`):i.push(`C${n[s]} ${n[s+1]} ${n[s+2]} ${n[s+3]} ${n[s+4]} ${n[s+5]}`);return M(this,ji,NL).call(this,i),i.join(" ")}newFreeDrawOutline(e,n,i,s,r,a){return new LL(e,n,i,s,r,a)}getOutlines(){var d;const e=x(this,pl),n=x(this,xo),i=x(this,qt),[s,r,a,o]=x(this,ea),l=new Float32Array((((d=x(this,nu))==null?void 0:d.length)??0)+2);for(let p=0,g=l.length-2;p<g;p+=2)l[p]=(x(this,nu)[p]-s)/a,l[p+1]=(x(this,nu)[p+1]-r)/o;if(l[l.length-2]=(x(this,Ad)-s)/a,l[l.length-1]=(x(this,kd)-r)/o,isNaN(i[6])&&!this.isEmpty())return M(this,ji,FL).call(this,l);const c=new Float32Array(x(this,pl).length+24+x(this,xo).length);let u=e.length;for(let p=0;p<u;p+=2){if(isNaN(e[p])){c[p]=c[p+1]=NaN;continue}c[p]=e[p],c[p+1]=e[p+1]}u=M(this,ji,DL).call(this,c,u);for(let p=n.length-6;p>=6;p-=6)for(let g=0;g<6;g+=2){if(isNaN(n[p+g])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=n[p+g],c[u+1]=n[p+g+1],u+=2}return M(this,ji,ML).call(this,c,u),this.newFreeDrawOutline(c,l,x(this,ea),x(this,Ep),x(this,kp),x(this,Cp))}};ea=new WeakMap,xo=new WeakMap,kp=new WeakMap,Cp=new WeakMap,pl=new WeakMap,qt=new WeakMap,Ad=new WeakMap,kd=new WeakMap,o9=new WeakMap,l9=new WeakMap,Ep=new WeakMap,_p=new WeakMap,nu=new WeakMap,c9=new WeakMap,R8=new WeakMap,F8=new WeakMap,ji=new WeakSet,Ym=function(){const e=x(this,qt).subarray(4,6),n=x(this,qt).subarray(16,18),[i,s,r,a]=x(this,ea);return[(x(this,Ad)+(e[0]-n[0])/2-i)/r,(x(this,kd)+(e[1]-n[1])/2-s)/a,(x(this,Ad)+(n[0]-e[0])/2-i)/r,(x(this,kd)+(n[1]-e[1])/2-s)/a]},PL=function(){const[e,n,i,s]=x(this,ea),[r,a,o,l]=M(this,ji,Ym).call(this);return`M${(x(this,qt)[2]-e)/i} ${(x(this,qt)[3]-n)/s} L${(x(this,qt)[4]-e)/i} ${(x(this,qt)[5]-n)/s} L${r} ${a} L${o} ${l} L${(x(this,qt)[16]-e)/i} ${(x(this,qt)[17]-n)/s} L${(x(this,qt)[14]-e)/i} ${(x(this,qt)[15]-n)/s} Z`},NL=function(e){const n=x(this,xo);e.push(`L${n[4]} ${n[5]} Z`)},RL=function(e){const[n,i,s,r]=x(this,ea),a=x(this,qt).subarray(4,6),o=x(this,qt).subarray(16,18),[l,c,u,d]=M(this,ji,Ym).call(this);e.push(`L${(a[0]-n)/s} ${(a[1]-i)/r} L${l} ${c} L${u} ${d} L${(o[0]-n)/s} ${(o[1]-i)/r}`)},FL=function(e){const n=x(this,qt),[i,s,r,a]=x(this,ea),[o,l,c,u]=M(this,ji,Ym).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(n[2]-i)/r,(n[3]-s)/a,NaN,NaN,NaN,NaN,(n[4]-i)/r,(n[5]-s)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(n[16]-i)/r,(n[17]-s)/a,NaN,NaN,NaN,NaN,(n[14]-i)/r,(n[15]-s)/a],0),this.newFreeDrawOutline(d,e,x(this,ea),x(this,Ep),x(this,kp),x(this,Cp))},ML=function(e,n){const i=x(this,xo);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],n),n+=6},DL=function(e,n){const i=x(this,qt).subarray(4,6),s=x(this,qt).subarray(16,18),[r,a,o,l]=x(this,ea),[c,u,d,p]=M(this,ji,Ym).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-r)/o,(i[1]-a)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(s[0]-r)/o,(s[1]-a)/l],n),n+=24},L(rc,c9,8),L(rc,R8,2),L(rc,F8,x(rc,c9)+x(rc,R8));let W5=rc;var Tp,Cd,Tc,u9,ta,h9,pi,M8,OL;class LL extends at{constructor(n,i,s,r,a,o){super();L(this,M8);L(this,Tp);L(this,Cd,new Float32Array(4));L(this,Tc);L(this,u9);L(this,ta);L(this,h9);L(this,pi);F(this,pi,n),F(this,ta,i),F(this,Tp,s),F(this,h9,r),F(this,Tc,a),F(this,u9,o),this.lastPoint=[NaN,NaN],M(this,M8,OL).call(this,o);const[l,c,u,d]=x(this,Cd);for(let p=0,g=n.length;p<g;p+=2)n[p]=(n[p]-l)/u,n[p+1]=(n[p+1]-c)/d;for(let p=0,g=i.length;p<g;p+=2)i[p]=(i[p]-l)/u,i[p+1]=(i[p+1]-c)/d}toSVGPath(){const n=[`M${x(this,pi)[4]} ${x(this,pi)[5]}`];for(let i=6,s=x(this,pi).length;i<s;i+=6){if(isNaN(x(this,pi)[i])){n.push(`L${x(this,pi)[i+4]} ${x(this,pi)[i+5]}`);continue}n.push(`C${x(this,pi)[i]} ${x(this,pi)[i+1]} ${x(this,pi)[i+2]} ${x(this,pi)[i+3]} ${x(this,pi)[i+4]} ${x(this,pi)[i+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,i,s,r],a){const o=s-n,l=r-i;let c,u;switch(a){case 0:c=at._rescale(x(this,pi),n,r,o,-l),u=at._rescale(x(this,ta),n,r,o,-l);break;case 90:c=at._rescaleAndSwap(x(this,pi),n,i,o,l),u=at._rescaleAndSwap(x(this,ta),n,i,o,l);break;case 180:c=at._rescale(x(this,pi),s,i,-o,l),u=at._rescale(x(this,ta),s,i,-o,l);break;case 270:c=at._rescaleAndSwap(x(this,pi),s,r,-o,-l),u=at._rescaleAndSwap(x(this,ta),s,r,-o,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return x(this,Cd)}newOutliner(n,i,s,r,a,o=0){return new W5(n,i,s,r,a,o)}getNewOutline(n,i){const[s,r,a,o]=x(this,Cd),[l,c,u,d]=x(this,Tp),p=a*u,g=o*d,m=s*u+l,b=r*d+c,v=this.newOutliner({x:x(this,ta)[0]*p+m,y:x(this,ta)[1]*g+b},x(this,Tp),x(this,h9),n,x(this,u9),i??x(this,Tc));for(let S=2;S<x(this,ta).length;S+=2)v.add({x:x(this,ta)[S]*p+m,y:x(this,ta)[S+1]*g+b});return v.getOutlines()}}Tp=new WeakMap,Cd=new WeakMap,Tc=new WeakMap,u9=new WeakMap,ta=new WeakMap,h9=new WeakMap,pi=new WeakMap,M8=new WeakSet,OL=function(n){const i=x(this,pi);let s=i[4],r=i[5];const a=[s,r,s,r];let o=s,l=r;const c=n?Math.max:Math.min;for(let d=6,p=i.length;d<p;d+=6){const g=i[d+4],m=i[d+5];if(isNaN(i[d]))pt.pointBoundingBox(g,m,a),l<m?(o=g,l=m):l===m&&(o=c(o,g));else{const b=[1/0,1/0,-1/0,-1/0];pt.bezierBoundingBox(s,r,...i.slice(d,d+6),b),pt.rectBoundingBox(...b,a),l<b[3]?(o=b[2],l=b[3]):l===b[3]&&(o=c(o,b[2]))}s=g,r=m}const u=x(this,Cd);u[0]=a[0]-x(this,Tc),u[1]=a[1]-x(this,Tc),u[2]=a[2]-a[0]+2*x(this,Tc),u[3]=a[3]-a[1]+2*x(this,Tc),this.lastPoint=[o,l]};var d9,f9,iu,bo,ur,BL,Zy,jL,$L,PS;class IS{constructor(e,n=0,i=0,s=!0){L(this,ur);L(this,d9);L(this,f9);L(this,iu,[]);L(this,bo,[]);const r=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:g,y:m,width:b,height:v}of e){const S=Math.floor((g-n)/a)*a,C=Math.ceil((g+b+n)/a)*a,E=Math.floor((m-n)/a)*a,w=Math.ceil((m+v+n)/a)*a,A=[S,E,w,!0],T=[C,E,w,!1];x(this,iu).push(A,T),pt.rectBoundingBox(S,E,C,w,r)}const o=r[2]-r[0]+2*i,l=r[3]-r[1]+2*i,c=r[0]-i,u=r[1]-i,d=x(this,iu).at(s?-1:-2),p=[d[0],d[2]];for(const g of x(this,iu)){const[m,b,v]=g;g[0]=(m-c)/o,g[1]=(b-u)/l,g[2]=(v-u)/l}F(this,d9,new Float32Array([c,u,o,l])),F(this,f9,p)}getOutlines(){x(this,iu).sort((n,i)=>n[0]-i[0]||n[1]-i[1]||n[2]-i[2]);const e=[];for(const n of x(this,iu))n[3]?(e.push(...M(this,ur,PS).call(this,n)),M(this,ur,jL).call(this,n)):(M(this,ur,$L).call(this,n),e.push(...M(this,ur,PS).call(this,n)));return M(this,ur,BL).call(this,e)}}d9=new WeakMap,f9=new WeakMap,iu=new WeakMap,bo=new WeakMap,ur=new WeakSet,BL=function(e){const n=[],i=new Set;for(const a of e){const[o,l,c]=a;n.push([o,l,a],[o,c,a])}n.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=n.length;a<o;a+=2){const l=n[a][2],c=n[a+1][2];l.push(c),c.push(l),i.add(l),i.add(c)}const s=[];let r;for(;i.size>0;){const a=i.values().next().value;let[o,l,c,u,d]=a;i.delete(a);let p=o,g=l;for(r=[o,c],s.push(r);;){let m;if(i.has(u))m=u;else if(i.has(d))m=d;else break;i.delete(m),[o,l,c,u,d]=m,p!==o&&(r.push(p,g,o,g===l?l:c),p=o),g=g===l?c:l}r.push(p,g)}return new sne(s,x(this,d9),x(this,f9))},Zy=function(e){const n=x(this,bo);let i=0,s=n.length-1;for(;i<=s;){const r=i+s>>1,a=n[r][0];if(a===e)return r;a<e?i=r+1:s=r-1}return s+1},jL=function([,e,n]){const i=M(this,ur,Zy).call(this,e);x(this,bo).splice(i,0,[e,n])},$L=function([,e,n]){const i=M(this,ur,Zy).call(this,e);for(let s=i;s<x(this,bo).length;s++){const[r,a]=x(this,bo)[s];if(r!==e)break;if(r===e&&a===n){x(this,bo).splice(s,1);return}}for(let s=i-1;s>=0;s--){const[r,a]=x(this,bo)[s];if(r!==e)break;if(r===e&&a===n){x(this,bo).splice(s,1);return}}},PS=function(e){const[n,i,s]=e,r=[[n,i,s]],a=M(this,ur,Zy).call(this,s);for(let o=0;o<a;o++){const[l,c]=x(this,bo)[o];for(let u=0,d=r.length;u<d;u++){const[,p,g]=r[u];if(!(c<=p||g<=l)){if(p>=l){if(g>c)r[u][1]=c;else{if(d===1)return[];r.splice(u,1),u--,d--}continue}r[u][2]=l,g>c&&r.push([n,c,g])}}}return r};var p9,Ip;class sne extends at{constructor(n,i,s){super();L(this,p9);L(this,Ip);F(this,Ip,n),F(this,p9,i),this.lastPoint=s}toSVGPath(){const n=[];for(const i of x(this,Ip)){let[s,r]=i;n.push(`M${s} ${r}`);for(let a=2;a<i.length;a+=2){const o=i[a],l=i[a+1];o===s?(n.push(`V${l}`),r=l):l===r&&(n.push(`H${o}`),s=o)}n.push("Z")}return n.join(" ")}serialize([n,i,s,r],a){const o=[],l=s-n,c=r-i;for(const u of x(this,Ip)){const d=new Array(u.length);for(let p=0;p<u.length;p+=2)d[p]=n+u[p]*l,d[p+1]=r-u[p+1]*c;o.push(d)}return o}get box(){return x(this,p9)}get classNamesForOutlining(){return["highlightOutline"]}}p9=new WeakMap,Ip=new WeakMap;class NS extends W5{newFreeDrawOutline(e,n,i,s,r,a){return new rne(e,n,i,s,r,a)}}class rne extends LL{newOutliner(e,n,i,s,r,a=0){return new NS(e,n,i,s,r,a)}}var yo,Ed,Pp,Li,g9,Np,m9,x9,su,wo,Rp,b9,Sn,RS,FS,MS,Sh,UL,k0;const kr=class kr{constructor({editor:e=null,uiManager:n=null}){L(this,Sn);L(this,yo,null);L(this,Ed,null);L(this,Pp);L(this,Li,null);L(this,g9,!1);L(this,Np,!1);L(this,m9,null);L(this,x9);L(this,su,null);L(this,wo,null);L(this,Rp);var i;e?(F(this,Np,!1),F(this,Rp,en.HIGHLIGHT_COLOR),F(this,m9,e)):(F(this,Np,!0),F(this,Rp,en.HIGHLIGHT_DEFAULT_COLOR)),F(this,wo,(e==null?void 0:e._uiManager)||n),F(this,x9,x(this,wo)._eventBus),F(this,Pp,(e==null?void 0:e.color)||((i=x(this,wo))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),x(kr,b9)||F(kr,b9,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Yt(this,"_keyboardManager",new Q9([[["Escape","mac+Escape"],kr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],kr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],kr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],kr.prototype._moveToPrevious],[["Home","mac+Home"],kr.prototype._moveToBeginning],[["End","mac+End"],kr.prototype._moveToEnd]]))}renderButton(){const e=F(this,yo,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const n=x(this,wo)._signal;e.addEventListener("click",M(this,Sn,Sh).bind(this),{signal:n}),e.addEventListener("keydown",M(this,Sn,MS).bind(this),{signal:n});const i=F(this,Ed,document.createElement("span"));return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=x(this,Pp),e.append(i),e}renderMainDropdown(){const e=F(this,Li,M(this,Sn,RS).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===x(this,yo)){M(this,Sn,Sh).call(this,e);return}const n=e.target.getAttribute("data-color");n&&M(this,Sn,FS).call(this,n,e)}_moveToNext(e){var n,i;if(!x(this,Sn,k0)){M(this,Sn,Sh).call(this,e);return}if(e.target===x(this,yo)){(n=x(this,Li).firstChild)==null||n.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var n,i;if(e.target===((n=x(this,Li))==null?void 0:n.firstChild)||e.target===x(this,yo)){x(this,Sn,k0)&&this._hideDropdownFromKeyboard();return}x(this,Sn,k0)||M(this,Sn,Sh).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var n;if(!x(this,Sn,k0)){M(this,Sn,Sh).call(this,e);return}(n=x(this,Li).firstChild)==null||n.focus()}_moveToEnd(e){var n;if(!x(this,Sn,k0)){M(this,Sn,Sh).call(this,e);return}(n=x(this,Li).lastChild)==null||n.focus()}hideDropdown(){var e,n;(e=x(this,Li))==null||e.classList.add("hidden"),(n=x(this,su))==null||n.abort(),F(this,su,null)}_hideDropdownFromKeyboard(){var e;if(!x(this,Np)){if(!x(this,Sn,k0)){(e=x(this,m9))==null||e.unselect();return}this.hideDropdown(),x(this,yo).focus({preventScroll:!0,focusVisible:x(this,g9)})}}updateColor(e){if(x(this,Ed)&&(x(this,Ed).style.backgroundColor=e),!x(this,Li))return;const n=x(this,wo).highlightColors.values();for(const i of x(this,Li).children)i.setAttribute("aria-selected",n.next().value===e)}destroy(){var e,n;(e=x(this,yo))==null||e.remove(),F(this,yo,null),F(this,Ed,null),(n=x(this,Li))==null||n.remove(),F(this,Li,null)}};yo=new WeakMap,Ed=new WeakMap,Pp=new WeakMap,Li=new WeakMap,g9=new WeakMap,Np=new WeakMap,m9=new WeakMap,x9=new WeakMap,su=new WeakMap,wo=new WeakMap,Rp=new WeakMap,b9=new WeakMap,Sn=new WeakSet,RS=function(){const e=document.createElement("div"),n=x(this,wo)._signal;e.addEventListener("contextmenu",Oo,{signal:n}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[i,s]of x(this,wo).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",s),r.title=i,r.setAttribute("data-l10n-id",x(kr,b9)[i]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=s,r.setAttribute("aria-selected",s===x(this,Pp)),r.addEventListener("click",M(this,Sn,FS).bind(this,s),{signal:n}),e.append(r)}return e.addEventListener("keydown",M(this,Sn,MS).bind(this),{signal:n}),e},FS=function(e,n){n.stopPropagation(),x(this,x9).dispatch("switchannotationeditorparams",{source:this,type:x(this,Rp),value:e})},MS=function(e){kr._keyboardManager.exec(this,e)},Sh=function(e){if(x(this,Sn,k0)){this.hideDropdown();return}if(F(this,g9,e.detail===0),x(this,su)||(F(this,su,new AbortController),window.addEventListener("pointerdown",M(this,Sn,UL).bind(this),{signal:x(this,wo).combinedSignal(x(this,su))})),x(this,Li)){x(this,Li).classList.remove("hidden");return}const n=F(this,Li,M(this,Sn,RS).call(this));x(this,yo).append(n)},UL=function(e){var n;(n=x(this,Li))!=null&&n.contains(e.target)||this.hideDropdown()},k0=function(){return x(this,Li)&&!x(this,Li).classList.contains("hidden")},L(kr,b9,null);let V5=kr;var Fp,y9,Ic,_d,Mp,_r,w9,v9,Td,Da,na,ls,Dp,Pc,Fs,Lp,La,S9,Bt,DS,Jy,zL,HL,qL,LS,Ah,Xa,d1,GL,Qy,Zm,WL,VL,XL,KL,YL;const fn=class fn extends Wn{constructor(n){super({...n,name:"highlightEditor"});L(this,Bt);L(this,Fp,null);L(this,y9,0);L(this,Ic);L(this,_d,null);L(this,Mp,null);L(this,_r,null);L(this,w9,null);L(this,v9,0);L(this,Td,null);L(this,Da,null);L(this,na,null);L(this,ls,!1);L(this,Dp,null);L(this,Pc);L(this,Fs,null);L(this,Lp,"");L(this,La);L(this,S9,"");this.color=n.color||fn._defaultColor,F(this,La,n.thickness||fn._defaultThickness),F(this,Pc,n.opacity||fn._defaultOpacity),F(this,Ic,n.boxes||null),F(this,S9,n.methodOfCreation||""),F(this,Lp,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(F(this,ls,!0),M(this,Bt,Jy).call(this,n),M(this,Bt,Ah).call(this)):x(this,Ic)&&(F(this,Fp,n.anchorNode),F(this,y9,n.anchorOffset),F(this,w9,n.focusNode),F(this,v9,n.focusOffset),M(this,Bt,DS).call(this),M(this,Bt,Ah).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const n=fn.prototype;return Yt(this,"_keyboardManager",new Q9([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:x(this,ls)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:x(this,La),methodOfCreation:x(this,S9)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,i){var s;Wn.initialize(n,i),fn._defaultColor||(fn._defaultColor=((s=i.highlightColors)==null?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(n,i){switch(n){case en.HIGHLIGHT_DEFAULT_COLOR:fn._defaultColor=i;break;case en.HIGHLIGHT_THICKNESS:fn._defaultThickness=i;break}}translateInPage(n,i){}get toolbarPosition(){return x(this,Dp)}updateParams(n,i){switch(n){case en.HIGHLIGHT_COLOR:M(this,Bt,zL).call(this,i);break;case en.HIGHLIGHT_THICKNESS:M(this,Bt,HL).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[en.HIGHLIGHT_DEFAULT_COLOR,fn._defaultColor],[en.HIGHLIGHT_THICKNESS,fn._defaultThickness]]}get propertiesToUpdate(){return[[en.HIGHLIGHT_COLOR,this.color||fn._defaultColor],[en.HIGHLIGHT_THICKNESS,x(this,La)||fn._defaultThickness],[en.HIGHLIGHT_FREE,x(this,ls)]]}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.highlightColors&&(F(this,Mp,new V5({editor:this})),n.addColorPicker(x(this,Mp))),n):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(M(this,Bt,Zm).call(this))}getBaseTranslation(){return[0,0]}getRect(n,i){return super.getRect(n,i,M(this,Bt,Zm).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){M(this,Bt,LS).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(M(this,Bt,Ah).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var s;let i=!1;this.parent&&!n?M(this,Bt,LS).call(this):n&&(M(this,Bt,Ah).call(this,n),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),i&&this.select()}rotate(n){var r,a,o;const{drawLayer:i}=this.parent;let s;x(this,ls)?(n=(n-this.rotation+360)%360,s=M(r=fn,Xa,d1).call(r,x(this,Da).box,n)):s=M(a=fn,Xa,d1).call(a,[this.x,this.y,this.width,this.height],n),i.updateProperties(x(this,na),{bbox:s,root:{"data-main-rotation":n}}),i.updateProperties(x(this,Fs),{bbox:M(o=fn,Xa,d1).call(o,x(this,_r).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();x(this,Lp)&&(n.setAttribute("aria-label",x(this,Lp)),n.setAttribute("role","mark")),x(this,ls)?n.classList.add("free"):this.div.addEventListener("keydown",M(this,Bt,GL).bind(this),{signal:this._uiManager._signal});const i=F(this,Td,document.createElement("div"));n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=x(this,_d);const[s,r]=this.parentDimensions;return this.setDims(this.width*s,this.height*r),jk(this,x(this,Td),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(x(this,Fs),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(x(this,Fs),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:M(this,Bt,Qy).call(this,!0);break;case 1:case 3:M(this,Bt,Qy).call(this,!1);break}}select(){var n;super.select(),x(this,Fs)&&((n=this.parent)==null||n.drawLayer.updateProperties(x(this,Fs),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),x(this,Fs)&&((n=this.parent)==null||n.drawLayer.updateProperties(x(this,Fs),{rootClass:{selected:!1}}),x(this,ls)||M(this,Bt,Qy).call(this,!1))}get _mustFixPosition(){return!x(this,ls)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(x(this,na),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(x(this,Fs),{rootClass:{hidden:!n}}))}static startHighlighting(n,i,{target:s,x:r,y:a}){const{x:o,y:l,width:c,height:u}=s.getBoundingClientRect(),d=new AbortController,p=n.combinedSignal(d),g=m=>{d.abort(),M(this,Xa,KL).call(this,n,m)};window.addEventListener("blur",g,{signal:p}),window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("pointerdown",ki,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",Oo,{signal:p}),s.addEventListener("pointermove",M(this,Xa,XL).bind(this,n),{signal:p}),this._freeHighlight=new NS({x:r,y:a},[o,l,c,u],n.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,i,s){var b,v,S,C;let r=null;if(n instanceof AL){const{data:{quadPoints:E,rect:w,rotation:A,id:T,color:P,opacity:R,popupRef:D},parent:{page:{pageNumber:O}}}=n;r=n={annotationType:Ft.HIGHLIGHT,color:Array.from(P),opacity:R,quadPoints:E,boxes:null,pageIndex:O-1,rect:w.slice(0),rotation:A,id:T,deleted:!1,popupRef:D}}else if(n instanceof Hk){const{data:{inkLists:E,rect:w,rotation:A,id:T,color:P,borderStyle:{rawWidth:R},popupRef:D},parent:{page:{pageNumber:O}}}=n;r=n={annotationType:Ft.HIGHLIGHT,color:Array.from(P),thickness:R,inkLists:E,boxes:null,pageIndex:O-1,rect:w.slice(0),rotation:A,id:T,deleted:!1,popupRef:D}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=n,u=await super.deserialize(n,i,s);u.color=pt.makeHexColor(...a),F(u,Pc,c||1),l&&F(u,La,n.thickness),u.annotationElementId=n.id||null,u._initialData=r;const[d,p]=u.pageDimensions,[g,m]=u.pageTranslation;if(o){const E=F(u,Ic,[]);for(let w=0;w<o.length;w+=8)E.push({x:(o[w]-g)/d,y:1-(o[w+1]-m)/p,width:(o[w+2]-o[w])/d,height:(o[w+1]-o[w+5])/p});M(b=u,Bt,DS).call(b),M(v=u,Bt,Ah).call(v),u.rotate(u.rotation)}else if(l){F(u,ls,!0);const E=l[0],w={x:E[0]-g,y:p-(E[1]-m)},A=new NS(w,[0,0,d,p],1,x(u,La)/2,!0,.001);for(let R=0,D=E.length;R<D;R+=2)w.x=E[R]-g,w.y=p-(E[R+1]-m),A.add(w);const{id:T,clipPathId:P}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);M(S=u,Bt,Jy).call(S,{highlightOutlines:A.getOutlines(),highlightId:T,clipPathId:P}),M(C=u,Bt,Ah).call(C),u.rotate(u.parentRotation)}return u}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const i=this.getRect(0,0),s=Wn._colorManager.convert(this.color),r={annotationType:Ft.HIGHLIGHT,color:s,opacity:x(this,Pc),thickness:x(this,La),quadPoints:M(this,Bt,WL).call(this),outlines:M(this,Bt,VL).call(this,i),pageIndex:this.pageIndex,rect:i,rotation:M(this,Bt,Zm).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!M(this,Bt,YL).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Fp=new WeakMap,y9=new WeakMap,Ic=new WeakMap,_d=new WeakMap,Mp=new WeakMap,_r=new WeakMap,w9=new WeakMap,v9=new WeakMap,Td=new WeakMap,Da=new WeakMap,na=new WeakMap,ls=new WeakMap,Dp=new WeakMap,Pc=new WeakMap,Fs=new WeakMap,Lp=new WeakMap,La=new WeakMap,S9=new WeakMap,Bt=new WeakSet,DS=function(){const n=new IS(x(this,Ic),.001);F(this,Da,n.getOutlines()),[this.x,this.y,this.width,this.height]=x(this,Da).box;const i=new IS(x(this,Ic),.0025,.001,this._uiManager.direction==="ltr");F(this,_r,i.getOutlines());const{lastPoint:s}=x(this,_r);F(this,Dp,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Jy=function({highlightOutlines:n,highlightId:i,clipPathId:s}){var d,p;if(F(this,Da,n),F(this,_r,n.getNewOutline(x(this,La)/2+1.5,.0025)),i>=0)F(this,na,i),F(this,_d,s),this.parent.drawLayer.finalizeDraw(i,{bbox:n.box,path:{d:n.toSVGPath()}}),F(this,Fs,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:x(this,_r).box,path:{d:x(this,_r).toSVGPath()}},!0));else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(x(this,na),{bbox:M(d=fn,Xa,d1).call(d,x(this,Da).box,(g-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(x(this,Fs),{bbox:M(p=fn,Xa,d1).call(p,x(this,_r).box,g),path:{d:x(this,_r).toSVGPath()}})}const[a,o,l,c]=n.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[g,m]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*m/g,this.height=c*g/m;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[g,m]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*m/g,this.height=c*g/m;break}}const{lastPoint:u}=x(this,_r);F(this,Dp,[(u[0]-a)/l,(u[1]-o)/c])},zL=function(n){const i=(a,o)=>{var l,c;this.color=a,F(this,Pc,o),(l=this.parent)==null||l.drawLayer.updateProperties(x(this,na),{root:{fill:a,"fill-opacity":o}}),(c=x(this,Mp))==null||c.updateColor(a)},s=this.color,r=x(this,Pc);this.addCommands({cmd:i.bind(this,n,fn._defaultOpacity),undo:i.bind(this,s,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},HL=function(n){const i=x(this,La),s=r=>{F(this,La,r),M(this,Bt,qL).call(this,r)};this.addCommands({cmd:s.bind(this,n),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:en.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},qL=function(n){if(!x(this,ls))return;M(this,Bt,Jy).call(this,{highlightOutlines:x(this,Da).getNewOutline(n/2)}),this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)},LS=function(){x(this,na)===null||!this.parent||(this.parent.drawLayer.remove(x(this,na)),F(this,na,null),this.parent.drawLayer.remove(x(this,Fs)),F(this,Fs,null))},Ah=function(n=this.parent){x(this,na)===null&&({id:Ws(this,na)._,clipPathId:Ws(this,_d)._}=n.drawLayer.draw({bbox:x(this,Da).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":x(this,Pc)},rootClass:{highlight:!0,free:x(this,ls)},path:{d:x(this,Da).toSVGPath()}},!1,!0),F(this,Fs,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:x(this,ls)},bbox:x(this,_r).box,path:{d:x(this,_r).toSVGPath()}},x(this,ls))),x(this,Td)&&(x(this,Td).style.clipPath=x(this,_d)))},Xa=new WeakSet,d1=function([n,i,s,r],a){switch(a){case 90:return[1-i-r,n,r,s];case 180:return[1-n-s,1-i-r,s,r];case 270:return[i,1-n-s,r,s]}return[n,i,s,r]},GL=function(n){fn._keyboardManager.exec(this,n)},Qy=function(n){if(!x(this,Fp))return;const i=window.getSelection();n?i.setPosition(x(this,Fp),x(this,y9)):i.setPosition(x(this,w9),x(this,v9))},Zm=function(){return x(this,ls)?this.rotation:0},WL=function(){if(x(this,ls))return null;const[n,i]=this.pageDimensions,[s,r]=this.pageTranslation,a=x(this,Ic),o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:u,width:d,height:p}of a){const g=c*n+s,m=(1-u)*i+r;o[l]=o[l+4]=g,o[l+1]=o[l+3]=m,o[l+2]=o[l+6]=g+d*n,o[l+5]=o[l+7]=m-p*i,l+=8}return o},VL=function(n){return x(this,Da).serialize(n,M(this,Bt,Zm).call(this))},XL=function(n,i){this._freeHighlight.add(i)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},KL=function(n,i){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},YL=function(n){const{color:i}=this._initialData;return n.color.some((s,r)=>s!==i[r])},L(fn,Xa),qe(fn,"_defaultColor",null),qe(fn,"_defaultOpacity",1),qe(fn,"_defaultThickness",12),qe(fn,"_type","highlight"),qe(fn,"_editorType",Ft.HIGHLIGHT),qe(fn,"_freeHighlightId",-1),qe(fn,"_freeHighlight",null),qe(fn,"_freeHighlightClipId","");let X5=fn;var Id;class ZL{constructor(){L(this,Id,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,i]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,i)}updateSVGProperty(e,n){x(this,Id)[e]=n}toSVGProperties(){const e=x(this,Id);return F(this,Id,Object.create(null)),{root:e}}reset(){F(this,Id,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){An("Not implemented")}}Id=new WeakMap;var ia,Op,Wi,Pd,Nd,ru,au,ou,Rd,ln,OS,BS,jS,Jm,JL,e5,Qm,f1;const ct=class ct extends Wn{constructor(n){super(n);L(this,ln);L(this,ia,null);L(this,Op);qe(this,"_drawId",null);F(this,Op,n.mustBeCommitted||!1),this._addOutlines(n)}_addOutlines(n){n.drawOutlines&&(M(this,ln,OS).call(this,n),M(this,ln,Jm).call(this))}static _mergeSVGProperties(n,i){const s=new Set(Object.keys(n));for(const[r,a]of Object.entries(i))s.has(r)?Object.assign(n[r],a):n[r]=a;return n}static getDefaultDrawingOptions(n){An("Not implemented")}static get typesMap(){An("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,i){const s=this.typesMap.get(n);s&&this._defaultDrawingOptions.updateProperty(s,i),this._currentParent&&(x(ct,Wi).updateProperty(s,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,i){const s=this.constructor.typesMap.get(n);s&&this._updateProperty(n,s,i)}static get defaultPropertiesToUpdate(){const n=[],i=this._defaultDrawingOptions;for(const[s,r]of this.typesMap)n.push([s,i[r]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:i}=this;for(const[s,r]of this.constructor.typesMap)n.push([s,i[r]]);return n}_updateProperty(n,i,s){const r=this._drawingOptions,a=r[i],o=l=>{var u;r.updateProperty(i,l);const c=x(this,ia).updateProperty(i,l);c&&M(this,ln,Qm).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,ct._mergeSVGProperties(x(this,ia).getPathResizingSVGProperties(M(this,ln,e5).call(this)),{bbox:M(this,ln,f1).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,ct._mergeSVGProperties(x(this,ia).getPathResizedSVGProperties(M(this,ln,e5).call(this)),{bbox:M(this,ln,f1).call(this)}))}_onTranslating(n,i){var s;(s=this.parent)==null||s.drawLayer.updateProperties(this._drawId,{bbox:M(this,ln,f1).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,ct._mergeSVGProperties(x(this,ia).getPathTranslatedSVGProperties(M(this,ln,e5).call(this),this.parentDimensions),{bbox:M(this,ln,f1).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,x(this,Op)&&(F(this,Op,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){M(this,ln,jS).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(M(this,ln,Jm).call(this),M(this,ln,Qm).call(this,x(this,ia).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var s;let i=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),M(this,ln,jS).call(this)):n&&(this._uiManager.addShouldRescale(this),M(this,ln,Jm).call(this,n),i=!this.parent&&((s=this.div)==null?void 0:s.classList.contains("selectedEditor"))),super.setParent(n),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ct._mergeSVGProperties({bbox:M(this,ln,f1).call(this)},x(this,ia).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&M(this,ln,Qm).call(this,x(this,ia).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,i;this._isCopy&&(n=this.x,i=this.y);const s=super.render();s.classList.add("draw");const r=document.createElement("div");s.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[a,o]=this.parentDimensions;return this.setDims(this.width*a,this.height*o),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,i),s}static createDrawerInstance(n,i,s,r,a){An("Not implemented")}static startDrawing(n,i,s,r){var v;const{target:a,offsetX:o,offsetY:l,pointerId:c,pointerType:u}=r;if(x(ct,au)&&x(ct,au)!==u)return;const{viewport:{rotation:d}}=n,{width:p,height:g}=a.getBoundingClientRect(),m=F(ct,Pd,new AbortController),b=n.combinedSignal(m);if(x(ct,ru)||F(ct,ru,c),x(ct,au)??F(ct,au,u),window.addEventListener("pointerup",S=>{var C;x(ct,ru)===S.pointerId?this._endDraw(S):(C=x(ct,ou))==null||C.delete(S.pointerId)},{signal:b}),window.addEventListener("pointercancel",S=>{var C;x(ct,ru)===S.pointerId?this._currentParent.endDrawingSession():(C=x(ct,ou))==null||C.delete(S.pointerId)},{signal:b}),window.addEventListener("pointerdown",S=>{x(ct,au)===S.pointerType&&((x(ct,ou)||F(ct,ou,new Set)).add(S.pointerId),x(ct,Wi).isCancellable()&&(x(ct,Wi).removeLastElement(),x(ct,Wi).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Oo,{signal:b}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:b}),a.addEventListener("touchmove",S=>{S.timeStamp===x(ct,Rd)&&ki(S)},{signal:b}),n.toggleDrawing(),(v=i._editorUndoBar)==null||v.hide(),x(ct,Wi)){n.drawLayer.updateProperties(this._currentDrawId,x(ct,Wi).startNew(o,l,p,g,d));return}i.updateUIForDefaultProperties(this),F(ct,Wi,this.createDrawerInstance(o,l,p,g,d)),F(ct,Nd,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(x(ct,Nd).toSVGProperties(),x(ct,Wi).defaultSVGProperties),!0,!1)}static _drawMove(n){var a;if(F(ct,Rd,-1),!x(ct,Wi))return;const{offsetX:i,offsetY:s,pointerId:r}=n;if(x(ct,ru)===r){if(((a=x(ct,ou))==null?void 0:a.size)>=1){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,x(ct,Wi).add(i,s)),F(ct,Rd,n.timeStamp),ki(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,F(ct,Wi,null),F(ct,Nd,null),F(ct,au,null),F(ct,Rd,NaN)),x(ct,Pd)&&(x(ct,Pd).abort(),F(ct,Pd,null),F(ct,ru,NaN),F(ct,ou,null))}static _endDraw(n){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,x(ct,Wi).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const s=x(ct,Wi),r=this._currentDrawId,a=s.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(r,s.setLastElement(a))},undo:()=>{i.drawLayer.updateProperties(r,s.removeLastElement())},mustExec:!1,type:en.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(en.DRAW_STEP),!x(ct,Wi).isEmpty()){const{pageDimensions:[s,r],scale:a}=i,o=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:x(ct,Wi).getOutlines(s*a,r*a,a,this._INNER_MARGIN),drawingOptions:x(ct,Nd),mustBeCommitted:!n});return this._cleanup(!0),o}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,i,s,r,a,o){An("Not implemented")}static async deserialize(n,i,s){var d,p;const{rawDims:{pageWidth:r,pageHeight:a,pageX:o,pageY:l}}=i.viewport,c=this.deserializeDraw(o,l,r,a,this._INNER_MARGIN,n),u=await super.deserialize(n,i,s);return u.createDrawingOptions(n),M(d=u,ln,OS).call(d,{drawOutlines:c}),M(p=u,ln,Jm).call(p),u.onScaleChanging(),u.rotate(),u}serializeDraw(n){const[i,s]=this.pageTranslation,[r,a]=this.pageDimensions;return x(this,ia).serialize([i,s,r,a],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};ia=new WeakMap,Op=new WeakMap,Wi=new WeakMap,Pd=new WeakMap,Nd=new WeakMap,ru=new WeakMap,au=new WeakMap,ou=new WeakMap,Rd=new WeakMap,ln=new WeakSet,OS=function({drawOutlines:n,drawId:i,drawingOptions:s}){F(this,ia,n),this._drawingOptions||(this._drawingOptions=s),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,n.defaultProperties)):this._drawId=M(this,ln,BS).call(this,n,this.parent),M(this,ln,Qm).call(this,n.box)},BS=function(n,i){const{id:s}=i.drawLayer.draw(ct._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return s},jS=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Jm=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=M(this,ln,BS).call(this,x(this,ia),n)}},JL=function([n,i,s,r]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[i,1-n,s*(o/a),r*(a/o)];case 180:return[1-n,1-i,s,r];case 270:return[1-i,n,s*(o/a),r*(a/o)];default:return[n,i,s,r]}},e5=function(){const{x:n,y:i,width:s,height:r,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-i,n,s*(a/o),r*(o/a)];case 180:return[1-n,1-i,s,r];case 270:return[i,1-n,s*(a/o),r*(o/a)];default:return[n,i,s,r]}},Qm=function(n){if([this.x,this.y,this.width,this.height]=M(this,ln,JL).call(this,n),this.div){this.fixAndSetPosition();const[i,s]=this.parentDimensions;this.setDims(this.width*i,this.height*s)}this._onResized()},f1=function(){const{x:n,y:i,width:s,height:r,rotation:a,parentRotation:o,parentDimensions:[l,c]}=this;switch((a*4+o)/90){case 1:return[1-i-r,n,r,s];case 2:return[1-n-s,1-i-r,s,r];case 3:return[i,1-n-s,r,s];case 4:return[n,i-s*(l/c),r*(c/l),s*(l/c)];case 5:return[1-i,n,s*(l/c),r*(c/l)];case 6:return[1-n-r*(c/l),1-i,r*(c/l),s*(l/c)];case 7:return[i-s*(l/c),1-n-r*(c/l),s*(l/c),r*(c/l)];case 8:return[n-s,i-r,s,r];case 9:return[1-i,n-s,r,s];case 10:return[1-n,1-i,s,r];case 11:return[i-r,1-n,r,s];case 12:return[n-r*(c/l),i,r*(c/l),s*(l/c)];case 13:return[1-i-s*(l/c),n-r*(c/l),s*(l/c),r*(c/l)];case 14:return[1-n,1-i-s*(l/c),r*(c/l),s*(l/c)];case 15:return[i,1-n,s*(l/c),r*(c/l)];default:return[n,i,s,r]}},qe(ct,"_currentDrawId",-1),qe(ct,"_currentParent",null),L(ct,Wi,null),L(ct,Pd,null),L(ct,Nd,null),L(ct,ru,NaN),L(ct,au,null),L(ct,ou,null),L(ct,Rd,NaN),qe(ct,"_INNER_MARGIN",3);let K5=ct;var gl,Vi,Xi,Fd,Bp,Js,cs,Oa,Md,Dd,Ld,jp,t5;class ane{constructor(e,n,i,s,r,a){L(this,jp);L(this,gl,new Float64Array(6));L(this,Vi);L(this,Xi);L(this,Fd);L(this,Bp);L(this,Js);L(this,cs,"");L(this,Oa,0);L(this,Md,new n3);L(this,Dd);L(this,Ld);F(this,Dd,i),F(this,Ld,s),F(this,Fd,r),F(this,Bp,a),[e,n]=M(this,jp,t5).call(this,e,n);const o=F(this,Vi,[NaN,NaN,NaN,NaN,e,n]);F(this,Js,[e,n]),F(this,Xi,[{line:o,points:x(this,Js)}]),x(this,gl).set(o,0)}updateProperty(e,n){e==="stroke-width"&&F(this,Bp,n)}isEmpty(){return!x(this,Xi)||x(this,Xi).length===0}isCancellable(){return x(this,Js).length<=10}add(e,n){[e,n]=M(this,jp,t5).call(this,e,n);const[i,s,r,a]=x(this,gl).subarray(2,6),o=e-r,l=n-a;return Math.hypot(x(this,Dd)*o,x(this,Ld)*l)<=2?null:(x(this,Js).push(e,n),isNaN(i)?(x(this,gl).set([r,a,e,n],2),x(this,Vi).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(x(this,gl)[0])&&x(this,Vi).splice(6,6),x(this,gl).set([i,s,r,a,e,n],0),x(this,Vi).push(...at.createBezierPoints(i,s,r,a,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const i=this.add(e,n);return i||(x(this,Js).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,i,s,r){F(this,Dd,i),F(this,Ld,s),F(this,Fd,r),[e,n]=M(this,jp,t5).call(this,e,n);const a=F(this,Vi,[NaN,NaN,NaN,NaN,e,n]);F(this,Js,[e,n]);const o=x(this,Xi).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),x(this,Xi).push({line:a,points:x(this,Js)}),x(this,gl).set(a,0),F(this,Oa,0),this.toSVGPath(),null}getLastElement(){return x(this,Xi).at(-1)}setLastElement(e){return x(this,Xi)?(x(this,Xi).push(e),F(this,Vi,e.line),F(this,Js,e.points),F(this,Oa,0),{path:{d:this.toSVGPath()}}):x(this,Md).setLastElement(e)}removeLastElement(){if(!x(this,Xi))return x(this,Md).removeLastElement();x(this,Xi).pop(),F(this,cs,"");for(let e=0,n=x(this,Xi).length;e<n;e++){const{line:i,points:s}=x(this,Xi)[e];F(this,Vi,i),F(this,Js,s),F(this,Oa,0),this.toSVGPath()}return{path:{d:x(this,cs)}}}toSVGPath(){const e=at.svgRound(x(this,Vi)[4]),n=at.svgRound(x(this,Vi)[5]);if(x(this,Js).length===2)return F(this,cs,`${x(this,cs)} M ${e} ${n} Z`),x(this,cs);if(x(this,Js).length<=6){const s=x(this,cs).lastIndexOf("M");F(this,cs,`${x(this,cs).slice(0,s)} M ${e} ${n}`),F(this,Oa,6)}if(x(this,Js).length===4){const s=at.svgRound(x(this,Vi)[10]),r=at.svgRound(x(this,Vi)[11]);return F(this,cs,`${x(this,cs)} L ${s} ${r}`),F(this,Oa,12),x(this,cs)}const i=[];x(this,Oa)===0&&(i.push(`M ${e} ${n}`),F(this,Oa,6));for(let s=x(this,Oa),r=x(this,Vi).length;s<r;s+=6){const[a,o,l,c,u,d]=x(this,Vi).slice(s,s+6).map(at.svgRound);i.push(`C${a} ${o} ${l} ${c} ${u} ${d}`)}return F(this,cs,x(this,cs)+i.join(" ")),F(this,Oa,x(this,Vi).length),x(this,cs)}getOutlines(e,n,i,s){const r=x(this,Xi).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),x(this,Md).build(x(this,Xi),e,n,i,x(this,Fd),x(this,Bp),s),F(this,gl,null),F(this,Vi,null),F(this,Xi,null),F(this,cs,null),x(this,Md)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}gl=new WeakMap,Vi=new WeakMap,Xi=new WeakMap,Fd=new WeakMap,Bp=new WeakMap,Js=new WeakMap,cs=new WeakMap,Oa=new WeakMap,Md=new WeakMap,Dd=new WeakMap,Ld=new WeakMap,jp=new WeakSet,t5=function(e,n){return at._normalizePoint(e,n,x(this,Dd),x(this,Ld),x(this,Fd))};var Qs,A9,k9,sa,ml,xl,$p,Up,Od,ms,tc,QL,eO,tO;class n3 extends at{constructor(){super(...arguments);L(this,ms);L(this,Qs);L(this,A9,0);L(this,k9);L(this,sa);L(this,ml);L(this,xl);L(this,$p);L(this,Up);L(this,Od)}build(n,i,s,r,a,o,l){F(this,ml,i),F(this,xl,s),F(this,$p,r),F(this,Up,a),F(this,Od,o),F(this,k9,l??0),F(this,sa,n),M(this,ms,eO).call(this)}get thickness(){return x(this,Od)}setLastElement(n){return x(this,sa).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return x(this,sa).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:i}of x(this,sa)){if(n.push(`M${at.svgRound(i[4])} ${at.svgRound(i[5])}`),i.length===6){n.push("Z");continue}if(i.length===12&&isNaN(i[6])){n.push(`L${at.svgRound(i[10])} ${at.svgRound(i[11])}`);continue}for(let s=6,r=i.length;s<r;s+=6){const[a,o,l,c,u,d]=i.subarray(s,s+6).map(at.svgRound);n.push(`C${a} ${o} ${l} ${c} ${u} ${d}`)}}return n.join("")}serialize([n,i,s,r],a){const o=[],l=[],[c,u,d,p]=M(this,ms,QL).call(this);let g,m,b,v,S,C,E,w,A;switch(x(this,Up)){case 0:A=at._rescale,g=n,m=i+r,b=s,v=-r,S=n+c*s,C=i+(1-u-p)*r,E=n+(c+d)*s,w=i+(1-u)*r;break;case 90:A=at._rescaleAndSwap,g=n,m=i,b=s,v=r,S=n+u*s,C=i+c*r,E=n+(u+p)*s,w=i+(c+d)*r;break;case 180:A=at._rescale,g=n+s,m=i,b=-s,v=r,S=n+(1-c-d)*s,C=i+u*r,E=n+(1-c)*s,w=i+(u+p)*r;break;case 270:A=at._rescaleAndSwap,g=n+s,m=i+r,b=-s,v=-r,S=n+(1-u-p)*s,C=i+(1-c-d)*r,E=n+(1-u)*s,w=i+(1-c)*r;break}for(const{line:T,points:P}of x(this,sa))o.push(A(T,g,m,b,v,a?new Array(T.length):null)),l.push(A(P,g,m,b,v,a?new Array(P.length):null));return{lines:o,points:l,rect:[S,C,E,w]}}static deserialize(n,i,s,r,a,{paths:{lines:o,points:l},rotation:c,thickness:u}){const d=[];let p,g,m,b,v;switch(c){case 0:v=at._rescale,p=-n/s,g=i/r+1,m=1/s,b=-1/r;break;case 90:v=at._rescaleAndSwap,p=-i/r,g=-n/s,m=1/r,b=1/s;break;case 180:v=at._rescale,p=n/s+1,g=-i/r,m=-1/s,b=1/r;break;case 270:v=at._rescaleAndSwap,p=i/r+1,g=n/s+1,m=-1/r,b=-1/s;break}if(!o){o=[];for(const C of l){const E=C.length;if(E===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,C[0],C[1]]));continue}if(E===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,C[0],C[1],NaN,NaN,NaN,NaN,C[2],C[3]]));continue}const w=new Float32Array(3*(E-2));o.push(w);let[A,T,P,R]=C.subarray(0,4);w.set([NaN,NaN,NaN,NaN,A,T],0);for(let D=4;D<E;D+=2){const O=C[D],B=C[D+1];w.set(at.createBezierPoints(A,T,P,R,O,B),(D-2)*3),[A,T,P,R]=[P,R,O,B]}}}for(let C=0,E=o.length;C<E;C++)d.push({line:v(o[C].map(w=>w??NaN),p,g,m,b),points:v(l[C].map(w=>w??NaN),p,g,m,b)});const S=new this.prototype.constructor;return S.build(d,s,r,1,c,u,a),S}get box(){return x(this,Qs)}updateProperty(n,i){return n==="stroke-width"?M(this,ms,tO).call(this,i):null}updateParentDimensions([n,i],s){const[r,a]=M(this,ms,tc).call(this);F(this,ml,n),F(this,xl,i),F(this,$p,s);const[o,l]=M(this,ms,tc).call(this),c=o-r,u=l-a,d=x(this,Qs);return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateRotation(n){return F(this,A9,n),{path:{transform:this.rotationTransform}}}get viewBox(){return x(this,Qs).map(at.svgRound).join(" ")}get defaultProperties(){const[n,i]=x(this,Qs);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${at.svgRound(n)} ${at.svgRound(i)}`}}}get rotationTransform(){const[,,n,i]=x(this,Qs);let s=0,r=0,a=0,o=0,l=0,c=0;switch(x(this,A9)){case 90:r=i/n,a=-n/i,l=n;break;case 180:s=-1,o=-1,l=n,c=i;break;case 270:r=-i/n,a=n/i,c=i;break;default:return""}return`matrix(${s} ${r} ${a} ${o} ${at.svgRound(l)} ${at.svgRound(c)})`}getPathResizingSVGProperties([n,i,s,r]){const[a,o]=M(this,ms,tc).call(this),[l,c,u,d]=x(this,Qs);if(Math.abs(u-a)<=at.PRECISION||Math.abs(d-o)<=at.PRECISION){const v=n+s/2-(l+u/2),S=i+r/2-(c+d/2);return{path:{"transform-origin":`${at.svgRound(n)} ${at.svgRound(i)}`,transform:`${this.rotationTransform} translate(${v} ${S})`}}}const p=(s-2*a)/(u-2*a),g=(r-2*o)/(d-2*o),m=u/s,b=d/r;return{path:{"transform-origin":`${at.svgRound(l)} ${at.svgRound(c)}`,transform:`${this.rotationTransform} scale(${m} ${b}) translate(${at.svgRound(a)} ${at.svgRound(o)}) scale(${p} ${g}) translate(${at.svgRound(-a)} ${at.svgRound(-o)})`}}}getPathResizedSVGProperties([n,i,s,r]){const[a,o]=M(this,ms,tc).call(this),l=x(this,Qs),[c,u,d,p]=l;if(l[0]=n,l[1]=i,l[2]=s,l[3]=r,Math.abs(d-a)<=at.PRECISION||Math.abs(p-o)<=at.PRECISION){const S=n+s/2-(c+d/2),C=i+r/2-(u+p/2);for(const{line:E,points:w}of x(this,sa))at._translate(E,S,C,E),at._translate(w,S,C,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${at.svgRound(n)} ${at.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(s-2*a)/(d-2*a),m=(r-2*o)/(p-2*o),b=-g*(c+a)+n+a,v=-m*(u+o)+i+o;if(g!==1||m!==1||b!==0||v!==0)for(const{line:S,points:C}of x(this,sa))at._rescale(S,b,v,g,m,S),at._rescale(C,b,v,g,m,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${at.svgRound(n)} ${at.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,i],s){const[r,a]=s,o=x(this,Qs),l=n-o[0],c=i-o[1];if(x(this,ml)===r&&x(this,xl)===a)for(const{line:u,points:d}of x(this,sa))at._translate(u,l,c,u),at._translate(d,l,c,d);else{const u=x(this,ml)/r,d=x(this,xl)/a;F(this,ml,r),F(this,xl,a);for(const{line:p,points:g}of x(this,sa))at._rescale(p,l,c,u,d,p),at._rescale(g,l,c,u,d,g);o[2]*=u,o[3]*=d}return o[0]=n,o[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${at.svgRound(n)} ${at.svgRound(i)}`}}}get defaultSVGProperties(){const n=x(this,Qs);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${at.svgRound(n[0])} ${at.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}Qs=new WeakMap,A9=new WeakMap,k9=new WeakMap,sa=new WeakMap,ml=new WeakMap,xl=new WeakMap,$p=new WeakMap,Up=new WeakMap,Od=new WeakMap,ms=new WeakSet,tc=function(n=x(this,Od)){const i=x(this,k9)+n/2*x(this,$p);return x(this,Up)%180===0?[i/x(this,ml),i/x(this,xl)]:[i/x(this,xl),i/x(this,ml)]},QL=function(){const[n,i,s,r]=x(this,Qs),[a,o]=M(this,ms,tc).call(this,0);return[n+a,i+o,s-2*a,r-2*o]},eO=function(){const n=F(this,Qs,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of x(this,sa)){if(r.length<=12){for(let l=4,c=r.length;l<c;l+=6)pt.pointBoundingBox(r[l],r[l+1],n);continue}let a=r[4],o=r[5];for(let l=6,c=r.length;l<c;l+=6){const[u,d,p,g,m,b]=r.subarray(l,l+6);pt.bezierBoundingBox(a,o,u,d,p,g,m,b,n),a=m,o=b}}const[i,s]=M(this,ms,tc).call(this);n[0]=tr(n[0]-i,0,1),n[1]=tr(n[1]-s,0,1),n[2]=tr(n[2]+i,0,1),n[3]=tr(n[3]+s,0,1),n[2]-=n[0],n[3]-=n[1]},tO=function(n){const[i,s]=M(this,ms,tc).call(this);F(this,Od,n);const[r,a]=M(this,ms,tc).call(this),[o,l]=[r-i,a-s],c=x(this,Qs);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c};class T6 extends ZL{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Wn._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new T6(this._viewParameters);return e.updateAll(this),e}}var D8,nO;const E1=class E1 extends K5{constructor(n){super({...n,name:"inkEditor"});L(this,D8);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,i){Wn.initialize(n,i),this._defaultDrawingOptions=new T6(i.viewParameters)}static getDefaultDrawingOptions(n){const i=this._defaultDrawingOptions.clone();return i.updateProperties(n),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return Yt(this,"typesMap",new Map([[en.INK_THICKNESS,"stroke-width"],[en.INK_COLOR,"stroke"],[en.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,i,s,r,a){return new ane(n,i,s,r,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,i,s,r,a,o){return n3.deserialize(n,i,s,r,a,o)}static async deserialize(n,i,s){let r=null;if(n instanceof Hk){const{data:{inkLists:o,rect:l,rotation:c,id:u,color:d,opacity:p,borderStyle:{rawWidth:g},popupRef:m},parent:{page:{pageNumber:b}}}=n;r=n={annotationType:Ft.INK,color:Array.from(d),thickness:g,opacity:p,paths:{points:o},boxes:null,pageIndex:b-1,rect:l.slice(0),rotation:c,id:u,deleted:!1,popupRef:m}}const a=await super.deserialize(n,i,s);return a.annotationElementId=n.id||null,a._initialData=r,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:i,parent:s}=this;i.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(n,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:i,opacity:s}){this._drawingOptions=E1.getDefaultDrawingOptions({stroke:pt.makeHexColor(...n),"stroke-width":i,"stroke-opacity":s})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:s,rect:r}=this.serializeDraw(n),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":l}}=this,c={annotationType:Ft.INK,color:Wn._colorManager.convert(a),opacity:o,thickness:l,paths:{lines:i,points:s},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(c.isCopy=!0,c):this.annotationElementId&&!M(this,D8,nO).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(n){const{points:i,rect:s}=this.serializeDraw(!1);return n.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:i}),null}};D8=new WeakSet,nO=function(n){const{color:i,thickness:s,opacity:r,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||n.color.some((o,l)=>o!==i[l])||n.thickness!==s||n.opacity!==r||n.pageIndex!==a},qe(E1,"_type","ink"),qe(E1,"_editorType",Ft.INK),qe(E1,"_defaultDrawingOptions",null);let $S=E1;class US extends n3{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Hb=8,xm=3;var Bd,xn,zS,vo,iO,sO,HS,n5,rO,aO,oO,qS,GS,lO;class Oc{static extractContoursFromText(e,{fontFamily:n,fontStyle:i,fontWeight:s},r,a,o,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const d=200,p=u.font=`${i} ${s} ${d}px ${n}`,{actualBoundingBoxLeft:g,actualBoundingBoxRight:m,actualBoundingBoxAscent:b,actualBoundingBoxDescent:v,fontBoundingBoxAscent:S,fontBoundingBoxDescent:C,width:E}=u.measureText(e),w=1.5,A=Math.ceil(Math.max(Math.abs(g)+Math.abs(m)||0,E)*w),T=Math.ceil(Math.max(Math.abs(b)+Math.abs(v)||d,Math.abs(S)+Math.abs(C)||d)*w);c=new OffscreenCanvas(A,T),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=p,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,A,T),u.fillStyle="black",u.fillText(e,A*(w-1)/2,T*(3-w)/2);const P=M(this,xn,qS).call(this,u.getImageData(0,0,A,T).data),R=M(this,xn,oO).call(this,P),D=M(this,xn,GS).call(this,R),O=M(this,xn,HS).call(this,P,A,T,D);return this.processDrawnLines({lines:{curves:O,width:A,height:T},pageWidth:r,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,n,i,s,r){const[a,o,l]=M(this,xn,lO).call(this,e),[c,u]=M(this,xn,aO).call(this,a,o,l,Math.hypot(o,l)*x(this,Bd).sigmaSFactor,x(this,Bd).sigmaR,x(this,Bd).kernelSize),d=M(this,xn,GS).call(this,u),p=M(this,xn,HS).call(this,c,o,l,d);return this.processDrawnLines({lines:{curves:p,width:o,height:l},pageWidth:n,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:i,rotation:s,innerMargin:r,mustSmooth:a,areContours:o}){s%180!==0&&([n,i]=[i,n]);const{curves:l,width:c,height:u}=e,d=e.thickness??0,p=[],g=Math.min(n/c,i/u),m=g/n,b=g/i,v=[];for(const{points:C}of l){const E=a?M(this,xn,rO).call(this,C):C;if(!E)continue;v.push(E);const w=E.length,A=new Float32Array(w),T=new Float32Array(3*(w===2?2:w-2));if(p.push({line:T,points:A}),w===2){A[0]=E[0]*m,A[1]=E[1]*b,T.set([NaN,NaN,NaN,NaN,A[0],A[1]],0);continue}let[P,R,D,O]=E;P*=m,R*=b,D*=m,O*=b,A.set([P,R,D,O],0),T.set([NaN,NaN,NaN,NaN,P,R],0);for(let B=4;B<w;B+=2){const U=A[B]=E[B]*m,V=A[B+1]=E[B+1]*b;T.set(at.createBezierPoints(P,R,D,O,U,V),(B-2)*3),[P,R,D,O]=[D,O,U,V]}}if(p.length===0)return null;const S=o?new US:new n3;return S.build(p,n,i,1,s,o?0:d,r),{outline:S,newCurves:v,areContours:o,thickness:d,width:c,height:u}}static async compressSignature({outlines:e,areContours:n,thickness:i,width:s,height:r}){let a=1/0,o=-1/0,l=0;for(const E of e){l+=E.length;for(let w=2,A=E.length;w<A;w++){const T=E[w]-E[w-2];a=Math.min(a,T),o=Math.max(o,T)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const u=e.length,d=Hb+xm*u,p=new Uint32Array(d);let g=0;p[g++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,p[g++]=0,p[g++]=s,p[g++]=r,p[g++]=n?0:1,p[g++]=Math.max(0,Math.floor(i??0)),p[g++]=u,p[g++]=c.BYTES_PER_ELEMENT;for(const E of e)p[g++]=E.length-2,p[g++]=E[0],p[g++]=E[1];const m=new CompressionStream("deflate-raw"),b=m.writable.getWriter();await b.ready,b.write(p);const v=c.prototype.constructor;for(const E of e){const w=new v(E.length-2);for(let A=2,T=E.length;A<T;A++)w[A-2]=E[A]-E[A-2];b.write(w)}b.close();const S=await new Response(m.readable).arrayBuffer(),C=new Uint8Array(S);return hD(C)}static async decompressSignature(e){try{const n=Iee(e),{readable:i,writable:s}=new DecompressionStream("deflate-raw"),r=s.getWriter();await r.ready,r.write(n).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let a=null,o=0;for await(const E of i)a||(a=new Uint8Array(new Uint32Array(E.buffer,0,4)[0])),a.set(E,o),o+=E.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],d=l[3],p=l[4]===0,g=l[5],m=l[6],b=l[7],v=[],S=(Hb+xm*m)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(b){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(a.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(a.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(a.buffer,S);break}o=0;for(let E=0;E<m;E++){const w=l[xm*E+Hb],A=new Float32Array(w+2);v.push(A);for(let T=0;T<xm-1;T++)A[T]=l[xm*E+Hb+T+1];for(let T=0;T<w;T++)A[T+2]=A[T]+C[o++]}return{areContours:p,thickness:g,outlines:v,width:u,height:d}}catch(n){return Dt(`decompressSignature: ${n}`),null}}}Bd=new WeakMap,xn=new WeakSet,zS=function(e,n,i,s){return i-=e,s-=n,i===0?s>0?0:4:i===1?s+6:2-s},vo=new WeakMap,iO=function(e,n,i,s,r,a,o){const l=M(this,xn,zS).call(this,i,s,r,a);for(let c=0;c<8;c++){const u=(-c+l-o+16)%8,d=x(this,vo)[2*u],p=x(this,vo)[2*u+1];if(e[(i+d)*n+(s+p)]!==0)return u}return-1},sO=function(e,n,i,s,r,a,o){const l=M(this,xn,zS).call(this,i,s,r,a);for(let c=0;c<8;c++){const u=(c+l+o+16)%8,d=x(this,vo)[2*u],p=x(this,vo)[2*u+1];if(e[(i+d)*n+(s+p)]!==0)return u}return-1},HS=function(e,n,i,s){const r=e.length,a=new Int32Array(r);for(let u=0;u<r;u++)a[u]=e[u]<=s?1:0;for(let u=1;u<i-1;u++)a[u*n]=a[u*n+n-1]=0;for(let u=0;u<n;u++)a[u]=a[n*i-1-u]=0;let o=1,l;const c=[];for(let u=1;u<i-1;u++){l=1;for(let d=1;d<n-1;d++){const p=u*n+d,g=a[p];if(g===0)continue;let m=u,b=d;if(g===1&&a[p-1]===0)o+=1,b-=1;else if(g>=1&&a[p+1]===0)o+=1,b+=1,g>1&&(l=g);else{g!==1&&(l=Math.abs(g));continue}const v=[d,u],S=b===d+1,C={isHole:S,points:v,id:o,parent:0};c.push(C);let E;for(const B of c)if(B.id===l){E=B;break}E?E.isHole?C.parent=S?E.parent:l:C.parent=S?l:E.parent:C.parent=S?l:0;const w=M(this,xn,iO).call(this,a,n,u,d,m,b,0);if(w===-1){a[p]=-o,a[p]!==1&&(l=Math.abs(a[p]));continue}let A=x(this,vo)[2*w],T=x(this,vo)[2*w+1];const P=u+A,R=d+T;m=P,b=R;let D=u,O=d;for(;;){const B=M(this,xn,sO).call(this,a,n,D,O,m,b,1);A=x(this,vo)[2*B],T=x(this,vo)[2*B+1];const U=D+A,V=O+T;v.push(V,U);const ee=D*n+O;if(a[ee+1]===0?a[ee]=-o:a[ee]===1&&(a[ee]=o),U===u&&V===d&&D===P&&O===R){a[p]!==1&&(l=Math.abs(a[p]));break}else m=D,b=O,D=U,O=V}}}return c},n5=function(e,n,i,s){if(i-n<=4){for(let P=n;P<i-2;P+=2)s.push(e[P],e[P+1]);return}const r=e[n],a=e[n+1],o=e[i-4]-r,l=e[i-3]-a,c=Math.hypot(o,l),u=o/c,d=l/c,p=u*a-d*r,g=l/o,m=1/c,b=Math.atan(g),v=Math.cos(b),S=Math.sin(b),C=m*(Math.abs(v)+Math.abs(S)),E=m*(1-C+C**2),w=Math.max(Math.atan(Math.abs(S+v)*E),Math.atan(Math.abs(S-v)*E));let A=0,T=n;for(let P=n+2;P<i-2;P+=2){const R=Math.abs(p-u*e[P+1]+d*e[P]);R>A&&(T=P,A=R)}A>(c*w)**2?(M(this,xn,n5).call(this,e,n,T+2,s),M(this,xn,n5).call(this,e,T,i,s)):s.push(r,a)},rO=function(e){const n=[],i=e.length;return M(this,xn,n5).call(this,e,0,i,n),n.push(e[i-2],e[i-1]),n.length<=4?null:n},aO=function(e,n,i,s,r,a){const o=new Float32Array(a**2),l=-2*s**2,c=a>>1;for(let b=0;b<a;b++){const v=(b-c)**2;for(let S=0;S<a;S++)o[b*a+S]=Math.exp((v+(S-c)**2)/l)}const u=new Float32Array(256),d=-2*r**2;for(let b=0;b<256;b++)u[b]=Math.exp(b**2/d);const p=e.length,g=new Uint8Array(p),m=new Uint32Array(256);for(let b=0;b<i;b++)for(let v=0;v<n;v++){const S=b*n+v,C=e[S];let E=0,w=0;for(let T=0;T<a;T++){const P=b+T-c;if(!(P<0||P>=i))for(let R=0;R<a;R++){const D=v+R-c;if(D<0||D>=n)continue;const O=e[P*n+D],B=o[T*a+R]*u[Math.abs(O-C)];E+=O*B,w+=B}}const A=g[S]=Math.round(E/w);m[A]++}return[g,m]},oO=function(e){const n=new Uint32Array(256);for(const i of e)n[i]++;return n},qS=function(e){const n=e.length,i=new Uint8ClampedArray(n>>2);let s=-1/0,r=1/0;for(let o=0,l=i.length;o<l;o++){if(e[(o<<2)+3]===0){s=i[o]=255;continue}const u=i[o]=e[o<<2];u>s&&(s=u),u<r&&(r=u)}const a=255/(s-r);for(let o=0;o<n;o++)i[o]=(i[o]-r)*a;return i},GS=function(e){let n,i=-1/0,s=-1/0;const r=e.findIndex(l=>l!==0);let a=r,o=r;for(n=r;n<256;n++){const l=e[n];l>i&&(n-a>s&&(s=n-a,o=n-1),i=l,a=n)}for(n=o-1;n>=0&&!(e[n]>e[n+1]);n--);return n},lO=function(e){const n=e,{width:i,height:s}=e,{maxDim:r}=x(this,Bd);let a=i,o=s;if(i>r||s>r){let p=i,g=s,m=Math.log2(Math.max(i,s)/r);const b=Math.floor(m);m=m===b?b-1:b;for(let S=0;S<m;S++){a=p,o=g,a>r&&(a=Math.ceil(a/2)),o>r&&(o=Math.ceil(o/2));const C=new OffscreenCanvas(a,o);C.getContext("2d").drawImage(e,0,0,p,g,0,0,a,o),p=a,g=o,e!==n&&e.close(),e=C.transferToImageBitmap()}const v=Math.min(r/a,r/o);a=Math.round(a*v),o=Math.round(o*v)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const u=c.getImageData(0,0,a,o).data;return[M(this,xn,qS).call(this,u),a,o]},L(Oc,xn),L(Oc,Bd,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),L(Oc,vo,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class qk extends ZL{constructor(){super(),super.updateProperties({fill:"CanvasText","stroke-width":0})}clone(){const e=new qk;return e.updateAll(this),e}}class Gk extends T6{constructor(e){super(e),super.updateProperties({stroke:"CanvasText","stroke-width":1})}clone(){const e=new Gk(this._viewParameters);return e.updateAll(this),e}}var lu,ra,cu,uu;const Wr=class Wr extends K5{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});L(this,lu,!1);L(this,ra,null);L(this,cu,null);L(this,uu,null);this._willKeepAspectRatio=!0,F(this,cu,n.signatureData||null),F(this,ra,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,i){Wn.initialize(n,i),this._defaultDrawingOptions=new qk,this._defaultDrawnSignatureOptions=new Gk(i.viewParameters)}static getDefaultDrawingOptions(n){const i=this._defaultDrawingOptions.clone();return i.updateProperties(n),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return Yt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!x(this,ra)}}static computeTelemetryFinalData(n){const i=n.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,i;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,n=this.x,i=this.y),super.render(),this._drawId===null)if(x(this,cu)){const{lines:r,mustSmooth:a,areContours:o,description:l,uuid:c,heightInPage:u}=x(this,cu),{rawDims:{pageWidth:d,pageHeight:p},rotation:g}=this.parent.viewport,m=Oc.processDrawnLines({lines:r,pageWidth:d,pageHeight:p,rotation:g,innerMargin:Wr._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(m,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return s&&(this._isCopy=!0,this._moveAfterPaste(n,i)),this.div}setUuid(n){F(this,uu,n),this.addEditToolbar()}getUuid(){return x(this,uu)}get description(){return x(this,ra)}set description(n){F(this,ra,n),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(n)})}getSignaturePreview(){const{newCurves:n,areContours:i,thickness:s,width:r,height:a}=x(this,cu),o=Math.max(r,a),l=Oc.processDrawnLines({lines:{curves:n.map(c=>({points:c})),thickness:s,width:r,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:l.outline}}async addEditToolbar(){const n=await super.addEditToolbar();return n?(this._uiManager.signatureManager&&x(this,ra)!==null&&(await n.addEditSignatureButton(this._uiManager.signatureManager,x(this,uu),x(this,ra)),n.show()),n):null}addSignature(n,i,s,r){const{x:a,y:o}=this,{outline:l}=F(this,cu,n);F(this,lu,l instanceof US),F(this,ra,s),this.div.setAttribute("data-l10n-args",JSON.stringify({description:s}));let c;x(this,lu)?c=Wr.getDefaultDrawingOptions():(c=Wr._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[u,d]=this.parentDimensions,[,p]=this.pageDimensions;let g=i/p;g=g>=1?.5:g,this.width*=g/this.height,this.width>=1&&(g*=.9/this.width,this.width=.9),this.height=g,this.setDims(u*this.width,d*this.height),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return Oc.process(n,i,s,r,Wr._INNER_MARGIN)}getFromText(n,i){const{rawDims:{pageWidth:s,pageHeight:r},rotation:a}=this.parent.viewport;return Oc.extractContoursFromText(n,i,s,r,a,Wr._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:i,pageHeight:s},rotation:r}=this.parent.viewport;return Oc.processDrawnLines({lines:n,pageWidth:i,pageHeight:s,rotation:r,innerMargin:Wr._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:i}){n?this._drawingOptions=Wr.getDefaultDrawingOptions():(this._drawingOptions=Wr._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:i,points:s,rect:r}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":a}}=this,o={annotationType:Ft.SIGNATURE,isSignature:!0,areContours:x(this,lu),color:[0,0,0],thickness:x(this,lu)?0:a,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(o.paths={lines:i,points:s},o.uuid=x(this,uu),o.isCopy=!0):o.lines=i,x(this,ra)&&(o.accessibilityData={type:"Figure",alt:x(this,ra)}),o}static deserializeDraw(n,i,s,r,a,o){return o.areContours?US.deserialize(n,i,s,r,a,o):n3.deserialize(n,i,s,r,a,o)}static async deserialize(n,i,s){var a;const r=await super.deserialize(n,i,s);return F(r,lu,n.areContours),F(r,ra,((a=n.accessibilityData)==null?void 0:a.alt)||""),F(r,uu,n.uuid),r}};lu=new WeakMap,ra=new WeakMap,cu=new WeakMap,uu=new WeakMap,qe(Wr,"_type","signature"),qe(Wr,"_editorType",Ft.SIGNATURE),qe(Wr,"_defaultDrawingOptions",null);let WS=Wr;var $n,Ki,hu,Nc,du,zp,Rc,jd,bl,aa,Hp,cn,ex,tx,i5,s5,r5,XS,a5,cO;class VS extends Wn{constructor(n){super({...n,name:"stampEditor"});L(this,cn);L(this,$n,null);L(this,Ki,null);L(this,hu,null);L(this,Nc,null);L(this,du,null);L(this,zp,"");L(this,Rc,null);L(this,jd,!1);L(this,bl,null);L(this,aa,!1);L(this,Hp,!1);F(this,Nc,n.bitmapUrl),F(this,du,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,i){Wn.initialize(n,i)}static isHandlingMimeForPasting(n){return $v.includes(n)}static paste(n,i){i.pasteEditor(Ft.STAMP,{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const i=n.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(n=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:a,height:o}=n||this.copyCanvas(null,null,!0).imageData,l=await s.guess({name:"altText",request:{data:r,width:a,height:o,channels:r.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),i&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var n;x(this,Ki)&&(F(this,$n,null),this._uiManager.imageManager.deleteId(x(this,Ki)),(n=x(this,Rc))==null||n.remove(),F(this,Rc,null),x(this,bl)&&(clearTimeout(x(this,bl)),F(this,bl,null))),super.remove()}rebuild(){if(!this.parent){x(this,Ki)&&M(this,cn,i5).call(this);return}super.rebuild(),this.div!==null&&(x(this,Ki)&&x(this,Rc)===null&&M(this,cn,i5).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(x(this,hu)||x(this,$n)||x(this,Nc)||x(this,du)||x(this,Ki)||x(this,jd))}get isResizable(){return!0}render(){if(this.div)return this.div;let n,i;return this._isCopy&&(n=this.x,i=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),x(this,jd)||(x(this,$n)?M(this,cn,s5).call(this):M(this,cn,i5).call(this)),this._isCopy&&this._moveAfterPaste(n,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,i){const{id:s,bitmap:r}=this._uiManager.imageManager.getFromCanvas(n,i);i.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(F(this,Ki,s),r&&F(this,$n,r),F(this,jd,!1),M(this,cn,s5).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;x(this,bl)!==null&&clearTimeout(x(this,bl)),F(this,bl,setTimeout(()=>{F(this,bl,null),M(this,cn,XS).call(this)},200))}copyCanvas(n,i,s=!1){var g;n||(n=224);const{width:r,height:a}=x(this,$n),o=new Yc;let l=x(this,$n),c=r,u=a,d=null;if(i){if(r>i||a>i){const R=Math.min(i/r,i/a);c=Math.floor(r*R),u=Math.floor(a*R)}d=document.createElement("canvas");const m=d.width=Math.ceil(c*o.sx),b=d.height=Math.ceil(u*o.sy);x(this,aa)||(l=M(this,cn,r5).call(this,m,b));const v=d.getContext("2d");v.filter=this._uiManager.hcmFilter;let S="white",C="#cfcfd8";this._uiManager.hcmFilter!=="none"?C="black":(g=window.matchMedia)!=null&&g.call(window,"(prefers-color-scheme: dark)").matches&&(S="#8f8f9d",C="#42414d");const E=15,w=E*o.sx,A=E*o.sy,T=new OffscreenCanvas(w*2,A*2),P=T.getContext("2d");P.fillStyle=S,P.fillRect(0,0,w*2,A*2),P.fillStyle=C,P.fillRect(0,0,w,A),P.fillRect(w,A,w,A),v.fillStyle=v.createPattern(T,"repeat"),v.fillRect(0,0,m,b),v.drawImage(l,0,0,l.width,l.height,0,0,m,b)}let p=null;if(s){let m,b;if(o.symmetric&&l.width<n&&l.height<n)m=l.width,b=l.height;else if(l=x(this,$n),r>n||a>n){const C=Math.min(n/r,n/a);m=Math.floor(r*C),b=Math.floor(a*C),x(this,aa)||(l=M(this,cn,r5).call(this,m,b))}const S=new OffscreenCanvas(m,b).getContext("2d",{willReadFrequently:!0});S.drawImage(l,0,0,l.width,l.height,0,0,m,b),p={width:m,height:b,data:S.getImageData(0,0,m,b).data}}return{canvas:d,width:c,height:u,imageData:p}}static async deserialize(n,i,s){var v;let r=null,a=!1;if(n instanceof kL){const{data:{rect:S,rotation:C,id:E,structParent:w,popupRef:A},container:T,parent:{page:{pageNumber:P}},canvas:R}=n;let D,O;R?(delete n.canvas,{id:D,bitmap:O}=s.imageManager.getFromCanvas(T.id,R),R.remove()):(a=!0,n._hasNoCanvas=!0);const B=((v=await i._structTree.getAriaAttributes(`${Mk}${E}`))==null?void 0:v.get("aria-label"))||"";r=n={annotationType:Ft.STAMP,bitmapId:D,bitmap:O,pageIndex:P-1,rect:S.slice(0),rotation:C,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:B},isSvg:!1,structParent:w,popupRef:A}}const o=await super.deserialize(n,i,s),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:d,isSvg:p,accessibilityData:g}=n;a?(s.addMissingCanvas(n.id,o),F(o,jd,!0)):d&&s.imageManager.isValidId(d)?(F(o,Ki,d),c&&F(o,$n,c)):F(o,Nc,u),F(o,aa,p);const[m,b]=o.pageDimensions;return o.width=(l[2]-l[0])/m,o.height=(l[3]-l[1])/b,o.annotationElementId=n.id||null,g&&(o.altTextData=g),o._initialData=r,F(o,Hp,!!r),o}serialize(n=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:Ft.STAMP,bitmapId:x(this,Ki),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:x(this,aa),structTreeParentId:this._structTreeParentId};if(n)return s.bitmapUrl=M(this,cn,a5).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:r,altText:a}=this.serializeAltText(!1);if(!r&&a&&(s.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=M(this,cn,cO).call(this,s);if(l.isSame)return null;l.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,i===null)return s;i.stamps||(i.stamps=new Map);const o=x(this,aa)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!i.stamps.has(x(this,Ki)))i.stamps.set(x(this,Ki),{area:o,serialized:s}),s.bitmap=M(this,cn,a5).call(this,!1);else if(x(this,aa)){const l=i.stamps.get(x(this,Ki));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=M(this,cn,a5).call(this,!1))}return s}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}}$n=new WeakMap,Ki=new WeakMap,hu=new WeakMap,Nc=new WeakMap,du=new WeakMap,zp=new WeakMap,Rc=new WeakMap,jd=new WeakMap,bl=new WeakMap,aa=new WeakMap,Hp=new WeakMap,cn=new WeakSet,ex=function(n,i=!1){if(!n){this.remove();return}F(this,$n,n.bitmap),i||(F(this,Ki,n.id),F(this,aa,n.isSvg)),n.file&&F(this,zp,n.file.name),M(this,cn,s5).call(this)},tx=function(){if(F(this,hu,null),this._uiManager.enableWaiting(!1),!!x(this,Rc)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&x(this,$n)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&x(this,$n)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},i5=function(){if(x(this,Ki)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(x(this,Ki)).then(s=>M(this,cn,ex).call(this,s,!0)).finally(()=>M(this,cn,tx).call(this));return}if(x(this,Nc)){const s=x(this,Nc);F(this,Nc,null),this._uiManager.enableWaiting(!0),F(this,hu,this._uiManager.imageManager.getFromUrl(s).then(r=>M(this,cn,ex).call(this,r)).finally(()=>M(this,cn,tx).call(this)));return}if(x(this,du)){const s=x(this,du);F(this,du,null),this._uiManager.enableWaiting(!0),F(this,hu,this._uiManager.imageManager.getFromFile(s).then(r=>M(this,cn,ex).call(this,r)).finally(()=>M(this,cn,tx).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=$v.join(",");const i=this._uiManager._signal;F(this,hu,new Promise(s=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),M(this,cn,ex).call(this,r)}s()},{signal:i}),n.addEventListener("cancel",()=>{this.remove(),s()},{signal:i})}).finally(()=>M(this,cn,tx).call(this))),n.click()},s5=function(){var d;const{div:n}=this;let{width:i,height:s}=x(this,$n);const[r,a]=this.pageDimensions,o=.75;if(this.width)i=this.width*r,s=this.height*a;else if(i>o*r||s>o*a){const p=Math.min(o*r/i,o*a/s);i*=p,s*=p}const[l,c]=this.parentDimensions;this.setDims(i*l/r,s*c/a),this._uiManager.enableWaiting(!1);const u=F(this,Rc,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=i/r,this.height=s/a,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),M(this,cn,XS).call(this),x(this,Hp)||(this.parent.addUndoableEditor(this),F(this,Hp,!0)),this._reportTelemetry({action:"inserted_image"}),x(this,zp)&&this.div.setAttribute("aria-description",x(this,zp))},r5=function(n,i){const{width:s,height:r}=x(this,$n);let a=s,o=r,l=x(this,$n);for(;a>2*n||o>2*i;){const c=a,u=o;a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(a,o);d.getContext("2d").drawImage(l,0,0,c,u,0,0,a,o),l=d.transferToImageBitmap()}return l},XS=function(){const[n,i]=this.parentDimensions,{width:s,height:r}=this,a=new Yc,o=Math.ceil(s*n*a.sx),l=Math.ceil(r*i*a.sy),c=x(this,Rc);if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const u=x(this,aa)?x(this,$n):M(this,cn,r5).call(this,o,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,o,l)},a5=function(n){if(n){if(x(this,aa)){const r=this._uiManager.imageManager.getSvgUrl(x(this,Ki));if(r)return r}const i=document.createElement("canvas");return{width:i.width,height:i.height}=x(this,$n),i.getContext("2d").drawImage(x(this,$n),0,0),i.toDataURL()}if(x(this,aa)){const[i,s]=this.pageDimensions,r=Math.round(this.width*i*Mu.PDF_TO_CSS_UNITS),a=Math.round(this.height*s*Mu.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,a);return o.getContext("2d").drawImage(x(this,$n),0,0,x(this,$n).width,x(this,$n).height,0,0,r,a),o.transferToImageBitmap()}return structuredClone(x(this,$n))},cO=function(n){var o;const{pageIndex:i,accessibilityData:{altText:s}}=this._initialData,r=n.pageIndex===i,a=(((o=n.accessibilityData)==null?void 0:o.alt)||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&a,isSameAltText:a}},qe(VS,"_type","stamp"),qe(VS,"_editorType",Ft.STAMP);var $d,qp,yl,fu,Fc,Ba,pu,Gp,Ud,So,Mc,Ms,Dc,gt,gu,Hn,uO,Qo,YS,ZS,o5;const co=class co{constructor({uiManager:e,pageIndex:n,div:i,structTreeLayer:s,accessibilityManager:r,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:u}){L(this,Hn);L(this,$d);L(this,qp,!1);L(this,yl,null);L(this,fu,null);L(this,Fc,null);L(this,Ba,new Map);L(this,pu,!1);L(this,Gp,!1);L(this,Ud,!1);L(this,So,null);L(this,Mc,null);L(this,Ms,null);L(this,Dc,null);L(this,gt);const d=[...x(co,gu).values()];if(!co._initialized){co._initialized=!0;for(const p of d)p.initialize(u,e)}e.registerEditorTypes(d),F(this,gt,e),this.pageIndex=n,this.div=i,F(this,$d,r),F(this,yl,a),this.viewport=c,F(this,Ms,l),this.drawLayer=o,this._structTree=s,x(this,gt).addLayer(this)}get isEmpty(){return x(this,Ba).size===0}get isInvisible(){return this.isEmpty&&x(this,gt).getMode()===Ft.NONE}updateToolbar(e){x(this,gt).updateToolbar(e)}updateMode(e=x(this,gt).getMode()){switch(M(this,Hn,o5).call(this),e){case Ft.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ft.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ft.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const i of x(co,gu).values())n.toggle(`${i._type}Editing`,e===i._editorType);this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=x(this,Ms))==null?void 0:n.div)}setEditingState(e){x(this,gt).setEditingState(e)}addCommands(e){x(this,gt).addCommands(e)}cleanUndoStack(e){x(this,gt).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=x(this,yl))==null||n.div.classList.toggle("disabled",!e)}async enable(){F(this,Ud,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const i of x(this,Ba).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(x(this,gt).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));if(!x(this,yl)){F(this,Ud,!1);return}const n=x(this,yl).getEditableAnnotations();for(const i of n){if(i.hide(),x(this,gt).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}F(this,Ud,!1)}disable(){var s;F(this,Gp,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,n=new Map;for(const r of x(this,Ba).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){e.set(r.annotationElementId,r);continue}else n.set(r.annotationElementId,r);(s=this.getEditableAnnotation(r.annotationElementId))==null||s.show(),r.remove()}if(x(this,yl)){const r=x(this,yl).getEditableAnnotations();for(const a of r){const{id:o}=a.data;if(x(this,gt).isDeletedAnnotationElement(o))continue;let l=n.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(x(this,gt).addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}M(this,Hn,o5).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of x(co,gu).values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),F(this,Gp,!1)}getEditableAnnotation(e){var n;return((n=x(this,yl))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){x(this,gt).getActive()!==e&&x(this,gt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=x(this,Ms))!=null&&e.div&&!x(this,Dc)){F(this,Dc,new AbortController);const n=x(this,gt).combinedSignal(x(this,Dc));x(this,Ms).div.addEventListener("pointerdown",M(this,Hn,uO).bind(this),{signal:n}),x(this,Ms).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=x(this,Ms))!=null&&e.div&&x(this,Dc)&&(x(this,Dc).abort(),F(this,Dc,null),x(this,Ms).div.classList.remove("highlighting"))}enableClick(){if(x(this,fu))return;F(this,fu,new AbortController);const e=x(this,gt).combinedSignal(x(this,fu));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=x(this,fu))==null||e.abort(),F(this,fu,null)}attach(e){x(this,Ba).set(e.id,e);const{annotationElementId:n}=e;n&&x(this,gt).isDeletedAnnotationElement(n)&&x(this,gt).removeDeletedAnnotationElement(e)}detach(e){var n;x(this,Ba).delete(e.id),(n=x(this,$d))==null||n.removePointerInTextLayer(e.contentDiv),!x(this,Gp)&&e.annotationElementId&&x(this,gt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),x(this,gt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(x(this,gt).addDeletedAnnotationElement(e.annotationElementId),Wn.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),x(this,gt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!x(this,Ud)),x(this,gt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!x(this,Fc)&&(e._focusEventsAllowed=!1,F(this,Fc,setTimeout(()=>{F(this,Fc,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:x(this,gt)._signal}),n.focus())},0))),e._structTreeParentId=(i=x(this,$d))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:n,undo:i,mustExec:!1})}getNextId(){return x(this,gt).getId()}combinedSignal(e){return x(this,gt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=x(this,Hn,Qo))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,n){x(this,gt).updateToolbar(e),await x(this,gt).updateMode(e);const{offsetX:i,offsetY:s}=M(this,Hn,ZS).call(this),r=this.getNextId(),a=M(this,Hn,YS).call(this,{parent:this,id:r,x:i,y:s,uiManager:x(this,gt),isCentered:!0,...n});a&&this.add(a)}async deserialize(e){var n;return await((n=x(co,gu).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,x(this,gt)))||null}createAndAddNewEditor(e,n,i={}){const s=this.getNextId(),r=M(this,Hn,YS).call(this,{parent:this,id:s,x:e.offsetX,y:e.offsetY,uiManager:x(this,gt),isCentered:n,...i});return r&&this.add(r),r}addNewEditor(e={}){this.createAndAddNewEditor(M(this,Hn,ZS).call(this),!0,e)}setSelected(e){x(this,gt).setSelected(e)}toggleSelected(e){x(this,gt).toggleSelected(e)}unselect(e){x(this,gt).unselect(e)}pointerup(e){var s;const{isMac:n}=vs.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!x(this,pu)||(F(this,pu,!1),(s=x(this,Hn,Qo))!=null&&s.isDrawer&&x(this,Hn,Qo).supportMultipleDrawings))return;if(!x(this,qp)){F(this,qp,!0);return}const i=x(this,gt).getMode();if(i===Ft.STAMP||i===Ft.SIGNATURE){x(this,gt).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var s;if(x(this,gt).getMode()===Ft.HIGHLIGHT&&this.enableTextSelection(),x(this,pu)){F(this,pu,!1);return}const{isMac:n}=vs.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(F(this,pu,!0),(s=x(this,Hn,Qo))!=null&&s.isDrawer){this.startDrawingSession(e);return}const i=x(this,gt).getActive();F(this,qp,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),x(this,So)){x(this,Hn,Qo).startDrawing(this,x(this,gt),!1,e);return}x(this,gt).setCurrentDrawingSession(this),F(this,So,new AbortController);const n=x(this,gt).combinedSignal(x(this,So));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(F(this,Mc,null),this.commitOrRemove())},{signal:n}),x(this,Hn,Qo).startDrawing(this,x(this,gt),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&F(this,Mc,n);return}x(this,Mc)&&setTimeout(()=>{var n;(n=x(this,Mc))==null||n.focus(),F(this,Mc,null)},0)}endDrawingSession(e=!1){return x(this,So)?(x(this,gt).setCurrentDrawingSession(null),x(this,So).abort(),F(this,So,null),F(this,Mc,null),x(this,Hn,Qo).endDrawing(e)):null}findNewParent(e,n,i){const s=x(this,gt).findParent(n,i);return s===null||s===this?!1:(s.changeParent(e),!0)}commitOrRemove(){return x(this,So)?(this.endDrawingSession(),!0):!1}onScaleChanging(){x(this,So)&&x(this,Hn,Qo).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=x(this,gt).getActive())==null?void 0:e.parent)===this&&(x(this,gt).commitOrRemove(),x(this,gt).setActiveEditor(null)),x(this,Fc)&&(clearTimeout(x(this,Fc)),F(this,Fc,null));for(const i of x(this,Ba).values())(n=x(this,$d))==null||n.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,x(this,Ba).clear(),x(this,gt).removeLayer(this)}render({viewport:e}){this.viewport=e,cf(this.div,e);for(const n of x(this,gt).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){x(this,gt).commitOrRemove(),M(this,Hn,o5).call(this);const n=this.viewport.rotation,i=e.rotation;if(this.viewport=e,cf(this.div,{rotation:i}),n!==i)for(const s of x(this,Ba).values())s.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return x(this,gt).viewParameters.realScale}};$d=new WeakMap,qp=new WeakMap,yl=new WeakMap,fu=new WeakMap,Fc=new WeakMap,Ba=new WeakMap,pu=new WeakMap,Gp=new WeakMap,Ud=new WeakMap,So=new WeakMap,Mc=new WeakMap,Ms=new WeakMap,Dc=new WeakMap,gt=new WeakMap,gu=new WeakMap,Hn=new WeakSet,uO=function(e){x(this,gt).unselectAll();const{target:n}=e;if(n===x(this,Ms).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&x(this,Ms).div.contains(n)){const{isMac:i}=vs.platform;if(e.button!==0||e.ctrlKey&&i)return;x(this,gt).showAllEditors("highlight",!0,!0),x(this,Ms).div.classList.add("free"),this.toggleDrawing(),X5.startHighlighting(this,x(this,gt).direction==="ltr",{target:x(this,Ms).div,x:e.x,y:e.y}),x(this,Ms).div.addEventListener("pointerup",()=>{x(this,Ms).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:x(this,gt)._signal}),e.preventDefault()}},Qo=function(){return x(co,gu).get(x(this,gt).getMode())},YS=function(e){const n=x(this,Hn,Qo);return n?new n.prototype.constructor(e):null},ZS=function(){const{x:e,y:n,width:i,height:s}=this.div.getBoundingClientRect(),r=Math.max(0,e),a=Math.max(0,n),o=Math.min(window.innerWidth,e+i),l=Math.min(window.innerHeight,n+s),c=(r+o)/2-e,u=(a+l)/2-n,[d,p]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:d,offsetY:p}},o5=function(){for(const e of x(this,Ba).values())e.isEmpty()&&e.remove()},qe(co,"_initialized",!1),L(co,gu,new Map([_S,$S,VS,X5,WS].map(e=>[e._editorType,e])));let KS=co;var Ao,er,zd,C9,L8,hO,Ll,QS,dO,eA;const Mi=class Mi{constructor({pageIndex:e}){L(this,Ll);L(this,Ao,null);L(this,er,new Map);L(this,zd,new Map);this.pageIndex=e}setParent(e){if(!x(this,Ao)){F(this,Ao,e);return}if(x(this,Ao)!==e){if(x(this,er).size>0)for(const n of x(this,er).values())n.remove(),e.append(n);F(this,Ao,e)}}static get _svgFactory(){return Yt(this,"_svgFactory",new G5)}draw(e,n=!1,i=!1){const s=Ws(Mi,C9)._++,r=M(this,Ll,QS).call(this),a=Mi._svgFactory.createElement("defs");r.append(a);const o=Mi._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),n&&x(this,zd).set(s,o);const c=i?M(this,Ll,dO).call(this,a,l):null,u=Mi._svgFactory.createElement("use");return r.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(r,e),x(this,er).set(s,r),{id:s,clipPathId:`url(#${c})`}}drawOutline(e,n){const i=Ws(Mi,C9)._++,s=M(this,Ll,QS).call(this),r=Mi._svgFactory.createElement("defs");s.append(r);const a=Mi._svgFactory.createElement("path");r.append(a);const o=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const d=Mi._svgFactory.createElement("mask");r.append(d),l=`mask_p${this.pageIndex}_${i}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const p=Mi._svgFactory.createElement("rect");d.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const g=Mi._svgFactory.createElement("use");d.append(g),g.setAttribute("href",`#${o}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const c=Mi._svgFactory.createElement("use");s.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return s.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(s,e),x(this,er).set(i,s),i}finalizeDraw(e,n){x(this,zd).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var l;if(!n)return;const{root:i,bbox:s,rootClass:r,path:a}=n,o=typeof e=="number"?x(this,er).get(e):e;if(o){if(i&&M(this,Ll,eA).call(this,o,i),s&&M(l=Mi,L8,hO).call(l,o,s),r){const{classList:c}=o;for(const[u,d]of Object.entries(r))c.toggle(u,d)}if(a){const u=o.firstChild.firstChild;M(this,Ll,eA).call(this,u,a)}}}updateParent(e,n){if(n===this)return;const i=x(this,er).get(e);i&&(x(n,Ao).append(i),x(this,er).delete(e),x(n,er).set(e,i))}remove(e){x(this,zd).delete(e),x(this,Ao)!==null&&(x(this,er).get(e).remove(),x(this,er).delete(e))}destroy(){F(this,Ao,null);for(const e of x(this,er).values())e.remove();x(this,er).clear(),x(this,zd).clear()}};Ao=new WeakMap,er=new WeakMap,zd=new WeakMap,C9=new WeakMap,L8=new WeakSet,hO=function(e,[n,i,s,r]){const{style:a}=e;a.top=`${100*i}%`,a.left=`${100*n}%`,a.width=`${100*s}%`,a.height=`${100*r}%`},Ll=new WeakSet,QS=function(){const e=Mi._svgFactory.create(1,1,!0);return x(this,Ao).append(e),e.setAttribute("aria-hidden",!0),e},dO=function(e,n){const i=Mi._svgFactory.createElement("clipPath");e.append(i);const s=`clip_${n}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");const r=Mi._svgFactory.createElement("use");return i.append(r),r.setAttribute("href",`#${n}`),r.classList.add("clip"),s},eA=function(e,n){for(const[i,s]of Object.entries(n))s===null?e.removeAttribute(i):e.setAttribute(i,s)},L(Mi,L8),L(Mi,C9,0);let JS=Mi;globalThis.pdfjsTestingUtils={HighlightOutliner:IS};Et.AbortException;Et.AnnotationEditorLayer;Et.AnnotationEditorParamsType;Et.AnnotationEditorType;Et.AnnotationEditorUIManager;Et.AnnotationLayer;Et.AnnotationMode;Et.AnnotationType;Et.ColorPicker;Et.DOMSVGFactory;Et.DrawLayer;Et.FeatureTest;Et.GlobalWorkerOptions;Et.ImageKind;Et.InvalidPDFException;Et.MathClamp;Et.OPS;Et.OutputScale;Et.PDFDataRangeTransport;Et.PDFDateString;Et.PDFWorker;Et.PasswordResponses;Et.PermissionFlag;Et.PixelsPerInch;Et.RenderingCancelledException;Et.ResponseException;Et.SignatureExtractor;Et.SupportedImageMimeTypes;Et.TextLayer;Et.TouchManager;Et.Util;Et.VerbosityLevel;Et.XfaLayer;Et.build;Et.createValidAbsoluteUrl;Et.fetchData;var one=Et.getDocument;Et.getFilenameFromUrl;Et.getPdfFilenameFromUrl;Et.getUuid;Et.getXfaPageViewport;Et.isDataScheme;Et.isPdfFile;Et.isValidExplicitDest;Et.noContextMenu;Et.normalizeUnicode;Et.setLayerDimensions;Et.shadow;Et.stopEvent;Et.version;var gx={};gx.d=(t,e)=>{for(var n in e)gx.o(e,n)&&!gx.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})};gx.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var fO=globalThis.pdfjsWorker={};gx.d(fO,{WorkerMessageHandler:()=>tk});const lne=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Do=[1,0,0,1,0,0],Jd=[.001,0,0,.001,0,0],Uc=1.35,Y5=.35,jP=Y5/Uc,nr={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},pO="pdfjs_internal_editor_",Zo={FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},$P={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},gO={FILL:0,ADD_TO_PATH_FLAG:4},Yi={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},es={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},tA={GROUP:"Group",REPLY:"R"},Ai={INVISIBLE:1,HIDDEN:2,PRINT:4,NOROTATE:16,NOVIEW:32,LOCKED:128,LOCKEDCONTENTS:512},No={READONLY:1,REQUIRED:2,MULTILINE:4096,PASSWORD:8192,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,FILESELECT:1048576,MULTISELECT:2097152,DONOTSCROLL:8388608,COMB:16777216},e1={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},mO={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},cne={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},une={O:"PageOpen",C:"PageClose"},Ox={WARNINGS:1,INFOS:5},z={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Vs={moveTo:0,lineTo:1,curveTo:2,closePath:3},UP={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let I6=Ox.WARNINGS;function hne(t){Number.isInteger(t)&&(I6=t)}function dne(){return I6}function Pt(t){I6>=Ox.INFOS&&console.log(`Info: ${t}`)}function W(t){I6>=Ox.WARNINGS&&console.log(`Warning: ${t}`)}function Ot(t){throw new Error(t)}function bs(t,e){t||Ot(e)}function fne(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Z5(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const s=t.match(/\./g);(s==null?void 0:s.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=$x(t)}catch{}}const i=e?URL.parse(t,e):URL.parse(t);return fne(i)?i:null}function Fe(t,e,n,i=!1){return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const fr=function(){function e(n,i){this.message=n,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class Bx extends fr{constructor(e,n){super(e,"PasswordException"),this.code=n}}class Cw extends fr{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class jx extends fr{constructor(e){super(e,"InvalidPDFException")}}class zP extends fr{constructor(e,n,i){super(e,"ResponseException"),this.status=n,this.missing=i}}class me extends fr{constructor(e){super(e,"FormatError")}}class hs extends fr{constructor(e){super(e,"AbortException")}}function Mr(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Ot("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let s=0;s<e;s+=n){const r=Math.min(s+n,e),a=t.subarray(s,r);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function xs(t){typeof t!="string"&&Ot("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=t.charCodeAt(i)&255;return n}function ps(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function Wk(t){return Object.keys(t).length}function pne(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function gne(){try{return new Function(""),!0}catch{return!1}}class Lr{static get isLittleEndian(){return Fe(this,"isLittleEndian",pne())}static get isEvalSupported(){return Fe(this,"isEvalSupported",gne())}static get isOffscreenCanvasSupported(){return Fe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Fe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){if(typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"){const{platform:e,userAgent:n}=navigator;return Fe(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}return Fe(this,"platform",{isAndroid:!1,isLinux:!1,isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,n;return Fe(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const F1=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Vc,l5,nA;class rn{static makeHexColor(e,n,i){return`#${F1[e]}${F1[n]}${F1[i]}`}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static applyTransform(e,n){const i=e[0]*n[0]+e[1]*n[2]+n[4],s=e[0]*n[1]+e[1]*n[3]+n[5];return[i,s]}static applyInverseTransform(e,n){const i=n[0]*n[3]-n[1]*n[2],s=(e[0]*n[3]-e[1]*n[2]+n[2]*n[5]-n[4]*n[3])/i,r=(-e[0]*n[1]+e[1]*n[0]+n[4]*n[1]-n[5]*n[0])/i;return[s,r]}static getAxialAlignedBoundingBox(e,n){const i=this.applyTransform(e,n),s=this.applyTransform(e.slice(2,4),n),r=this.applyTransform([e[0],e[3]],n),a=this.applyTransform([e[2],e[1]],n);return[Math.min(i[0],s[0],r[0],a[0]),Math.min(i[1],s[1],r[1],a[1]),Math.max(i[0],s[0],r[0],a[0]),Math.max(i[1],s[1],r[1],a[1])]}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e){const n=[e[0],e[2],e[1],e[3]],i=e[0]*n[0]+e[1]*n[2],s=e[0]*n[1]+e[1]*n[3],r=e[2]*n[0]+e[3]*n[2],a=e[2]*n[1]+e[3]*n[3],o=(i+a)/2,l=Math.sqrt((i+a)**2-4*(i*a-r*s))/2,c=o+l||1,u=o-l||1;return[Math.sqrt(c),Math.sqrt(u)]}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const i=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(i>s)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return r>a?null:[i,r,s,a]}static pointBoundingBox(e,n,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],n),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],n)}static rectBoundingBox(e,n,i,s,r){r[0]=Math.min(r[0],e,i),r[1]=Math.min(r[1],n,s),r[2]=Math.max(r[2],e,i),r[3]=Math.max(r[3],n,s)}static bezierBoundingBox(e,n,i,s,r,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],n,l),M(this,Vc,nA).call(this,e,i,r,o,n,s,a,l,3*(-e+3*(i-r)+o),6*(e-2*i+r),3*(i-e),c),M(this,Vc,nA).call(this,e,i,r,o,n,s,a,l,3*(-n+3*(s-a)+l),6*(n-2*s+a),3*(s-n),c)}}Vc=new WeakSet,l5=function(e,n,i,s,r,a,o,l,c,u){if(c<=0||c>=1)return;const d=1-c,p=c*c,g=p*c,m=d*(d*(d*e+3*c*n)+3*p*i)+g*s,b=d*(d*(d*r+3*c*a)+3*p*o)+g*l;u[0]=Math.min(u[0],m),u[1]=Math.min(u[1],b),u[2]=Math.max(u[2],m),u[3]=Math.max(u[3],b)},nA=function(e,n,i,s,r,a,o,l,c,u,d,p){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&M(this,Vc,l5).call(this,e,n,i,s,r,a,o,l,-d/u,p);return}const g=u**2-4*d*c;if(g<0)return;const m=Math.sqrt(g),b=2*c;M(this,Vc,l5).call(this,e,n,i,s,r,a,o,l,(-u+m)/b,p),M(this,Vc,l5).call(this,e,n,i,s,r,a,o,l,(-u-m)/b,p)},L(rn,Vc);const mne=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Wt(t){if(t[0]>="ï"){let n;if(t[0]==="þ"&&t[1]==="ÿ"?(n="utf-16be",t.length%2===1&&(t=t.slice(0,-1))):t[0]==="ÿ"&&t[1]==="þ"?(n="utf-16le",t.length%2===1&&(t=t.slice(0,-1))):t[0]==="ï"&&t[1]==="»"&&t[2]==="¿"&&(n="utf-8"),n)try{const i=new TextDecoder(n,{fatal:!0}),s=xs(t),r=i.decode(s);return r.includes("\x1B")?r.replaceAll(/\x1b[^\x1b]*(?:\x1b|$)/g,""):r}catch(i){W(`stringToPDFString: "${i}".`)}}const e=[];for(let n=0,i=t.length;n<i;n++){const s=t.charCodeAt(n);if(s===27){for(;++n<i&&t.charCodeAt(n)!==27;);continue}const r=mne[s];e.push(r?String.fromCharCode(r):t.charAt(n))}return e.join("")}function $x(t){return decodeURIComponent(escape(t))}function iA(t){return unescape(encodeURIComponent(t))}function Ux(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Zc(t=new Date){return[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),t.getUTCDate().toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")].join("")}let Ew=null,HP=null;function xne(t){return Ew||(Ew=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,HP=new Map([["ﬅ","ſt"]])),t.replaceAll(Ew,(e,n,i)=>n?n.normalize("NFKC"):HP.get(i))}const bne="pdfjs_internal_id_";function yne(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,s,...r]=n;if(!t(i)&&!Number.isInteger(i)||!e(s))return!1;const a=r.length;let o=!0;switch(s.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of r)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function js(t,e,n){return Math.min(Math.max(t,e),n)}function qP(t){return Uint8Array.prototype.toHex?t.toHex():Array.from(t,e=>F1[e]).join("")}function wne(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):xs(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});const vne=Symbol("CIRCULAR_REF"),Ji=Symbol("EOF");let c5=Object.create(null),u5=Object.create(null),p1=Object.create(null);function Sne(){c5=Object.create(null),u5=Object.create(null),p1=Object.create(null)}class le{constructor(e){this.name=e}static get(e){return u5[e]||(u5[e]=new le(e))}}class gi{constructor(e){this.cmd=e}static get(e){return c5[e]||(c5[e]=new gi(e))}}const xO=function(){return xO};class J{constructor(e=null){this._map=new Map,this.xref=e,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=xO}assignXref(e){this.xref=e}get size(){return this._map.size}get(e,n,i){let s=this._map.get(e);return s===void 0&&n!==void 0&&(s=this._map.get(n),s===void 0&&i!==void 0&&(s=this._map.get(i))),s instanceof Be&&this.xref?this.xref.fetch(s,this.suppressEncryption):s}async getAsync(e,n,i){let s=this._map.get(e);return s===void 0&&n!==void 0&&(s=this._map.get(n),s===void 0&&i!==void 0&&(s=this._map.get(i))),s instanceof Be&&this.xref?this.xref.fetchAsync(s,this.suppressEncryption):s}getArray(e,n,i){let s=this._map.get(e);if(s===void 0&&n!==void 0&&(s=this._map.get(n),s===void 0&&i!==void 0&&(s=this._map.get(i))),s instanceof Be&&this.xref&&(s=this.xref.fetch(s,this.suppressEncryption)),Array.isArray(s)){s=s.slice();for(let r=0,a=s.length;r<a;r++)s[r]instanceof Be&&this.xref&&(s[r]=this.xref.fetch(s[r],this.suppressEncryption))}return s}getRaw(e){return this._map.get(e)}getKeys(){return[...this._map.keys()]}getRawValues(){return[...this._map.values()]}set(e,n){this._map.set(e,n)}has(e){return this._map.has(e)}*[Symbol.iterator](){for(const[e,n]of this._map)yield[e,n instanceof Be&&this.xref?this.xref.fetch(n,this.suppressEncryption):n]}static get empty(){const e=new J(null);return e.set=(n,i)=>{Ot("Should not call `set` on the empty dictionary.")},Fe(this,"empty",e)}static merge({xref:e,dictArray:n,mergeSubDicts:i=!1}){const s=new J(e),r=new Map;for(const a of n)if(a instanceof J)for(const[o,l]of a._map){let c=r.get(o);if(c===void 0)c=[],r.set(o,c);else if(!i||!(l instanceof J))continue;c.push(l)}for(const[a,o]of r){if(o.length===1||!(o[0]instanceof J)){s._map.set(a,o[0]);continue}const l=new J(e);for(const c of o)for(const[u,d]of c._map)l._map.has(u)||l._map.set(u,d);l.size>0&&s._map.set(a,l)}return r.clear(),s.size>0?s:J.empty}clone(){const e=new J(this.xref);for(const n of this.getKeys())e.set(n,this.getRaw(n));return e}delete(e){delete this._map[e]}}class Be{constructor(e,n){this.num=e,this.gen=n}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(e){const n=p1[e];if(n)return n;const i=/^(\d+)R(\d*)$/.exec(e);return!i||i[1]==="0"?null:p1[e]=new Be(parseInt(i[1]),i[2]?parseInt(i[2]):0)}static get(e,n){const i=n===0?`${e}R`:`${e}R${n}`;return p1[i]||(p1[i]=new Be(e,n))}}class Bi{constructor(e=null){this._set=new Set(e==null?void 0:e._set)}has(e){return this._set.has(e.toString())}put(e){this._set.add(e.toString())}remove(e){this._set.delete(e.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}class Nr{constructor(){this._map=new Map}get size(){return this._map.size}get(e){return this._map.get(e.toString())}has(e){return this._map.has(e.toString())}put(e,n){this._map.set(e.toString(),n)}putAlias(e,n){this._map.set(e.toString(),this.get(n))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}*values(){yield*this._map.values()}*items(){for(const[e,n]of this._map)yield[Be.fromString(e),n]}}function ti(t,e){return t instanceof le&&(e===void 0||t.name===e)}function Oi(t,e){return t instanceof gi&&(e===void 0||t.cmd===e)}function bO(t,e){return t instanceof J&&(e===void 0||ti(t.get("Type"),e))}function J5(t,e){return t.num===e.num&&t.gen===e.gen}class _t{get length(){Ot("Abstract getter `length` accessed")}get isEmpty(){Ot("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return Fe(this,"isDataLoaded",!0)}getByte(){Ot("Abstract method `getByte` called")}getBytes(e){Ot("Abstract method `getBytes` called")}async getImageData(e,n){return this.getBytes(e,n)}async asyncGetBytes(){Ot("Abstract method `asyncGetBytes` called")}get isAsync(){return!1}get isAsyncDecoder(){return!1}get canAsyncDecodeImageFromBuffer(){return!1}async getTransferableImage(){return null}peekByte(){const e=this.getByte();return e!==-1&&this.pos--,e}peekBytes(e){const n=this.getBytes(e);return this.pos-=n.length,n}getUint16(){const e=this.getByte(),n=this.getByte();return e===-1||n===-1?-1:(e<<8)+n}getInt32(){const e=this.getByte(),n=this.getByte(),i=this.getByte(),s=this.getByte();return(e<<24)+(n<<16)+(i<<8)+s}getByteRange(e,n){Ot("Abstract method `getByteRange` called")}getString(e){return Mr(this.getBytes(e))}skip(e){this.pos+=e||1}reset(){Ot("Abstract method `reset` called")}moveStart(){Ot("Abstract method `moveStart` called")}makeSubStream(e,n,i=null){Ot("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}const yO=/^[1-9]\.\d$/,sA=2**31-1,Ane=-2147483648;function Dn(t){let e;return function(){return t&&(e=Object.create(null),t(e),t=null),e}}class En extends fr{constructor(e,n){super(`Missing data [${e}, ${n})`,"MissingDataException"),this.begin=e,this.end=n}}class rA extends fr{constructor(e){super(e,"ParserEOFException")}}class wu extends fr{constructor(e){super(e,"XRefEntryException")}}class M1 extends fr{constructor(e){super(e,"XRefParseException")}}function wO(t){const e=t.length;if(e===0)return new Uint8Array(0);if(e===1)return new Uint8Array(t[0]);let n=0;for(let r=0;r<e;r++)n+=t[r].byteLength;const i=new Uint8Array(n);let s=0;for(let r=0;r<e;r++){const a=new Uint8Array(t[r]);i.set(a,s),s+=a.byteLength}return i}async function aA(t){const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch file "${t}" with "${e.statusText}".`);return new Uint8Array(await e.arrayBuffer())}function Ga({dict:t,key:e,getArray:n=!1,stopWhenFound:i=!0}){let s;const r=new Bi;for(;t instanceof J&&!(t.objId&&r.has(t.objId));){t.objId&&r.put(t.objId);const a=n?t.getArray(e):t.get(e);if(a!==void 0){if(i)return a;(s||(s=[])).push(a)}t=t.get("Parent")}return s}function kne(t,e,n){const i=new Bi,s=t,r={dict:null,ref:null};for(;t instanceof J&&!i.has(e)&&(i.put(e),!t.has("T"));){if(e=t.getRaw("Parent"),!(e instanceof Be))return r;t=n.fetch(e)}return t instanceof J&&t!==s&&(r.dict=t,r.ref=e),r}const _w=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function Cne(t,e=!1){bs(Number.isInteger(t)&&t>0,"The number should be a positive integer.");const n="M".repeat(t/1e3|0)+_w[t%1e3/100|0]+_w[10+(t%100/10|0)]+_w[20+t%10];return e?n.toLowerCase():n}function Vk(t){return t>0?Math.ceil(Math.log2(t)):0}function el(t,e){return t[e]<<24>>24}function Bc(t,e){return(t[e]<<24|t[e+1]<<16)>>16}function Mt(t,e){return t[e]<<8|t[e+1]}function sn(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function pa(t){return t===32||t===9||t===13||t===10}function Ene(t,e){return Array.isArray(t)&&t.length===e&&t.every(n=>typeof n=="boolean")}function lr(t,e){return Array.isArray(t)?(e===null||t.length===e)&&t.every(n=>typeof n=="number"):ArrayBuffer.isView(t)&&!(t instanceof BigInt64Array||t instanceof BigUint64Array)&&(e===null||t.length===e)}function vu(t,e){return lr(t,6)?t:e}function oA(t,e){return lr(t,4)?t:e}function Tl(t,e){return lr(t,4)?rn.normalizeRect(t):e}function vO(t){const e=/(.+)\[(\d+)\]$/;return t.split(".").map(n=>{const i=n.match(e);return i?{name:i[1],pos:parseInt(i[2],10)}:{name:n,pos:0}})}function Xk(t){const e=[];let n=0;for(let i=0,s=t.length;i<s;i++){const r=t.charCodeAt(i);(r<33||r>126||r===35||r===40||r===41||r===60||r===62||r===91||r===93||r===123||r===125||r===47||r===37)&&(n<i&&e.push(t.substring(n,i)),e.push(`#${r.toString(16)}`),n=i+1)}return e.length===0?t:(n<t.length&&e.push(t.substring(n,t.length)),e.join(""))}function lg(t){return t.replaceAll(/([()\\\n\r])/g,e=>e===`
`?"\\n":e==="\r"?"\\r":`\\${e}`)}function Q5(t,e,n,i){if(!t)return;let s=null;if(t instanceof Be){if(i.has(t))return;s=t,i.put(s),t=e.fetch(t)}if(Array.isArray(t))for(const r of t)Q5(r,e,n,i);else if(t instanceof J){if(ti(t.get("S"),"JavaScript")){const r=t.get("JS");let a;r instanceof _t?a=r.getString():typeof r=="string"&&(a=r),a&&(a=Wt(a).replaceAll("\0","")),a&&n.push(a)}Q5(t.getRaw("Next"),e,n,i)}s&&i.remove(s)}function P6(t,e,n){const i=Object.create(null),s=Ga({dict:e,key:"AA",stopWhenFound:!1});if(s)for(let r=s.length-1;r>=0;r--){const a=s[r];if(a instanceof J)for(const o of a.getKeys()){const l=n[o];if(!l)continue;const c=a.getRaw(o),u=new Bi,d=[];Q5(c,t,d,u),d.length>0&&(i[l]=d)}}if(e.has("A")){const r=e.get("A"),a=new Bi,o=[];Q5(r,t,o,a),o.length>0&&(i.Action=o)}return Wk(i)>0?i:null}const _ne={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function*Tne(t){for(let e=0,n=t.length;e<n;e++){const i=t.codePointAt(e);i>55295&&(i<57344||i>65533)&&e++,yield i}}function D1(t){const e=[];let n=0;for(let i=0,s=t.length;i<s;i++){const r=t.codePointAt(i);if(32<=r&&r<=126){const a=_ne[r];a&&(n<i&&e.push(t.substring(n,i)),e.push(a),n=i+1)}else n<i&&e.push(t.substring(n,i)),e.push(`&#x${r.toString(16).toUpperCase()};`),r>55295&&(r<57344||r>65533)&&i++,n=i+1}return e.length===0?t:(n<t.length&&e.push(t.substring(n,t.length)),e.join(""))}function lA(t,e=!1){const n=/^("|').*("|')$/.exec(t);if(n&&n[1]===n[2]){if(new RegExp(`[^\\\\]${n[1]}`).test(t.slice(1,-1)))return e&&W(`FontFamily contains unescaped ${n[1]}: ${t}.`),!1}else for(const i of t.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(i)||!/^[\w-\\]+$/.test(i))return e&&W(`FontFamily contains invalid <custom-ident>: ${t}.`),!1;return!0}function Ine(t){const e="14",n="400",i=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:s,fontWeight:r,italicAngle:a}=t;if(!lA(s,!0))return!1;const o=r?r.toString():"";t.fontWeight=i.has(o)?o:n;const l=parseFloat(a);return t.italicAngle=isNaN(l)||l<-90||l>90?e:a.toString(),!0}function SO(t){const e=["app.launchURL","window.open","xfa.host.gotoURL"],i=new RegExp("^\\s*("+e.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(t);return i!=null&&i[2]?{url:i[2],newWindow:i[1]==="app.launchURL"&&i[3]==="true"}:null}function Lt(t){if(Number.isInteger(t))return t.toString();const e=Math.round(t*100);return e%100===0?(e/100).toString():e%10===0?t.toFixed(1):t.toFixed(2)}function AO(t){if(!t)return null;const e=new Map;for(const[n,i]of t){if(!n.startsWith(pO))continue;let s=e.get(i.pageIndex);s||(s=[],e.set(i.pageIndex,s)),s.push(i)}return e.size>0?e:null}function Wa(t){return Pne(t)?t:kO(t,!0)}function Pne(t){return/^[\x00-\x7F]*$/.test(t)}function Nne(t){const e=[];for(let n=0,i=t.length;n<i;n++){const s=t.charCodeAt(n);e.push(F1[s>>8&255],F1[s&255])}return e.join("")}function kO(t,e=!1){const n=[];e&&n.push("þÿ");for(let i=0,s=t.length;i<s;i++){const r=t.charCodeAt(i);n.push(String.fromCharCode(r>>8&255),String.fromCharCode(r&255))}return n.join("")}function e8(t,e,n){switch(t){case 90:return[0,1,-1,0,e,0];case 180:return[-1,0,0,-1,e,n];case 270:return[0,-1,1,0,0,n];default:throw new Error("Invalid rotation")}}function GP(t){return Math.ceil(Math.ceil(Math.log2(1+t))/8)}class la{}qe(la,"_module",null),qe(la,"_mustAddAlpha",!1),qe(la,"_destBuffer",null);function Rne(t,e){const{_module:n,_mustAddAlpha:i,_destBuffer:s}=la,r=new Uint8Array(n.memory.buffer,t,e);if(r.length===s.length){s.set(r);return}if(i)for(let a=0,o=0,l=r.length;a<l;a+=3,o+=4)s[o]=r[a],s[o+1]=r[a+1],s[o+2]=r[a+2],s[o+3]=255;else for(let a=0,o=0,l=r.length;a<l;a+=3,o+=4)s[o]=r[a],s[o+1]=r[a+1],s[o+2]=r[a+2]}function Fne(t){la._destBuffer.set(new Uint8Array(la._module.memory.buffer,t,3))}let cr;const CO=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&CO.decode();let nx=null;function EO(){return(nx===null||nx.byteLength===0)&&(nx=new Uint8Array(cr.memory.buffer)),nx}function Mne(t,e){return t=t>>>0,CO.decode(EO().subarray(t,t+e))}let Kk=0;function _O(t,e){const n=e(t.length*1,1)>>>0;return EO().set(t,n/1),Kk=t.length,n}function Dne(t,e){const n=_O(e,cr.__wbindgen_malloc),i=Kk;cr.qcms_convert_array(t,n,i)}function Lne(t,e){cr.qcms_convert_one(t,e)}function One(t,e,n,i){cr.qcms_convert_three(t,e,n,i)}function Bne(t,e,n,i,s){cr.qcms_convert_four(t,e,n,i,s)}function jne(t,e,n){const i=_O(t,cr.__wbindgen_malloc),s=Kk;return cr.qcms_transformer_from_memory(i,s,e,n)>>>0}function $ne(t){cr.qcms_drop_transformer(t)}const Tw=Object.freeze({RGB8:0,0:"RGB8",RGBA8:1,1:"RGBA8",BGRA8:2,2:"BGRA8",Gray8:3,3:"Gray8",GrayA8:4,4:"GrayA8",CMYK:5,5:"CMYK"}),Une=Object.freeze({Perceptual:0,0:"Perceptual",RelativeColorimetric:1,1:"RelativeColorimetric",Saturation:2,2:"Saturation",AbsoluteColorimetric:3,3:"AbsoluteColorimetric"});function zne(){const t={};return t.wbg={},t.wbg.__wbg_copyresult_b08ee7d273f295dd=function(e,n){Rne(e>>>0,n>>>0)},t.wbg.__wbg_copyrgb_d60ce17bb05d9b67=function(e){Fne(e>>>0)},t.wbg.__wbindgen_init_externref_table=function(){const e=cr.__wbindgen_export_0,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(Mne(e,n))},t}function Hne(t,e){return cr=t.exports,nx=null,cr.__wbindgen_start(),cr}function qne(t){if(cr!==void 0)return cr;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module:t}=t:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const e=zne();t instanceof WebAssembly.Module||(t=new WebAssembly.Module(t));const n=new WebAssembly.Instance(t,e);return Hne(n)}function Gne(t,e,n,i,s,r,a){a=a!==1?0:a;const l=n/s,c=i/r;let u=0,d;const p=new Uint16Array(s),g=n*3;for(let m=0;m<s;m++)p[m]=Math.floor(m*l)*3;for(let m=0;m<r;m++){const b=Math.floor(m*c)*g;for(let v=0;v<s;v++)d=b+p[v],e[u++]=t[d++],e[u++]=t[d++],e[u++]=t[d++],u+=a}}function Wne(t,e,n,i,s,r,a){const o=n/s,l=i/r;let c=0;const u=new Uint16Array(s);if(a===1){for(let m=0;m<s;m++)u[m]=Math.floor(m*o);const d=new Uint32Array(t.buffer),p=new Uint32Array(e.buffer),g=Lr.isLittleEndian?16777215:4294967040;for(let m=0;m<r;m++){const b=d.subarray(Math.floor(m*l)*n);for(let v=0;v<s;v++)p[c++]|=b[u[v]]&g}}else{const p=n*4;for(let g=0;g<s;g++)u[g]=Math.floor(g*o)*4;for(let g=0;g<r;g++){const m=t.subarray(Math.floor(g*l)*p);for(let b=0;b<s;b++){const v=u[b];e[c++]=m[v],e[c++]=m[v+1],e[c++]=m[v+2]}}}}function Vne(t,e,n){if(n===1){const i=new Uint32Array(t.buffer),s=new Uint32Array(e.buffer),r=Lr.isLittleEndian?16777215:4294967040;for(let a=0,o=i.length;a<o;a++)s[a]|=i[a]&r}else{let i=0;for(let s=0,r=t.length;s<r;s+=4)e[i++]=t[s],e[i++]=t[s+1],e[i++]=t[s+2]}}class Ss{constructor(e,n){this.name=e,this.numComps=n}getRgb(e,n){const i=new Uint8ClampedArray(3);return this.getRgbItem(e,n,i,0),i}getRgbItem(e,n,i,s){Ot("Should not call ColorSpace.getRgbItem")}getRgbBuffer(e,n,i,s,r,a,o){Ot("Should not call ColorSpace.getRgbBuffer")}getOutputLength(e,n){Ot("Should not call ColorSpace.getOutputLength")}isPassthrough(e){return!1}isDefaultDecode(e,n){return Ss.isDefaultDecode(e,this.numComps)}fillRgb(e,n,i,s,r,a,o,l,c){const u=n*i;let d=null;const p=1<<o,g=i!==r||n!==s;if(this.isPassthrough(o))d=l;else if(this.numComps===1&&u>p&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const m=o<=8?new Uint8Array(p):new Uint16Array(p);for(let v=0;v<p;v++)m[v]=v;const b=new Uint8ClampedArray(p*3);if(this.getRgbBuffer(m,0,p,b,0,o,0),g){d=new Uint8Array(u*3);let v=0;for(let S=0;S<u;++S){const C=l[S]*3;d[v++]=b[C],d[v++]=b[C+1],d[v++]=b[C+2]}}else{let v=0;for(let S=0;S<u;++S){const C=l[S]*3;e[v++]=b[C],e[v++]=b[C+1],e[v++]=b[C+2],v+=c}}}else g?(d=new Uint8ClampedArray(u*3),this.getRgbBuffer(l,0,u,d,0,o,0)):this.getRgbBuffer(l,0,s*a,e,0,o,c);if(d)if(g)Gne(d,e,n,i,s,r,c);else{let m=0,b=0;for(let v=0,S=s*a;v<S;v++)e[m++]=d[b++],e[m++]=d[b++],e[m++]=d[b++],m+=c}}get usesZeroToOneRange(){return Fe(this,"usesZeroToOneRange",!0)}static isDefaultDecode(e,n){if(!Array.isArray(e))return!0;if(n*2!==e.length)return W("The decode map is not the correct length"),!0;for(let i=0,s=e.length;i<s;i+=2)if(e[i]!==0||e[i+1]!==1)return!1;return!0}}class Xne extends Ss{constructor(e,n,i){super("Alternate",e),this.base=n,this.tintFn=i,this.tmpBuf=new Float32Array(n.numComps)}getRgbItem(e,n,i,s){const r=this.tmpBuf;this.tintFn(e,n,r,0),this.base.getRgbItem(r,0,i,s)}getRgbBuffer(e,n,i,s,r,a,o){const l=this.tintFn,c=this.base,u=1/((1<<a)-1),d=c.numComps,p=c.usesZeroToOneRange,g=(c.isPassthrough(8)||!p)&&o===0;let m=g?r:0;const b=g?s:new Uint8ClampedArray(d*i),v=this.numComps,S=new Float32Array(v),C=new Float32Array(d);let E,w;for(E=0;E<i;E++){for(w=0;w<v;w++)S[w]=e[n++]*u;if(l(S,0,C,0),p)for(w=0;w<d;w++)b[m++]=C[w]*255;else c.getRgbItem(C,0,b,m),m+=d}g||c.getRgbBuffer(b,0,i,s,r,8,o)}getOutputLength(e,n){return this.base.getOutputLength(e*this.base.numComps/this.numComps,n)}}class WP extends Ss{constructor(e){super("Pattern",null),this.base=e}isDefaultDecode(e,n){Ot("Should not call PatternCS.isDefaultDecode")}}class Kne extends Ss{constructor(e,n,i){super("Indexed",1),this.base=e;const s=e.numComps*(n+1);if(this.lookup=new Uint8Array(s),i instanceof _t){const r=i.getBytes(s);this.lookup.set(r)}else if(typeof i=="string")for(let r=0;r<s;++r)this.lookup[r]=i.charCodeAt(r)&255;else throw new me(`IndexedCS - unrecognized lookup table: ${i}`)}getRgbItem(e,n,i,s){const r=this.base.numComps,a=e[n]*r;this.base.getRgbBuffer(this.lookup,a,1,i,s,8,0)}getRgbBuffer(e,n,i,s,r,a,o){const l=this.base,c=l.numComps,u=l.getOutputLength(c,o),d=this.lookup;for(let p=0;p<i;++p){const g=e[n++]*c;l.getRgbBuffer(d,g,1,s,r,8,o),r+=u}}getOutputLength(e,n){return this.base.getOutputLength(e*this.base.numComps,n)}isDefaultDecode(e,n){return Array.isArray(e)?e.length!==2?(W("Decode map length is not correct"),!0):!Number.isInteger(n)||n<1?(W("Bits per component is not correct"),!0):e[0]===0&&e[1]===(1<<n)-1:!0}}class Yne extends Ss{constructor(){super("DeviceGray",1)}getRgbItem(e,n,i,s){const r=e[n]*255;i[s]=i[s+1]=i[s+2]=r}getRgbBuffer(e,n,i,s,r,a,o){const l=255/((1<<a)-1);let c=n,u=r;for(let d=0;d<i;++d){const p=l*e[c++];s[u++]=p,s[u++]=p,s[u++]=p,u+=o}}getOutputLength(e,n){return e*(3+n)}}class Zne extends Ss{constructor(){super("DeviceRGB",3)}getRgbItem(e,n,i,s){i[s]=e[n]*255,i[s+1]=e[n+1]*255,i[s+2]=e[n+2]*255}getRgbBuffer(e,n,i,s,r,a,o){if(a===8&&o===0){s.set(e.subarray(n,n+i*3),r);return}const l=255/((1<<a)-1);let c=n,u=r;for(let d=0;d<i;++d)s[u++]=l*e[c++],s[u++]=l*e[c++],s[u++]=l*e[c++],u+=o}getOutputLength(e,n){return e*(3+n)/3|0}isPassthrough(e){return e===8}}class Jne extends Ss{constructor(){super("DeviceRGBA",4)}getOutputLength(e,n){return e*4}isPassthrough(e){return e===8}fillRgb(e,n,i,s,r,a,o,l,c){i!==r||n!==s?Wne(l,e,n,i,s,r,c):Vne(l,e,c)}}var E9,cA;class TO extends Ss{constructor(){super("DeviceCMYK",4);L(this,E9)}getRgbItem(n,i,s,r){M(this,E9,cA).call(this,n,i,1,s,r)}getRgbBuffer(n,i,s,r,a,o,l){const c=1/((1<<o)-1);for(let u=0;u<s;u++)M(this,E9,cA).call(this,n,i,c,r,a),i+=4,a+=3+l}getOutputLength(n,i){return n/4*(3+i)|0}}E9=new WeakSet,cA=function(n,i,s,r,a){const o=n[i]*s,l=n[i+1]*s,c=n[i+2]*s,u=n[i+3]*s;r[a]=255+o*(-4.387332384609988*o+54.48615194189176*l+18.82290502165302*c+212.25662451639585*u+-285.2331026137004)+l*(1.7149763477362134*l-5.6096736904047315*c+-17.873870861415444*u-5.497006427196366)+c*(-2.5217340131683033*c-21.248923337353073*u+17.5119270841813)+u*(-21.86122147463605*u-189.48180835922747),r[a+1]=255+o*(8.841041422036149*o+60.118027045597366*l+6.871425592049007*c+31.159100130055922*u+-79.2970844816548)+l*(-15.310361306967817*l+17.575251261109482*c+131.35250912493976*u-190.9453302588951)+c*(4.444339102852739*c+9.8632861493405*u-24.86741582555878)+u*(-20.737325471181034*u-187.80453709719578),r[a+2]=255+o*(.8842522430003296*o+8.078677503112928*l+30.89978309703729*c-.23883238689178934*u+-14.183576799673286)+l*(10.49593273432072*l+63.02378494754052*c+50.606957656360734*u-112.23884253719248)+c*(.03296041114873217*c+115.60384449646641*u+-193.58209356861505)+u*(-22.33816807309886*u-180.12613974708367)};var _9,uA;class Qne extends Ss{constructor(n,i,s){super("CalGray",1);L(this,_9);if(!n)throw new me("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=n,[this.XB,this.YB,this.ZB]=i||[0,0,0],this.G=s||1,this.XW<0||this.ZW<0||this.YW!==1)throw new me(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&(Pt(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&W(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&(Pt(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(n,i,s,r){M(this,_9,uA).call(this,n,i,s,r,1)}getRgbBuffer(n,i,s,r,a,o,l){const c=1/((1<<o)-1);for(let u=0;u<s;++u)M(this,_9,uA).call(this,n,i,r,a,c),i+=1,a+=3+l}getOutputLength(n,i){return n*(3+i)}}_9=new WeakSet,uA=function(n,i,s,r,a){const l=(n[i]*a)**this.G,c=this.YW*l,u=Math.max(295.8*c**.3333333333333333-40.8,0);s[r]=u,s[r+1]=u,s[r+2]=u};var T9,I9,O8,B8,P9,Wp,N9,j8,pn,g1,IO,PO,h5,m1,NO,RO,FO,dA;const jn=class jn extends Ss{constructor(n,i,s,r){super("CalRGB",3);L(this,pn);if(!n)throw new me("WhitePoint missing - required for color space CalRGB");const[a,o,l]=this.whitePoint=n,[c,u,d]=this.blackPoint=i||new Float32Array(3);if([this.GR,this.GG,this.GB]=s||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=r||new Float32Array([1,0,0,0,1,0,0,0,1]),a<0||l<0||o!==1)throw new me(`Invalid WhitePoint components for ${this.name}, no fallback available`);(c<0||u<0||d<0)&&(Pt(`Invalid BlackPoint for ${this.name} [${c}, ${u}, ${d}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&(Pt(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(n,i,s,r){M(this,pn,dA).call(this,n,i,s,r,1)}getRgbBuffer(n,i,s,r,a,o,l){const c=1/((1<<o)-1);for(let u=0;u<s;++u)M(this,pn,dA).call(this,n,i,r,a,c),i+=3,a+=3+l}getOutputLength(n,i){return n*(3+i)/3|0}};T9=new WeakMap,I9=new WeakMap,O8=new WeakMap,B8=new WeakMap,P9=new WeakMap,Wp=new WeakMap,N9=new WeakMap,j8=new WeakMap,pn=new WeakSet,g1=function(n,i,s){s[0]=n[0]*i[0]+n[1]*i[1]+n[2]*i[2],s[1]=n[3]*i[0]+n[4]*i[1]+n[5]*i[2],s[2]=n[6]*i[0]+n[7]*i[1]+n[8]*i[2]},IO=function(n,i,s){s[0]=i[0]*1/n[0],s[1]=i[1]*1/n[1],s[2]=i[2]*1/n[2]},PO=function(n,i,s){s[0]=i[0]*.95047/n[0],s[1]=i[1]*1/n[1],s[2]=i[2]*1.08883/n[2]},h5=function(n){return n<=.0031308?js(12.92*n,0,1):n>=.99554525?1:js((1+.055)*n**(1/2.4)-.055,0,1)},m1=function(n){return n<0?-M(this,pn,m1).call(this,-n):n>8?((n+16)/116)**3:n*x(jn,j8)},NO=function(n,i,s){if(n[0]===0&&n[1]===0&&n[2]===0){s[0]=i[0],s[1]=i[1],s[2]=i[2];return}const r=M(this,pn,m1).call(this,0),a=r,o=M(this,pn,m1).call(this,n[0]),l=r,c=M(this,pn,m1).call(this,n[1]),u=r,d=M(this,pn,m1).call(this,n[2]),p=(1-a)/(1-o),g=1-p,m=(1-l)/(1-c),b=1-m,v=(1-u)/(1-d),S=1-v;s[0]=i[0]*p+g,s[1]=i[1]*m+b,s[2]=i[2]*v+S},RO=function(n,i,s){if(n[0]===1&&n[2]===1){s[0]=i[0],s[1]=i[1],s[2]=i[2];return}const r=s;M(this,pn,g1).call(this,x(jn,T9),i,r);const a=x(jn,P9);M(this,pn,IO).call(this,n,r,a),M(this,pn,g1).call(this,x(jn,I9),a,s)},FO=function(n,i,s){const r=s;M(this,pn,g1).call(this,x(jn,T9),i,r);const a=x(jn,P9);M(this,pn,PO).call(this,n,r,a),M(this,pn,g1).call(this,x(jn,I9),a,s)},dA=function(n,i,s,r,a){const o=js(n[i]*a,0,1),l=js(n[i+1]*a,0,1),c=js(n[i+2]*a,0,1),u=o===1?1:o**this.GR,d=l===1?1:l**this.GG,p=c===1?1:c**this.GB,g=this.MXA*u+this.MXB*d+this.MXC*p,m=this.MYA*u+this.MYB*d+this.MYC*p,b=this.MZA*u+this.MZB*d+this.MZC*p,v=x(jn,Wp);v[0]=g,v[1]=m,v[2]=b;const S=x(jn,N9);M(this,pn,RO).call(this,this.whitePoint,v,S);const C=x(jn,Wp);M(this,pn,NO).call(this,this.blackPoint,S,C);const E=x(jn,N9);M(this,pn,FO).call(this,x(jn,B8),C,E);const w=x(jn,Wp);M(this,pn,g1).call(this,x(jn,O8),E,w),s[r]=M(this,pn,h5).call(this,w[0])*255,s[r+1]=M(this,pn,h5).call(this,w[1])*255,s[r+2]=M(this,pn,h5).call(this,w[2])*255},L(jn,T9,new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296])),L(jn,I9,new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867])),L(jn,O8,new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252])),L(jn,B8,new Float32Array([1,1,1])),L(jn,P9,new Float32Array(3)),L(jn,Wp,new Float32Array(3)),L(jn,N9,new Float32Array(3)),L(jn,j8,(24/116)**3/8);let hA=jn;var ma,d5,f5,fA;class eie extends Ss{constructor(n,i,s){super("Lab",3);L(this,ma);if(!n)throw new me("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=n,[this.amin,this.amax,this.bmin,this.bmax]=s||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=i||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new me("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&(Pt("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&(Pt("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(n,i,s,r){M(this,ma,fA).call(this,n,i,!1,s,r)}getRgbBuffer(n,i,s,r,a,o,l){const c=(1<<o)-1;for(let u=0;u<s;u++)M(this,ma,fA).call(this,n,i,c,r,a),i+=3,a+=3+l}getOutputLength(n,i){return n*(3+i)/3|0}isDefaultDecode(n,i){return!0}get usesZeroToOneRange(){return Fe(this,"usesZeroToOneRange",!1)}}ma=new WeakSet,d5=function(n){return n>=6/29?n**3:108/841*(n-4/29)},f5=function(n,i,s,r){return s+n*(r-s)/i},fA=function(n,i,s,r,a){let o=n[i],l=n[i+1],c=n[i+2];s!==!1&&(o=M(this,ma,f5).call(this,o,s,0,100),l=M(this,ma,f5).call(this,l,s,this.amin,this.amax),c=M(this,ma,f5).call(this,c,s,this.bmin,this.bmax)),l>this.amax?l=this.amax:l<this.amin&&(l=this.amin),c>this.bmax?c=this.bmax:c<this.bmin&&(c=this.bmin);const u=(o+16)/116,d=u+l/500,p=u-c/200,g=this.XW*M(this,ma,d5).call(this,d),m=this.YW*M(this,ma,d5).call(this,u),b=this.ZW*M(this,ma,d5).call(this,p);let v,S,C;this.ZW<1?(v=g*3.1339+m*-1.617+b*-.4906,S=g*-.9785+m*1.916+b*.0333,C=g*.072+m*-.229+b*1.4057):(v=g*3.2406+m*-1.5372+b*-.4986,S=g*-.9689+m*1.8758+b*.0415,C=g*.0557+m*-.204+b*1.057),r[a]=Math.sqrt(v)*255,r[a+1]=Math.sqrt(S)*255,r[a+2]=Math.sqrt(C)*255};function MO(t){const e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),e.response}var wl,Hd,Vp,Xp,$8;const Rh=class Rh extends Ss{constructor(n,i,s){if(!Rh.isUsable)throw new Error("No ICC color space support");super(i,s);L(this,wl);L(this,Hd);let r;switch(s){case 1:r=Tw.Gray8,F(this,Hd,(a,o)=>Lne(x(this,wl),a[o]*255));break;case 3:r=Tw.RGB8,F(this,Hd,(a,o)=>One(x(this,wl),a[o]*255,a[o+1]*255,a[o+2]*255));break;case 4:r=Tw.CMYK,F(this,Hd,(a,o)=>Bne(x(this,wl),a[o]*255,a[o+1]*255,a[o+2]*255,a[o+3]*255));break;default:throw new Error(`Unsupported number of components: ${s}`)}if(F(this,wl,jne(n,r,Une.Perceptual)),!x(this,wl))throw new Error("Failed to create ICC color space");x(Rh,$8).register(this,x(this,wl))}getRgbItem(n,i,s,r){la._destBuffer=s.subarray(r,r+3),x(this,Hd).call(this,n,i),la._destBuffer=null}getRgbBuffer(n,i,s,r,a,o,l){if(n=n.subarray(i,i+s*this.numComps),o!==8){const c=255/((1<<o)-1);for(let u=0,d=n.length;u<d;u++)n[u]*=c}la._mustAddAlpha=l&&r.buffer===n.buffer,la._destBuffer=r.subarray(a,a+s*(3+l)),Dne(x(this,wl),n),la._mustAddAlpha=!1,la._destBuffer=null}getOutputLength(n,i){return n/this.numComps*(3+i)|0}static setOptions({useWasm:n,useWorkerFetch:i,wasmUrl:s}){if(!i){F(this,Vp,!1);return}F(this,Vp,n),F(this,Xp,s)}static get isUsable(){let n=!1;if(x(this,Vp))if(x(this,Xp))try{this._module=la._module=qne({module:MO(`${x(this,Xp)}qcms_bg.wasm`)}),n=!!this._module}catch(i){W(`ICCBased color space: "${i}".`)}else W("No ICC color space support due to missing `wasmUrl` API option");return Fe(this,"isUsable",n)}};wl=new WeakMap,Hd=new WeakMap,Vp=new WeakMap,Xp=new WeakMap,$8=new WeakMap,L(Rh,Vp,!0),L(Rh,Xp,null),L(Rh,$8,new FinalizationRegistry(n=>{$ne(n)}));let df=Rh;var Kp;const U8=class U8 extends df{constructor(){const e=new Uint8Array(MO(`${x(U8,Kp)}CGATS001Compat-v2-micro.icc`));super(e,"DeviceCMYK",4)}static setOptions({iccUrl:e}){F(this,Kp,e)}static get isUsable(){let e=!1;return df.isUsable&&(x(this,Kp)?e=!0:W("No CMYK ICC profile support due to missing `iccUrl` API option")),Fe(this,"isUsable",e)}};Kp=new WeakMap,L(U8,Kp);let zx=U8;class Vn extends _t{constructor(e,n,i,s){super(),this.bytes=e instanceof Uint8Array?e:new Uint8Array(e),this.start=n||0,this.pos=this.start,this.end=n+i||this.bytes.length,this.dict=s}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(e){const n=this.bytes,i=this.pos,s=this.end;if(!e)return n.subarray(i,s);let r=i+e;return r>s&&(r=s),this.pos=r,n.subarray(i,r)}getByteRange(e,n){return e<0&&(e=0),n>this.end&&(n=this.end),this.bytes.subarray(e,n)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(e,n,i=null){return new Vn(this.bytes.buffer,e,n,i)}}class hr extends Vn{constructor(e){super(xs(e))}}class pA extends Vn{constructor(){super(new Uint8Array(0))}}class tie extends Vn{constructor(e,n,i){super(new Uint8Array(e),0,e,null),this.chunkSize=n,this._loadedChunks=new Set,this.numChunks=Math.ceil(e/n),this.manager=i,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const e=[];for(let n=0,i=this.numChunks;n<i;++n)this._loadedChunks.has(n)||e.push(n);return e}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(e,n){const i=this.chunkSize;if(e%i!==0)throw new Error(`Bad begin offset: ${e}`);const s=e+n.byteLength;if(s%i!==0&&s!==this.bytes.length)throw new Error(`Bad end offset: ${s}`);this.bytes.set(new Uint8Array(n),e);const r=Math.floor(e/i),a=Math.floor((s-1)/i)+1;for(let o=r;o<a;++o)this._loadedChunks.add(o)}onReceiveProgressiveData(e){let n=this.progressiveDataLength;const i=Math.floor(n/this.chunkSize);this.bytes.set(new Uint8Array(e),n),n+=e.byteLength,this.progressiveDataLength=n;const s=n>=this.end?this.numChunks:Math.floor(n/this.chunkSize);for(let r=i;r<s;++r)this._loadedChunks.add(r)}ensureByte(e){if(e<this.progressiveDataLength)return;const n=Math.floor(e/this.chunkSize);if(!(n>this.numChunks)&&n!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(n))throw new En(e,e+1);this.lastSuccessfulEnsureByteChunk=n}}ensureRange(e,n){if(e>=n||n<=this.progressiveDataLength)return;const i=Math.floor(e/this.chunkSize);if(i>this.numChunks)return;const s=Math.min(Math.floor((n-1)/this.chunkSize)+1,this.numChunks);for(let r=i;r<s;++r)if(!this._loadedChunks.has(r))throw new En(e,n)}nextEmptyChunk(e){const n=this.numChunks;for(let i=0;i<n;++i){const s=(e+i)%n;if(!this._loadedChunks.has(s))return s}return null}hasChunk(e){return this._loadedChunks.has(e)}getByte(){const e=this.pos;return e>=this.end?-1:(e>=this.progressiveDataLength&&this.ensureByte(e),this.bytes[this.pos++])}getBytes(e){const n=this.bytes,i=this.pos,s=this.end;if(!e)return s>this.progressiveDataLength&&this.ensureRange(i,s),n.subarray(i,s);let r=i+e;return r>s&&(r=s),r>this.progressiveDataLength&&this.ensureRange(i,r),this.pos=r,n.subarray(i,r)}getByteRange(e,n){return e<0&&(e=0),n>this.end&&(n=this.end),n>this.progressiveDataLength&&this.ensureRange(e,n),this.bytes.subarray(e,n)}makeSubStream(e,n,i=null){n?e+n>this.progressiveDataLength&&this.ensureRange(e,e+n):e>=this.progressiveDataLength&&this.ensureByte(e);function s(){}s.prototype=Object.create(this),s.prototype.getMissingChunks=function(){const a=this.chunkSize,o=Math.floor(this.start/a),l=Math.floor((this.end-1)/a)+1,c=[];for(let u=o;u<l;++u)this._loadedChunks.has(u)||c.push(u);return c},Object.defineProperty(s.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const r=new s;return r.pos=r.start=e,r.end=e+n||this.end,r.dict=i,r}getBaseStreams(){return[this]}}class nie{constructor(e,n){this.length=n.length,this.chunkSize=n.rangeChunkSize,this.stream=new tie(this.length,this.chunkSize,this),this.pdfNetworkStream=e,this.disableAutoFetch=n.disableAutoFetch,this.msgHandler=n.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=Promise.withResolvers()}sendRequest(e,n){const i=this.pdfNetworkStream.getRangeReader(e,n);i.isStreamingSupported||(i.onProgress=this.onProgress.bind(this));let s=[],r=0;return new Promise((a,o)=>{const l=({value:c,done:u})=>{try{if(u){const d=wO(s);s=null,a(d);return}r+=c.byteLength,i.isStreamingSupported&&this.onProgress({loaded:r}),s.push(c),i.read().then(l,o)}catch(d){o(d)}};i.read().then(l,o)}).then(a=>{this.aborted||this.onReceiveData({chunk:a,begin:e})})}requestAllChunks(e=!1){if(!e){const n=this.stream.getMissingChunks();this._requestChunks(n)}return this._loadedStreamCapability.promise}_requestChunks(e){const n=this.currRequestId++,i=new Set;this._chunksNeededByRequest.set(n,i);for(const a of e)this.stream.hasChunk(a)||i.add(a);if(i.size===0)return Promise.resolve();const s=Promise.withResolvers();this._promisesByRequest.set(n,s);const r=[];for(const a of i){let o=this._requestsByChunk.get(a);o||(o=[],this._requestsByChunk.set(a,o),r.push(a)),o.push(n)}if(r.length>0){const a=this.groupChunks(r);for(const o of a){const l=o.beginChunk*this.chunkSize,c=Math.min(o.endChunk*this.chunkSize,this.length);this.sendRequest(l,c).catch(s.reject)}}return s.promise.catch(a=>{if(!this.aborted)throw a})}getStream(){return this.stream}requestRange(e,n){n=Math.min(n,this.length);const i=this.getBeginChunk(e),s=this.getEndChunk(n),r=[];for(let a=i;a<s;++a)r.push(a);return this._requestChunks(r)}requestRanges(e=[]){const n=[];for(const i of e){const s=this.getBeginChunk(i.begin),r=this.getEndChunk(i.end);for(let a=s;a<r;++a)n.includes(a)||n.push(a)}return n.sort((i,s)=>i-s),this._requestChunks(n)}groupChunks(e){const n=[];let i=-1,s=-1;for(let r=0,a=e.length;r<a;++r){const o=e[r];i<0&&(i=o),s>=0&&s+1!==o&&(n.push({beginChunk:i,endChunk:s+1}),i=o),r+1===e.length&&n.push({beginChunk:i,endChunk:o+1}),s=o}return n}onProgress(e){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+e.loaded,total:this.length})}onReceiveData(e){const n=e.chunk,i=e.begin===void 0,s=i?this.progressiveDataLength:e.begin,r=s+n.byteLength,a=Math.floor(s/this.chunkSize),o=r<this.length?Math.floor(r/this.chunkSize):Math.ceil(r/this.chunkSize);i?(this.stream.onReceiveProgressiveData(n),this.progressiveDataLength=r):this.stream.onReceiveData(s,n),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const l=[];for(let c=a;c<o;++c){const u=this._requestsByChunk.get(c);if(u){this._requestsByChunk.delete(c);for(const d of u){const p=this._chunksNeededByRequest.get(d);p.has(c)&&p.delete(c),!(p.size>0)&&l.push(d)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let c;if(this.stream.numChunksLoaded===1){const u=this.stream.numChunks-1;this.stream.hasChunk(u)||(c=u)}else c=this.stream.nextEmptyChunk(o);Number.isInteger(c)&&this._requestChunks([c])}for(const c of l){const u=this._promisesByRequest.get(c);this._promisesByRequest.delete(c),u.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(e){this._loadedStreamCapability.reject(e)}getBeginChunk(e){return Math.floor(e/this.chunkSize)}getEndChunk(e){return Math.floor((e-1)/this.chunkSize)+1}abort(e){var n;this.aborted=!0,(n=this.pdfNetworkStream)==null||n.cancelAllRequests(e);for(const i of this._promisesByRequest.values())i.reject(e)}}function DO(t){switch(t.kind){case Yi.GRAYSCALE_1BPP:return gA(t);case Yi.RGB_24BPP:return iie(t)}return null}function gA({src:t,srcPos:e=0,dest:n,width:i,height:s,nonBlackColor:r=4294967295,inverseDecode:a=!1}){const o=Lr.isLittleEndian?4278190080:255,[l,c]=a?[r,o]:[o,r],u=i>>3,d=i&7,p=t.length;n=new Uint32Array(n.buffer);let g=0;for(let m=0;m<s;m++){for(const v=e+u;e<v;e++){const S=e<p?t[e]:255;n[g++]=S&128?c:l,n[g++]=S&64?c:l,n[g++]=S&32?c:l,n[g++]=S&16?c:l,n[g++]=S&8?c:l,n[g++]=S&4?c:l,n[g++]=S&2?c:l,n[g++]=S&1?c:l}if(d===0)continue;const b=e<p?t[e++]:255;for(let v=0;v<d;v++)n[g++]=b&1<<7-v?c:l}return{srcPos:e,destPos:g}}function iie({src:t,srcPos:e=0,dest:n,destPos:i=0,width:s,height:r}){let a=0;const o=s*r*3,l=o>>2,c=new Uint32Array(t.buffer,e,l);if(Lr.isLittleEndian){for(;a<l-2;a+=3,i+=4){const u=c[a],d=c[a+1],p=c[a+2];n[i]=u|4278190080,n[i+1]=u>>>24|d<<8|4278190080,n[i+2]=d>>>16|p<<16|4278190080,n[i+3]=p>>>8|4278190080}for(let u=a*4,d=e+o;u<d;u+=3)n[i++]=t[u]|t[u+1]<<8|t[u+2]<<16|4278190080}else{for(;a<l-2;a+=3,i+=4){const u=c[a],d=c[a+1],p=c[a+2];n[i]=u|255,n[i+1]=u<<24|d>>>8|255,n[i+2]=d<<16|p>>>16|255,n[i+3]=p<<8|255}for(let u=a*4,d=e+o;u<d;u+=3)n[i++]=t[u]<<24|t[u+1]<<16|t[u+2]<<8|255}return{srcPos:e+o,destPos:i}}function sie(t,e){if(Lr.isLittleEndian)for(let n=0,i=t.length;n<i;n++)e[n]=t[n]*65793|4278190080;else for(let n=0,i=t.length;n<i;n++)e[n]=t[n]*16843008|255}const VP=2048,rie=65537,XP=128;var ja,R9,z8,LO;const I0=class I0{constructor(e,n){L(this,z8);this._imgData=e,this._isMask=n}static get canUseImageDecoder(){return Fe(this,"canUseImageDecoder",x(this,R9)?ImageDecoder.isTypeSupported("image/bmp"):Promise.resolve(!1))}static needsToBeResized(e,n){if(e<=x(this,ja)&&n<=x(this,ja))return!1;const{MAX_DIM:i}=this;if(e>i||n>i)return!0;const s=e*n;if(this._hasMaxArea)return s>this.MAX_AREA;if(s<x(this,ja)**2)return!1;if(this._areGoodDims(e,n))return F(this,ja,Math.max(x(this,ja),Math.floor(Math.sqrt(e*n)))),!1;F(this,ja,this._guessMax(x(this,ja),i,XP,0));const r=this.MAX_AREA=x(this,ja)**2;return s>r}static get MAX_DIM(){return Fe(this,"MAX_DIM",this._guessMax(VP,rie,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,Fe(this,"MAX_AREA",this._guessMax(x(this,ja),this.MAX_DIM,XP,0)**2)}static set MAX_AREA(e){e>=0&&(this._hasMaxArea=!0,Fe(this,"MAX_AREA",e))}static setOptions({canvasMaxAreaInBytes:e=-1,isImageDecoderSupported:n=!1}){this._hasMaxArea||(this.MAX_AREA=e>>2),F(this,R9,n)}static _areGoodDims(e,n){try{const i=new OffscreenCanvas(e,n),s=i.getContext("2d");s.fillRect(0,0,1,1);const r=s.getImageData(0,0,1,1).data[3];return i.width=i.height=1,r!==0}catch{return!1}}static _guessMax(e,n,i,s){for(;e+i+1<n;){const r=Math.floor((e+n)/2),a=s||r;this._areGoodDims(r,a)?e=r:n=r}return e}static async createImage(e,n=!1){return new I0(e,n)._createImage()}async _createImage(){const{_imgData:e}=this,{width:n,height:i}=e;if(n*i*4>sA){const C=M(this,z8,LO).call(this);if(C)return C}const s=this._encodeBMP();let r,a;await I0.canUseImageDecoder?(r=new ImageDecoder({data:s,type:"image/bmp",preferAnimation:!1,transfer:[s.buffer]}),a=r.decode().catch(C=>(W(`BMP image decoding failed: ${C}`),createImageBitmap(new Blob([this._encodeBMP().buffer],{type:"image/bmp"})))).finally(()=>{r.close()})):a=createImageBitmap(new Blob([s.buffer],{type:"image/bmp"}));const{MAX_AREA:o,MAX_DIM:l}=I0,c=Math.max(n/l,i/l,Math.sqrt(n*i/o)),u=Math.max(c,2),d=Math.round(10*(c+1.25))/10/u,p=Math.floor(Math.log2(d)),g=new Array(p+2).fill(2);g[0]=u,g.splice(-1,1,d/(1<<p));let m=n,b=i;const v=await a;let S=v.image||v;for(const C of g){const E=m,w=b;m=Math.floor(m/C)-1,b=Math.floor(b/C)-1;const A=new OffscreenCanvas(m,b);A.getContext("2d").drawImage(S,0,0,E,w,0,0,m,b),S.close(),S=A.transferToImageBitmap()}return e.data=null,e.bitmap=S,e.width=m,e.height=b,e}_encodeBMP(){const{width:e,height:n,kind:i}=this._imgData;let s=this._imgData.data,r,a=new Uint8Array(0),o=a,l=0;switch(i){case Yi.GRAYSCALE_1BPP:{r=1,a=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const b=e+7>>3,v=b+3&-4;if(b!==v){const S=new Uint8Array(v*n);let C=0;for(let E=0,w=n*b;E<w;E+=b,C+=v)S.set(s.subarray(E,E+b),C);s=S}break}case Yi.RGB_24BPP:{if(r=24,e&3){const b=3*e,v=b+3&-4,S=v-b,C=new Uint8Array(v*n);let E=0;for(let w=0,A=n*b;w<A;w+=b){const T=s.subarray(w,w+b);for(let P=0;P<b;P+=3)C[E++]=T[P+2],C[E++]=T[P+1],C[E++]=T[P];E+=S}s=C}else for(let b=0,v=s.length;b<v;b+=3){const S=s[b];s[b]=s[b+2],s[b+2]=S}break}case Yi.RGBA_32BPP:r=32,l=3,o=new Uint8Array(68);const m=new DataView(o.buffer);Lr.isLittleEndian?(m.setUint32(0,255,!0),m.setUint32(4,65280,!0),m.setUint32(8,16711680,!0),m.setUint32(12,4278190080,!0)):(m.setUint32(0,4278190080,!0),m.setUint32(4,16711680,!0),m.setUint32(8,65280,!0),m.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let c=0;const u=40+o.length,d=14+u+a.length+s.length,p=new Uint8Array(d),g=new DataView(p.buffer);return g.setUint16(c,19778,!0),c+=2,g.setUint32(c,d,!0),c+=4,g.setUint32(c,0,!0),c+=4,g.setUint32(c,14+u+a.length,!0),c+=4,g.setUint32(c,u,!0),c+=4,g.setInt32(c,e,!0),c+=4,g.setInt32(c,-n,!0),c+=4,g.setUint16(c,1,!0),c+=2,g.setUint16(c,r,!0),c+=2,g.setUint32(c,l,!0),c+=4,g.setUint32(c,0,!0),c+=4,g.setInt32(c,0,!0),c+=4,g.setInt32(c,0,!0),c+=4,g.setUint32(c,a.length/4,!0),c+=4,g.setUint32(c,0,!0),c+=4,p.set(o,c),c+=o.length,p.set(a,c),c+=a.length,p.set(s,c),p}};ja=new WeakMap,R9=new WeakMap,z8=new WeakSet,LO=function(){const{_imgData:e}=this,{data:n,width:i,height:s,kind:r}=e,a=i*s*4,o=Math.ceil(Math.log2(a/sA)),l=i>>o,c=s>>o;let u,d=s;try{u=new Uint8Array(a)}catch{let w=Math.floor(Math.log2(a+1));for(;;)try{u=new Uint8Array(2**w-1);break}catch{w-=1}d=Math.floor((2**w-1)/(i*4));const A=i*d*4;A<u.length&&(u=new Uint8Array(A))}const p=new Uint32Array(u.buffer),g=new Uint32Array(l*c);let m=0,b=0;const v=Math.ceil(s/d),S=s%d===0?s:s%d;for(let w=0;w<v;w++){const A=w<v-1?d:S;({srcPos:m}=DO({kind:r,src:n,dest:p,width:i,height:A,inverseDecode:this._isMask,srcPos:m}));for(let T=0,P=A>>o;T<P;T++){const R=p.subarray((T<<o)*i);for(let D=0;D<l;D++)g[b++]=R[D<<o]}}if(I0.needsToBeResized(l,c))return e.data=g,e.width=l,e.height=c,e.kind=Yi.RGBA_32BPP,null;const C=new OffscreenCanvas(l,c);return C.getContext("2d",{willReadFrequently:!0}).putImageData(new ImageData(new Uint8ClampedArray(g.buffer),l,c),0,0),e.data=null,e.bitmap=C.transferToImageBitmap(),e.width=l,e.height=c,e},L(I0,ja,VP),L(I0,R9,Lr.isImageDecoderSupported);let il=I0;const aie=new Uint8Array(0);class zs extends _t{constructor(e){if(super(),this._rawMinBufferLength=e||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=aie,this.minBufferLength=512,e)for(;this.minBufferLength<e;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(e){const n=this.buffer;if(e<=n.byteLength)return n;let i=this.minBufferLength;for(;i<e;)i*=2;const s=new Uint8Array(i);return s.set(n),this.buffer=s}getByte(){const e=this.pos;for(;this.bufferLength<=e;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(e,n=null){const i=this.pos;let s;if(e){for(this.ensureBuffer(i+e),s=i+e;!this.eof&&this.bufferLength<s;)this.readBlock(n);const r=this.bufferLength;s>r&&(s=r)}else{for(;!this.eof;)this.readBlock(n);s=this.bufferLength}return this.pos=s,this.buffer.subarray(i,s)}async getImageData(e,n){if(!this.canAsyncDecodeImageFromBuffer)return this.isAsyncDecoder?this.decodeImage(null,n):this.getBytes(e,n);const i=await this.stream.asyncGetBytes();return this.decodeImage(i,n)}reset(){this.pos=0}makeSubStream(e,n,i=null){if(n===void 0)for(;!this.eof;)this.readBlock();else{const s=e+n;for(;this.bufferLength<=s&&!this.eof;)this.readBlock()}return new Vn(this.buffer,e,n,i)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}class oie extends zs{constructor(e,n=null){e=e.filter(s=>s instanceof _t);let i=0;for(const s of e)i+=s instanceof zs?s._rawMinBufferLength:s.length;super(i),this.streams=e,this._onError=n}readBlock(){var o;const e=this.streams;if(e.length===0){this.eof=!0;return}const n=e.shift();let i;try{i=n.getBytes()}catch(l){if(this._onError){this._onError(l,(o=n.dict)==null?void 0:o.objId);return}throw l}const s=this.bufferLength,r=s+i.length;this.ensureBuffer(r).set(i,s),this.bufferLength=r}getBaseStreams(){const e=[];for(const n of this.streams){const i=n.getBaseStreams();i&&e.push(...i)}return e.length>0?e:null}}var Fo,ix,p5;class Gt{static parse({cs:e,xref:n,resources:i=null,pdfFunctionFactory:s,globalColorSpaceCache:r,localColorSpaceCache:a,asyncIfNotCached:o=!1}){const l={xref:n,resources:i,pdfFunctionFactory:s,globalColorSpaceCache:r,localColorSpaceCache:a};let c,u,d;if(e instanceof Be){u=e;const p=r.getByRef(u)||a.getByRef(u);if(p)return p;e=n.fetch(e)}if(e instanceof le){c=e.name;const p=a.getByName(c);if(p)return p}try{d=M(this,Fo,p5).call(this,e,l)}catch(p){if(o&&!(p instanceof En))return Promise.reject(p);throw p}return(c||u)&&(a.set(c,u,d),u&&r.set(null,u,d)),o?Promise.resolve(d):d}static get gray(){return Fe(this,"gray",new Yne)}static get rgb(){return Fe(this,"rgb",new Zne)}static get rgba(){return Fe(this,"rgba",new Jne)}static get cmyk(){if(zx.isUsable)try{return Fe(this,"cmyk",new zx)}catch{W("CMYK fallback: DeviceCMYK")}return Fe(this,"cmyk",new TO)}}Fo=new WeakSet,ix=function(e,n){const{globalColorSpaceCache:i}=n;let s;if(e instanceof Be){s=e;const a=i.getByRef(s);if(a)return a}const r=M(this,Fo,p5).call(this,e,n);return s&&i.set(null,s,r),r},p5=function(e,n){const{xref:i,resources:s,pdfFunctionFactory:r,globalColorSpaceCache:a}=n;if(e=i.fetchIfRef(e),e instanceof le)switch(e.name){case"G":case"DeviceGray":return this.gray;case"RGB":case"DeviceRGB":return this.rgb;case"DeviceRGBA":return this.rgba;case"CMYK":case"DeviceCMYK":return this.cmyk;case"Pattern":return new WP(null);default:if(s instanceof J){const o=s.get("ColorSpace");if(o instanceof J){const l=o.get(e.name);if(l){if(l instanceof le)return M(this,Fo,p5).call(this,l,n);e=l;break}}}return W(`Unrecognized ColorSpace: ${e.name}`),this.gray}if(Array.isArray(e)){const o=i.fetchIfRef(e[0]).name;let l,c,u,d,p,g;switch(o){case"G":case"DeviceGray":return this.gray;case"RGB":case"DeviceRGB":return this.rgb;case"CMYK":case"DeviceCMYK":return this.cmyk;case"CalGray":return l=i.fetchIfRef(e[1]),d=l.getArray("WhitePoint"),p=l.getArray("BlackPoint"),g=l.get("Gamma"),new Qne(d,p,g);case"CalRGB":l=i.fetchIfRef(e[1]),d=l.getArray("WhitePoint"),p=l.getArray("BlackPoint"),g=l.getArray("Gamma");const m=l.getArray("Matrix");return new hA(d,p,g,m);case"ICCBased":const b=e[1]instanceof Be;if(b){const R=a.getByRef(e[1]);if(R)return R}const v=i.fetchIfRef(e[1]),S=v.dict;if(c=S.get("N"),df.isUsable)try{const R=new df(v.getBytes(),"ICCBased",c);return b&&a.set(null,e[1],R),R}catch(R){if(R instanceof En)throw R;W(`ICCBased color space (${e[1]}): "${R}".`)}const C=S.getRaw("Alternate");if(C){const R=M(this,Fo,ix).call(this,C,n);if(R.numComps===c)return R;W("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(c===1)return this.gray;if(c===3)return this.rgb;if(c===4)return this.cmyk;break;case"Pattern":return u=e[1]||null,u&&(u=M(this,Fo,ix).call(this,u,n)),new WP(u);case"I":case"Indexed":u=M(this,Fo,ix).call(this,e[1],n);const E=js(i.fetchIfRef(e[2]),0,255),w=i.fetchIfRef(e[3]);return new Kne(u,E,w);case"Separation":case"DeviceN":const A=i.fetchIfRef(e[1]);c=Array.isArray(A)?A.length:1,u=M(this,Fo,ix).call(this,e[2],n);const T=r.create(e[3]);return new Xne(c,u,T);case"Lab":l=i.fetchIfRef(e[1]),d=l.getArray("WhitePoint"),p=l.getArray("BlackPoint");const P=l.getArray("Range");return new eie(d,p,P);default:return W(`Unimplemented ColorSpace object: ${o}`),this.gray}}return W(`Unrecognized ColorSpace object: ${e}`),this.gray},L(Gt,Fo);class $a extends fr{constructor(e){super(e,"JpegError")}}class mA extends fr{constructor(e,n){super(e,"DNLMarkerError"),this.scanLines=n}}class OO extends fr{constructor(e){super(e,"EOIMarkerError")}}const mx=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),qb=4017,Gb=799,Wb=3406,Vb=2276,Xb=1567,Kb=3784,t1=5793,Yb=2896;function lie(t,e){let n=0,i,s,r=16;for(;r>0&&!t[r-1];)r--;const a=[{children:[],index:0}];let o=a[0],l;for(i=0;i<r;i++){for(s=0;s<t[i];s++){for(o=a.pop(),o.children[o.index]=e[n];o.index>0;)o=a.pop();for(o.index++,a.push(o);a.length<=i;)a.push(l={children:[],index:0}),o.children[o.index]=l.children,o=l;n++}i+1<r&&(a.push(l={children:[],index:0}),o.children[o.index]=l.children,o=l)}return a[0].children}function xA(t,e,n){return 64*((t.blocksPerLine+1)*e+n)}function cie(t,e,n,i,s,r,a,o,l,c=!1){const u=n.mcusPerLine,d=n.progressive,p=e;let g=0,m=0;function b(){if(m>0)return m--,g>>m&1;if(g=t[e++],g===255){const we=t[e++];if(we){if(we===220&&c){e+=2;const K=Mt(t,e);if(e+=2,K>0&&K!==n.scanLines)throw new mA("Found DNL marker (0xFFDC) while parsing scan data",K)}else if(we===217){if(c){const K=B*(n.precision===8?8:0);if(K>0&&Math.round(n.scanLines/K)>=5)throw new mA("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",K)}throw new OO("Found EOI marker (0xFFD9) while parsing scan data")}throw new $a(`unexpected marker ${(g<<8|we).toString(16)}`)}}return m=7,g>>>7}function v(we){let K=we;for(;;){switch(K=K[b()],typeof K){case"number":return K;case"object":continue}throw new $a("invalid huffman sequence")}}function S(we){let K=0;for(;we>0;)K=K<<1|b(),we--;return K}function C(we){if(we===1)return b()===1?1:-1;const K=S(we);return K>=1<<we-1?K:K+(-1<<we)+1}function E(we,K){const Z=v(we.huffmanTableDC),oe=Z===0?0:C(Z);we.blockData[K]=we.pred+=oe;let de=1;for(;de<64;){const Ie=v(we.huffmanTableAC),ye=Ie&15,xe=Ie>>4;if(ye===0){if(xe<15)break;de+=16;continue}de+=xe;const se=mx[de];we.blockData[K+se]=C(ye),de++}}function w(we,K){const Z=v(we.huffmanTableDC),oe=Z===0?0:C(Z)<<l;we.blockData[K]=we.pred+=oe}function A(we,K){we.blockData[K]|=b()<<l}let T=0;function P(we,K){if(T>0){T--;return}let Z=r;const oe=a;for(;Z<=oe;){const de=v(we.huffmanTableAC),Ie=de&15,ye=de>>4;if(Ie===0){if(ye<15){T=S(ye)+(1<<ye)-1;break}Z+=16;continue}Z+=ye;const xe=mx[Z];we.blockData[K+xe]=C(Ie)*(1<<l),Z++}}let R=0,D;function O(we,K){let Z=r;const oe=a;let de=0,Ie,ye;for(;Z<=oe;){const xe=K+mx[Z],se=we.blockData[xe]<0?-1:1;switch(R){case 0:if(ye=v(we.huffmanTableAC),Ie=ye&15,de=ye>>4,Ie===0)de<15?(T=S(de)+(1<<de),R=4):(de=16,R=1);else{if(Ie!==1)throw new $a("invalid ACn encoding");D=C(Ie),R=de?2:3}continue;case 1:case 2:we.blockData[xe]?we.blockData[xe]+=se*(b()<<l):(de--,de===0&&(R=R===2?3:0));break;case 3:we.blockData[xe]?we.blockData[xe]+=se*(b()<<l):(we.blockData[xe]=D<<l,R=0);break;case 4:we.blockData[xe]&&(we.blockData[xe]+=se*(b()<<l));break}Z++}R===4&&(T--,T===0&&(R=0))}let B=0;function U(we,K,Z,oe,de){const Ie=Z/u|0,ye=Z%u;B=Ie*we.v+oe;const xe=ye*we.h+de,se=xA(we,B,xe);K(we,se)}function V(we,K,Z){B=Z/we.blocksPerLine|0;const oe=Z%we.blocksPerLine,de=xA(we,B,oe);K(we,de)}const ee=i.length;let Q,G,$,ie,he,pe;d?r===0?pe=o===0?w:A:pe=o===0?P:O:pe=E;let X=0,te;const re=ee===1?i[0].blocksPerLine*i[0].blocksPerColumn:u*n.mcusPerColumn;let Ee,Re;for(;X<=re;){const we=s?Math.min(re-X,s):re;if(we>0){for(G=0;G<ee;G++)i[G].pred=0;if(T=0,ee===1)for(Q=i[0],he=0;he<we;he++)V(Q,pe,X),X++;else for(he=0;he<we;he++){for(G=0;G<ee;G++)for(Q=i[G],Ee=Q.h,Re=Q.v,$=0;$<Re;$++)for(ie=0;ie<Ee;ie++)U(Q,pe,X,$,ie);X++}}if(m=0,te=N6(t,e),!te)break;if(te.invalid){const K=we>0?"unexpected":"excessive";W(`decodeScan - ${K} MCU data, current marker is: ${te.invalid}`),e=te.offset}if(te.marker>=65488&&te.marker<=65495)e+=2;else break}return e-p}function uie(t,e,n){const i=t.quantizationTable,s=t.blockData;let r,a,o,l,c,u,d,p,g,m,b,v,S,C,E,w,A;if(!i)throw new $a("missing required Quantization Table.");for(let T=0;T<64;T+=8){if(g=s[e+T],m=s[e+T+1],b=s[e+T+2],v=s[e+T+3],S=s[e+T+4],C=s[e+T+5],E=s[e+T+6],w=s[e+T+7],g*=i[T],(m|b|v|S|C|E|w)===0){A=t1*g+512>>10,n[T]=A,n[T+1]=A,n[T+2]=A,n[T+3]=A,n[T+4]=A,n[T+5]=A,n[T+6]=A,n[T+7]=A;continue}m*=i[T+1],b*=i[T+2],v*=i[T+3],S*=i[T+4],C*=i[T+5],E*=i[T+6],w*=i[T+7],r=t1*g+128>>8,a=t1*S+128>>8,o=b,l=E,c=Yb*(m-w)+128>>8,p=Yb*(m+w)+128>>8,u=v<<4,d=C<<4,r=r+a+1>>1,a=r-a,A=o*Kb+l*Xb+128>>8,o=o*Xb-l*Kb+128>>8,l=A,c=c+d+1>>1,d=c-d,p=p+u+1>>1,u=p-u,r=r+l+1>>1,l=r-l,a=a+o+1>>1,o=a-o,A=c*Vb+p*Wb+2048>>12,c=c*Wb-p*Vb+2048>>12,p=A,A=u*Gb+d*qb+2048>>12,u=u*qb-d*Gb+2048>>12,d=A,n[T]=r+p,n[T+7]=r-p,n[T+1]=a+d,n[T+6]=a-d,n[T+2]=o+u,n[T+5]=o-u,n[T+3]=l+c,n[T+4]=l-c}for(let T=0;T<8;++T){if(g=n[T],m=n[T+8],b=n[T+16],v=n[T+24],S=n[T+32],C=n[T+40],E=n[T+48],w=n[T+56],(m|b|v|S|C|E|w)===0){A=t1*g+8192>>14,A<-2040?A=0:A>=2024?A=255:A=A+2056>>4,s[e+T]=A,s[e+T+8]=A,s[e+T+16]=A,s[e+T+24]=A,s[e+T+32]=A,s[e+T+40]=A,s[e+T+48]=A,s[e+T+56]=A;continue}r=t1*g+2048>>12,a=t1*S+2048>>12,o=b,l=E,c=Yb*(m-w)+2048>>12,p=Yb*(m+w)+2048>>12,u=v,d=C,r=(r+a+1>>1)+4112,a=r-a,A=o*Kb+l*Xb+2048>>12,o=o*Xb-l*Kb+2048>>12,l=A,c=c+d+1>>1,d=c-d,p=p+u+1>>1,u=p-u,r=r+l+1>>1,l=r-l,a=a+o+1>>1,o=a-o,A=c*Vb+p*Wb+2048>>12,c=c*Wb-p*Vb+2048>>12,p=A,A=u*Gb+d*qb+2048>>12,u=u*qb-d*Gb+2048>>12,d=A,g=r+p,w=r-p,m=a+d,E=a-d,b=o+u,C=o-u,v=l+c,S=l-c,g<16?g=0:g>=4080?g=255:g>>=4,m<16?m=0:m>=4080?m=255:m>>=4,b<16?b=0:b>=4080?b=255:b>>=4,v<16?v=0:v>=4080?v=255:v>>=4,S<16?S=0:S>=4080?S=255:S>>=4,C<16?C=0:C>=4080?C=255:C>>=4,E<16?E=0:E>=4080?E=255:E>>=4,w<16?w=0:w>=4080?w=255:w>>=4,s[e+T]=g,s[e+T+8]=m,s[e+T+16]=b,s[e+T+24]=v,s[e+T+32]=S,s[e+T+40]=C,s[e+T+48]=E,s[e+T+56]=w}}function hie(t,e){const n=e.blocksPerLine,i=e.blocksPerColumn,s=new Int16Array(64);for(let r=0;r<i;r++)for(let a=0;a<n;a++){const o=xA(e,r,a);uie(e,o,s)}return e.blockData}function N6(t,e,n=e){const i=t.length-1;let s=n<e?n:e;if(e>=i)return null;const r=Mt(t,e);if(r>=65472&&r<=65534)return{invalid:null,marker:r,offset:e};let a=Mt(t,s);for(;!(a>=65472&&a<=65534);){if(++s>=i)return null;a=Mt(t,s)}return{invalid:r.toString(16),marker:a,offset:s}}function die(t){const e=Math.ceil(t.samplesPerLine/8/t.maxH),n=Math.ceil(t.scanLines/8/t.maxV);for(const i of t.components){const s=Math.ceil(Math.ceil(t.samplesPerLine/8)*i.h/t.maxH),r=Math.ceil(Math.ceil(t.scanLines/8)*i.v/t.maxV),a=e*i.h,l=64*(n*i.v)*(a+1);i.blockData=new Int16Array(l),i.blocksPerLine=s,i.blocksPerColumn=r}t.mcusPerLine=e,t.mcusPerColumn=n}function KP(t,e){const n=Mt(t,e);e+=2;let i=e+n-2;const s=N6(t,i,e);s!=null&&s.invalid&&(W("readDataBlock - incorrect length, current marker is: "+s.invalid),i=s.offset);const r=t.subarray(e,i);return{appData:r,oldOffset:e,newOffset:e+r.length}}function fie(t,e){const n=Mt(t,e);e+=2;const i=e+n-2,s=N6(t,i,e);return s!=null&&s.invalid?s.offset:i}class YP{constructor({decodeTransform:e=null,colorTransform:n=-1}={}){this._decodeTransform=e,this._colorTransform=n}static canUseImageDecoder(e,n=-1){let i=null,s=0,r=null,a=Mt(e,s);if(s+=2,a!==65496)throw new $a("SOI not found");a=Mt(e,s),s+=2;e:for(;a!==65497;){switch(a){case 65505:const{appData:o,oldOffset:l,newOffset:c}=KP(e,s);if(s=c,o[0]===69&&o[1]===120&&o[2]===105&&o[3]===102&&o[4]===0&&o[5]===0){if(i)throw new $a("Duplicate EXIF-blocks found.");i={exifStart:l+6,exifEnd:c}}a=Mt(e,s),s+=2;continue;case 65472:case 65473:case 65474:r=e[s+7];break e;case 65535:e[s]!==255&&s--;break}s=fie(e,s),a=Mt(e,s),s+=2}return r===4||r===3&&n===0?null:i||{}}parse(e,{dnlScanLines:n=null}={}){let i=0,s=null,r=null,a,o,l=0;const c=[],u=[],d=[];let p=Mt(e,i);if(i+=2,p!==65496)throw new $a("SOI not found");p=Mt(e,i),i+=2;e:for(;p!==65497;){let g,m,b;switch(p){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const{appData:v,newOffset:S}=KP(e,i);i=S,p===65504&&v[0]===74&&v[1]===70&&v[2]===73&&v[3]===70&&v[4]===0&&(s={version:{major:v[5],minor:v[6]},densityUnits:v[7],xDensity:v[8]<<8|v[9],yDensity:v[10]<<8|v[11],thumbWidth:v[12],thumbHeight:v[13],thumbData:v.subarray(14,14+3*v[12]*v[13])}),p===65518&&v[0]===65&&v[1]===100&&v[2]===111&&v[3]===98&&v[4]===101&&(r={version:v[5]<<8|v[6],flags0:v[7]<<8|v[8],flags1:v[9]<<8|v[10],transformCode:v[11]});break;case 65499:const C=Mt(e,i);i+=2;const E=C+i-2;let w;for(;i<E;){const $=e[i++],ie=new Uint16Array(64);if($>>4===0)for(m=0;m<64;m++)w=mx[m],ie[w]=e[i++];else if($>>4===1)for(m=0;m<64;m++)w=mx[m],ie[w]=Mt(e,i),i+=2;else throw new $a("DQT - invalid table spec");c[$&15]=ie}break;case 65472:case 65473:case 65474:if(a)throw new $a("Only single frame JPEGs supported");i+=2,a={},a.extended=p===65473,a.progressive=p===65474,a.precision=e[i++];const A=Mt(e,i);i+=2,a.scanLines=n||A,a.samplesPerLine=Mt(e,i),i+=2,a.components=[],a.componentIds={};const T=e[i++];let P=0,R=0;for(g=0;g<T;g++){const $=e[i],ie=e[i+1]>>4,he=e[i+1]&15;P<ie&&(P=ie),R<he&&(R=he);const pe=e[i+2];b=a.components.push({h:ie,v:he,quantizationId:pe,quantizationTable:null}),a.componentIds[$]=b-1,i+=3}a.maxH=P,a.maxV=R,die(a);break;case 65476:const D=Mt(e,i);for(i+=2,g=2;g<D;){const $=e[i++],ie=new Uint8Array(16);let he=0;for(m=0;m<16;m++,i++)he+=ie[m]=e[i];const pe=new Uint8Array(he);for(m=0;m<he;m++,i++)pe[m]=e[i];g+=17+he,($>>4===0?d:u)[$&15]=lie(ie,pe)}break;case 65501:i+=2,o=Mt(e,i),i+=2;break;case 65498:const O=++l===1&&!n;i+=2;const B=e[i++],U=[];for(g=0;g<B;g++){const $=e[i++],ie=a.componentIds[$],he=a.components[ie];he.index=$;const pe=e[i++];he.huffmanTableDC=d[pe>>4],he.huffmanTableAC=u[pe&15],U.push(he)}const V=e[i++],ee=e[i++],Q=e[i++];try{const $=cie(e,i,a,U,o,V,ee,Q>>4,Q&15,O);i+=$}catch($){if($ instanceof mA)return W(`${$.message} -- attempting to re-parse the JPEG image.`),this.parse(e,{dnlScanLines:$.scanLines});if($ instanceof OO){W(`${$.message} -- ignoring the rest of the image data.`);break e}throw $}break;case 65500:i+=4;break;case 65535:e[i]!==255&&i--;break;default:const G=N6(e,i-2,i-3);if(G!=null&&G.invalid){W("JpegImage.parse - unexpected data, current marker is: "+G.invalid),i=G.offset;break}if(!G||i>=e.length-1){W("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new $a("JpegImage.parse - unknown marker: "+p.toString(16))}p=Mt(e,i),i+=2}if(!a)throw new $a("JpegImage.parse - no frame data found.");this.width=a.samplesPerLine,this.height=a.scanLines,this.jfif=s,this.adobe=r,this.components=[];for(const g of a.components){const m=c[g.quantizationId];m&&(g.quantizationTable=m),this.components.push({index:g.index,output:hie(a,g),scaleX:g.h/a.maxH,scaleY:g.v/a.maxV,blocksPerLine:g.blocksPerLine,blocksPerColumn:g.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(e,n,i=!1){const s=this.width/e,r=this.height/n;let a,o,l,c,u,d,p,g,m,b,v=0,S;const C=this.components.length,E=e*n*C,w=new Uint8ClampedArray(E),A=new Uint32Array(e),T=4294967288;let P;for(p=0;p<C;p++){if(a=this.components[p],o=a.scaleX*s,l=a.scaleY*r,v=p,S=a.output,c=a.blocksPerLine+1<<3,o!==P){for(u=0;u<e;u++)g=0|u*o,A[u]=(g&T)<<3|g&7;P=o}for(d=0;d<n;d++)for(g=0|d*l,b=c*(g&T)|(g&7)<<3,u=0;u<e;u++)w[v]=S[b+A[u]],v+=C}let R=this._decodeTransform;if(!i&&C===4&&!R&&(R=new Int32Array([-256,255,-256,255,-256,255,-256,255])),R)for(p=0;p<E;)for(g=0,m=0;g<C;g++,p++,m+=2)w[p]=(w[p]*R[m]>>8)+R[m+1];return w}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(e){let n,i,s;for(let r=0,a=e.length;r<a;r+=3)n=e[r],i=e[r+1],s=e[r+2],e[r]=n-179.456+1.402*s,e[r+1]=n+135.459-.344*i-.714*s,e[r+2]=n-226.816+1.772*i;return e}_convertYccToRgba(e,n){for(let i=0,s=0,r=e.length;i<r;i+=3,s+=4){const a=e[i],o=e[i+1],l=e[i+2];n[s]=a-179.456+1.402*l,n[s+1]=a+135.459-.344*o-.714*l,n[s+2]=a-226.816+1.772*o,n[s+3]=255}return n}_convertYcckToRgb(e){return this._convertYcckToCmyk(e),this._convertCmykToRgb(e)}_convertYcckToRgba(e){return this._convertYcckToCmyk(e),this._convertCmykToRgba(e)}_convertYcckToCmyk(e){let n,i,s;for(let r=0,a=e.length;r<a;r+=4)n=e[r],i=e[r+1],s=e[r+2],e[r]=434.456-n-1.402*s,e[r+1]=119.541-n+.344*i+.714*s,e[r+2]=481.816-n-1.772*i;return e}_convertCmykToRgb(e){const n=e.length/4;return Gt.cmyk.getRgbBuffer(e,0,n,e,0,8,0),e.subarray(0,n*3)}_convertCmykToRgba(e){if(Gt.cmyk.getRgbBuffer(e,0,e.length/4,e,0,8,1),Gt.cmyk instanceof TO)for(let n=3,i=e.length;n<i;n+=4)e[n]=255;return e}getData({width:e,height:n,forceRGBA:i=!1,forceRGB:s=!1,isSourcePDF:r=!1}){if(this.numComponents>4)throw new $a("Unsupported color mode");const a=this._getLinearizedBlockData(e,n,r);if(this.numComponents===1&&(i||s)){const o=a.length*(i?4:3),l=new Uint8ClampedArray(o);let c=0;if(i)sie(a,new Uint32Array(l.buffer));else for(const u of a)l[c++]=u,l[c++]=u,l[c++]=u;return l}else if(this.numComponents===3&&this._isColorConversionNeeded){if(i){const o=new Uint8ClampedArray(a.length/3*4);return this._convertYccToRgba(a,o)}return this._convertYccToRgb(a)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return i?this._convertYcckToRgba(a):s?this._convertYcckToRgb(a):this._convertYcckToCmyk(a);if(i)return this._convertCmykToRgba(a);if(s)return this._convertCmykToRgb(a)}return a}}var F9,M9,bA;const H8=class H8 extends zs{constructor(n,i,s){super(i);L(this,M9);this.stream=n,this.dict=n.dict,this.maybeLength=i,this.params=s}static get canUseImageDecoder(){return Fe(this,"canUseImageDecoder",x(this,F9)?ImageDecoder.isTypeSupported("image/jpeg"):Promise.resolve(!1))}static setOptions({isImageDecoderSupported:n=!1}){F(this,F9,n)}get bytes(){return Fe(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(n){}readBlock(){this.decodeImage()}get jpegOptions(){const n={decodeTransform:void 0,colorTransform:void 0},i=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(i)){const s=this.dict.get("BPC","BitsPerComponent")||8,r=i.length,a=new Int32Array(r);let o=!1;const l=(1<<s)-1;for(let c=0;c<r;c+=2)a[c]=(i[c+1]-i[c])*256|0,a[c+1]=i[c]*l|0,(a[c]!==256||a[c+1]!==0)&&(o=!0);o&&(n.decodeTransform=a)}if(this.params instanceof J){const s=this.params.get("ColorTransform");Number.isInteger(s)&&(n.colorTransform=s)}return Fe(this,"jpegOptions",n)}decodeImage(n){if(this.eof)return this.buffer;n=M(this,M9,bA).call(this,n||this.bytes);const i=new YP(this.jpegOptions);i.parse(n);const s=i.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});return this.buffer=s,this.bufferLength=s.length,this.eof=!0,this.buffer}get canAsyncDecodeImageFromBuffer(){return this.stream.isAsync}async getTransferableImage(){if(!await H8.canUseImageDecoder)return null;const n=this.jpegOptions;if(n.decodeTransform)return null;let i;try{const s=this.canAsyncDecodeImageFromBuffer&&await this.stream.asyncGetBytes()||this.bytes;if(!s)return null;let r=M(this,M9,bA).call(this,s);const a=YP.canUseImageDecoder(r,n.colorTransform);return a?(a.exifStart&&(r=r.slice(),r.fill(0,a.exifStart,a.exifEnd)),i=new ImageDecoder({data:r,type:"image/jpeg",preferAnimation:!1}),(await i.decode()).image):null}catch(s){return W(`getTransferableImage - failed: "${s}".`),null}finally{i==null||i.close()}}};F9=new WeakMap,M9=new WeakSet,bA=function(n){for(let i=0,s=n.length-1;i<s;i++)if(n[i]===255&&n[i+1]===216){i>0&&(n=n.subarray(i));break}return n},L(H8,F9,Lr.isImageDecoderSupported);let cg=H8;var pie=(()=>{var t=import.meta.url;return async function(e={}){var n,i=e,s,r,a=new Promise((Ce,Me)=>{s=Ce,r=Me}),o=Object.assign({},i),l="./this.program",c=(Ce,Me)=>{throw Me},u="";function d(Ce){return i.locateFile?i.locateFile(Ce,u):u+Ce}var p;typeof document<"u"&&document.currentScript&&(u=document.currentScript.src),t&&(u=t),u.startsWith("blob:")?u="":u=u.slice(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1),p=async Ce=>{var Me=await fetch(Ce,{credentials:"same-origin"});if(Me.ok)return Me.arrayBuffer();throw new Error(Me.status+" : "+Me.url)};var g=i.print||console.log.bind(console),m=i.printErr||console.error.bind(console);Object.assign(i,o),o=null,i.arguments&&i.arguments,i.thisProgram&&(l=i.thisProgram);var b=i.wasmBinary,v,S=!1,C,E,w,A,T;function P(){var Ce=v.buffer;i.HEAP8=E=new Int8Array(Ce),i.HEAP16=new Int16Array(Ce),i.HEAPU8=w=new Uint8Array(Ce),i.HEAPU16=new Uint16Array(Ce),i.HEAP32=A=new Int32Array(Ce),i.HEAPU32=T=new Uint32Array(Ce),i.HEAPF32=new Float32Array(Ce),i.HEAPF64=new Float64Array(Ce),i.HEAP64=new BigInt64Array(Ce),i.HEAPU64=new BigUint64Array(Ce)}function R(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)oe(i.preRun.shift());Re(Z)}function D(){jr.t()}function O(){if(i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)K(i.postRun.shift());Re(we)}var B=0,U=null;function V(Ce){var Me;B++,(Me=i.monitorRunDependencies)==null||Me.call(i,B)}function ee(Ce){var Je;if(B--,(Je=i.monitorRunDependencies)==null||Je.call(i,B),B==0&&U){var Me=U;U=null,Me()}}function Q(Ce){var Je;(Je=i.onAbort)==null||Je.call(i,Ce),Ce="Aborted("+Ce+")",m(Ce),S=!0,Ce+=". Build with -sASSERTIONS for more info.";var Me=new WebAssembly.RuntimeError(Ce);throw r(Me),Me}var G;function $(){return i.locateFile?d("openjpeg.wasm"):new URL("openjpeg.wasm",import.meta.url).href}function ie(Ce){if(Ce==G&&b)return new Uint8Array(b);throw"both async and sync fetching of the wasm failed"}async function he(Ce){if(!b)try{var Me=await p(Ce);return new Uint8Array(Me)}catch{}return ie(Ce)}async function pe(Ce,Me){try{var Je=await he(Ce),wt=await WebAssembly.instantiate(Je,Me);return wt}catch(St){m(`failed to asynchronously prepare wasm: ${St}`),Q(St)}}async function X(Ce,Me,Je){if(!Ce&&typeof WebAssembly.instantiateStreaming=="function")try{var wt=fetch(Me,{credentials:"same-origin"}),St=await WebAssembly.instantiateStreaming(wt,Je);return St}catch(Xt){m(`wasm streaming compile failed: ${Xt}`),m("falling back to ArrayBuffer instantiation")}return pe(Me,Je)}function te(){return{a:Yu}}async function re(){function Ce(Xt,Zt){return jr=Xt.exports,v=jr.s,P(),ee(),jr}V();function Me(Xt){return Ce(Xt.instance)}var Je=te();if(i.instantiateWasm)return new Promise((Xt,Zt)=>{i.instantiateWasm(Je,(Zn,dn)=>{Ce(Zn),Xt(Zn.exports)})});G??(G=$());try{var wt=await X(b,G,Je),St=Me(wt);return St}catch(Xt){return r(Xt),Promise.reject(Xt)}}class Ee{constructor(Me){qe(this,"name","ExitStatus");this.message=`Program terminated with exit(${Me})`,this.status=Me}}var Re=Ce=>{for(;Ce.length>0;)Ce.shift()(i)},we=[],K=Ce=>we.unshift(Ce),Z=[],oe=Ce=>Z.unshift(Ce),de=i.noExitRuntime||!0,Ie=()=>Q(""),ye=0,xe=()=>{de=!1,ye=0},se={},Ue=Ce=>{if(Ce instanceof Ee||Ce=="unwind")return C;c(1,Ce)},Ve=()=>de||ye>0,Ke=Ce=>{var Me;C=Ce,Ve()||((Me=i.onExit)==null||Me.call(i,Ce),S=!0),c(Ce,new Ee(Ce))},Xe=(Ce,Me)=>{C=Ce,Ke(Ce)},He=Xe,Le=()=>{if(!Ve())try{He(C)}catch(Ce){Ue(Ce)}},tt=Ce=>{if(!S)try{Ce(),Le()}catch(Me){Ue(Me)}},ce=()=>performance.now(),ge=(Ce,Me)=>{if(se[Ce]&&(clearTimeout(se[Ce].id),delete se[Ce]),!Me)return 0;var Je=setTimeout(()=>{delete se[Ce],tt(()=>Zu(Ce,ce()))},Me);return se[Ce]={id:Je,timeout_ms:Me},0};function Te(Ce,Me){Ce>>=2;const Je=i.imageData=new Uint8ClampedArray(Me),wt=A.subarray(Ce,Ce+Me);Je.set(wt)}function Ne(Ce,Me,Je,wt){Ce>>=2,Me>>=2,Je>>=2;const St=i.imageData=new Uint8ClampedArray(wt*3),Xt=A.subarray(Ce,Ce+wt),Zt=A.subarray(Me,Me+wt),Zn=A.subarray(Je,Je+wt);for(let dn=0;dn<wt;dn++)St[3*dn]=Xt[dn],St[3*dn+1]=Zt[dn],St[3*dn+2]=Zn[dn]}function Ye(Ce,Me,Je,wt,St){Ce>>=2,Me>>=2,Je>>=2,wt>>=2;const Xt=i.imageData=new Uint8ClampedArray(St*4),Zt=A.subarray(Ce,Ce+St),Zn=A.subarray(Me,Me+St),dn=A.subarray(Je,Je+St),Ju=A.subarray(wt,wt+St);for(let wa=0;wa<St;wa++)Xt[4*wa]=Zt[wa],Xt[4*wa+1]=Zn[wa],Xt[4*wa+2]=dn[wa],Xt[4*wa+3]=Ju[wa]}var Pe=()=>2147483648,nt=(Ce,Me)=>Math.ceil(Ce/Me)*Me,Qe=Ce=>{var Me=v.buffer,Je=(Ce-Me.byteLength+65535)/65536|0;try{return v.grow(Je),P(),1}catch{}},vt=Ce=>{var Me=w.length;Ce>>>=0;var Je=Pe();if(Ce>Je)return!1;for(var wt=1;wt<=4;wt*=2){var St=Me*(1+.2/wt);St=Math.min(St,Ce+100663296);var Xt=Math.min(Je,nt(Math.max(Ce,St),65536)),Zt=Qe(Xt);if(Zt)return!0}return!1},jt={},bi=()=>l||"./this.program",gr=()=>{if(!gr.strings){var Ce=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",Me={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:Ce,_:bi()};for(var Je in jt)jt[Je]===void 0?delete Me[Je]:Me[Je]=jt[Je];var wt=[];for(var Je in Me)wt.push(`${Je}=${Me[Je]}`);gr.strings=wt}return gr.strings},$l=(Ce,Me)=>{for(var Je=0;Je<Ce.length;++Je)E[Me++]=Ce.charCodeAt(Je);E[Me]=0},_f=(Ce,Me)=>{var Je=0;return gr().forEach((wt,St)=>{var Xt=Me+Je;T[Ce+St*4>>2]=Xt,$l(wt,Xt),Je+=wt.length+1}),0},Ku=(Ce,Me)=>{var Je=gr();T[Ce>>2]=Je.length;var wt=0;return Je.forEach(St=>wt+=St.length+1),T[Me>>2]=wt,0},Eg=Ce=>52;function _g(Ce,Me,Je,wt){return 70}var Tg=[null,[],[]],Tf=typeof TextDecoder<"u"?new TextDecoder:void 0,Ul=(Ce,Me=0,Je=NaN)=>{for(var wt=Me+Je,St=Me;Ce[St]&&!(St>=wt);)++St;if(St-Me>16&&Ce.buffer&&Tf)return Tf.decode(Ce.subarray(Me,St));for(var Xt="";Me<St;){var Zt=Ce[Me++];if(!(Zt&128)){Xt+=String.fromCharCode(Zt);continue}var Zn=Ce[Me++]&63;if((Zt&224)==192){Xt+=String.fromCharCode((Zt&31)<<6|Zn);continue}var dn=Ce[Me++]&63;if((Zt&240)==224?Zt=(Zt&15)<<12|Zn<<6|dn:Zt=(Zt&7)<<18|Zn<<12|dn<<6|Ce[Me++]&63,Zt<65536)Xt+=String.fromCharCode(Zt);else{var Ju=Zt-65536;Xt+=String.fromCharCode(55296|Ju>>10,56320|Ju&1023)}}return Xt},t0=(Ce,Me)=>{var Je=Tg[Ce];Me===0||Me===10?((Ce===1?g:m)(Ul(Je)),Je.length=0):Je.push(Me)},Ig=(Ce,Me)=>Ce?Ul(w,Ce,Me):"",h3=(Ce,Me,Je,wt)=>{for(var St=0,Xt=0;Xt<Je;Xt++){var Zt=T[Me>>2],Zn=T[Me+4>>2];Me+=8;for(var dn=0;dn<Zn;dn++)t0(Ce,w[Zt+dn]);St+=Zn}return T[wt>>2]=St,0};function d3(Ce,Me){Ce>>=2;const Je=i.imageData=new Uint8ClampedArray(Me*4),wt=A.subarray(Ce,Ce+Me);for(let St=0;St<Me;St++)Je[4*St]=Je[4*St+1]=Je[4*St+2]=wt[St],Je[4*St+3]=255}function f3(Ce,Me,Je){Ce>>=2,Me>>=2;const wt=i.imageData=new Uint8ClampedArray(Je*4),St=A.subarray(Ce,Ce+Je),Xt=A.subarray(Me,Me+Je);for(let Zt=0;Zt<Je;Zt++)wt[4*Zt]=wt[4*Zt+1]=wt[4*Zt+2]=St[Zt],wt[4*Zt+3]=Xt[Zt]}function p3(Ce){const Me=Ig(Ce);(i.warn||console.warn)(`OpenJPEG: ${Me}`)}function Pg(Ce,Me,Je,wt){Ce>>=2,Me>>=2,Je>>=2;const St=i.imageData=new Uint8ClampedArray(wt*4),Xt=A.subarray(Ce,Ce+wt),Zt=A.subarray(Me,Me+wt),Zn=A.subarray(Je,Je+wt);for(let dn=0;dn<wt;dn++)St[4*dn]=Xt[dn],St[4*dn+1]=Zt[dn],St[4*dn+2]=Zn[dn],St[4*dn+3]=255}function g3(Ce){const Me=Ig(Ce);i.errorMessages?i.errorMessages+=`
`+Me:i.errorMessages=Me}var Yu={l:Ie,k:xe,m:ge,g:Te,f:Ne,e:Ye,n:vt,p:_f,q:Ku,b:Eg,o:_g,c:h3,r:d3,i:f3,d:p3,j:Ke,h:Pg,a:g3},jr=await re();jr.t,i._malloc=jr.u,i._free=jr.v,i._jp2_decode=jr.x;var Zu=jr.y;function Ng(){if(B>0){U=Ng;return}if(R(),B>0){U=Ng;return}function Ce(){var Me;i.calledRun=!0,!S&&(D(),s(i),(Me=i.onRuntimeInitialized)==null||Me.call(i),O())}i.setStatus?(i.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>i.setStatus(""),1),Ce()},1)):Ce()}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return Ng(),n=a,n}})();const gie=pie;class Zb extends fr{constructor(e){super(e,"JpxError")}}var qd,Yp,Gd,D9,L9,Zp,gf,yA,BO;class Co{static setOptions({handler:e,useWasm:n,useWorkerFetch:i,wasmUrl:s}){F(this,D9,n),F(this,L9,i),F(this,Zp,s),i||F(this,Yp,e)}static async decode(e,{numComponents:n=4,isIndexedColormap:i=!1,smaskInData:s=!1}={}){if(!x(this,Gd)){const{promise:o,resolve:l}=Promise.withResolvers(),c=[o];x(this,D9)?c.push(gie({warn:W,instantiateWasm:M(this,gf,BO).bind(this,l)})):M(this,gf,yA).call(this,l),F(this,Gd,Promise.race(c))}const r=await x(this,Gd);if(!r)throw new Zb("OpenJPEG failed to initialize");let a;try{const o=e.length;if(a=r._malloc(o),r.HEAPU8.set(e,a),r._jp2_decode(a,o,n>0?n:0,!!i,!!s)){const{errorMessages:u}=r;throw u?(delete r.errorMessages,new Zb(u)):new Zb("Unknown error")}const{imageData:c}=r;return r.imageData=null,c}finally{a&&r._free(a)}}static cleanup(){F(this,Gd,null)}static parseImageProperties(e){let n=e.getByte();for(;n>=0;){const i=n;if(n=e.getByte(),(i<<8|n)===65361){e.skip(4);const r=e.getInt32()>>>0,a=e.getInt32()>>>0,o=e.getInt32()>>>0,l=e.getInt32()>>>0;e.skip(16);const c=e.getUint16();return{width:r-o,height:a-l,bitsPerComponent:8,componentsCount:c}}}throw new Zb("No size marker found in JPX stream")}}qd=new WeakMap,Yp=new WeakMap,Gd=new WeakMap,D9=new WeakMap,L9=new WeakMap,Zp=new WeakMap,gf=new WeakSet,yA=async function(e){const n=`${x(this,Zp)}openjpeg_nowasm_fallback.js`;let i=null;try{i=(await import(n)).default()}catch(s){W(`JpxImage#getJsModule: ${s}`)}e(i)},BO=async function(e,n,i){const s="openjpeg.wasm";try{x(this,qd)||(x(this,L9)?F(this,qd,await aA(`${x(this,Zp)}${s}`)):F(this,qd,await x(this,Yp).sendWithPromise("FetchBinaryData",{type:"wasmFactory",filename:s})));const r=await WebAssembly.instantiate(x(this,qd),n);return i(r.instance)}catch(r){return W(`JpxImage#instantiateWasm: ${r}`),M(this,gf,yA).call(this,e),null}finally{F(this,Yp,null)}},L(Co,gf),L(Co,qd,null),L(Co,Yp,null),L(Co,Gd,null),L(Co,D9,!0),L(Co,L9,!0),L(Co,Zp,null);function Ts(t,e){let n=0;for(let i=0;i<=e;i++)n=n<<8|t[i];return n>>>0}function Jb(t,e){return e===1?String.fromCharCode(t[0],t[1]):e===3?String.fromCharCode(t[0],t[1],t[2],t[3]):String.fromCharCode(...t.subarray(0,e+1))}function Xs(t,e,n){let i=0;for(let s=n;s>=0;s--)i+=t[s]+e[s],t[s]=i&255,i>>=8}function dh(t,e){let n=1;for(let i=e;i>=0&&n>0;i--)n+=t[i],t[i]=n&255,n>>=8}const n1=16,mie=19;class xie{constructor(e){this.buffer=e,this.pos=0,this.end=e.length,this.tmpBuf=new Uint8Array(mie)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let e=0,n;do{const i=this.readByte();if(i<0)throw new me("unexpected EOF in bcmap");n=!(i&128),e=e<<7|i&127}while(!n);return e}readSigned(){const e=this.readNumber();return e&1?~(e>>>1):e>>>1}readHex(e,n){e.set(this.buffer.subarray(this.pos,this.pos+n+1)),this.pos+=n+1}readHexNumber(e,n){let i;const s=this.tmpBuf;let r=0;do{const c=this.readByte();if(c<0)throw new me("unexpected EOF in bcmap");i=!(c&128),s[r++]=c&127}while(!i);let a=n,o=0,l=0;for(;a>=0;){for(;l<8&&s.length>0;)o|=s[--r]<<l,l+=7;e[a]=o&255,a--,o>>=8,l-=8}}readHexSigned(e,n){this.readHexNumber(e,n);const i=e[n]&1?255:0;let s=0;for(let r=0;r<=n;r++)s=(s&1)<<8|e[r],e[r]=s>>1^i}readString(){const e=this.readNumber(),n=new Array(e);for(let i=0;i<e;i++)n[i]=this.readNumber();return String.fromCharCode(...n)}}class bie{async process(e,n,i){const s=new xie(e),r=s.readByte();n.vertical=!!(r&1);let a=null;const o=new Uint8Array(n1),l=new Uint8Array(n1),c=new Uint8Array(n1),u=new Uint8Array(n1),d=new Uint8Array(n1);let p,g;for(;(g=s.readByte())>=0;){const m=g>>5;if(m===7){switch(g&31){case 0:s.readString();break;case 1:a=s.readString();break}continue}const b=!!(g&16),v=g&15;if(v+1>n1)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const S=1,C=s.readNumber();switch(m){case 0:s.readHex(o,v),s.readHexNumber(l,v),Xs(l,o,v),n.addCodespaceRange(v+1,Ts(o,v),Ts(l,v));for(let E=1;E<C;E++)dh(l,v),s.readHexNumber(o,v),Xs(o,l,v),s.readHexNumber(l,v),Xs(l,o,v),n.addCodespaceRange(v+1,Ts(o,v),Ts(l,v));break;case 1:s.readHex(o,v),s.readHexNumber(l,v),Xs(l,o,v),s.readNumber();for(let E=1;E<C;E++)dh(l,v),s.readHexNumber(o,v),Xs(o,l,v),s.readHexNumber(l,v),Xs(l,o,v),s.readNumber();break;case 2:s.readHex(c,v),p=s.readNumber(),n.mapOne(Ts(c,v),p);for(let E=1;E<C;E++)dh(c,v),b||(s.readHexNumber(d,v),Xs(c,d,v)),p=s.readSigned()+(p+1),n.mapOne(Ts(c,v),p);break;case 3:s.readHex(o,v),s.readHexNumber(l,v),Xs(l,o,v),p=s.readNumber(),n.mapCidRange(Ts(o,v),Ts(l,v),p);for(let E=1;E<C;E++)dh(l,v),b?o.set(l):(s.readHexNumber(o,v),Xs(o,l,v)),s.readHexNumber(l,v),Xs(l,o,v),p=s.readNumber(),n.mapCidRange(Ts(o,v),Ts(l,v),p);break;case 4:s.readHex(c,S),s.readHex(u,v),n.mapOne(Ts(c,S),Jb(u,v));for(let E=1;E<C;E++)dh(c,S),b||(s.readHexNumber(d,S),Xs(c,d,S)),dh(u,v),s.readHexSigned(d,v),Xs(u,d,v),n.mapOne(Ts(c,S),Jb(u,v));break;case 5:s.readHex(o,S),s.readHexNumber(l,S),Xs(l,o,S),s.readHex(u,v),n.mapBfRange(Ts(o,S),Ts(l,S),Jb(u,v));for(let E=1;E<C;E++)dh(l,S),b?o.set(l):(s.readHexNumber(o,S),Xs(o,l,S)),s.readHexNumber(l,S),Xs(l,o,S),s.readHex(u,v),n.mapBfRange(Ts(o,S),Ts(l,S),Jb(u,v));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${m}`)}}return a?i(a):n}}class yie extends zs{constructor(e,n){n&&(n*=.8),super(n),this.str=e,this.dict=e.dict,this.input=new Uint8Array(5)}readBlock(){const s=this.str;let r=s.getByte();for(;pa(r);)r=s.getByte();if(r===-1||r===126){this.eof=!0;return}const a=this.bufferLength;let o,l;if(r===122){for(o=this.ensureBuffer(a+4),l=0;l<4;++l)o[a+l]=0;this.bufferLength+=4}else{const c=this.input;for(c[0]=r,l=1;l<5;++l){for(r=s.getByte();pa(r);)r=s.getByte();if(c[l]=r,r===-1||r===126)break}if(o=this.ensureBuffer(a+l-1),this.bufferLength+=l-1,l<5){for(;l<5;++l)c[l]=117;this.eof=!0}let u=0;for(l=0;l<5;++l)u=u*85+(c[l]-33);for(l=3;l>=0;--l)o[a+l]=u&255,u>>=8}}}class wie extends zs{constructor(e,n){n&&(n*=.5),super(n),this.str=e,this.dict=e.dict,this.firstDigit=-1}readBlock(){const n=this.str.getBytes(8e3);if(!n.length){this.eof=!0;return}const i=n.length+1>>1,s=this.ensureBuffer(this.bufferLength+i);let r=this.bufferLength,a=this.firstDigit;for(const o of n){let l;if(o>=48&&o<=57)l=o&15;else if(o>=65&&o<=70||o>=97&&o<=102)l=(o&15)+9;else if(o===62){this.eof=!0;break}else continue;a<0?a=l:(s[r++]=a<<4|l,a=-1)}a>=0&&this.eof&&(s[r++]=a<<4,a=-1),this.firstDigit=a,this.bufferLength=r}}const wA=-2,Zl=-1,nc=0,is=1,lt=2,ss=3,rs=4,vA=5,SA=6,jO=7,$O=8,ZP=[[-1,-1],[-1,-1],[7,$O],[7,jO],[6,SA],[6,SA],[6,vA],[6,vA],[4,nc],[4,nc],[4,nc],[4,nc],[4,nc],[4,nc],[4,nc],[4,nc],[3,is],[3,is],[3,is],[3,is],[3,is],[3,is],[3,is],[3,is],[3,is],[3,is],[3,is],[3,is],[3,is],[3,is],[3,is],[3,is],[3,rs],[3,rs],[3,rs],[3,rs],[3,rs],[3,rs],[3,rs],[3,rs],[3,rs],[3,rs],[3,rs],[3,rs],[3,rs],[3,rs],[3,rs],[3,rs],[3,ss],[3,ss],[3,ss],[3,ss],[3,ss],[3,ss],[3,ss],[3,ss],[3,ss],[3,ss],[3,ss],[3,ss],[3,ss],[3,ss],[3,ss],[3,ss],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt],[1,lt]],JP=[[-1,-1],[12,wA],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],QP=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],eN=[[-1,-1],[-1,-1],[12,wA],[12,wA],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],tN=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],nN=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class UO{constructor(e,n={}){if(typeof(e==null?void 0:e.next)!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=e,this.eof=!1,this.encoding=n.K||0,this.eoline=n.EndOfLine||!1,this.byteAlign=n.EncodedByteAlign||!1,this.columns=n.Columns||1728,this.rows=n.Rows||0,this.eoblock=n.EndOfBlock??!0,this.black=n.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let i;for(;(i=this._lookBits(12))===0;)this._eatBits(1);i===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const e=this.refLine,n=this.codingLine,i=this.columns;let s,r,a,o;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let c,u,d;if(this.nextLine2D){for(o=0;n[o]<i;++o)e[o]=n[o];for(e[o++]=i,e[o]=i,n[0]=0,this.codingPos=0,s=0,r=0;n[this.codingPos]<i;)switch(c=this._getTwoDimCode(),c){case nc:this._addPixels(e[s+1],r),e[s+1]<i&&(s+=2);break;case is:if(c=u=0,r){do c+=d=this._getBlackCode();while(d>=64);do u+=d=this._getWhiteCode();while(d>=64)}else{do c+=d=this._getWhiteCode();while(d>=64);do u+=d=this._getBlackCode();while(d>=64)}for(this._addPixels(n[this.codingPos]+c,r),n[this.codingPos]<i&&this._addPixels(n[this.codingPos]+u,r^1);e[s]<=n[this.codingPos]&&e[s]<i;)s+=2;break;case jO:if(this._addPixels(e[s]+3,r),r^=1,n[this.codingPos]<i)for(++s;e[s]<=n[this.codingPos]&&e[s]<i;)s+=2;break;case vA:if(this._addPixels(e[s]+2,r),r^=1,n[this.codingPos]<i)for(++s;e[s]<=n[this.codingPos]&&e[s]<i;)s+=2;break;case ss:if(this._addPixels(e[s]+1,r),r^=1,n[this.codingPos]<i)for(++s;e[s]<=n[this.codingPos]&&e[s]<i;)s+=2;break;case lt:if(this._addPixels(e[s],r),r^=1,n[this.codingPos]<i)for(++s;e[s]<=n[this.codingPos]&&e[s]<i;)s+=2;break;case $O:if(this._addPixelsNeg(e[s]-3,r),r^=1,n[this.codingPos]<i)for(s>0?--s:++s;e[s]<=n[this.codingPos]&&e[s]<i;)s+=2;break;case SA:if(this._addPixelsNeg(e[s]-2,r),r^=1,n[this.codingPos]<i)for(s>0?--s:++s;e[s]<=n[this.codingPos]&&e[s]<i;)s+=2;break;case rs:if(this._addPixelsNeg(e[s]-1,r),r^=1,n[this.codingPos]<i)for(s>0?--s:++s;e[s]<=n[this.codingPos]&&e[s]<i;)s+=2;break;case Zl:this._addPixels(i,0),this.eof=!0;break;default:Pt("bad 2d code"),this._addPixels(i,0),this.err=!0}}else for(n[0]=0,this.codingPos=0,r=0;n[this.codingPos]<i;){if(c=0,r)do c+=d=this._getBlackCode();while(d>=64);else do c+=d=this._getWhiteCode();while(d>=64);this._addPixels(n[this.codingPos]+c,r),r^=1}let p=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(c=this._lookBits(12),this.eoline)for(;c!==Zl&&c!==1;)this._eatBits(1),c=this._lookBits(12);else for(;c===0;)this._eatBits(1),c=this._lookBits(12);c===1?(this._eatBits(12),p=!0):c===Zl&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&p&&this.byteAlign){if(c=this._lookBits(12),c===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(o=0;o<4;++o)c=this._lookBits(12),c!==1&&Pt("bad rtc code: "+c),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(c=this._lookBits(13),c===Zl)return this.eof=!0,-1;if(c>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(c&1))}this.outputBits=n[0]>0?n[this.codingPos=0]:n[this.codingPos=1],this.row++}let l;if(this.outputBits>=8)l=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&n[this.codingPos]<i&&(this.codingPos++,this.outputBits=n[this.codingPos]-n[this.codingPos-1]);else{a=8,l=0;do{if(typeof this.outputBits!="number")throw new me('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>a?(l<<=a,this.codingPos&1||(l|=255>>8-a),this.outputBits-=a,a=0):(l<<=this.outputBits,this.codingPos&1||(l|=255>>8-this.outputBits),a-=this.outputBits,this.outputBits=0,n[this.codingPos]<i?(this.codingPos++,this.outputBits=n[this.codingPos]-n[this.codingPos-1]):a>0&&(l<<=a,a=0))}while(a)}return this.black&&(l^=255),l}_addPixels(e,n){const i=this.codingLine;let s=this.codingPos;e>i[s]&&(e>this.columns&&(Pt("row is wrong length"),this.err=!0,e=this.columns),s&1^n&&++s,i[s]=e),this.codingPos=s}_addPixelsNeg(e,n){const i=this.codingLine;let s=this.codingPos;if(e>i[s])e>this.columns&&(Pt("row is wrong length"),this.err=!0,e=this.columns),s&1^n&&++s,i[s]=e;else if(e<i[s]){for(e<0&&(Pt("invalid code"),this.err=!0,e=0);s>0&&e<i[s-1];)--s;i[s]=e}this.codingPos=s}_findTableCode(e,n,i,s){const r=s||0;for(let a=e;a<=n;++a){let o=this._lookBits(a);if(o===Zl)return[!0,1,!1];if(a<n&&(o<<=n-a),!r||o>=r){const l=i[o-r];if(l[0]===a)return this._eatBits(a),[!0,l[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let e=0,n;if(this.eoblock){if(e=this._lookBits(7),n=ZP[e],(n==null?void 0:n[0])>0)return this._eatBits(n[0]),n[1]}else{const i=this._findTableCode(1,7,ZP);if(i[0]&&i[2])return i[1]}return Pt("Bad two dim code"),Zl}_getWhiteCode(){let e=0,n;if(this.eoblock){if(e=this._lookBits(12),e===Zl)return 1;if(n=e>>5===0?JP[e]:QP[e>>3],n[0]>0)return this._eatBits(n[0]),n[1]}else{let i=this._findTableCode(1,9,QP);if(i[0]||(i=this._findTableCode(11,12,JP),i[0]))return i[1]}return Pt("bad white code"),this._eatBits(1),1}_getBlackCode(){let e,n;if(this.eoblock){if(e=this._lookBits(13),e===Zl)return 1;if(e>>7===0?n=eN[e]:e>>9===0&&e>>7!==0?n=tN[(e>>1)-64]:n=nN[e>>7],n[0]>0)return this._eatBits(n[0]),n[1]}else{let i=this._findTableCode(2,6,nN);if(i[0]||(i=this._findTableCode(7,12,tN,64),i[0])||(i=this._findTableCode(10,13,eN),i[0]))return i[1]}return Pt("bad black code"),this._eatBits(1),1}_lookBits(e){let n;for(;this.inputBits<e;){if((n=this.source.next())===-1)return this.inputBits===0?Zl:this.inputBuf<<e-this.inputBits&65535>>16-e;this.inputBuf=this.inputBuf<<8|n,this.inputBits+=8}return this.inputBuf>>this.inputBits-e&65535>>16-e}_eatBits(e){(this.inputBits-=e)<0&&(this.inputBits=0)}}class vie extends zs{constructor(e,n,i){super(n),this.str=e,this.dict=e.dict,i instanceof J||(i=J.empty);const s={next(){return e.getByte()}};this.ccittFaxDecoder=new UO(s,{K:i.get("K"),EndOfLine:i.get("EndOfLine"),EncodedByteAlign:i.get("EncodedByteAlign"),Columns:i.get("Columns"),Rows:i.get("Rows"),EndOfBlock:i.get("EndOfBlock"),BlackIs1:i.get("BlackIs1")})}readBlock(){for(;!this.eof;){const e=this.ccittFaxDecoder.readNextChar();if(e===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=e}}}const iN=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Sie=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),Aie=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),kie=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],Cie=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];var mu,x1;class sN extends zs{constructor(n,i){super(i);L(this,mu);this.str=n,this.dict=n.dict;const s=n.getByte(),r=n.getByte();if(s===-1||r===-1)throw new me(`Invalid header in flate stream: ${s}, ${r}`);if((s&15)!==8)throw new me(`Unknown compression method in flate stream: ${s}, ${r}`);if(((s<<8)+r)%31!==0)throw new me(`Bad FCHECK in flate stream: ${s}, ${r}`);if(r&32)throw new me(`FDICT bit set in flate stream: ${s}, ${r}`);this.codeSize=0,this.codeBuf=0}async getImageData(n,i){const s=await this.asyncGetBytes();return(s==null?void 0:s.subarray(0,n))||this.getBytes(n)}async asyncGetBytes(){this.str.reset();const n=this.str.getBytes();try{const{readable:i,writable:s}=new DecompressionStream("deflate"),r=s.getWriter();await r.ready,r.write(n).then(async()=>{await r.ready,await r.close()}).catch(()=>{});const a=[];let o=0;for await(const u of i)a.push(u),o+=u.byteLength;const l=new Uint8Array(o);let c=0;for(const u of a)l.set(u,c),c+=u.byteLength;return l}catch{return this.str=new Vn(n,2,n.length,this.str.dict),this.reset(),null}}get isAsync(){return!0}getBits(n){const i=this.str;let s=this.codeSize,r=this.codeBuf,a;for(;s<n;){if((a=i.getByte())===-1)throw new me("Bad encoding in flate stream");r|=a<<s,s+=8}return a=r&(1<<n)-1,this.codeBuf=r>>n,this.codeSize=s-=n,a}getCode(n){const i=this.str,s=n[0],r=n[1];let a=this.codeSize,o=this.codeBuf,l;for(;a<r&&(l=i.getByte())!==-1;)o|=l<<a,a+=8;const c=s[o&(1<<r)-1],u=c>>16,d=c&65535;if(u<1||a<u)throw new me("Bad encoding in flate stream");return this.codeBuf=o>>u,this.codeSize=a-u,d}generateHuffmanTable(n){const i=n.length;let s=0,r;for(r=0;r<i;++r)n[r]>s&&(s=n[r]);const a=1<<s,o=new Int32Array(a);for(let l=1,c=0,u=2;l<=s;++l,c<<=1,u<<=1)for(let d=0;d<i;++d)if(n[d]===l){let p=0,g=c;for(r=0;r<l;++r)p=p<<1|g&1,g>>=1;for(r=p;r<a;r+=u)o[r]=l<<16|d;++c}return[o,s]}readBlock(){let n,i,s;const r=this.str;try{i=this.getBits(3)}catch(u){M(this,mu,x1).call(this,u.message);return}if(i&1&&(this.eof=!0),i>>=1,i===0){let u;if((u=r.getByte())===-1){M(this,mu,x1).call(this,"Bad block header in flate stream");return}let d=u;if((u=r.getByte())===-1){M(this,mu,x1).call(this,"Bad block header in flate stream");return}if(d|=u<<8,(u=r.getByte())===-1){M(this,mu,x1).call(this,"Bad block header in flate stream");return}let p=u;if((u=r.getByte())===-1){M(this,mu,x1).call(this,"Bad block header in flate stream");return}if(p|=u<<8,p!==(~d&65535)&&(d!==0||p!==0))throw new me("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const g=this.bufferLength,m=g+d;if(n=this.ensureBuffer(m),this.bufferLength=m,d===0)r.peekByte()===-1&&(this.eof=!0);else{const b=r.getBytes(d);n.set(b,g),b.length<d&&(this.eof=!0)}return}let a,o;if(i===1)a=kie,o=Cie;else if(i===2){const u=this.getBits(5)+257,d=this.getBits(5)+1,p=this.getBits(4)+4,g=new Uint8Array(iN.length);let m;for(m=0;m<p;++m)g[iN[m]]=this.getBits(3);const b=this.generateHuffmanTable(g);s=0,m=0;const v=u+d,S=new Uint8Array(v);let C,E,w;for(;m<v;){const A=this.getCode(b);if(A===16)C=2,E=3,w=s;else if(A===17)C=3,E=3,w=s=0;else if(A===18)C=7,E=11,w=s=0;else{S[m++]=s=A;continue}let T=this.getBits(C)+E;for(;T-- >0;)S[m++]=w}a=this.generateHuffmanTable(S.subarray(0,u)),o=this.generateHuffmanTable(S.subarray(u,v))}else throw new me("Unknown block type in flate stream");n=this.buffer;let l=n?n.length:0,c=this.bufferLength;for(;;){let u=this.getCode(a);if(u<256){c+1>=l&&(n=this.ensureBuffer(c+1),l=n.length),n[c++]=u;continue}if(u===256){this.bufferLength=c;return}u-=257,u=Sie[u];let d=u>>16;d>0&&(d=this.getBits(d)),s=(u&65535)+d,u=this.getCode(o),u=Aie[u],d=u>>16,d>0&&(d=this.getBits(d));const p=(u&65535)+d;c+s>=l&&(n=this.ensureBuffer(c+s),l=n.length);for(let g=0;g<s;++g,++c)n[c]=n[c-p]}}}mu=new WeakSet,x1=function(n){Pt(n),this.eof=!0};const Eie=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class _ie{constructor(e,n,i){this.data=e,this.bp=n,this.dataEnd=i,this.chigh=e[n],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const e=this.data;let n=this.bp;e[n]===255?e[n+1]>143?(this.clow+=65280,this.ct=8):(n++,this.clow+=e[n]<<9,this.ct=7,this.bp=n):(n++,this.clow+=n<this.dataEnd?e[n]<<8:65280,this.ct=8,this.bp=n),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(e,n){let i=e[n]>>1,s=e[n]&1;const r=Eie[i],a=r.qe;let o,l=this.a-a;if(this.chigh<a)l<a?(l=a,o=s,i=r.nmps):(l=a,o=1^s,r.switchFlag===1&&(s=o),i=r.nlps);else{if(this.chigh-=a,(l&32768)!==0)return this.a=l,s;l<a?(o=1^s,r.switchFlag===1&&(s=o),i=r.nlps):(o=s,i=r.nmps)}do this.ct===0&&this.byteIn(),l<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while((l&32768)===0);return this.a=l,e[n]=i<<1|s,o}}class qn extends fr{constructor(e){super(e,"Jbig2Error")}}class Tie{getContexts(e){return e in this?this[e]:this[e]=new Int8Array(65536)}}class bm{constructor(e,n,i){this.data=e,this.start=n,this.end=i}get decoder(){const e=new _ie(this.data,this.start,this.end);return Fe(this,"decoder",e)}get contextCache(){const e=new Tie;return Fe(this,"contextCache",e)}}function Ds(t,e,n){const i=t.getContexts(e);let s=1;function r(c){let u=0;for(let d=0;d<c;d++){const p=n.readBit(i,s);s=s<256?s<<1|p:(s<<1|p)&511|256,u=u<<1|p}return u>>>0}const a=r(1),o=r(1)?r(1)?r(1)?r(1)?r(1)?r(32)+4436:r(12)+340:r(8)+84:r(6)+20:r(4)+4:r(2);let l;return a===0?l=o:o>0&&(l=-o),l>=Ane&&l<=sA?l:null}function zO(t,e,n){const i=t.getContexts("IAID");let s=1;for(let r=0;r<n;r++){const a=e.readBit(i,s);s=s<<1|a}return n<31?s&(1<<n)-1:s&2147483647}const rN=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],Iie=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],aN=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],Pie=[39717,1941,229,405];function Nie(t,e,n){const i=n.decoder,s=n.contextCache.getContexts("GB"),r=[];let a,o,l,c,u,d,p;const g=31735;for(o=0;o<e;o++)for(u=r[o]=new Uint8Array(t),d=o<1?u:r[o-1],p=o<2?u:r[o-2],a=p[0]<<13|p[1]<<12|p[2]<<11|d[0]<<7|d[1]<<6|d[2]<<5|d[3]<<4,l=0;l<t;l++)u[l]=c=i.readBit(s,a),a=(a&g)<<1|(l+3<t?p[l+3]<<11:0)|(l+4<t?d[l+4]<<4:0)|c;return r}function R6(t,e,n,i,s,r,a,o){if(t){const te=new Hx(o.data,o.start,o.end);return Yk(te,e,n,!1)}if(i===0&&!s&&a.length===4&&a[0].x===3&&a[0].y===-1&&a[1].x===-3&&a[1].y===-1&&a[2].x===2&&a[2].y===-2&&a[3].x===-2&&a[3].y===-2)return Nie(e,n,o);const l=Iie[i].concat(a);l.sort((te,re)=>te.y-re.y||te.x-re.x);const c=l.length,u=new Int8Array(c),d=new Int8Array(c),p=[];let g=0,m=0,b=0,v=0,S,C;for(C=0;C<c;C++)u[C]=l[C].x,d[C]=l[C].y,m=Math.min(m,l[C].x),b=Math.max(b,l[C].x),v=Math.min(v,l[C].y),C<c-1&&l[C].y===l[C+1].y&&l[C].x===l[C+1].x-1?g|=1<<c-1-C:p.push(C);const E=p.length,w=new Int8Array(E),A=new Int8Array(E),T=new Uint16Array(E);for(S=0;S<E;S++)C=p[S],w[S]=l[C].x,A[S]=l[C].y,T[S]=1<<c-1-C;const P=-m,R=-v,D=e-b,O=Pie[i];let B=new Uint8Array(e);const U=[],V=o.decoder,ee=o.contextCache.getContexts("GB");let Q=0,G,$,ie,he=0,pe,X;for(let te=0;te<n;te++){if(s){const re=V.readBit(ee,O);if(Q^=re,Q){U.push(B);continue}}for(B=new Uint8Array(B),U.push(B),G=0;G<e;G++){if(G>=P&&G<D&&te>=R)for(he=he<<1&g,C=0;C<E;C++)$=te+A[C],ie=G+w[C],pe=U[$][ie],pe&&(pe=T[C],he|=pe);else for(he=0,X=c-1,C=0;C<c;C++,X--)ie=G+u[C],ie>=0&&ie<e&&($=te+d[C],$>=0&&(pe=U[$][ie],pe&&(he|=pe<<X)));const re=V.readBit(ee,he);B[G]=re}}return U}function HO(t,e,n,i,s,r,a,o,l){let c=aN[n].coding;n===0&&(c=c.concat([o[0]]));const u=c.length,d=new Int32Array(u),p=new Int32Array(u);let g;for(g=0;g<u;g++)d[g]=c[g].x,p[g]=c[g].y;let m=aN[n].reference;n===0&&(m=m.concat([o[1]]));const b=m.length,v=new Int32Array(b),S=new Int32Array(b);for(g=0;g<b;g++)v[g]=m[g].x,S[g]=m[g].y;const C=i[0].length,E=i.length,w=[],A=l.decoder,T=l.contextCache.getContexts("GR");for(let P=0;P<e;P++){const R=new Uint8Array(t);w.push(R);for(let D=0;D<t;D++){let O,B,U=0;for(g=0;g<u;g++)O=P+p[g],B=D+d[g],O<0||B<0||B>=t?U<<=1:U=U<<1|w[O][B];for(g=0;g<b;g++)O=P+S[g]-r,B=D+v[g]-s,O<0||O>=E||B<0||B>=C?U<<=1:U=U<<1|i[O][B];const V=A.readBit(T,U);R[D]=V}}return w}function Rie(t,e,n,i,s,r,a,o,l,c,u,d){if(t&&e)throw new qn("symbol refinement with Huffman is not supported");const p=[];let g=0,m=Vk(n.length+i);const b=u.decoder,v=u.contextCache;let S,C;for(t&&(S=Au(1),C=[],m=Math.max(m,1));p.length<i;){const D=t?r.tableDeltaHeight.decode(d):Ds(v,"IADH",b);g+=D;let O=0,B=0;const U=t?C.length:0;for(;;){const V=t?r.tableDeltaWidth.decode(d):Ds(v,"IADW",b);if(V===null)break;O+=V,B+=O;let ee;if(e){const Q=Ds(v,"IAAI",b);if(Q>1)ee=qO(t,e,O,g,0,Q,1,n.concat(p),m,0,0,1,0,r,l,c,u,0,d);else{const G=zO(v,b,m),$=Ds(v,"IARDX",b),ie=Ds(v,"IARDY",b),he=G<n.length?n[G]:p[G-n.length];ee=HO(O,g,l,he,$,ie,!1,c,u)}p.push(ee)}else t?C.push(O):(ee=R6(!1,O,g,a,!1,null,o,u),p.push(ee))}if(t&&!e){const V=r.tableBitmapSize.decode(d);d.byteAlign();let ee;if(V===0)ee=qie(d,B,g);else{const G=d.end,$=d.position+V;d.end=$,ee=Yk(d,B,g,!1),d.end=G,d.position=$}const Q=C.length;if(U===Q-1)p.push(ee);else{let G,$,ie=0,he,pe,X;for(G=U;G<Q;G++){for(pe=C[G],he=ie+pe,X=[],$=0;$<g;$++)X.push(ee[$].subarray(ie,he));p.push(X),ie=he}}}}const E=[],w=[];let A=!1,T,P;const R=n.length+i;for(;w.length<R;){let D=t?S.decode(d):Ds(v,"IAEX",b);for(;D--;)w.push(A);A=!A}for(T=0,P=n.length;T<P;T++)w[T]&&E.push(n[T]);for(let D=0;D<i;T++,D++)w[T]&&E.push(p[D]);return E}function qO(t,e,n,i,s,r,a,o,l,c,u,d,p,g,m,b,v,S,C){if(t&&e)throw new qn("refinement with Huffman is not supported");const E=[];let w,A;for(w=0;w<i;w++)A=new Uint8Array(n),s&&A.fill(s),E.push(A);const T=v.decoder,P=v.contextCache;let R=t?-g.tableDeltaT.decode(C):-Ds(P,"IADT",T),D=0;for(w=0;w<r;){const O=t?g.tableDeltaT.decode(C):Ds(P,"IADT",T);R+=O;const B=t?g.tableFirstS.decode(C):Ds(P,"IAFS",T);D+=B;let U=D;do{let V=0;a>1&&(V=t?C.readBits(S):Ds(P,"IAIT",T));const ee=a*R+V,Q=t?g.symbolIDTable.decode(C):zO(P,T,l),G=e&&(t?C.readBit():Ds(P,"IARI",T));let $=o[Q],ie=$[0].length,he=$.length;if(G){const K=Ds(P,"IARDW",T),Z=Ds(P,"IARDH",T),oe=Ds(P,"IARDX",T),de=Ds(P,"IARDY",T);ie+=K,he+=Z,$=HO(ie,he,m,$,(K>>1)+oe,(Z>>1)+de,!1,b,v)}let pe=0;c?d&1?pe=he-1:U+=he-1:d>1?U+=ie-1:pe=ie-1;const X=ee-(d&1?0:he-1),te=U-(d&2?ie-1:0);let re,Ee,Re;if(c)for(re=0;re<he;re++){if(A=E[te+re],!A)continue;Re=$[re];const K=Math.min(n-X,ie);switch(p){case 0:for(Ee=0;Ee<K;Ee++)A[X+Ee]|=Re[Ee];break;case 2:for(Ee=0;Ee<K;Ee++)A[X+Ee]^=Re[Ee];break;default:throw new qn(`operator ${p} is not supported`)}}else for(Ee=0;Ee<he;Ee++)if(A=E[X+Ee],!!A)switch(Re=$[Ee],p){case 0:for(re=0;re<ie;re++)A[te+re]|=Re[re];break;case 2:for(re=0;re<ie;re++)A[te+re]^=Re[re];break;default:throw new qn(`operator ${p} is not supported`)}w++;const we=t?g.tableDeltaS.decode(C):Ds(P,"IADS",T);if(we===null)break;U+=pe+we+u}while(!0)}return E}function Fie(t,e,n,i,s,r){const a=[];t||(a.push({x:-e,y:0}),s===0&&a.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const o=(i+1)*e,l=R6(t,o,n,s,!1,null,a,r),c=[];for(let u=0;u<=i;u++){const d=[],p=e*u,g=p+e;for(let m=0;m<n;m++)d.push(l[m].subarray(p,g));c.push(d)}return c}function Mie(t,e,n,i,s,r,a,o,l,c,u,d,p,g,m){if(a)throw new qn("skip is not supported");if(o!==0)throw new qn(`operator "${o}" is not supported in halftone region`);const v=[];let S,C,E;for(S=0;S<s;S++)E=new Uint8Array(i),r&&E.fill(r),v.push(E);const w=e.length,A=e[0],T=A[0].length,P=A.length,R=Vk(w),D=[];t||(D.push({x:n<=1?3:2,y:-1}),n===0&&D.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const O=[];let B,U;for(t&&(B=new Hx(m.data,m.start,m.end)),S=R-1;S>=0;S--)t?U=Yk(B,l,c,!0):U=R6(!1,l,c,n,!1,null,D,m),O[S]=U;let V,ee,Q,G,$,ie,he,pe,X;for(V=0;V<c;V++)for(ee=0;ee<l;ee++){for(Q=0,G=0,C=R-1;C>=0;C--)Q^=O[C][V][ee],G|=Q<<C;if($=e[G],ie=u+V*g+ee*p>>8,he=d+V*p-ee*g>>8,ie>=0&&ie+T<=i&&he>=0&&he+P<=s)for(S=0;S<P;S++)for(X=v[he+S],pe=$[S],C=0;C<T;C++)X[ie+C]|=pe[C];else{let te,re;for(S=0;S<P;S++)if(re=he+S,!(re<0||re>=s))for(X=v[re],pe=$[S],C=0;C<T;C++)te=ie+C,te>=0&&te<i&&(X[te]|=pe[C])}}return v}function Die(t,e){const n={};n.number=sn(t,e);const i=t[e+4],s=i&63;if(!rN[s])throw new qn("invalid segment type: "+s);n.type=s,n.typeName=rN[s],n.deferredNonRetain=!!(i&128);const r=!!(i&64),a=t[e+5];let o=a>>5&7;const l=[a&31];let c=e+6;if(a===7){o=sn(t,c-1)&536870911,c+=3;let m=o+7>>3;for(l[0]=t[c++];--m>0;)l.push(t[c++])}else if(a===5||a===6)throw new qn("invalid referred-to flags");n.retainBits=l;let u=4;n.number<=256?u=1:n.number<=65536&&(u=2);const d=[];let p,g;for(p=0;p<o;p++){let m;u===1?m=t[c]:u===2?m=Mt(t,c):m=sn(t,c),d.push(m),c+=u}if(n.referredTo=d,r?(n.pageAssociation=sn(t,c),c+=4):n.pageAssociation=t[c++],n.length=sn(t,c),c+=4,n.length===4294967295)if(s===38){const m=g5(t,c),v=!!(t[c+m5]&1),S=6,C=new Uint8Array(S);for(v||(C[0]=255,C[1]=172),C[2]=m.height>>>24&255,C[3]=m.height>>16&255,C[4]=m.height>>8&255,C[5]=m.height&255,p=c,g=t.length;p<g;p++){let E=0;for(;E<S&&C[E]===t[p+E];)E++;if(E===S){n.length=p+S;break}}if(n.length===4294967295)throw new qn("segment end was not found")}else throw new qn("invalid unknown segment length");return n.headerEnd=c,n}function Lie(t,e,n,i){const s=[];let r=n;for(;r<i;){const a=Die(e,r);r=a.headerEnd;const o={header:a,data:e};if(t.randomAccess||(o.start=r,r+=a.length,o.end=r),s.push(o),a.type===51)break}if(t.randomAccess)for(let a=0,o=s.length;a<o;a++)s[a].start=r,r+=s[a].header.length,s[a].end=r;return s}function g5(t,e){return{width:sn(t,e),height:sn(t,e+4),x:sn(t,e+8),y:sn(t,e+12),combinationOperator:t[e+16]&7}}const m5=17;function Oie(t,e){const n=t.header,i=t.data,s=t.end;let r=t.start,a,o,l,c;switch(n.type){case 0:const d={},p=Mt(i,r);if(d.huffman=!!(p&1),d.refinement=!!(p&2),d.huffmanDHSelector=p>>2&3,d.huffmanDWSelector=p>>4&3,d.bitmapSizeSelector=p>>6&1,d.aggregationInstancesSelector=p>>7&1,d.bitmapCodingContextUsed=!!(p&256),d.bitmapCodingContextRetained=!!(p&512),d.template=p>>10&3,d.refinementTemplate=p>>12&1,r+=2,!d.huffman){for(c=d.template===0?4:1,o=[],l=0;l<c;l++)o.push({x:el(i,r),y:el(i,r+1)}),r+=2;d.at=o}if(d.refinement&&!d.refinementTemplate){for(o=[],l=0;l<2;l++)o.push({x:el(i,r),y:el(i,r+1)}),r+=2;d.refinementAt=o}d.numberOfExportedSymbols=sn(i,r),r+=4,d.numberOfNewSymbols=sn(i,r),r+=4,a=[d,n.number,n.referredTo,i,r,s];break;case 6:case 7:const g={};g.info=g5(i,r),r+=m5;const m=Mt(i,r);if(r+=2,g.huffman=!!(m&1),g.refinement=!!(m&2),g.logStripSize=m>>2&3,g.stripSize=1<<g.logStripSize,g.referenceCorner=m>>4&3,g.transposed=!!(m&64),g.combinationOperator=m>>7&3,g.defaultPixelValue=m>>9&1,g.dsOffset=m<<17>>27,g.refinementTemplate=m>>15&1,g.huffman){const P=Mt(i,r);r+=2,g.huffmanFS=P&3,g.huffmanDS=P>>2&3,g.huffmanDT=P>>4&3,g.huffmanRefinementDW=P>>6&3,g.huffmanRefinementDH=P>>8&3,g.huffmanRefinementDX=P>>10&3,g.huffmanRefinementDY=P>>12&3,g.huffmanRefinementSizeSelector=!!(P&16384)}if(g.refinement&&!g.refinementTemplate){for(o=[],l=0;l<2;l++)o.push({x:el(i,r),y:el(i,r+1)}),r+=2;g.refinementAt=o}g.numberOfSymbolInstances=sn(i,r),r+=4,a=[g,n.referredTo,i,r,s];break;case 16:const b={},v=i[r++];b.mmr=!!(v&1),b.template=v>>1&3,b.patternWidth=i[r++],b.patternHeight=i[r++],b.maxPatternIndex=sn(i,r),r+=4,a=[b,n.number,i,r,s];break;case 22:case 23:const S={};S.info=g5(i,r),r+=m5;const C=i[r++];S.mmr=!!(C&1),S.template=C>>1&3,S.enableSkip=!!(C&8),S.combinationOperator=C>>4&7,S.defaultPixelValue=C>>7&1,S.gridWidth=sn(i,r),r+=4,S.gridHeight=sn(i,r),r+=4,S.gridOffsetX=sn(i,r)&4294967295,r+=4,S.gridOffsetY=sn(i,r)&4294967295,r+=4,S.gridVectorX=Mt(i,r),r+=2,S.gridVectorY=Mt(i,r),r+=2,a=[S,n.referredTo,i,r,s];break;case 38:case 39:const E={};E.info=g5(i,r),r+=m5;const w=i[r++];if(E.mmr=!!(w&1),E.template=w>>1&3,E.prediction=!!(w&8),!E.mmr){for(c=E.template===0?4:1,o=[],l=0;l<c;l++)o.push({x:el(i,r),y:el(i,r+1)}),r+=2;E.at=o}a=[E,i,r,s];break;case 48:const A={width:sn(i,r),height:sn(i,r+4),resolutionX:sn(i,r+8),resolutionY:sn(i,r+12)};A.height===4294967295&&delete A.height;const T=i[r+16];Mt(i,r+17),A.lossless=!!(T&1),A.refinement=!!(T&2),A.defaultPixelValue=T>>2&1,A.combinationOperator=T>>3&3,A.requiresBuffer=!!(T&32),A.combinationOperatorOverride=!!(T&64),a=[A];break;case 49:break;case 50:break;case 51:break;case 53:a=[n.number,i,r,s];break;case 62:break;default:throw new qn(`segment type ${n.typeName}(${n.type}) is not implemented`)}const u="on"+n.typeName;u in e&&e[u].apply(e,a)}function Bie(t,e){for(let n=0,i=t.length;n<i;n++)Oie(t[n],e)}function jie(t){const e=new $ie;for(let n=0,i=t.length;n<i;n++){const s=t[n],r=Lie({},s.data,s.start,s.end);Bie(r,e)}return e.buffer}class $ie{onPageInformation(e){this.currentPageInfo=e;const n=e.width+7>>3,i=new Uint8ClampedArray(n*e.height);e.defaultPixelValue&&i.fill(255),this.buffer=i}drawBitmap(e,n){const i=this.currentPageInfo,s=e.width,r=e.height,a=i.width+7>>3,o=i.combinationOperatorOverride?e.combinationOperator:i.combinationOperator,l=this.buffer,c=128>>(e.x&7);let u=e.y*a+(e.x>>3),d,p,g,m;switch(o){case 0:for(d=0;d<r;d++){for(g=c,m=u,p=0;p<s;p++)n[d][p]&&(l[m]|=g),g>>=1,g||(g=128,m++);u+=a}break;case 2:for(d=0;d<r;d++){for(g=c,m=u,p=0;p<s;p++)n[d][p]&&(l[m]^=g),g>>=1,g||(g=128,m++);u+=a}break;default:throw new qn(`operator ${o} is not supported`)}}onImmediateGenericRegion(e,n,i,s){const r=e.info,a=new bm(n,i,s),o=R6(e.mmr,r.width,r.height,e.template,e.prediction,null,e.at,a);this.drawBitmap(r,o)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(e,n,i,s,r,a){let o,l;e.huffman&&(o=Hie(e,i,this.customTables),l=new Hx(s,r,a));let c=this.symbols;c||(this.symbols=c={});const u=[];for(const p of i){const g=c[p];g&&u.push(...g)}const d=new bm(s,r,a);c[n]=Rie(e.huffman,e.refinement,u,e.numberOfNewSymbols,e.numberOfExportedSymbols,o,e.template,e.at,e.refinementTemplate,e.refinementAt,d,l)}onImmediateTextRegion(e,n,i,s,r){const a=e.info;let o,l;const c=this.symbols,u=[];for(const m of n){const b=c[m];b&&u.push(...b)}const d=Vk(u.length);e.huffman&&(l=new Hx(i,s,r),o=zie(e,n,this.customTables,u.length,l));const p=new bm(i,s,r),g=qO(e.huffman,e.refinement,a.width,a.height,e.defaultPixelValue,e.numberOfSymbolInstances,e.stripSize,u,d,e.transposed,e.dsOffset,e.referenceCorner,e.combinationOperator,o,e.refinementTemplate,e.refinementAt,p,e.logStripSize,l);this.drawBitmap(a,g)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(e,n,i,s,r){let a=this.patterns;a||(this.patterns=a={});const o=new bm(i,s,r);a[n]=Fie(e.mmr,e.patternWidth,e.patternHeight,e.maxPatternIndex,e.template,o)}onImmediateHalftoneRegion(e,n,i,s,r){const a=this.patterns[n[0]],o=e.info,l=new bm(i,s,r),c=Mie(e.mmr,a,e.template,o.width,o.height,e.defaultPixelValue,e.enableSkip,e.combinationOperator,e.gridWidth,e.gridHeight,e.gridOffsetX,e.gridOffsetY,e.gridVectorX,e.gridVectorY,l);this.drawBitmap(o,c)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(e,n,i,s){let r=this.customTables;r||(this.customTables=r={}),r[e]=Uie(n,i,s)}}class Su{constructor(e){e.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=e[0],this.rangeLength=0,this.prefixCode=e[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=e[0],this.prefixLength=e[1],this.rangeLength=e[2],this.prefixCode=e[3],this.isLowerRange=e[4]==="lower")}}class t8{constructor(e){this.children=[],e?(this.isLeaf=!0,this.rangeLength=e.rangeLength,this.rangeLow=e.rangeLow,this.isLowerRange=e.isLowerRange,this.isOOB=e.isOOB):this.isLeaf=!1}buildTree(e,n){const i=e.prefixCode>>n&1;if(n<=0)this.children[i]=new t8(e);else{let s=this.children[i];s||(this.children[i]=s=new t8(null)),s.buildTree(e,n-1)}}decodeNode(e){if(this.isLeaf){if(this.isOOB)return null;const i=e.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-i:i)}const n=this.children[e.readBit()];if(!n)throw new qn("invalid Huffman data");return n.decodeNode(e)}}class n8{constructor(e,n){n||this.assignPrefixCodes(e),this.rootNode=new t8(null);for(let i=0,s=e.length;i<s;i++){const r=e[i];r.prefixLength>0&&this.rootNode.buildTree(r,r.prefixLength-1)}}decode(e){return this.rootNode.decodeNode(e)}assignPrefixCodes(e){const n=e.length;let i=0;for(let u=0;u<n;u++)i=Math.max(i,e[u].prefixLength);const s=new Uint32Array(i+1);for(let u=0;u<n;u++)s[e[u].prefixLength]++;let r=1,a=0,o,l,c;for(s[0]=0;r<=i;){for(a=a+s[r-1]<<1,o=a,l=0;l<n;)c=e[l],c.prefixLength===r&&(c.prefixCode=o,o++),l++;r++}}}function Uie(t,e,n){const i=t[e],s=sn(t,e+1)&4294967295,r=sn(t,e+5)&4294967295,a=new Hx(t,e+9,n),o=(i>>1&7)+1,l=(i>>4&7)+1,c=[];let u,d,p=s;do u=a.readBits(o),d=a.readBits(l),c.push(new Su([p,u,d,0])),p+=1<<d;while(p<r);return u=a.readBits(o),c.push(new Su([s-1,u,32,0,"lower"])),u=a.readBits(o),c.push(new Su([r,u,32,0])),i&1&&(u=a.readBits(o),c.push(new Su([u,0]))),new n8(c,!1)}const oN={};function Au(t){let e=oN[t];if(e)return e;let n;switch(t){case 1:n=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:n=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:n=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:n=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:n=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:n=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:n=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:n=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:n=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:n=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:n=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:n=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:n=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:n=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:n=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new qn(`standard table B.${t} does not exist`)}for(let i=0,s=n.length;i<s;i++)n[i]=new Su(n[i]);return e=new n8(n,!0),oN[t]=e,e}class Hx{constructor(e,n,i){this.data=e,this.start=n,this.end=i,this.position=n,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new qn("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const e=this.currentByte>>this.shift&1;return this.shift--,e}readBits(e){let n=0,i;for(i=e-1;i>=0;i--)n|=this.readBit()<<i;return n}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function Lh(t,e,n){let i=0;for(let s=0,r=e.length;s<r;s++){const a=n[e[s]];if(a){if(t===i)return a;i++}}throw new qn("can't find custom Huffman table")}function zie(t,e,n,i,s){const r=[];for(let p=0;p<=34;p++){const g=s.readBits(4);r.push(new Su([p,g,0,0]))}const a=new n8(r,!1);r.length=0;for(let p=0;p<i;){const g=a.decode(s);if(g>=32){let m,b,v;switch(g){case 32:if(p===0)throw new qn("no previous value in symbol ID table");b=s.readBits(2)+3,m=r[p-1].prefixLength;break;case 33:b=s.readBits(3)+3,m=0;break;case 34:b=s.readBits(7)+11,m=0;break;default:throw new qn("invalid code length in symbol ID table")}for(v=0;v<b;v++)r.push(new Su([p,m,0,0])),p++}else r.push(new Su([p,g,0,0])),p++}s.byteAlign();const o=new n8(r,!1);let l=0,c,u,d;switch(t.huffmanFS){case 0:case 1:c=Au(t.huffmanFS+6);break;case 3:c=Lh(l,e,n),l++;break;default:throw new qn("invalid Huffman FS selector")}switch(t.huffmanDS){case 0:case 1:case 2:u=Au(t.huffmanDS+8);break;case 3:u=Lh(l,e,n),l++;break;default:throw new qn("invalid Huffman DS selector")}switch(t.huffmanDT){case 0:case 1:case 2:d=Au(t.huffmanDT+11);break;case 3:d=Lh(l,e,n),l++;break;default:throw new qn("invalid Huffman DT selector")}if(t.refinement)throw new qn("refinement with Huffman is not supported");return{symbolIDTable:o,tableFirstS:c,tableDeltaS:u,tableDeltaT:d}}function Hie(t,e,n){let i=0,s,r;switch(t.huffmanDHSelector){case 0:case 1:s=Au(t.huffmanDHSelector+4);break;case 3:s=Lh(i,e,n),i++;break;default:throw new qn("invalid Huffman DH selector")}switch(t.huffmanDWSelector){case 0:case 1:r=Au(t.huffmanDWSelector+2);break;case 3:r=Lh(i,e,n),i++;break;default:throw new qn("invalid Huffman DW selector")}let a,o;return t.bitmapSizeSelector?(a=Lh(i,e,n),i++):a=Au(1),t.aggregationInstancesSelector?o=Lh(i,e,n):o=Au(1),{tableDeltaHeight:s,tableDeltaWidth:r,tableBitmapSize:a,tableAggregateInstances:o}}function qie(t,e,n){const i=[];for(let s=0;s<n;s++){const r=new Uint8Array(e);i.push(r);for(let a=0;a<e;a++)r[a]=t.readBit();t.byteAlign()}return i}function Yk(t,e,n,i){const s={K:-1,Columns:e,Rows:n,BlackIs1:!0,EndOfBlock:i},r=new UO(t,s),a=[];let o,l=!1;for(let c=0;c<n;c++){const u=new Uint8Array(e);a.push(u);let d=-1;for(let p=0;p<e;p++)d<0&&(o=r.readNextChar(),o===-1&&(o=0,l=!0),d=7),u[p]=o>>d&1,d--}if(i&&!l)for(let u=0;u<5&&r.readNextChar()!==-1;u++);return a}class Gie{parseChunks(e){return jie(e)}parse(e){throw new Error("Not implemented: Jbig2Image.parse")}}class Wie extends zs{constructor(e,n,i){super(n),this.stream=e,this.dict=e.dict,this.maybeLength=n,this.params=i}get bytes(){return Fe(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(e){}readBlock(){this.decodeImage()}decodeImage(e){if(this.eof)return this.buffer;e||(e=this.bytes);const n=new Gie,i=[];if(this.params instanceof J){const a=this.params.get("JBIG2Globals");if(a instanceof _t){const o=a.getBytes();i.push({data:o,start:0,end:o.length})}}i.push({data:e,start:0,end:e.length});const s=n.parseChunks(i),r=s.length;for(let a=0;a<r;a++)s[a]^=255;return this.buffer=s,this.bufferLength=r,this.eof=!0,this.buffer}get canAsyncDecodeImageFromBuffer(){return this.stream.isAsync}}class Vie extends zs{constructor(e,n,i){super(n),this.stream=e,this.dict=e.dict,this.maybeLength=n,this.params=i}get bytes(){return Fe(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(e){}readBlock(e){Ot("JpxStream.readBlock")}get isAsyncDecoder(){return!0}async decodeImage(e,n){return this.eof?this.buffer:(e||(e=this.bytes),this.buffer=await Co.decode(e,n),this.bufferLength=this.buffer.length,this.eof=!0,this.buffer)}get canAsyncDecodeImageFromBuffer(){return this.stream.isAsync}}class lN extends zs{constructor(e,n,i){super(n),this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;const s=4096,r={earlyChange:i,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(s),dictionaryLengths:new Uint16Array(s),dictionaryPrevCodes:new Uint16Array(s),currentSequence:new Uint8Array(s),currentSequenceLength:0};for(let a=0;a<256;++a)r.dictionaryValues[a]=a,r.dictionaryLengths[a]=1;this.lzwState=r}readBits(e){let n=this.bitsCached,i=this.cachedData;for(;n<e;){const s=this.str.getByte();if(s===-1)return this.eof=!0,null;i=i<<8|s,n+=8}return this.bitsCached=n-=e,this.cachedData=i,this.lastCode=null,i>>>n&(1<<e)-1}readBlock(){let i=1024,s,r,a;const o=this.lzwState;if(!o)return;const l=o.earlyChange;let c=o.nextCode;const u=o.dictionaryValues,d=o.dictionaryLengths,p=o.dictionaryPrevCodes;let g=o.codeLength,m=o.prevCode;const b=o.currentSequence;let v=o.currentSequenceLength,S=0,C=this.bufferLength,E=this.ensureBuffer(this.bufferLength+i);for(s=0;s<512;s++){const w=this.readBits(g),A=v>0;if(w<256)b[0]=w,v=1;else if(w>=258)if(w<c)for(v=d[w],r=v-1,a=w;r>=0;r--)b[r]=u[a],a=p[a];else b[v++]=b[0];else if(w===256){g=9,c=258,v=0;continue}else{this.eof=!0,delete this.lzwState;break}if(A&&(p[c]=m,d[c]=d[m]+1,u[c]=b[0],c++,g=c+l&c+l-1?g:Math.min(Math.log(c+l)/.6931471805599453+1,12)|0),m=w,S+=v,i<S){do i+=512;while(i<S);E=this.ensureBuffer(this.bufferLength+i)}for(r=0;r<v;r++)E[C++]=b[r]}o.nextCode=c,o.codeLength=g,o.prevCode=m,o.currentSequenceLength=v,this.bufferLength=C}}class cN extends zs{constructor(e,n,i){if(super(n),!(i instanceof J))return e;const s=this.predictor=i.get("Predictor")||1;if(s<=1)return e;if(s!==2&&(s<10||s>15))throw new me(`Unsupported predictor: ${s}`);this.readBlock=s===2?this.readBlockTiff:this.readBlockPng,this.str=e,this.dict=e.dict;const r=this.colors=i.get("Colors")||1,a=this.bits=i.get("BPC","BitsPerComponent")||8,o=this.columns=i.get("Columns")||1;return this.pixBytes=r*a+7>>3,this.rowBytes=o*r*a+7>>3,this}readBlockTiff(){const e=this.rowBytes,n=this.bufferLength,i=this.ensureBuffer(n+e),s=this.bits,r=this.colors,a=this.str.getBytes(e);if(this.eof=!a.length,this.eof)return;let o=0,l=0,c=0,u=0,d=n,p;if(s===1&&r===1)for(p=0;p<e;++p){let g=a[p]^o;g^=g>>1,g^=g>>2,g^=g>>4,o=(g&1)<<7,i[d++]=g}else if(s===8){for(p=0;p<r;++p)i[d++]=a[p];for(;p<e;++p)i[d]=i[d-r]+a[p],d++}else if(s===16){const g=r*2;for(p=0;p<g;++p)i[d++]=a[p];for(;p<e;p+=2){const m=((a[p]&255)<<8)+(a[p+1]&255)+((i[d-g]&255)<<8)+(i[d-g+1]&255);i[d++]=m>>8&255,i[d++]=m&255}}else{const g=new Uint8Array(r+1),m=(1<<s)-1;let b=0,v=n;const S=this.columns;for(p=0;p<S;++p)for(let C=0;C<r;++C)c<s&&(o=o<<8|a[b++]&255,c+=8),g[C]=g[C]+(o>>c-s)&m,c-=s,l=l<<s|g[C],u+=s,u>=8&&(i[v++]=l>>u-8&255,u-=8);u>0&&(i[v++]=(l<<8-u)+(o&(1<<8-u)-1))}this.bufferLength+=e}readBlockPng(){const e=this.rowBytes,n=this.pixBytes,i=this.str.getByte(),s=this.str.getBytes(e);if(this.eof=!s.length,this.eof)return;const r=this.bufferLength,a=this.ensureBuffer(r+e);let o=a.subarray(r-e,r);o.length===0&&(o=new Uint8Array(e));let l,c=r,u,d;switch(i){case 0:for(l=0;l<e;++l)a[c++]=s[l];break;case 1:for(l=0;l<n;++l)a[c++]=s[l];for(;l<e;++l)a[c]=a[c-n]+s[l]&255,c++;break;case 2:for(l=0;l<e;++l)a[c++]=o[l]+s[l]&255;break;case 3:for(l=0;l<n;++l)a[c++]=(o[l]>>1)+s[l];for(;l<e;++l)a[c]=(o[l]+a[c-n]>>1)+s[l]&255,c++;break;case 4:for(l=0;l<n;++l)u=o[l],d=s[l],a[c++]=u+d;for(;l<e;++l){u=o[l];const p=o[l-n],g=a[c-n],m=g+u-p;let b=m-g;b<0&&(b=-b);let v=m-u;v<0&&(v=-v);let S=m-p;S<0&&(S=-S),d=s[l],b<=v&&b<=S?a[c++]=g+d:v<=S?a[c++]=u+d:a[c++]=p+d}break;default:throw new me(`Unsupported predictor: ${i}`)}this.bufferLength+=e}}class Xie extends zs{constructor(e,n){super(n),this.str=e,this.dict=e.dict}readBlock(){const e=this.str.getBytes(2);if(!e||e.length<2||e[0]===128){this.eof=!0;return}let n,i=this.bufferLength,s=e[0];if(s<128){if(n=this.ensureBuffer(i+s+1),n[i++]=e[1],s>0){const r=this.str.getBytes(s);n.set(r,i),i+=s}}else s=257-s,n=this.ensureBuffer(i+s+1),n.fill(e[1],i,i+s),i+=s;this.bufferLength=i}}const Kie=1e3;function Yie(t){const e=[],n=t.length;let i=0;for(;i<n-1;)e.push(t[i++]<<8|t[i++]);return i<n&&e.push(t[i]),n+"_"+String.fromCharCode.apply(null,e)}var q8,GO;class E0{constructor({lexer:e,xref:n,allowStreams:i=!1,recoveryMode:s=!1}){L(this,q8);this.lexer=e,this.xref=n,this.allowStreams=i,this.recoveryMode=s,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof gi&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(e){if(e instanceof En)throw e;return!1}}getObj(e=null){const n=this.buf1;if(this.shift(),n instanceof gi)switch(n.cmd){case"BI":return this.makeInlineImage(e);case"[":const i=[];for(;!Oi(this.buf1,"]")&&this.buf1!==Ji;)i.push(this.getObj(e));if(this.buf1===Ji){if(this.recoveryMode)return i;throw new rA("End of file inside array.")}return this.shift(),i;case"<<":const s=new J(this.xref);for(;!Oi(this.buf1,">>")&&this.buf1!==Ji;){if(!(this.buf1 instanceof le)){Pt("Malformed dictionary: key must be a name object"),this.shift();continue}const r=this.buf1.name;if(this.shift(),this.buf1===Ji)break;s.set(r,this.getObj(e))}if(this.buf1===Ji){if(this.recoveryMode)return s;throw new rA("End of file inside dictionary.")}return Oi(this.buf2,"stream")?this.allowStreams?this.makeStream(s,e):s:(this.shift(),s);default:return n}if(Number.isInteger(n)){if(Number.isInteger(this.buf1)&&Oi(this.buf2,"R")){const i=Be.get(n,this.buf1);return this.shift(),this.shift(),i}return n}return typeof n=="string"&&e?e.decryptString(n):n}findDefaultInlineStreamEnd(e){const{knownCommands:l}=this.lexer,c=e.pos,u=15;let d=0,p,g;for(;(p=e.getByte())!==-1;)if(d===0)d=p===69?1:0;else if(d===1)d=p===73?2:0;else if(p===32||p===10||p===13){g=e.pos;const b=e.peekBytes(u),v=b.length;if(v===0)break;for(let E=0;E<v;E++)if(p=b[E],!(p===0&&b[E+1]!==0)&&p!==10&&p!==13&&(p<32||p>127)){d=0;break}if(d!==2)continue;if(!l){W("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const S=new To(new Vn(e.peekBytes(5*u)),l);S._hexStringWarn=()=>{};let C=0;for(;;){const E=S.getObj();if(E===Ji){d=0;break}if(E instanceof gi){const w=l[E.cmd];if(w){if(w.variableArgs?C<=w.numArgs:C===w.numArgs)break}else{d=0;break}C=0;continue}C++}if(d===2)break}else d=0;p===-1&&(W("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),g&&(W('... trying to recover by using the last "EI" occurrence.'),e.skip(-(e.pos-g))));let m=4;return e.skip(-m),p=e.peekByte(),e.skip(m),pa(p)||m--,e.pos-m-c}findDCTDecodeInlineStreamEnd(e){const n=e.pos;let i=!1,s,r;for(;(s=e.getByte())!==-1;)if(s===255){switch(e.getByte()){case 0:break;case 255:e.skip(-1);break;case 217:i=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:r=e.getUint16(),r>2?e.skip(r-2):e.skip(-2);break}if(i)break}const a=e.pos-n;return s===-1?(W("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),e.skip(-a),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),a)}findASCII85DecodeInlineStreamEnd(e){const s=e.pos;let r;for(;(r=e.getByte())!==-1;)if(r===126){const o=e.pos;for(r=e.peekByte();pa(r);)e.skip(),r=e.peekByte();if(r===62){e.skip();break}if(e.pos>o){const l=e.peekBytes(2);if(l[0]===69&&l[1]===73)break}}const a=e.pos-s;return r===-1?(W("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),e.skip(-a),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),a)}findASCIIHexDecodeInlineStreamEnd(e){const i=e.pos;let s;for(;(s=e.getByte())!==-1&&s!==62;);const r=e.pos-i;return s===-1?(W("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),e.skip(-r),this.findDefaultInlineStreamEnd(e)):(this.inlineStreamSkipEI(e),r)}inlineStreamSkipEI(e){let s=0,r;for(;(r=e.getByte())!==-1;)if(s===0)s=r===69?1:0;else if(s===1)s=r===73?2:0;else if(s===2)break}makeInlineImage(e){const n=this.lexer,i=n.stream,s=Object.create(null);let r;for(;!Oi(this.buf1,"ID")&&this.buf1!==Ji;){if(!(this.buf1 instanceof le))throw new me("Dictionary key must be a name object");const g=this.buf1.name;if(this.shift(),this.buf1===Ji)break;s[g]=this.getObj(e)}n.beginInlineImagePos!==-1&&(r=i.pos-n.beginInlineImagePos);const a=this.xref.fetchIfRef(s.F||s.Filter);let o;if(a instanceof le)o=a.name;else if(Array.isArray(a)){const g=this.xref.fetchIfRef(a[0]);g instanceof le&&(o=g.name)}const l=i.pos;let c;switch(o){case"DCT":case"DCTDecode":c=this.findDCTDecodeInlineStreamEnd(i);break;case"A85":case"ASCII85Decode":c=this.findASCII85DecodeInlineStreamEnd(i);break;case"AHx":case"ASCIIHexDecode":c=this.findASCIIHexDecodeInlineStreamEnd(i);break;default:c=this.findDefaultInlineStreamEnd(i)}let u;if(c<Kie&&r>0){const g=i.pos;i.pos=n.beginInlineImagePos,u=Yie(i.getBytes(r+c)),i.pos=g;const m=this.imageCache[u];if(m!==void 0)return this.buf2=gi.get("EI"),this.shift(),m.reset(),m}const d=new J(this.xref);for(const g in s)d.set(g,s[g]);let p=i.makeSubStream(l,c,d);return e&&(p=e.createStream(p,c)),p=this.filter(p,d,c),p.dict=d,u!==void 0&&(p.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[u]=p),this.buf2=gi.get("EI"),this.shift(),p}makeStream(e,n){const i=this.lexer;let s=i.stream;i.skipToNextLine();const r=s.pos-1;let a=e.get("Length");if(Number.isInteger(a)||(Pt(`Bad length "${a&&a.toString()}" in stream.`),a=0),s.pos=r+a,i.nextChar(),this.tryShift()&&Oi(this.buf2,"endstream"))this.shift();else{if(a=M(this,q8,GO).call(this,r),a<0)throw new me("Missing endstream command.");i.nextChar(),this.shift(),this.shift()}return this.shift(),s=s.makeSubStream(r,a,e),n&&(s=n.createStream(s,a)),s=this.filter(s,e,a),s.dict=e,s}filter(e,n,i){let s=n.get("F","Filter"),r=n.get("DP","DecodeParms");if(s instanceof le)return Array.isArray(r)&&W("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(e,s.name,i,r);let a=i;if(Array.isArray(s)){const o=s,l=r;for(let c=0,u=o.length;c<u;++c){if(s=this.xref.fetchIfRef(o[c]),!(s instanceof le))throw new me(`Bad filter name "${s}"`);r=null,Array.isArray(l)&&c in l&&(r=this.xref.fetchIfRef(l[c])),e=this.makeFilter(e,s.name,a,r),a=null}}return e}makeFilter(e,n,i,s){if(i===0)return W(`Empty "${n}" stream.`),new pA;try{switch(n){case"Fl":case"FlateDecode":return s?new cN(new sN(e,i),i,s):new sN(e,i);case"LZW":case"LZWDecode":let r=1;return s?(s.has("EarlyChange")&&(r=s.get("EarlyChange")),new cN(new lN(e,i,r),i,s)):new lN(e,i,r);case"DCT":case"DCTDecode":return new cg(e,i,s);case"JPX":case"JPXDecode":return new Vie(e,i,s);case"A85":case"ASCII85Decode":return new yie(e,i);case"AHx":case"ASCIIHexDecode":return new wie(e,i);case"CCF":case"CCITTFaxDecode":return new vie(e,i,s);case"RL":case"RunLengthDecode":return new Xie(e,i);case"JBIG2Decode":return new Wie(e,i,s)}return W(`Filter "${n}" is not supported.`),e}catch(r){if(r instanceof En)throw r;return W(`Invalid stream: "${r}"`),new pA}}}q8=new WeakSet,GO=function(e){const{stream:n}=this.lexer;n.pos=e;const i=2048,s=9,r=new Uint8Array([101,110,100]),a=r.length,o=[new Uint8Array([115,116,114,101,97,109]),new Uint8Array([115,116,101,97,109]),new Uint8Array([115,116,114,101,97])],l=s-a;for(;n.pos<n.end;){const c=n.peekBytes(i),u=c.length-s;if(u<=0)break;let d=0;for(;d<u;){let p=0;for(;p<a&&c[d+p]===r[p];)p++;if(p>=a){let g=!1;for(const m of o){const b=m.length;let v=0;for(;v<b&&c[d+p+v]===m[v];)v++;if(v>=l){g=!0;break}if(v>=b){const S=c[d+p+v];pa(S)&&(Pt(`Found "${Mr([...r,...m])}" when searching for endstream command.`),g=!0);break}}if(g)return n.pos+=d,n.pos-e}d++}n.pos+=u}return-1};const i1=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Iw(t){return t>=48&&t<=57?t&15:t>=65&&t<=70||t>=97&&t<=102?(t&15)+9:-1}class To{constructor(e,n=null){this.stream=e,this.nextChar(),this.strBuf=[],this.knownCommands=n,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let e=this.currentChar,n=!1,i=0,s=1;if(e===45?(s=-1,e=this.nextChar(),e===45&&(e=this.nextChar())):e===43&&(e=this.nextChar()),e===10||e===13)do e=this.nextChar();while(e===10||e===13);if(e===46&&(i=10,e=this.nextChar()),e<48||e>57){const l=`Invalid number: ${String.fromCharCode(e)} (charCode ${e})`;if(pa(e)||e===40||e===60||e===-1)return Pt(`Lexer.getNumber - "${l}".`),0;throw new me(l)}let r=e-48,a=0,o=1;for(;(e=this.nextChar())>=0;)if(e>=48&&e<=57){const l=e-48;n?a=a*10+l:(i!==0&&(i*=10),r=r*10+l)}else if(e===46)if(i===0)i=1;else break;else if(e===45)W("Badly formatted number: minus sign in the middle");else if(e===69||e===101){if(e=this.peekChar(),e===43||e===45)o=e===45?-1:1,this.nextChar();else if(e<48||e>57)break;n=!0}else break;return i!==0&&(r/=i),n&&(r*=10**(o*a)),s*r}getString(){let e=1,n=!1;const i=this.strBuf;i.length=0;let s=this.nextChar();for(;;){let r=!1;switch(s|0){case-1:W("Unterminated string"),n=!0;break;case 40:++e,i.push("(");break;case 41:--e===0?(this.nextChar(),n=!0):i.push(")");break;case 92:switch(s=this.nextChar(),s){case-1:W("Unterminated string"),n=!0;break;case 110:i.push(`
`);break;case 114:i.push("\r");break;case 116:i.push("	");break;case 98:i.push("\b");break;case 102:i.push("\f");break;case 92:case 40:case 41:i.push(String.fromCharCode(s));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let a=s&15;s=this.nextChar(),r=!0,s>=48&&s<=55&&(a=(a<<3)+(s&15),s=this.nextChar(),s>=48&&s<=55&&(r=!1,a=(a<<3)+(s&15))),i.push(String.fromCharCode(a));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:i.push(String.fromCharCode(s));break}break;default:i.push(String.fromCharCode(s));break}if(n)break;r||(s=this.nextChar())}return i.join("")}getName(){let e,n;const i=this.strBuf;for(i.length=0;(e=this.nextChar())>=0&&!i1[e];)if(e===35){if(e=this.nextChar(),i1[e]){W("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),i.push("#");break}const s=Iw(e);if(s!==-1){n=e,e=this.nextChar();const r=Iw(e);if(r===-1){if(W(`Lexer_getName: Illegal digit (${String.fromCharCode(e)}) in hexadecimal number.`),i.push("#",String.fromCharCode(n)),i1[e])break;i.push(String.fromCharCode(e));continue}i.push(String.fromCharCode(s<<4|r))}else i.push("#",String.fromCharCode(e))}else i.push(String.fromCharCode(e));return i.length>127&&W(`Name token is longer than allowed by the spec: ${i.length}`),le.get(i.join(""))}_hexStringWarn(e){if(this._hexStringNumWarn++===5){W("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||W(`getHexString - ignoring invalid character: ${e}`)}getHexString(){const e=this.strBuf;e.length=0;let n=this.currentChar,i=-1,s=-1;for(this._hexStringNumWarn=0;;)if(n<0){W("Unterminated hex string");break}else if(n===62){this.nextChar();break}else if(i1[n]===1){n=this.nextChar();continue}else s=Iw(n),s===-1?this._hexStringWarn(n):i===-1?i=s:(e.push(String.fromCharCode(i<<4|s)),i=-1),n=this.nextChar();return i!==-1&&e.push(String.fromCharCode(i<<4)),e.join("")}getObj(){let e=!1,n=this.currentChar;for(;;){if(n<0)return Ji;if(e)(n===10||n===13)&&(e=!1);else if(n===37)e=!0;else if(i1[n]!==1)break;n=this.nextChar()}switch(n|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),gi.get("[");case 93:return this.nextChar(),gi.get("]");case 60:return n=this.nextChar(),n===60?(this.nextChar(),gi.get("<<")):this.getHexString();case 62:return n=this.nextChar(),n===62?(this.nextChar(),gi.get(">>")):gi.get(">");case 123:return this.nextChar(),gi.get("{");case 125:return this.nextChar(),gi.get("}");case 41:throw this.nextChar(),new me(`Illegal character: ${n}`)}let i=String.fromCharCode(n);if(n<32||n>127){const a=this.peekChar();if(a>=32&&a<=127)return this.nextChar(),gi.get(i)}const s=this.knownCommands;let r=(s==null?void 0:s[i])!==void 0;for(;(n=this.nextChar())>=0&&!i1[n];){const a=i+String.fromCharCode(n);if(r&&s[a]===void 0)break;if(i.length===128)throw new me(`Command token too long: ${i.length}`);i=a,r=(s==null?void 0:s[i])!==void 0}return i==="true"?!0:i==="false"?!1:i==="null"?null:(i==="BI"&&(this.beginInlineImagePos=this.stream.pos),gi.get(i))}skipToNextLine(){let e=this.currentChar;for(;e>=0;){if(e===13){e=this.nextChar(),e===10&&this.nextChar();break}else if(e===10){this.nextChar();break}e=this.nextChar()}}}class Zie{static create(e){function n(d,p,g=!1){const m=d.get(p);if(Number.isInteger(m)&&(g?m>=0:m>0))return m;throw new Error(`The "${p}" parameter in the linearization dictionary is invalid.`)}function i(d){const p=d.get("H");let g;if(Array.isArray(p)&&((g=p.length)===2||g===4)){for(let m=0;m<g;m++){const b=p[m];if(!(Number.isInteger(b)&&b>0))throw new Error(`Hint (${m}) in the linearization dictionary is invalid.`)}return p}throw new Error("Hint array in the linearization dictionary is invalid.")}const s=new E0({lexer:new To(e),xref:null}),r=s.getObj(),a=s.getObj(),o=s.getObj(),l=s.getObj();let c,u;if(Number.isInteger(r)&&Number.isInteger(a)&&Oi(o,"obj")&&l instanceof J&&typeof(c=l.get("Linearized"))=="number"&&c>0){if((u=n(l,"L"))!==e.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:u,hints:i(l),objectNumberFirst:n(l,"O"),endFirst:n(l,"E"),numPages:n(l,"N"),mainXRefEntriesOffset:n(l,"T"),pageFirst:l.has("P")?n(l,"P",!0):0}}}const Jie=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],Pw=2**24-1;class Zk{constructor(e=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=e}addCodespaceRange(e,n,i){this.codespaceRanges[e-1].push(n,i),this.numCodespaceRanges++}mapCidRange(e,n,i){if(n-e>Pw)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;e<=n;)this._map[e++]=i++}mapBfRange(e,n,i){if(n-e>Pw)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const s=i.length-1;for(;e<=n;){this._map[e++]=i;const r=i.charCodeAt(s)+1;if(r>255){i=i.substring(0,s-1)+String.fromCharCode(i.charCodeAt(s-1)+1)+"\0";continue}i=i.substring(0,s)+String.fromCharCode(r)}}mapBfRangeToArray(e,n,i){if(n-e>Pw)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const s=i.length;let r=0;for(;e<=n&&r<s;)this._map[e]=i[r++],++e}mapOne(e,n){this._map[e]=n}lookup(e){return this._map[e]}contains(e){return this._map[e]!==void 0}forEach(e){const n=this._map,i=n.length;if(i<=65536)for(let s=0;s<i;s++)n[s]!==void 0&&e(s,n[s]);else for(const s in n)e(s,n[s])}charCodeOf(e){const n=this._map;if(n.length<=65536)return n.indexOf(e);for(const i in n)if(n[i]===e)return i|0;return-1}getMap(){return this._map}readCharCode(e,n,i){let s=0;const r=this.codespaceRanges;for(let a=0,o=r.length;a<o;a++){s=(s<<8|e.charCodeAt(n+a))>>>0;const l=r[a];for(let c=0,u=l.length;c<u;){const d=l[c++],p=l[c++];if(s>=d&&s<=p){i.charcode=s,i.length=a+1;return}}}i.charcode=0,i.length=1}getCharCodeLength(e){const n=this.codespaceRanges;for(let i=0,s=n.length;i<s;i++){const r=n[i];for(let a=0,o=r.length;a<o;){const l=r[a++],c=r[a++];if(e>=l&&e<=c)return i+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let e=0;e<65536;e++)if(this._map[e]!==e)return!1;return!0}}class L1 extends Zk{constructor(e,n){super(),this.vertical=e,this.addCodespaceRange(n,0,65535)}mapCidRange(e,n,i){Ot("should not call mapCidRange")}mapBfRange(e,n,i){Ot("should not call mapBfRange")}mapBfRangeToArray(e,n,i){Ot("should not call mapBfRangeToArray")}mapOne(e,n){Ot("should not call mapCidOne")}lookup(e){return Number.isInteger(e)&&e<=65535?e:void 0}contains(e){return Number.isInteger(e)&&e<=65535}forEach(e){for(let n=0;n<=65535;n++)e(n,n)}charCodeOf(e){return Number.isInteger(e)&&e<=65535?e:-1}getMap(){const e=new Array(65536);for(let n=0;n<=65535;n++)e[n]=n;return e}get length(){return 65536}get isIdentityCMap(){Ot("should not access .isIdentityCMap")}}function Du(t){let e=0;for(let n=0;n<t.length;n++)e=e<<8|t.charCodeAt(n);return e>>>0}function ff(t){if(typeof t!="string")throw new me("Malformed CMap: expected string.")}function WO(t){if(!Number.isInteger(t))throw new me("Malformed CMap: expected int.")}function Qie(t,e){for(;;){let n=e.getObj();if(n===Ji)break;if(Oi(n,"endbfchar"))return;ff(n);const i=Du(n);n=e.getObj(),ff(n);const s=n;t.mapOne(i,s)}}function ese(t,e){for(;;){let n=e.getObj();if(n===Ji)break;if(Oi(n,"endbfrange"))return;ff(n);const i=Du(n);n=e.getObj(),ff(n);const s=Du(n);if(n=e.getObj(),Number.isInteger(n)||typeof n=="string"){const r=Number.isInteger(n)?String.fromCharCode(n):n;t.mapBfRange(i,s,r)}else if(Oi(n,"[")){n=e.getObj();const r=[];for(;!Oi(n,"]")&&n!==Ji;)r.push(n),n=e.getObj();t.mapBfRangeToArray(i,s,r)}else break}throw new me("Invalid bf range.")}function tse(t,e){for(;;){let n=e.getObj();if(n===Ji)break;if(Oi(n,"endcidchar"))return;ff(n);const i=Du(n);n=e.getObj(),WO(n);const s=n;t.mapOne(i,s)}}function nse(t,e){for(;;){let n=e.getObj();if(n===Ji)break;if(Oi(n,"endcidrange"))return;ff(n);const i=Du(n);n=e.getObj(),ff(n);const s=Du(n);n=e.getObj(),WO(n);const r=n;t.mapCidRange(i,s,r)}}function ise(t,e){for(;;){let n=e.getObj();if(n===Ji)break;if(Oi(n,"endcodespacerange"))return;if(typeof n!="string")break;const i=Du(n);if(n=e.getObj(),typeof n!="string")break;const s=Du(n);t.addCodespaceRange(n.length,i,s)}throw new me("Invalid codespace range.")}function sse(t,e){const n=e.getObj();Number.isInteger(n)&&(t.vertical=!!n)}function rse(t,e){const n=e.getObj();n instanceof le&&(t.name=n.name)}async function VO(t,e,n,i){let s,r;e:for(;;)try{const a=e.getObj();if(a===Ji)break;if(a instanceof le)a.name==="WMode"?sse(t,e):a.name==="CMapName"&&rse(t,e),s=a;else if(a instanceof gi)switch(a.cmd){case"endcmap":break e;case"usecmap":s instanceof le&&(r=s.name);break;case"begincodespacerange":ise(t,e);break;case"beginbfchar":Qie(t,e);break;case"begincidchar":tse(t,e);break;case"beginbfrange":ese(t,e);break;case"begincidrange":nse(t,e);break}}catch(a){if(a instanceof En)throw a;W("Invalid cMap data: "+a);continue}return!i&&r&&(i=r),i?XO(t,n,i):t}async function XO(t,e,n){if(t.useCMap=await AA(n,e),t.numCodespaceRanges===0){const i=t.useCMap.codespaceRanges;for(let s=0;s<i.length;s++)t.codespaceRanges[s]=i[s].slice();t.numCodespaceRanges=t.useCMap.numCodespaceRanges}return t.useCMap.forEach(function(i,s){t.contains(i)||t.mapOne(i,s)}),t}async function AA(t,e){if(t==="Identity-H")return new L1(!1,2);if(t==="Identity-V")return new L1(!0,2);if(!Jie.includes(t))throw new Error("Unknown CMap name: "+t);if(!e)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:n,isCompressed:i}=await e(t),s=new Zk(!0);if(i)return new bie().process(n,s,a=>XO(s,e,a));const r=new To(new Vn(n));return VO(s,r,e,null)}class Qb{static async create({encoding:e,fetchBuiltInCMap:n,useCMap:i}){if(e instanceof le)return AA(e.name,n);if(e instanceof _t){const s=await VO(new Zk,new To(e),n,i);return s.isIdentityCMap?AA(s.name,n):s}throw new Error("Encoding required.")}}const ase=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],ose=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],lse=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"],KO=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],cse=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],Jk=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"],zc=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""],qx=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"],Qk=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""],eC=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];function Gx(t){switch(t){case"WinAnsiEncoding":return qx;case"StandardEncoding":return zc;case"MacRomanEncoding":return Jk;case"SymbolSetEncoding":return Qk;case"ZapfDingbatsEncoding":return eC;case"ExpertEncoding":return KO;case"MacExpertEncoding":return cse;default:return null}}const use=10,x5=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ey=391,s1=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],hse=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(t,e){t[e-2]=t[e-2]+t[e-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(t,e){t[e-2]=t[e-2]-t[e-1]}},{id:"div",min:2,stackDelta:-1,stackFn(t,e){t[e-2]=t[e-2]/t[e-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(t,e){t[e-1]=-t[e-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(t,e){t[e-2]=t[e-2]*t[e-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class tC{constructor(e,n,i){this.bytes=e.getBytes(),this.properties=n,this.seacAnalysisEnabled=!!i}parse(){const e=this.properties,n=new YO;this.cff=n;const i=this.parseHeader(),s=this.parseIndex(i.endPos),r=this.parseIndex(s.endPos),a=this.parseIndex(r.endPos),o=this.parseIndex(a.endPos),l=this.parseDict(r.obj.get(0)),c=this.createDict(Wx,l,n.strings);n.header=i.obj,n.names=this.parseNameIndex(s.obj),n.strings=this.parseStringIndex(a.obj),n.topDict=c,n.globalSubrIndex=o.obj,this.parsePrivateDict(n.topDict),n.isCIDFont=c.hasName("ROS");const u=c.getByName("CharStrings"),d=this.parseIndex(u).obj,p=c.getByName("FontMatrix");p&&(e.fontMatrix=p);const g=c.getByName("FontBBox");g&&(e.ascent=Math.max(g[3],g[1]),e.descent=Math.min(g[1],g[3]),e.ascentScaled=!0);let m,b;if(n.isCIDFont){const S=this.parseIndex(c.getByName("FDArray")).obj;for(let C=0,E=S.count;C<E;++C){const w=S.get(C),A=this.createDict(Wx,this.parseDict(w),n.strings);this.parsePrivateDict(A),n.fdArray.push(A)}b=null,m=this.parseCharsets(c.getByName("charset"),d.count,n.strings,!0),n.fdSelect=this.parseFDSelect(c.getByName("FDSelect"),d.count)}else m=this.parseCharsets(c.getByName("charset"),d.count,n.strings,!1),b=this.parseEncoding(c.getByName("Encoding"),e,n.strings,m.charset);n.charset=m,n.encoding=b;const v=this.parseCharStrings({charStrings:d,localSubrIndex:c.privateDict.subrsIndex,globalSubrIndex:o.obj,fdSelect:n.fdSelect,fdArray:n.fdArray,privateDict:c.privateDict});return n.charStrings=v.charStrings,n.seacs=v.seacs,n.widths=v.widths,n}parseHeader(){let e=this.bytes;const n=e.length;let i=0;for(;i<n&&e[i]!==1;)++i;if(i>=n)throw new me("Invalid CFF header");i!==0&&(Pt("cff data is shifted"),e=e.subarray(i),this.bytes=e);const s=e[0],r=e[1],a=e[2],o=e[3];return{obj:new ZO(s,r,a,o),endPos:a}}parseDict(e){let n=0;function i(){let l=e[n++];return l===30?s():l===28?(l=Bc(e,n),n+=2,l):l===29?(l=e[n++],l=l<<8|e[n++],l=l<<8|e[n++],l=l<<8|e[n++],l):l>=32&&l<=246?l-139:l>=247&&l<=250?(l-247)*256+e[n++]+108:l>=251&&l<=254?-((l-251)*256)-e[n++]-108:(W('CFFParser_parseDict: "'+l+'" is a reserved command.'),NaN)}function s(){let l="";const u=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],d=e.length;for(;n<d;){const p=e[n++],g=p>>4,m=p&15;if(g===15||(l+=u[g],m===15))break;l+=u[m]}return parseFloat(l)}let r=[];const a=[];n=0;const o=e.length;for(;n<o;){let l=e[n];l<=21?(l===12&&(l=l<<8|e[++n]),a.push([l,r]),r=[],++n):r.push(i())}return a}parseIndex(e){const n=new ku,i=this.bytes,s=i[e++]<<8|i[e++],r=[];let a=e,o,l;if(s!==0){const c=i[e++],u=e+(s+1)*c-1;for(o=0,l=s+1;o<l;++o){let d=0;for(let p=0;p<c;++p)d<<=8,d+=i[e++];r.push(u+d)}a=r[s]}for(o=0,l=r.length-1;o<l;++o){const c=r[o],u=r[o+1];n.add(i.subarray(c,u))}return{obj:n,endPos:a}}parseNameIndex(e){const n=[];for(let i=0,s=e.count;i<s;++i){const r=e.get(i);n.push(Mr(r))}return n}parseStringIndex(e){const n=new nC;for(let i=0,s=e.count;i<s;++i){const r=e.get(i);n.add(Mr(r))}return n}createDict(e,n,i){const s=new e(i);for(const[r,a]of n)s.setByKey(r,a);return s}parseCharString(e,n,i,s){if(!n||e.callDepth>use)return!1;let r=e.stackSize;const a=e.stack;let o=n.length;for(let l=0;l<o;){const c=n[l++];let u=null;if(c===12){const d=n[l++];d===0?(n[l-2]=139,n[l-1]=22,r=0):u=hse[d]}else if(c===28)a[r]=Bc(n,l),l+=2,r++;else if(c===14){if(r>=4&&(r-=4,this.seacAnalysisEnabled))return e.seac=a.slice(r,r+4),!1;u=s1[c]}else if(c>=32&&c<=246)a[r]=c-139,r++;else if(c>=247&&c<=254)a[r]=c<251?(c-247<<8)+n[l]+108:-(c-251<<8)-n[l]-108,l++,r++;else if(c===255)a[r]=(n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3])/65536,l+=4,r++;else if(c===19||c===20){if(e.hints+=r>>1,e.hints===0){n.copyWithin(l-1,l,-1),l-=1,o-=1;continue}l+=e.hints+7>>3,r%=2,u=s1[c]}else if(c===10||c===29){const d=c===10?i:s;if(!d)return u=s1[c],W("Missing subrsIndex for "+u.id),!1;let p=32768;d.count<1240?p=107:d.count<33900&&(p=1131);const g=a[--r]+p;if(g<0||g>=d.count||isNaN(g))return u=s1[c],W("Out of bounds subrIndex for "+u.id),!1;if(e.stackSize=r,e.callDepth++,!this.parseCharString(e,d.get(g),i,s))return!1;e.callDepth--,r=e.stackSize;continue}else{if(c===11)return e.stackSize=r,!0;if(c===0&&l===n.length)n[l-1]=14,u=s1[14];else if(c===9){n.copyWithin(l-1,l,-1),l-=1,o-=1;continue}else u=s1[c]}if(u){if(u.stem&&(e.hints+=r>>1,c===3||c===23?e.hasVStems=!0:e.hasVStems&&(c===1||c===18)&&(W("CFF stem hints are in wrong order"),n[l-1]=c===1?3:23)),"min"in u&&!e.undefStack&&r<u.min)return W("Not enough parameters for "+u.id+"; actual: "+r+", expected: "+u.min),r===0?(n[l-1]=14,!0):!1;e.firstStackClearing&&u.stackClearing&&(e.firstStackClearing=!1,r-=u.min,r>=2&&u.stem?r%=2:r>1&&W("Found too many parameters for stack-clearing command"),r>0&&(e.width=a[r-1])),"stackDelta"in u?("stackFn"in u&&u.stackFn(a,r),r+=u.stackDelta):u.stackClearing?r=0:u.resetStack?(r=0,e.undefStack=!1):u.undefStack&&(r=0,e.undefStack=!0,e.firstStackClearing=!1)}}return o<n.length&&n.fill(14,o),e.stackSize=r,!0}parseCharStrings({charStrings:e,localSubrIndex:n,globalSubrIndex:i,fdSelect:s,fdArray:r,privateDict:a}){const o=[],l=[],c=e.count;for(let u=0;u<c;u++){const d=e.get(u),p={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let g=!0,m=null,b=a;if(s&&r.length){const v=s.getFDIndex(u);v===-1&&(W("Glyph index is not in fd select."),g=!1),v>=r.length&&(W("Invalid fd index for glyph index."),g=!1),g&&(b=r[v].privateDict,m=b.subrsIndex)}else n&&(m=n);if(g&&(g=this.parseCharString(p,d,m,i)),p.width!==null){const v=b.getByName("nominalWidthX");l[u]=v+p.width}else{const v=b.getByName("defaultWidthX");l[u]=v}p.seac!==null&&(o[u]=p.seac),g||e.set(u,new Uint8Array([14]))}return{charStrings:e,seacs:o,widths:l}}emptyPrivateDictionary(e){const n=this.createDict(Vx,[],e.strings);e.setByKey(18,[0,0]),e.privateDict=n}parsePrivateDict(e){if(!e.hasName("Private")){this.emptyPrivateDictionary(e);return}const n=e.getByName("Private");if(!Array.isArray(n)||n.length!==2){e.removeByName("Private");return}const i=n[0],s=n[1];if(i===0||s>=this.bytes.length){this.emptyPrivateDictionary(e);return}const r=s+i,a=this.bytes.subarray(s,r),o=this.parseDict(a),l=this.createDict(Vx,o,e.strings);if(e.privateDict=l,l.getByName("ExpansionFactor")===0&&l.setByName("ExpansionFactor",.06),!l.getByName("Subrs"))return;const c=l.getByName("Subrs"),u=s+c;if(c===0||u>=this.bytes.length){this.emptyPrivateDictionary(e);return}const d=this.parseIndex(u);l.subrsIndex=d.obj}parseCharsets(e,n,i,s){if(e===0)return new sx(!0,Nw.ISO_ADOBE,ase);if(e===1)return new sx(!0,Nw.EXPERT,ose);if(e===2)return new sx(!0,Nw.EXPERT_SUBSET,lse);const r=this.bytes,a=e,o=r[e++],l=[s?0:".notdef"];let c,u,d;switch(n-=1,o){case 0:for(d=0;d<n;d++)c=r[e++]<<8|r[e++],l.push(s?c:i.get(c));break;case 1:for(;l.length<=n;)for(c=r[e++]<<8|r[e++],u=r[e++],d=0;d<=u;d++)l.push(s?c++:i.get(c++));break;case 2:for(;l.length<=n;)for(c=r[e++]<<8|r[e++],u=r[e++]<<8|r[e++],d=0;d<=u;d++)l.push(s?c++:i.get(c++));break;default:throw new me("Unknown charset format")}const p=e,g=r.subarray(a,p);return new sx(!1,o,l,g)}parseEncoding(e,n,i,s){const r=Object.create(null),a=this.bytes;let o=!1,l,c,u,d=null;function p(){const g=a[e++];for(c=0;c<g;c++){const m=a[e++],b=(a[e++]<<8)+(a[e++]&255);r[m]=s.indexOf(i.get(b))}}if(e===0||e===1){o=!0,l=e;const g=e?KO:zc;for(c=0,u=s.length;c<u;c++){const m=g.indexOf(s[c]);m!==-1&&(r[m]=c)}}else{const g=e;switch(l=a[e++],l&127){case 0:const b=a[e++];for(c=1;c<=b;c++)r[a[e++]]=c;break;case 1:const v=a[e++];let S=1;for(c=0;c<v;c++){const C=a[e++],E=a[e++];for(let w=C;w<=C+E;w++)r[w]=S++}break;default:throw new me(`Unknown encoding format: ${l} in CFF`)}const m=e;l&128&&(a[g]&=127,p()),d=a.subarray(g,m)}return l&=127,new pse(o,l,r,d)}parseFDSelect(e,n){const i=this.bytes,s=i[e++],r=[];let a;switch(s){case 0:for(a=0;a<n;++a){const l=i[e++];r.push(l)}break;case 3:const o=i[e++]<<8|i[e++];for(a=0;a<o;++a){let l=i[e++]<<8|i[e++];a===0&&l!==0&&(W("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),l=0);const c=i[e++],u=i[e]<<8|i[e+1];for(let d=l;d<u;++d)r.push(c)}e+=2;break;default:throw new me(`parseFDSelect: Unknown format "${s}".`)}if(r.length!==n)throw new me("parseFDSelect: Invalid font data.");return new gse(s,r)}}class YO{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new nC,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){W("Not enough space in charstrings to duplicate first glyph.");return}const e=this.charStrings.get(0);this.charStrings.add(e),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(e){return e<0||e>=this.charStrings.count?!1:this.charStrings.get(e).length>0}}class ZO{constructor(e,n,i,s){this.major=e,this.minor=n,this.hdrSize=i,this.offSize=s}}class nC{constructor(){this.strings=[]}get(e){return e>=0&&e<=ey-1?x5[e]:e-ey<=this.strings.length?this.strings[e-ey]:x5[0]}getSID(e){let n=x5.indexOf(e);return n!==-1?n:(n=this.strings.indexOf(e),n!==-1?n+ey:-1)}add(e){this.strings.push(e)}get count(){return this.strings.length}}class ku{constructor(){this.objects=[],this.length=0}add(e){this.length+=e.length,this.objects.push(e)}set(e,n){this.length+=n.length-this.objects[e].length,this.objects[e]=n}get(e){return this.objects[e]}get count(){return this.objects.length}}class JO{constructor(e,n){this.keyToNameMap=e.keyToNameMap,this.nameToKeyMap=e.nameToKeyMap,this.defaults=e.defaults,this.types=e.types,this.opcodes=e.opcodes,this.order=e.order,this.strings=n,this.values=Object.create(null)}setByKey(e,n){if(!(e in this.keyToNameMap))return!1;if(n.length===0)return!0;for(const s of n)if(isNaN(s))return W(`Invalid CFFDict value: "${n}" for key "${e}".`),!0;const i=this.types[e];return(i==="num"||i==="sid"||i==="offset")&&(n=n[0]),this.values[e]=n,!0}setByName(e,n){if(!(e in this.nameToKeyMap))throw new me(`Invalid dictionary name "${e}"`);this.values[this.nameToKeyMap[e]]=n}hasName(e){return this.nameToKeyMap[e]in this.values}getByName(e){if(!(e in this.nameToKeyMap))throw new me(`Invalid dictionary name ${e}"`);const n=this.nameToKeyMap[e];return n in this.values?this.values[n]:this.defaults[n]}removeByName(e){delete this.values[this.nameToKeyMap[e]]}static createTables(e){const n={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const i of e){const s=Array.isArray(i[0])?(i[0][0]<<8)+i[0][1]:i[0];n.keyToNameMap[s]=i[1],n.nameToKeyMap[i[1]]=s,n.types[s]=i[2],n.defaults[s]=i[3],n.opcodes[s]=Array.isArray(i[0])?i[0]:[i[0]],n.order.push(s)}return n}}const dse=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class Wx extends JO{static get tables(){return Fe(this,"tables",this.createTables(dse))}constructor(e){super(Wx.tables,e),this.privateDict=null}}const fse=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class Vx extends JO{static get tables(){return Fe(this,"tables",this.createTables(fse))}constructor(e){super(Vx.tables,e),this.subrsIndex=null}}const Nw={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class sx{constructor(e,n,i,s){this.predefined=e,this.format=n,this.charset=i,this.raw=s}}class pse{constructor(e,n,i,s){this.predefined=e,this.format=n,this.encoding=i,this.raw=s}}class gse{constructor(e,n){this.format=e,this.fdSelect=n}getFDIndex(e){return e<0||e>=this.fdSelect.length?-1:this.fdSelect[e]}}class uN{constructor(){this.offsets=Object.create(null)}isTracking(e){return e in this.offsets}track(e,n){if(e in this.offsets)throw new me(`Already tracking location of ${e}`);this.offsets[e]=n}offset(e){for(const n in this.offsets)this.offsets[n]+=e}setEntryLocation(e,n,i){if(!(e in this.offsets))throw new me(`Not tracking location of ${e}`);const s=i.data,r=this.offsets[e],a=5;for(let o=0,l=n.length;o<l;++o){const c=o*a+r,u=c+1,d=c+2,p=c+3,g=c+4;if(s[c]!==29||s[u]!==0||s[d]!==0||s[p]!==0||s[g]!==0)throw new me("writing to an offset that is not empty");const m=n[o];s[c]=29,s[u]=m>>24&255,s[d]=m>>16&255,s[p]=m>>8&255,s[g]=m&255}}}class i3{constructor(e){this.cff=e}compile(){const e=this.cff,n={data:[],length:0,add(p){try{this.data.push(...p)}catch{this.data=this.data.concat(p)}this.length=this.data.length}},i=this.compileHeader(e.header);n.add(i);const s=this.compileNameIndex(e.names);if(n.add(s),e.isCIDFont&&e.topDict.hasName("FontMatrix")){const p=e.topDict.getByName("FontMatrix");e.topDict.removeByName("FontMatrix");for(const g of e.fdArray){let m=p.slice(0);g.hasName("FontMatrix")&&(m=rn.transform(m,g.getByName("FontMatrix"))),g.setByName("FontMatrix",m)}}const r=e.topDict.getByName("XUID");(r==null?void 0:r.length)>16&&e.topDict.removeByName("XUID"),e.topDict.setByName("charset",0);let a=this.compileTopDicts([e.topDict],n.length,e.isCIDFont);n.add(a.output);const o=a.trackers[0],l=this.compileStringIndex(e.strings.strings);n.add(l);const c=this.compileIndex(e.globalSubrIndex);if(n.add(c),e.encoding&&e.topDict.hasName("Encoding"))if(e.encoding.predefined)o.setEntryLocation("Encoding",[e.encoding.format],n);else{const p=this.compileEncoding(e.encoding);o.setEntryLocation("Encoding",[n.length],n),n.add(p)}const u=this.compileCharset(e.charset,e.charStrings.count,e.strings,e.isCIDFont);o.setEntryLocation("charset",[n.length],n),n.add(u);const d=this.compileCharStrings(e.charStrings);if(o.setEntryLocation("CharStrings",[n.length],n),n.add(d),e.isCIDFont){o.setEntryLocation("FDSelect",[n.length],n);const p=this.compileFDSelect(e.fdSelect);n.add(p),a=this.compileTopDicts(e.fdArray,n.length,!0),o.setEntryLocation("FDArray",[n.length],n),n.add(a.output);const g=a.trackers;this.compilePrivateDicts(e.fdArray,g,n)}return this.compilePrivateDicts([e.topDict],[o],n),n.add([0]),n.data}encodeNumber(e){return Number.isInteger(e)?this.encodeInteger(e):this.encodeFloat(e)}static get EncodeFloatRegExp(){return Fe(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(e){let n=e.toString();const i=i3.EncodeFloatRegExp.exec(n);if(i){const l=parseFloat("1e"+((i[2]?+i[2]:0)+i[1].length));n=(Math.round(e*l)/l).toString()}let s="",r,a;for(r=0,a=n.length;r<a;++r){const l=n[r];l==="e"?s+=n[++r]==="-"?"c":"b":l==="."?s+="a":l==="-"?s+="e":s+=l}s+=s.length&1?"f":"ff";const o=[30];for(r=0,a=s.length;r<a;r+=2)o.push(parseInt(s.substring(r,r+2),16));return o}encodeInteger(e){let n;return e>=-107&&e<=107?n=[e+139]:e>=108&&e<=1131?(e-=108,n=[(e>>8)+247,e&255]):e>=-1131&&e<=-108?(e=-e-108,n=[(e>>8)+251,e&255]):e>=-32768&&e<=32767?n=[28,e>>8&255,e&255]:n=[29,e>>24&255,e>>16&255,e>>8&255,e&255],n}compileHeader(e){return[e.major,e.minor,4,e.offSize]}compileNameIndex(e){const n=new ku;for(const i of e){const s=Math.min(i.length,127);let r=new Array(s);for(let a=0;a<s;a++){let o=i[a];(o<"!"||o>"~"||o==="["||o==="]"||o==="("||o===")"||o==="{"||o==="}"||o==="<"||o===">"||o==="/"||o==="%")&&(o="_"),r[a]=o}r=r.join(""),r===""&&(r="Bad_Font_Name"),n.add(xs(r))}return this.compileIndex(n)}compileTopDicts(e,n,i){const s=[];let r=new ku;for(const a of e){i&&(a.removeByName("CIDFontVersion"),a.removeByName("CIDFontRevision"),a.removeByName("CIDFontType"),a.removeByName("CIDCount"),a.removeByName("UIDBase"));const o=new uN,l=this.compileDict(a,o);s.push(o),r.add(l),o.offset(n)}return r=this.compileIndex(r,s),{trackers:s,output:r}}compilePrivateDicts(e,n,i){for(let s=0,r=e.length;s<r;++s){const a=e[s],o=a.privateDict;if(!o||!a.hasName("Private"))throw new me("There must be a private dictionary.");const l=new uN,c=this.compileDict(o,l);let u=i.length;if(l.offset(u),c.length||(u=0),n[s].setEntryLocation("Private",[c.length,u],i),i.add(c),o.subrsIndex&&o.hasName("Subrs")){const d=this.compileIndex(o.subrsIndex);l.setEntryLocation("Subrs",[c.length],i),i.add(d)}}}compileDict(e,n){const i=[];for(const s of e.order){if(!(s in e.values))continue;let r=e.values[s],a=e.types[s];if(Array.isArray(a)||(a=[a]),Array.isArray(r)||(r=[r]),r.length!==0){for(let o=0,l=a.length;o<l;++o){const c=a[o],u=r[o];switch(c){case"num":case"sid":i.push(...this.encodeNumber(u));break;case"offset":const d=e.keyToNameMap[s];n.isTracking(d)||n.track(d,i.length),i.push(29,0,0,0,0);break;case"array":case"delta":i.push(...this.encodeNumber(u));for(let p=1,g=r.length;p<g;++p)i.push(...this.encodeNumber(r[p]));break;default:throw new me(`Unknown data type of ${c}`)}}i.push(...e.opcodes[s])}}return i}compileStringIndex(e){const n=new ku;for(const i of e)n.add(xs(i));return this.compileIndex(n)}compileCharStrings(e){const n=new ku;for(let i=0;i<e.count;i++){const s=e.get(i);if(s.length===0){n.add(new Uint8Array([139,14]));continue}n.add(s)}return this.compileIndex(n)}compileCharset(e,n,i,s){let r;const a=n-1;if(s)r=new Uint8Array([2,0,0,a>>8&255,a&255]);else{const o=1+a*2;r=new Uint8Array(o),r[0]=0;let l=0;const c=e.charset.length;let u=!1;for(let d=1;d<r.length;d+=2){let p=0;if(l<c){const g=e.charset[l++];p=i.getSID(g),p===-1&&(p=0,u||(u=!0,W(`Couldn't find ${g} in CFF strings`)))}r[d]=p>>8&255,r[d+1]=p&255}}return this.compileTypedArray(r)}compileEncoding(e){return this.compileTypedArray(e.raw)}compileFDSelect(e){const n=e.format;let i,s;switch(n){case 0:for(i=new Uint8Array(1+e.fdSelect.length),i[0]=n,s=0;s<e.fdSelect.length;s++)i[s+1]=e.fdSelect[s];break;case 3:const r=0;let a=e.fdSelect[0];const o=[n,0,0,r>>8&255,r&255,a];for(s=1;s<e.fdSelect.length;s++){const c=e.fdSelect[s];c!==a&&(o.push(s>>8&255,s&255,c),a=c)}const l=(o.length-3)/3;o[1]=l>>8&255,o[2]=l&255,o.push(s>>8&255,s&255),i=new Uint8Array(o);break}return this.compileTypedArray(i)}compileTypedArray(e){return Array.from(e)}compileIndex(e,n=[]){const i=e.objects,s=i.length;if(s===0)return[0,0];const r=[s>>8&255,s&255];let a=1,o;for(o=0;o<s;++o)a+=i[o].length;let l;a<256?l=1:a<65536?l=2:a<16777216?l=3:l=4,r.push(l);let c=1;for(o=0;o<s+1;o++)l===1?r.push(c&255):l===2?r.push(c>>8&255,c&255):l===3?r.push(c>>16&255,c>>8&255,c&255):r.push(c>>>24&255,c>>16&255,c>>8&255,c&255),i[o]&&(c+=i[o].length);for(o=0;o<s;o++)n[o]&&n[o].offset(r.length),r.push(...i[o]);return r}}const kl=Dn(function(t){t.A=65,t.AE=198,t.AEacute=508,t.AEmacron=482,t.AEsmall=63462,t.Aacute=193,t.Aacutesmall=63457,t.Abreve=258,t.Abreveacute=7854,t.Abrevecyrillic=1232,t.Abrevedotbelow=7862,t.Abrevegrave=7856,t.Abrevehookabove=7858,t.Abrevetilde=7860,t.Acaron=461,t.Acircle=9398,t.Acircumflex=194,t.Acircumflexacute=7844,t.Acircumflexdotbelow=7852,t.Acircumflexgrave=7846,t.Acircumflexhookabove=7848,t.Acircumflexsmall=63458,t.Acircumflextilde=7850,t.Acute=63177,t.Acutesmall=63412,t.Acyrillic=1040,t.Adblgrave=512,t.Adieresis=196,t.Adieresiscyrillic=1234,t.Adieresismacron=478,t.Adieresissmall=63460,t.Adotbelow=7840,t.Adotmacron=480,t.Agrave=192,t.Agravesmall=63456,t.Ahookabove=7842,t.Aiecyrillic=1236,t.Ainvertedbreve=514,t.Alpha=913,t.Alphatonos=902,t.Amacron=256,t.Amonospace=65313,t.Aogonek=260,t.Aring=197,t.Aringacute=506,t.Aringbelow=7680,t.Aringsmall=63461,t.Asmall=63329,t.Atilde=195,t.Atildesmall=63459,t.Aybarmenian=1329,t.B=66,t.Bcircle=9399,t.Bdotaccent=7682,t.Bdotbelow=7684,t.Becyrillic=1041,t.Benarmenian=1330,t.Beta=914,t.Bhook=385,t.Blinebelow=7686,t.Bmonospace=65314,t.Brevesmall=63220,t.Bsmall=63330,t.Btopbar=386,t.C=67,t.Caarmenian=1342,t.Cacute=262,t.Caron=63178,t.Caronsmall=63221,t.Ccaron=268,t.Ccedilla=199,t.Ccedillaacute=7688,t.Ccedillasmall=63463,t.Ccircle=9400,t.Ccircumflex=264,t.Cdot=266,t.Cdotaccent=266,t.Cedillasmall=63416,t.Chaarmenian=1353,t.Cheabkhasiancyrillic=1212,t.Checyrillic=1063,t.Chedescenderabkhasiancyrillic=1214,t.Chedescendercyrillic=1206,t.Chedieresiscyrillic=1268,t.Cheharmenian=1347,t.Chekhakassiancyrillic=1227,t.Cheverticalstrokecyrillic=1208,t.Chi=935,t.Chook=391,t.Circumflexsmall=63222,t.Cmonospace=65315,t.Coarmenian=1361,t.Csmall=63331,t.D=68,t.DZ=497,t.DZcaron=452,t.Daarmenian=1332,t.Dafrican=393,t.Dcaron=270,t.Dcedilla=7696,t.Dcircle=9401,t.Dcircumflexbelow=7698,t.Dcroat=272,t.Ddotaccent=7690,t.Ddotbelow=7692,t.Decyrillic=1044,t.Deicoptic=1006,t.Delta=8710,t.Deltagreek=916,t.Dhook=394,t.Dieresis=63179,t.DieresisAcute=63180,t.DieresisGrave=63181,t.Dieresissmall=63400,t.Digammagreek=988,t.Djecyrillic=1026,t.Dlinebelow=7694,t.Dmonospace=65316,t.Dotaccentsmall=63223,t.Dslash=272,t.Dsmall=63332,t.Dtopbar=395,t.Dz=498,t.Dzcaron=453,t.Dzeabkhasiancyrillic=1248,t.Dzecyrillic=1029,t.Dzhecyrillic=1039,t.E=69,t.Eacute=201,t.Eacutesmall=63465,t.Ebreve=276,t.Ecaron=282,t.Ecedillabreve=7708,t.Echarmenian=1333,t.Ecircle=9402,t.Ecircumflex=202,t.Ecircumflexacute=7870,t.Ecircumflexbelow=7704,t.Ecircumflexdotbelow=7878,t.Ecircumflexgrave=7872,t.Ecircumflexhookabove=7874,t.Ecircumflexsmall=63466,t.Ecircumflextilde=7876,t.Ecyrillic=1028,t.Edblgrave=516,t.Edieresis=203,t.Edieresissmall=63467,t.Edot=278,t.Edotaccent=278,t.Edotbelow=7864,t.Efcyrillic=1060,t.Egrave=200,t.Egravesmall=63464,t.Eharmenian=1335,t.Ehookabove=7866,t.Eightroman=8551,t.Einvertedbreve=518,t.Eiotifiedcyrillic=1124,t.Elcyrillic=1051,t.Elevenroman=8554,t.Emacron=274,t.Emacronacute=7702,t.Emacrongrave=7700,t.Emcyrillic=1052,t.Emonospace=65317,t.Encyrillic=1053,t.Endescendercyrillic=1186,t.Eng=330,t.Enghecyrillic=1188,t.Enhookcyrillic=1223,t.Eogonek=280,t.Eopen=400,t.Epsilon=917,t.Epsilontonos=904,t.Ercyrillic=1056,t.Ereversed=398,t.Ereversedcyrillic=1069,t.Escyrillic=1057,t.Esdescendercyrillic=1194,t.Esh=425,t.Esmall=63333,t.Eta=919,t.Etarmenian=1336,t.Etatonos=905,t.Eth=208,t.Ethsmall=63472,t.Etilde=7868,t.Etildebelow=7706,t.Euro=8364,t.Ezh=439,t.Ezhcaron=494,t.Ezhreversed=440,t.F=70,t.Fcircle=9403,t.Fdotaccent=7710,t.Feharmenian=1366,t.Feicoptic=996,t.Fhook=401,t.Fitacyrillic=1138,t.Fiveroman=8548,t.Fmonospace=65318,t.Fourroman=8547,t.Fsmall=63334,t.G=71,t.GBsquare=13191,t.Gacute=500,t.Gamma=915,t.Gammaafrican=404,t.Gangiacoptic=1002,t.Gbreve=286,t.Gcaron=486,t.Gcedilla=290,t.Gcircle=9404,t.Gcircumflex=284,t.Gcommaaccent=290,t.Gdot=288,t.Gdotaccent=288,t.Gecyrillic=1043,t.Ghadarmenian=1346,t.Ghemiddlehookcyrillic=1172,t.Ghestrokecyrillic=1170,t.Gheupturncyrillic=1168,t.Ghook=403,t.Gimarmenian=1331,t.Gjecyrillic=1027,t.Gmacron=7712,t.Gmonospace=65319,t.Grave=63182,t.Gravesmall=63328,t.Gsmall=63335,t.Gsmallhook=667,t.Gstroke=484,t.H=72,t.H18533=9679,t.H18543=9642,t.H18551=9643,t.H22073=9633,t.HPsquare=13259,t.Haabkhasiancyrillic=1192,t.Hadescendercyrillic=1202,t.Hardsigncyrillic=1066,t.Hbar=294,t.Hbrevebelow=7722,t.Hcedilla=7720,t.Hcircle=9405,t.Hcircumflex=292,t.Hdieresis=7718,t.Hdotaccent=7714,t.Hdotbelow=7716,t.Hmonospace=65320,t.Hoarmenian=1344,t.Horicoptic=1e3,t.Hsmall=63336,t.Hungarumlaut=63183,t.Hungarumlautsmall=63224,t.Hzsquare=13200,t.I=73,t.IAcyrillic=1071,t.IJ=306,t.IUcyrillic=1070,t.Iacute=205,t.Iacutesmall=63469,t.Ibreve=300,t.Icaron=463,t.Icircle=9406,t.Icircumflex=206,t.Icircumflexsmall=63470,t.Icyrillic=1030,t.Idblgrave=520,t.Idieresis=207,t.Idieresisacute=7726,t.Idieresiscyrillic=1252,t.Idieresissmall=63471,t.Idot=304,t.Idotaccent=304,t.Idotbelow=7882,t.Iebrevecyrillic=1238,t.Iecyrillic=1045,t.Ifraktur=8465,t.Igrave=204,t.Igravesmall=63468,t.Ihookabove=7880,t.Iicyrillic=1048,t.Iinvertedbreve=522,t.Iishortcyrillic=1049,t.Imacron=298,t.Imacroncyrillic=1250,t.Imonospace=65321,t.Iniarmenian=1339,t.Iocyrillic=1025,t.Iogonek=302,t.Iota=921,t.Iotaafrican=406,t.Iotadieresis=938,t.Iotatonos=906,t.Ismall=63337,t.Istroke=407,t.Itilde=296,t.Itildebelow=7724,t.Izhitsacyrillic=1140,t.Izhitsadblgravecyrillic=1142,t.J=74,t.Jaarmenian=1345,t.Jcircle=9407,t.Jcircumflex=308,t.Jecyrillic=1032,t.Jheharmenian=1355,t.Jmonospace=65322,t.Jsmall=63338,t.K=75,t.KBsquare=13189,t.KKsquare=13261,t.Kabashkircyrillic=1184,t.Kacute=7728,t.Kacyrillic=1050,t.Kadescendercyrillic=1178,t.Kahookcyrillic=1219,t.Kappa=922,t.Kastrokecyrillic=1182,t.Kaverticalstrokecyrillic=1180,t.Kcaron=488,t.Kcedilla=310,t.Kcircle=9408,t.Kcommaaccent=310,t.Kdotbelow=7730,t.Keharmenian=1364,t.Kenarmenian=1343,t.Khacyrillic=1061,t.Kheicoptic=998,t.Khook=408,t.Kjecyrillic=1036,t.Klinebelow=7732,t.Kmonospace=65323,t.Koppacyrillic=1152,t.Koppagreek=990,t.Ksicyrillic=1134,t.Ksmall=63339,t.L=76,t.LJ=455,t.LL=63167,t.Lacute=313,t.Lambda=923,t.Lcaron=317,t.Lcedilla=315,t.Lcircle=9409,t.Lcircumflexbelow=7740,t.Lcommaaccent=315,t.Ldot=319,t.Ldotaccent=319,t.Ldotbelow=7734,t.Ldotbelowmacron=7736,t.Liwnarmenian=1340,t.Lj=456,t.Ljecyrillic=1033,t.Llinebelow=7738,t.Lmonospace=65324,t.Lslash=321,t.Lslashsmall=63225,t.Lsmall=63340,t.M=77,t.MBsquare=13190,t.Macron=63184,t.Macronsmall=63407,t.Macute=7742,t.Mcircle=9410,t.Mdotaccent=7744,t.Mdotbelow=7746,t.Menarmenian=1348,t.Mmonospace=65325,t.Msmall=63341,t.Mturned=412,t.Mu=924,t.N=78,t.NJ=458,t.Nacute=323,t.Ncaron=327,t.Ncedilla=325,t.Ncircle=9411,t.Ncircumflexbelow=7754,t.Ncommaaccent=325,t.Ndotaccent=7748,t.Ndotbelow=7750,t.Nhookleft=413,t.Nineroman=8552,t.Nj=459,t.Njecyrillic=1034,t.Nlinebelow=7752,t.Nmonospace=65326,t.Nowarmenian=1350,t.Nsmall=63342,t.Ntilde=209,t.Ntildesmall=63473,t.Nu=925,t.O=79,t.OE=338,t.OEsmall=63226,t.Oacute=211,t.Oacutesmall=63475,t.Obarredcyrillic=1256,t.Obarreddieresiscyrillic=1258,t.Obreve=334,t.Ocaron=465,t.Ocenteredtilde=415,t.Ocircle=9412,t.Ocircumflex=212,t.Ocircumflexacute=7888,t.Ocircumflexdotbelow=7896,t.Ocircumflexgrave=7890,t.Ocircumflexhookabove=7892,t.Ocircumflexsmall=63476,t.Ocircumflextilde=7894,t.Ocyrillic=1054,t.Odblacute=336,t.Odblgrave=524,t.Odieresis=214,t.Odieresiscyrillic=1254,t.Odieresissmall=63478,t.Odotbelow=7884,t.Ogoneksmall=63227,t.Ograve=210,t.Ogravesmall=63474,t.Oharmenian=1365,t.Ohm=8486,t.Ohookabove=7886,t.Ohorn=416,t.Ohornacute=7898,t.Ohorndotbelow=7906,t.Ohorngrave=7900,t.Ohornhookabove=7902,t.Ohorntilde=7904,t.Ohungarumlaut=336,t.Oi=418,t.Oinvertedbreve=526,t.Omacron=332,t.Omacronacute=7762,t.Omacrongrave=7760,t.Omega=8486,t.Omegacyrillic=1120,t.Omegagreek=937,t.Omegaroundcyrillic=1146,t.Omegatitlocyrillic=1148,t.Omegatonos=911,t.Omicron=927,t.Omicrontonos=908,t.Omonospace=65327,t.Oneroman=8544,t.Oogonek=490,t.Oogonekmacron=492,t.Oopen=390,t.Oslash=216,t.Oslashacute=510,t.Oslashsmall=63480,t.Osmall=63343,t.Ostrokeacute=510,t.Otcyrillic=1150,t.Otilde=213,t.Otildeacute=7756,t.Otildedieresis=7758,t.Otildesmall=63477,t.P=80,t.Pacute=7764,t.Pcircle=9413,t.Pdotaccent=7766,t.Pecyrillic=1055,t.Peharmenian=1354,t.Pemiddlehookcyrillic=1190,t.Phi=934,t.Phook=420,t.Pi=928,t.Piwrarmenian=1363,t.Pmonospace=65328,t.Psi=936,t.Psicyrillic=1136,t.Psmall=63344,t.Q=81,t.Qcircle=9414,t.Qmonospace=65329,t.Qsmall=63345,t.R=82,t.Raarmenian=1356,t.Racute=340,t.Rcaron=344,t.Rcedilla=342,t.Rcircle=9415,t.Rcommaaccent=342,t.Rdblgrave=528,t.Rdotaccent=7768,t.Rdotbelow=7770,t.Rdotbelowmacron=7772,t.Reharmenian=1360,t.Rfraktur=8476,t.Rho=929,t.Ringsmall=63228,t.Rinvertedbreve=530,t.Rlinebelow=7774,t.Rmonospace=65330,t.Rsmall=63346,t.Rsmallinverted=641,t.Rsmallinvertedsuperior=694,t.S=83,t.SF010000=9484,t.SF020000=9492,t.SF030000=9488,t.SF040000=9496,t.SF050000=9532,t.SF060000=9516,t.SF070000=9524,t.SF080000=9500,t.SF090000=9508,t.SF100000=9472,t.SF110000=9474,t.SF190000=9569,t.SF200000=9570,t.SF210000=9558,t.SF220000=9557,t.SF230000=9571,t.SF240000=9553,t.SF250000=9559,t.SF260000=9565,t.SF270000=9564,t.SF280000=9563,t.SF360000=9566,t.SF370000=9567,t.SF380000=9562,t.SF390000=9556,t.SF400000=9577,t.SF410000=9574,t.SF420000=9568,t.SF430000=9552,t.SF440000=9580,t.SF450000=9575,t.SF460000=9576,t.SF470000=9572,t.SF480000=9573,t.SF490000=9561,t.SF500000=9560,t.SF510000=9554,t.SF520000=9555,t.SF530000=9579,t.SF540000=9578,t.Sacute=346,t.Sacutedotaccent=7780,t.Sampigreek=992,t.Scaron=352,t.Scarondotaccent=7782,t.Scaronsmall=63229,t.Scedilla=350,t.Schwa=399,t.Schwacyrillic=1240,t.Schwadieresiscyrillic=1242,t.Scircle=9416,t.Scircumflex=348,t.Scommaaccent=536,t.Sdotaccent=7776,t.Sdotbelow=7778,t.Sdotbelowdotaccent=7784,t.Seharmenian=1357,t.Sevenroman=8550,t.Shaarmenian=1351,t.Shacyrillic=1064,t.Shchacyrillic=1065,t.Sheicoptic=994,t.Shhacyrillic=1210,t.Shimacoptic=1004,t.Sigma=931,t.Sixroman=8549,t.Smonospace=65331,t.Softsigncyrillic=1068,t.Ssmall=63347,t.Stigmagreek=986,t.T=84,t.Tau=932,t.Tbar=358,t.Tcaron=356,t.Tcedilla=354,t.Tcircle=9417,t.Tcircumflexbelow=7792,t.Tcommaaccent=354,t.Tdotaccent=7786,t.Tdotbelow=7788,t.Tecyrillic=1058,t.Tedescendercyrillic=1196,t.Tenroman=8553,t.Tetsecyrillic=1204,t.Theta=920,t.Thook=428,t.Thorn=222,t.Thornsmall=63486,t.Threeroman=8546,t.Tildesmall=63230,t.Tiwnarmenian=1359,t.Tlinebelow=7790,t.Tmonospace=65332,t.Toarmenian=1337,t.Tonefive=444,t.Tonesix=388,t.Tonetwo=423,t.Tretroflexhook=430,t.Tsecyrillic=1062,t.Tshecyrillic=1035,t.Tsmall=63348,t.Twelveroman=8555,t.Tworoman=8545,t.U=85,t.Uacute=218,t.Uacutesmall=63482,t.Ubreve=364,t.Ucaron=467,t.Ucircle=9418,t.Ucircumflex=219,t.Ucircumflexbelow=7798,t.Ucircumflexsmall=63483,t.Ucyrillic=1059,t.Udblacute=368,t.Udblgrave=532,t.Udieresis=220,t.Udieresisacute=471,t.Udieresisbelow=7794,t.Udieresiscaron=473,t.Udieresiscyrillic=1264,t.Udieresisgrave=475,t.Udieresismacron=469,t.Udieresissmall=63484,t.Udotbelow=7908,t.Ugrave=217,t.Ugravesmall=63481,t.Uhookabove=7910,t.Uhorn=431,t.Uhornacute=7912,t.Uhorndotbelow=7920,t.Uhorngrave=7914,t.Uhornhookabove=7916,t.Uhorntilde=7918,t.Uhungarumlaut=368,t.Uhungarumlautcyrillic=1266,t.Uinvertedbreve=534,t.Ukcyrillic=1144,t.Umacron=362,t.Umacroncyrillic=1262,t.Umacrondieresis=7802,t.Umonospace=65333,t.Uogonek=370,t.Upsilon=933,t.Upsilon1=978,t.Upsilonacutehooksymbolgreek=979,t.Upsilonafrican=433,t.Upsilondieresis=939,t.Upsilondieresishooksymbolgreek=980,t.Upsilonhooksymbol=978,t.Upsilontonos=910,t.Uring=366,t.Ushortcyrillic=1038,t.Usmall=63349,t.Ustraightcyrillic=1198,t.Ustraightstrokecyrillic=1200,t.Utilde=360,t.Utildeacute=7800,t.Utildebelow=7796,t.V=86,t.Vcircle=9419,t.Vdotbelow=7806,t.Vecyrillic=1042,t.Vewarmenian=1358,t.Vhook=434,t.Vmonospace=65334,t.Voarmenian=1352,t.Vsmall=63350,t.Vtilde=7804,t.W=87,t.Wacute=7810,t.Wcircle=9420,t.Wcircumflex=372,t.Wdieresis=7812,t.Wdotaccent=7814,t.Wdotbelow=7816,t.Wgrave=7808,t.Wmonospace=65335,t.Wsmall=63351,t.X=88,t.Xcircle=9421,t.Xdieresis=7820,t.Xdotaccent=7818,t.Xeharmenian=1341,t.Xi=926,t.Xmonospace=65336,t.Xsmall=63352,t.Y=89,t.Yacute=221,t.Yacutesmall=63485,t.Yatcyrillic=1122,t.Ycircle=9422,t.Ycircumflex=374,t.Ydieresis=376,t.Ydieresissmall=63487,t.Ydotaccent=7822,t.Ydotbelow=7924,t.Yericyrillic=1067,t.Yerudieresiscyrillic=1272,t.Ygrave=7922,t.Yhook=435,t.Yhookabove=7926,t.Yiarmenian=1349,t.Yicyrillic=1031,t.Yiwnarmenian=1362,t.Ymonospace=65337,t.Ysmall=63353,t.Ytilde=7928,t.Yusbigcyrillic=1130,t.Yusbigiotifiedcyrillic=1132,t.Yuslittlecyrillic=1126,t.Yuslittleiotifiedcyrillic=1128,t.Z=90,t.Zaarmenian=1334,t.Zacute=377,t.Zcaron=381,t.Zcaronsmall=63231,t.Zcircle=9423,t.Zcircumflex=7824,t.Zdot=379,t.Zdotaccent=379,t.Zdotbelow=7826,t.Zecyrillic=1047,t.Zedescendercyrillic=1176,t.Zedieresiscyrillic=1246,t.Zeta=918,t.Zhearmenian=1338,t.Zhebrevecyrillic=1217,t.Zhecyrillic=1046,t.Zhedescendercyrillic=1174,t.Zhedieresiscyrillic=1244,t.Zlinebelow=7828,t.Zmonospace=65338,t.Zsmall=63354,t.Zstroke=437,t.a=97,t.aabengali=2438,t.aacute=225,t.aadeva=2310,t.aagujarati=2694,t.aagurmukhi=2566,t.aamatragurmukhi=2622,t.aarusquare=13059,t.aavowelsignbengali=2494,t.aavowelsigndeva=2366,t.aavowelsigngujarati=2750,t.abbreviationmarkarmenian=1375,t.abbreviationsigndeva=2416,t.abengali=2437,t.abopomofo=12570,t.abreve=259,t.abreveacute=7855,t.abrevecyrillic=1233,t.abrevedotbelow=7863,t.abrevegrave=7857,t.abrevehookabove=7859,t.abrevetilde=7861,t.acaron=462,t.acircle=9424,t.acircumflex=226,t.acircumflexacute=7845,t.acircumflexdotbelow=7853,t.acircumflexgrave=7847,t.acircumflexhookabove=7849,t.acircumflextilde=7851,t.acute=180,t.acutebelowcmb=791,t.acutecmb=769,t.acutecomb=769,t.acutedeva=2388,t.acutelowmod=719,t.acutetonecmb=833,t.acyrillic=1072,t.adblgrave=513,t.addakgurmukhi=2673,t.adeva=2309,t.adieresis=228,t.adieresiscyrillic=1235,t.adieresismacron=479,t.adotbelow=7841,t.adotmacron=481,t.ae=230,t.aeacute=509,t.aekorean=12624,t.aemacron=483,t.afii00208=8213,t.afii08941=8356,t.afii10017=1040,t.afii10018=1041,t.afii10019=1042,t.afii10020=1043,t.afii10021=1044,t.afii10022=1045,t.afii10023=1025,t.afii10024=1046,t.afii10025=1047,t.afii10026=1048,t.afii10027=1049,t.afii10028=1050,t.afii10029=1051,t.afii10030=1052,t.afii10031=1053,t.afii10032=1054,t.afii10033=1055,t.afii10034=1056,t.afii10035=1057,t.afii10036=1058,t.afii10037=1059,t.afii10038=1060,t.afii10039=1061,t.afii10040=1062,t.afii10041=1063,t.afii10042=1064,t.afii10043=1065,t.afii10044=1066,t.afii10045=1067,t.afii10046=1068,t.afii10047=1069,t.afii10048=1070,t.afii10049=1071,t.afii10050=1168,t.afii10051=1026,t.afii10052=1027,t.afii10053=1028,t.afii10054=1029,t.afii10055=1030,t.afii10056=1031,t.afii10057=1032,t.afii10058=1033,t.afii10059=1034,t.afii10060=1035,t.afii10061=1036,t.afii10062=1038,t.afii10063=63172,t.afii10064=63173,t.afii10065=1072,t.afii10066=1073,t.afii10067=1074,t.afii10068=1075,t.afii10069=1076,t.afii10070=1077,t.afii10071=1105,t.afii10072=1078,t.afii10073=1079,t.afii10074=1080,t.afii10075=1081,t.afii10076=1082,t.afii10077=1083,t.afii10078=1084,t.afii10079=1085,t.afii10080=1086,t.afii10081=1087,t.afii10082=1088,t.afii10083=1089,t.afii10084=1090,t.afii10085=1091,t.afii10086=1092,t.afii10087=1093,t.afii10088=1094,t.afii10089=1095,t.afii10090=1096,t.afii10091=1097,t.afii10092=1098,t.afii10093=1099,t.afii10094=1100,t.afii10095=1101,t.afii10096=1102,t.afii10097=1103,t.afii10098=1169,t.afii10099=1106,t.afii10100=1107,t.afii10101=1108,t.afii10102=1109,t.afii10103=1110,t.afii10104=1111,t.afii10105=1112,t.afii10106=1113,t.afii10107=1114,t.afii10108=1115,t.afii10109=1116,t.afii10110=1118,t.afii10145=1039,t.afii10146=1122,t.afii10147=1138,t.afii10148=1140,t.afii10192=63174,t.afii10193=1119,t.afii10194=1123,t.afii10195=1139,t.afii10196=1141,t.afii10831=63175,t.afii10832=63176,t.afii10846=1241,t.afii299=8206,t.afii300=8207,t.afii301=8205,t.afii57381=1642,t.afii57388=1548,t.afii57392=1632,t.afii57393=1633,t.afii57394=1634,t.afii57395=1635,t.afii57396=1636,t.afii57397=1637,t.afii57398=1638,t.afii57399=1639,t.afii57400=1640,t.afii57401=1641,t.afii57403=1563,t.afii57407=1567,t.afii57409=1569,t.afii57410=1570,t.afii57411=1571,t.afii57412=1572,t.afii57413=1573,t.afii57414=1574,t.afii57415=1575,t.afii57416=1576,t.afii57417=1577,t.afii57418=1578,t.afii57419=1579,t.afii57420=1580,t.afii57421=1581,t.afii57422=1582,t.afii57423=1583,t.afii57424=1584,t.afii57425=1585,t.afii57426=1586,t.afii57427=1587,t.afii57428=1588,t.afii57429=1589,t.afii57430=1590,t.afii57431=1591,t.afii57432=1592,t.afii57433=1593,t.afii57434=1594,t.afii57440=1600,t.afii57441=1601,t.afii57442=1602,t.afii57443=1603,t.afii57444=1604,t.afii57445=1605,t.afii57446=1606,t.afii57448=1608,t.afii57449=1609,t.afii57450=1610,t.afii57451=1611,t.afii57452=1612,t.afii57453=1613,t.afii57454=1614,t.afii57455=1615,t.afii57456=1616,t.afii57457=1617,t.afii57458=1618,t.afii57470=1607,t.afii57505=1700,t.afii57506=1662,t.afii57507=1670,t.afii57508=1688,t.afii57509=1711,t.afii57511=1657,t.afii57512=1672,t.afii57513=1681,t.afii57514=1722,t.afii57519=1746,t.afii57534=1749,t.afii57636=8362,t.afii57645=1470,t.afii57658=1475,t.afii57664=1488,t.afii57665=1489,t.afii57666=1490,t.afii57667=1491,t.afii57668=1492,t.afii57669=1493,t.afii57670=1494,t.afii57671=1495,t.afii57672=1496,t.afii57673=1497,t.afii57674=1498,t.afii57675=1499,t.afii57676=1500,t.afii57677=1501,t.afii57678=1502,t.afii57679=1503,t.afii57680=1504,t.afii57681=1505,t.afii57682=1506,t.afii57683=1507,t.afii57684=1508,t.afii57685=1509,t.afii57686=1510,t.afii57687=1511,t.afii57688=1512,t.afii57689=1513,t.afii57690=1514,t.afii57694=64298,t.afii57695=64299,t.afii57700=64331,t.afii57705=64287,t.afii57716=1520,t.afii57717=1521,t.afii57718=1522,t.afii57723=64309,t.afii57793=1460,t.afii57794=1461,t.afii57795=1462,t.afii57796=1467,t.afii57797=1464,t.afii57798=1463,t.afii57799=1456,t.afii57800=1458,t.afii57801=1457,t.afii57802=1459,t.afii57803=1474,t.afii57804=1473,t.afii57806=1465,t.afii57807=1468,t.afii57839=1469,t.afii57841=1471,t.afii57842=1472,t.afii57929=700,t.afii61248=8453,t.afii61289=8467,t.afii61352=8470,t.afii61573=8236,t.afii61574=8237,t.afii61575=8238,t.afii61664=8204,t.afii63167=1645,t.afii64937=701,t.agrave=224,t.agujarati=2693,t.agurmukhi=2565,t.ahiragana=12354,t.ahookabove=7843,t.aibengali=2448,t.aibopomofo=12574,t.aideva=2320,t.aiecyrillic=1237,t.aigujarati=2704,t.aigurmukhi=2576,t.aimatragurmukhi=2632,t.ainarabic=1593,t.ainfinalarabic=65226,t.aininitialarabic=65227,t.ainmedialarabic=65228,t.ainvertedbreve=515,t.aivowelsignbengali=2504,t.aivowelsigndeva=2376,t.aivowelsigngujarati=2760,t.akatakana=12450,t.akatakanahalfwidth=65393,t.akorean=12623,t.alef=1488,t.alefarabic=1575,t.alefdageshhebrew=64304,t.aleffinalarabic=65166,t.alefhamzaabovearabic=1571,t.alefhamzaabovefinalarabic=65156,t.alefhamzabelowarabic=1573,t.alefhamzabelowfinalarabic=65160,t.alefhebrew=1488,t.aleflamedhebrew=64335,t.alefmaddaabovearabic=1570,t.alefmaddaabovefinalarabic=65154,t.alefmaksuraarabic=1609,t.alefmaksurafinalarabic=65264,t.alefmaksurainitialarabic=65267,t.alefmaksuramedialarabic=65268,t.alefpatahhebrew=64302,t.alefqamatshebrew=64303,t.aleph=8501,t.allequal=8780,t.alpha=945,t.alphatonos=940,t.amacron=257,t.amonospace=65345,t.ampersand=38,t.ampersandmonospace=65286,t.ampersandsmall=63270,t.amsquare=13250,t.anbopomofo=12578,t.angbopomofo=12580,t.angbracketleft=12296,t.angbracketright=12297,t.angkhankhuthai=3674,t.angle=8736,t.anglebracketleft=12296,t.anglebracketleftvertical=65087,t.anglebracketright=12297,t.anglebracketrightvertical=65088,t.angleleft=9001,t.angleright=9002,t.angstrom=8491,t.anoteleia=903,t.anudattadeva=2386,t.anusvarabengali=2434,t.anusvaradeva=2306,t.anusvaragujarati=2690,t.aogonek=261,t.apaatosquare=13056,t.aparen=9372,t.apostrophearmenian=1370,t.apostrophemod=700,t.apple=63743,t.approaches=8784,t.approxequal=8776,t.approxequalorimage=8786,t.approximatelyequal=8773,t.araeaekorean=12686,t.araeakorean=12685,t.arc=8978,t.arighthalfring=7834,t.aring=229,t.aringacute=507,t.aringbelow=7681,t.arrowboth=8596,t.arrowdashdown=8675,t.arrowdashleft=8672,t.arrowdashright=8674,t.arrowdashup=8673,t.arrowdblboth=8660,t.arrowdbldown=8659,t.arrowdblleft=8656,t.arrowdblright=8658,t.arrowdblup=8657,t.arrowdown=8595,t.arrowdownleft=8601,t.arrowdownright=8600,t.arrowdownwhite=8681,t.arrowheaddownmod=709,t.arrowheadleftmod=706,t.arrowheadrightmod=707,t.arrowheadupmod=708,t.arrowhorizex=63719,t.arrowleft=8592,t.arrowleftdbl=8656,t.arrowleftdblstroke=8653,t.arrowleftoverright=8646,t.arrowleftwhite=8678,t.arrowright=8594,t.arrowrightdblstroke=8655,t.arrowrightheavy=10142,t.arrowrightoverleft=8644,t.arrowrightwhite=8680,t.arrowtableft=8676,t.arrowtabright=8677,t.arrowup=8593,t.arrowupdn=8597,t.arrowupdnbse=8616,t.arrowupdownbase=8616,t.arrowupleft=8598,t.arrowupleftofdown=8645,t.arrowupright=8599,t.arrowupwhite=8679,t.arrowvertex=63718,t.asciicircum=94,t.asciicircummonospace=65342,t.asciitilde=126,t.asciitildemonospace=65374,t.ascript=593,t.ascriptturned=594,t.asmallhiragana=12353,t.asmallkatakana=12449,t.asmallkatakanahalfwidth=65383,t.asterisk=42,t.asteriskaltonearabic=1645,t.asteriskarabic=1645,t.asteriskmath=8727,t.asteriskmonospace=65290,t.asterisksmall=65121,t.asterism=8258,t.asuperior=63209,t.asymptoticallyequal=8771,t.at=64,t.atilde=227,t.atmonospace=65312,t.atsmall=65131,t.aturned=592,t.aubengali=2452,t.aubopomofo=12576,t.audeva=2324,t.augujarati=2708,t.augurmukhi=2580,t.aulengthmarkbengali=2519,t.aumatragurmukhi=2636,t.auvowelsignbengali=2508,t.auvowelsigndeva=2380,t.auvowelsigngujarati=2764,t.avagrahadeva=2365,t.aybarmenian=1377,t.ayin=1506,t.ayinaltonehebrew=64288,t.ayinhebrew=1506,t.b=98,t.babengali=2476,t.backslash=92,t.backslashmonospace=65340,t.badeva=2348,t.bagujarati=2732,t.bagurmukhi=2604,t.bahiragana=12400,t.bahtthai=3647,t.bakatakana=12496,t.bar=124,t.barmonospace=65372,t.bbopomofo=12549,t.bcircle=9425,t.bdotaccent=7683,t.bdotbelow=7685,t.beamedsixteenthnotes=9836,t.because=8757,t.becyrillic=1073,t.beharabic=1576,t.behfinalarabic=65168,t.behinitialarabic=65169,t.behiragana=12409,t.behmedialarabic=65170,t.behmeeminitialarabic=64671,t.behmeemisolatedarabic=64520,t.behnoonfinalarabic=64621,t.bekatakana=12505,t.benarmenian=1378,t.bet=1489,t.beta=946,t.betasymbolgreek=976,t.betdagesh=64305,t.betdageshhebrew=64305,t.bethebrew=1489,t.betrafehebrew=64332,t.bhabengali=2477,t.bhadeva=2349,t.bhagujarati=2733,t.bhagurmukhi=2605,t.bhook=595,t.bihiragana=12403,t.bikatakana=12499,t.bilabialclick=664,t.bindigurmukhi=2562,t.birusquare=13105,t.blackcircle=9679,t.blackdiamond=9670,t.blackdownpointingtriangle=9660,t.blackleftpointingpointer=9668,t.blackleftpointingtriangle=9664,t.blacklenticularbracketleft=12304,t.blacklenticularbracketleftvertical=65083,t.blacklenticularbracketright=12305,t.blacklenticularbracketrightvertical=65084,t.blacklowerlefttriangle=9699,t.blacklowerrighttriangle=9698,t.blackrectangle=9644,t.blackrightpointingpointer=9658,t.blackrightpointingtriangle=9654,t.blacksmallsquare=9642,t.blacksmilingface=9787,t.blacksquare=9632,t.blackstar=9733,t.blackupperlefttriangle=9700,t.blackupperrighttriangle=9701,t.blackuppointingsmalltriangle=9652,t.blackuppointingtriangle=9650,t.blank=9251,t.blinebelow=7687,t.block=9608,t.bmonospace=65346,t.bobaimaithai=3610,t.bohiragana=12412,t.bokatakana=12508,t.bparen=9373,t.bqsquare=13251,t.braceex=63732,t.braceleft=123,t.braceleftbt=63731,t.braceleftmid=63730,t.braceleftmonospace=65371,t.braceleftsmall=65115,t.bracelefttp=63729,t.braceleftvertical=65079,t.braceright=125,t.bracerightbt=63742,t.bracerightmid=63741,t.bracerightmonospace=65373,t.bracerightsmall=65116,t.bracerighttp=63740,t.bracerightvertical=65080,t.bracketleft=91,t.bracketleftbt=63728,t.bracketleftex=63727,t.bracketleftmonospace=65339,t.bracketlefttp=63726,t.bracketright=93,t.bracketrightbt=63739,t.bracketrightex=63738,t.bracketrightmonospace=65341,t.bracketrighttp=63737,t.breve=728,t.brevebelowcmb=814,t.brevecmb=774,t.breveinvertedbelowcmb=815,t.breveinvertedcmb=785,t.breveinverteddoublecmb=865,t.bridgebelowcmb=810,t.bridgeinvertedbelowcmb=826,t.brokenbar=166,t.bstroke=384,t.bsuperior=63210,t.btopbar=387,t.buhiragana=12406,t.bukatakana=12502,t.bullet=8226,t.bulletinverse=9688,t.bulletoperator=8729,t.bullseye=9678,t.c=99,t.caarmenian=1390,t.cabengali=2458,t.cacute=263,t.cadeva=2330,t.cagujarati=2714,t.cagurmukhi=2586,t.calsquare=13192,t.candrabindubengali=2433,t.candrabinducmb=784,t.candrabindudeva=2305,t.candrabindugujarati=2689,t.capslock=8682,t.careof=8453,t.caron=711,t.caronbelowcmb=812,t.caroncmb=780,t.carriagereturn=8629,t.cbopomofo=12568,t.ccaron=269,t.ccedilla=231,t.ccedillaacute=7689,t.ccircle=9426,t.ccircumflex=265,t.ccurl=597,t.cdot=267,t.cdotaccent=267,t.cdsquare=13253,t.cedilla=184,t.cedillacmb=807,t.cent=162,t.centigrade=8451,t.centinferior=63199,t.centmonospace=65504,t.centoldstyle=63394,t.centsuperior=63200,t.chaarmenian=1401,t.chabengali=2459,t.chadeva=2331,t.chagujarati=2715,t.chagurmukhi=2587,t.chbopomofo=12564,t.cheabkhasiancyrillic=1213,t.checkmark=10003,t.checyrillic=1095,t.chedescenderabkhasiancyrillic=1215,t.chedescendercyrillic=1207,t.chedieresiscyrillic=1269,t.cheharmenian=1395,t.chekhakassiancyrillic=1228,t.cheverticalstrokecyrillic=1209,t.chi=967,t.chieuchacirclekorean=12919,t.chieuchaparenkorean=12823,t.chieuchcirclekorean=12905,t.chieuchkorean=12618,t.chieuchparenkorean=12809,t.chochangthai=3594,t.chochanthai=3592,t.chochingthai=3593,t.chochoethai=3596,t.chook=392,t.cieucacirclekorean=12918,t.cieucaparenkorean=12822,t.cieuccirclekorean=12904,t.cieuckorean=12616,t.cieucparenkorean=12808,t.cieucuparenkorean=12828,t.circle=9675,t.circlecopyrt=169,t.circlemultiply=8855,t.circleot=8857,t.circleplus=8853,t.circlepostalmark=12342,t.circlewithlefthalfblack=9680,t.circlewithrighthalfblack=9681,t.circumflex=710,t.circumflexbelowcmb=813,t.circumflexcmb=770,t.clear=8999,t.clickalveolar=450,t.clickdental=448,t.clicklateral=449,t.clickretroflex=451,t.club=9827,t.clubsuitblack=9827,t.clubsuitwhite=9831,t.cmcubedsquare=13220,t.cmonospace=65347,t.cmsquaredsquare=13216,t.coarmenian=1409,t.colon=58,t.colonmonetary=8353,t.colonmonospace=65306,t.colonsign=8353,t.colonsmall=65109,t.colontriangularhalfmod=721,t.colontriangularmod=720,t.comma=44,t.commaabovecmb=787,t.commaaboverightcmb=789,t.commaaccent=63171,t.commaarabic=1548,t.commaarmenian=1373,t.commainferior=63201,t.commamonospace=65292,t.commareversedabovecmb=788,t.commareversedmod=701,t.commasmall=65104,t.commasuperior=63202,t.commaturnedabovecmb=786,t.commaturnedmod=699,t.compass=9788,t.congruent=8773,t.contourintegral=8750,t.control=8963,t.controlACK=6,t.controlBEL=7,t.controlBS=8,t.controlCAN=24,t.controlCR=13,t.controlDC1=17,t.controlDC2=18,t.controlDC3=19,t.controlDC4=20,t.controlDEL=127,t.controlDLE=16,t.controlEM=25,t.controlENQ=5,t.controlEOT=4,t.controlESC=27,t.controlETB=23,t.controlETX=3,t.controlFF=12,t.controlFS=28,t.controlGS=29,t.controlHT=9,t.controlLF=10,t.controlNAK=21,t.controlNULL=0,t.controlRS=30,t.controlSI=15,t.controlSO=14,t.controlSOT=2,t.controlSTX=1,t.controlSUB=26,t.controlSYN=22,t.controlUS=31,t.controlVT=11,t.copyright=169,t.copyrightsans=63721,t.copyrightserif=63193,t.cornerbracketleft=12300,t.cornerbracketlefthalfwidth=65378,t.cornerbracketleftvertical=65089,t.cornerbracketright=12301,t.cornerbracketrighthalfwidth=65379,t.cornerbracketrightvertical=65090,t.corporationsquare=13183,t.cosquare=13255,t.coverkgsquare=13254,t.cparen=9374,t.cruzeiro=8354,t.cstretched=663,t.curlyand=8911,t.curlyor=8910,t.currency=164,t.cyrBreve=63185,t.cyrFlex=63186,t.cyrbreve=63188,t.cyrflex=63189,t.d=100,t.daarmenian=1380,t.dabengali=2470,t.dadarabic=1590,t.dadeva=2342,t.dadfinalarabic=65214,t.dadinitialarabic=65215,t.dadmedialarabic=65216,t.dagesh=1468,t.dageshhebrew=1468,t.dagger=8224,t.daggerdbl=8225,t.dagujarati=2726,t.dagurmukhi=2598,t.dahiragana=12384,t.dakatakana=12480,t.dalarabic=1583,t.dalet=1491,t.daletdagesh=64307,t.daletdageshhebrew=64307,t.dalethebrew=1491,t.dalfinalarabic=65194,t.dammaarabic=1615,t.dammalowarabic=1615,t.dammatanaltonearabic=1612,t.dammatanarabic=1612,t.danda=2404,t.dargahebrew=1447,t.dargalefthebrew=1447,t.dasiapneumatacyrilliccmb=1157,t.dblGrave=63187,t.dblanglebracketleft=12298,t.dblanglebracketleftvertical=65085,t.dblanglebracketright=12299,t.dblanglebracketrightvertical=65086,t.dblarchinvertedbelowcmb=811,t.dblarrowleft=8660,t.dblarrowright=8658,t.dbldanda=2405,t.dblgrave=63190,t.dblgravecmb=783,t.dblintegral=8748,t.dbllowline=8215,t.dbllowlinecmb=819,t.dbloverlinecmb=831,t.dblprimemod=698,t.dblverticalbar=8214,t.dblverticallineabovecmb=782,t.dbopomofo=12553,t.dbsquare=13256,t.dcaron=271,t.dcedilla=7697,t.dcircle=9427,t.dcircumflexbelow=7699,t.dcroat=273,t.ddabengali=2465,t.ddadeva=2337,t.ddagujarati=2721,t.ddagurmukhi=2593,t.ddalarabic=1672,t.ddalfinalarabic=64393,t.dddhadeva=2396,t.ddhabengali=2466,t.ddhadeva=2338,t.ddhagujarati=2722,t.ddhagurmukhi=2594,t.ddotaccent=7691,t.ddotbelow=7693,t.decimalseparatorarabic=1643,t.decimalseparatorpersian=1643,t.decyrillic=1076,t.degree=176,t.dehihebrew=1453,t.dehiragana=12391,t.deicoptic=1007,t.dekatakana=12487,t.deleteleft=9003,t.deleteright=8998,t.delta=948,t.deltaturned=397,t.denominatorminusonenumeratorbengali=2552,t.dezh=676,t.dhabengali=2471,t.dhadeva=2343,t.dhagujarati=2727,t.dhagurmukhi=2599,t.dhook=599,t.dialytikatonos=901,t.dialytikatonoscmb=836,t.diamond=9830,t.diamondsuitwhite=9826,t.dieresis=168,t.dieresisacute=63191,t.dieresisbelowcmb=804,t.dieresiscmb=776,t.dieresisgrave=63192,t.dieresistonos=901,t.dihiragana=12386,t.dikatakana=12482,t.dittomark=12291,t.divide=247,t.divides=8739,t.divisionslash=8725,t.djecyrillic=1106,t.dkshade=9619,t.dlinebelow=7695,t.dlsquare=13207,t.dmacron=273,t.dmonospace=65348,t.dnblock=9604,t.dochadathai=3598,t.dodekthai=3604,t.dohiragana=12393,t.dokatakana=12489,t.dollar=36,t.dollarinferior=63203,t.dollarmonospace=65284,t.dollaroldstyle=63268,t.dollarsmall=65129,t.dollarsuperior=63204,t.dong=8363,t.dorusquare=13094,t.dotaccent=729,t.dotaccentcmb=775,t.dotbelowcmb=803,t.dotbelowcomb=803,t.dotkatakana=12539,t.dotlessi=305,t.dotlessj=63166,t.dotlessjstrokehook=644,t.dotmath=8901,t.dottedcircle=9676,t.doubleyodpatah=64287,t.doubleyodpatahhebrew=64287,t.downtackbelowcmb=798,t.downtackmod=725,t.dparen=9375,t.dsuperior=63211,t.dtail=598,t.dtopbar=396,t.duhiragana=12389,t.dukatakana=12485,t.dz=499,t.dzaltone=675,t.dzcaron=454,t.dzcurl=677,t.dzeabkhasiancyrillic=1249,t.dzecyrillic=1109,t.dzhecyrillic=1119,t.e=101,t.eacute=233,t.earth=9793,t.ebengali=2447,t.ebopomofo=12572,t.ebreve=277,t.ecandradeva=2317,t.ecandragujarati=2701,t.ecandravowelsigndeva=2373,t.ecandravowelsigngujarati=2757,t.ecaron=283,t.ecedillabreve=7709,t.echarmenian=1381,t.echyiwnarmenian=1415,t.ecircle=9428,t.ecircumflex=234,t.ecircumflexacute=7871,t.ecircumflexbelow=7705,t.ecircumflexdotbelow=7879,t.ecircumflexgrave=7873,t.ecircumflexhookabove=7875,t.ecircumflextilde=7877,t.ecyrillic=1108,t.edblgrave=517,t.edeva=2319,t.edieresis=235,t.edot=279,t.edotaccent=279,t.edotbelow=7865,t.eegurmukhi=2575,t.eematragurmukhi=2631,t.efcyrillic=1092,t.egrave=232,t.egujarati=2703,t.eharmenian=1383,t.ehbopomofo=12573,t.ehiragana=12360,t.ehookabove=7867,t.eibopomofo=12575,t.eight=56,t.eightarabic=1640,t.eightbengali=2542,t.eightcircle=9319,t.eightcircleinversesansserif=10129,t.eightdeva=2414,t.eighteencircle=9329,t.eighteenparen=9349,t.eighteenperiod=9369,t.eightgujarati=2798,t.eightgurmukhi=2670,t.eighthackarabic=1640,t.eighthangzhou=12328,t.eighthnotebeamed=9835,t.eightideographicparen=12839,t.eightinferior=8328,t.eightmonospace=65304,t.eightoldstyle=63288,t.eightparen=9339,t.eightperiod=9359,t.eightpersian=1784,t.eightroman=8567,t.eightsuperior=8312,t.eightthai=3672,t.einvertedbreve=519,t.eiotifiedcyrillic=1125,t.ekatakana=12456,t.ekatakanahalfwidth=65396,t.ekonkargurmukhi=2676,t.ekorean=12628,t.elcyrillic=1083,t.element=8712,t.elevencircle=9322,t.elevenparen=9342,t.elevenperiod=9362,t.elevenroman=8570,t.ellipsis=8230,t.ellipsisvertical=8942,t.emacron=275,t.emacronacute=7703,t.emacrongrave=7701,t.emcyrillic=1084,t.emdash=8212,t.emdashvertical=65073,t.emonospace=65349,t.emphasismarkarmenian=1371,t.emptyset=8709,t.enbopomofo=12579,t.encyrillic=1085,t.endash=8211,t.endashvertical=65074,t.endescendercyrillic=1187,t.eng=331,t.engbopomofo=12581,t.enghecyrillic=1189,t.enhookcyrillic=1224,t.enspace=8194,t.eogonek=281,t.eokorean=12627,t.eopen=603,t.eopenclosed=666,t.eopenreversed=604,t.eopenreversedclosed=606,t.eopenreversedhook=605,t.eparen=9376,t.epsilon=949,t.epsilontonos=941,t.equal=61,t.equalmonospace=65309,t.equalsmall=65126,t.equalsuperior=8316,t.equivalence=8801,t.erbopomofo=12582,t.ercyrillic=1088,t.ereversed=600,t.ereversedcyrillic=1101,t.escyrillic=1089,t.esdescendercyrillic=1195,t.esh=643,t.eshcurl=646,t.eshortdeva=2318,t.eshortvowelsigndeva=2374,t.eshreversedloop=426,t.eshsquatreversed=645,t.esmallhiragana=12359,t.esmallkatakana=12455,t.esmallkatakanahalfwidth=65386,t.estimated=8494,t.esuperior=63212,t.eta=951,t.etarmenian=1384,t.etatonos=942,t.eth=240,t.etilde=7869,t.etildebelow=7707,t.etnahtafoukhhebrew=1425,t.etnahtafoukhlefthebrew=1425,t.etnahtahebrew=1425,t.etnahtalefthebrew=1425,t.eturned=477,t.eukorean=12641,t.euro=8364,t.evowelsignbengali=2503,t.evowelsigndeva=2375,t.evowelsigngujarati=2759,t.exclam=33,t.exclamarmenian=1372,t.exclamdbl=8252,t.exclamdown=161,t.exclamdownsmall=63393,t.exclammonospace=65281,t.exclamsmall=63265,t.existential=8707,t.ezh=658,t.ezhcaron=495,t.ezhcurl=659,t.ezhreversed=441,t.ezhtail=442,t.f=102,t.fadeva=2398,t.fagurmukhi=2654,t.fahrenheit=8457,t.fathaarabic=1614,t.fathalowarabic=1614,t.fathatanarabic=1611,t.fbopomofo=12552,t.fcircle=9429,t.fdotaccent=7711,t.feharabic=1601,t.feharmenian=1414,t.fehfinalarabic=65234,t.fehinitialarabic=65235,t.fehmedialarabic=65236,t.feicoptic=997,t.female=9792,t.ff=64256,t.f_f=64256,t.ffi=64259,t.f_f_i=64259,t.ffl=64260,t.f_f_l=64260,t.fi=64257,t.f_i=64257,t.fifteencircle=9326,t.fifteenparen=9346,t.fifteenperiod=9366,t.figuredash=8210,t.filledbox=9632,t.filledrect=9644,t.finalkaf=1498,t.finalkafdagesh=64314,t.finalkafdageshhebrew=64314,t.finalkafhebrew=1498,t.finalmem=1501,t.finalmemhebrew=1501,t.finalnun=1503,t.finalnunhebrew=1503,t.finalpe=1507,t.finalpehebrew=1507,t.finaltsadi=1509,t.finaltsadihebrew=1509,t.firsttonechinese=713,t.fisheye=9673,t.fitacyrillic=1139,t.five=53,t.fivearabic=1637,t.fivebengali=2539,t.fivecircle=9316,t.fivecircleinversesansserif=10126,t.fivedeva=2411,t.fiveeighths=8541,t.fivegujarati=2795,t.fivegurmukhi=2667,t.fivehackarabic=1637,t.fivehangzhou=12325,t.fiveideographicparen=12836,t.fiveinferior=8325,t.fivemonospace=65301,t.fiveoldstyle=63285,t.fiveparen=9336,t.fiveperiod=9356,t.fivepersian=1781,t.fiveroman=8564,t.fivesuperior=8309,t.fivethai=3669,t.fl=64258,t.f_l=64258,t.florin=402,t.fmonospace=65350,t.fmsquare=13209,t.fofanthai=3615,t.fofathai=3613,t.fongmanthai=3663,t.forall=8704,t.four=52,t.fourarabic=1636,t.fourbengali=2538,t.fourcircle=9315,t.fourcircleinversesansserif=10125,t.fourdeva=2410,t.fourgujarati=2794,t.fourgurmukhi=2666,t.fourhackarabic=1636,t.fourhangzhou=12324,t.fourideographicparen=12835,t.fourinferior=8324,t.fourmonospace=65300,t.fournumeratorbengali=2551,t.fouroldstyle=63284,t.fourparen=9335,t.fourperiod=9355,t.fourpersian=1780,t.fourroman=8563,t.foursuperior=8308,t.fourteencircle=9325,t.fourteenparen=9345,t.fourteenperiod=9365,t.fourthai=3668,t.fourthtonechinese=715,t.fparen=9377,t.fraction=8260,t.franc=8355,t.g=103,t.gabengali=2455,t.gacute=501,t.gadeva=2327,t.gafarabic=1711,t.gaffinalarabic=64403,t.gafinitialarabic=64404,t.gafmedialarabic=64405,t.gagujarati=2711,t.gagurmukhi=2583,t.gahiragana=12364,t.gakatakana=12460,t.gamma=947,t.gammalatinsmall=611,t.gammasuperior=736,t.gangiacoptic=1003,t.gbopomofo=12557,t.gbreve=287,t.gcaron=487,t.gcedilla=291,t.gcircle=9430,t.gcircumflex=285,t.gcommaaccent=291,t.gdot=289,t.gdotaccent=289,t.gecyrillic=1075,t.gehiragana=12370,t.gekatakana=12466,t.geometricallyequal=8785,t.gereshaccenthebrew=1436,t.gereshhebrew=1523,t.gereshmuqdamhebrew=1437,t.germandbls=223,t.gershayimaccenthebrew=1438,t.gershayimhebrew=1524,t.getamark=12307,t.ghabengali=2456,t.ghadarmenian=1394,t.ghadeva=2328,t.ghagujarati=2712,t.ghagurmukhi=2584,t.ghainarabic=1594,t.ghainfinalarabic=65230,t.ghaininitialarabic=65231,t.ghainmedialarabic=65232,t.ghemiddlehookcyrillic=1173,t.ghestrokecyrillic=1171,t.gheupturncyrillic=1169,t.ghhadeva=2394,t.ghhagurmukhi=2650,t.ghook=608,t.ghzsquare=13203,t.gihiragana=12366,t.gikatakana=12462,t.gimarmenian=1379,t.gimel=1490,t.gimeldagesh=64306,t.gimeldageshhebrew=64306,t.gimelhebrew=1490,t.gjecyrillic=1107,t.glottalinvertedstroke=446,t.glottalstop=660,t.glottalstopinverted=662,t.glottalstopmod=704,t.glottalstopreversed=661,t.glottalstopreversedmod=705,t.glottalstopreversedsuperior=740,t.glottalstopstroke=673,t.glottalstopstrokereversed=674,t.gmacron=7713,t.gmonospace=65351,t.gohiragana=12372,t.gokatakana=12468,t.gparen=9378,t.gpasquare=13228,t.gradient=8711,t.grave=96,t.gravebelowcmb=790,t.gravecmb=768,t.gravecomb=768,t.gravedeva=2387,t.gravelowmod=718,t.gravemonospace=65344,t.gravetonecmb=832,t.greater=62,t.greaterequal=8805,t.greaterequalorless=8923,t.greatermonospace=65310,t.greaterorequivalent=8819,t.greaterorless=8823,t.greateroverequal=8807,t.greatersmall=65125,t.gscript=609,t.gstroke=485,t.guhiragana=12368,t.guillemotleft=171,t.guillemotright=187,t.guilsinglleft=8249,t.guilsinglright=8250,t.gukatakana=12464,t.guramusquare=13080,t.gysquare=13257,t.h=104,t.haabkhasiancyrillic=1193,t.haaltonearabic=1729,t.habengali=2489,t.hadescendercyrillic=1203,t.hadeva=2361,t.hagujarati=2745,t.hagurmukhi=2617,t.haharabic=1581,t.hahfinalarabic=65186,t.hahinitialarabic=65187,t.hahiragana=12399,t.hahmedialarabic=65188,t.haitusquare=13098,t.hakatakana=12495,t.hakatakanahalfwidth=65418,t.halantgurmukhi=2637,t.hamzaarabic=1569,t.hamzalowarabic=1569,t.hangulfiller=12644,t.hardsigncyrillic=1098,t.harpoonleftbarbup=8636,t.harpoonrightbarbup=8640,t.hasquare=13258,t.hatafpatah=1458,t.hatafpatah16=1458,t.hatafpatah23=1458,t.hatafpatah2f=1458,t.hatafpatahhebrew=1458,t.hatafpatahnarrowhebrew=1458,t.hatafpatahquarterhebrew=1458,t.hatafpatahwidehebrew=1458,t.hatafqamats=1459,t.hatafqamats1b=1459,t.hatafqamats28=1459,t.hatafqamats34=1459,t.hatafqamatshebrew=1459,t.hatafqamatsnarrowhebrew=1459,t.hatafqamatsquarterhebrew=1459,t.hatafqamatswidehebrew=1459,t.hatafsegol=1457,t.hatafsegol17=1457,t.hatafsegol24=1457,t.hatafsegol30=1457,t.hatafsegolhebrew=1457,t.hatafsegolnarrowhebrew=1457,t.hatafsegolquarterhebrew=1457,t.hatafsegolwidehebrew=1457,t.hbar=295,t.hbopomofo=12559,t.hbrevebelow=7723,t.hcedilla=7721,t.hcircle=9431,t.hcircumflex=293,t.hdieresis=7719,t.hdotaccent=7715,t.hdotbelow=7717,t.he=1492,t.heart=9829,t.heartsuitblack=9829,t.heartsuitwhite=9825,t.hedagesh=64308,t.hedageshhebrew=64308,t.hehaltonearabic=1729,t.heharabic=1607,t.hehebrew=1492,t.hehfinalaltonearabic=64423,t.hehfinalalttwoarabic=65258,t.hehfinalarabic=65258,t.hehhamzaabovefinalarabic=64421,t.hehhamzaaboveisolatedarabic=64420,t.hehinitialaltonearabic=64424,t.hehinitialarabic=65259,t.hehiragana=12408,t.hehmedialaltonearabic=64425,t.hehmedialarabic=65260,t.heiseierasquare=13179,t.hekatakana=12504,t.hekatakanahalfwidth=65421,t.hekutaarusquare=13110,t.henghook=615,t.herutusquare=13113,t.het=1495,t.hethebrew=1495,t.hhook=614,t.hhooksuperior=689,t.hieuhacirclekorean=12923,t.hieuhaparenkorean=12827,t.hieuhcirclekorean=12909,t.hieuhkorean=12622,t.hieuhparenkorean=12813,t.hihiragana=12402,t.hikatakana=12498,t.hikatakanahalfwidth=65419,t.hiriq=1460,t.hiriq14=1460,t.hiriq21=1460,t.hiriq2d=1460,t.hiriqhebrew=1460,t.hiriqnarrowhebrew=1460,t.hiriqquarterhebrew=1460,t.hiriqwidehebrew=1460,t.hlinebelow=7830,t.hmonospace=65352,t.hoarmenian=1392,t.hohipthai=3627,t.hohiragana=12411,t.hokatakana=12507,t.hokatakanahalfwidth=65422,t.holam=1465,t.holam19=1465,t.holam26=1465,t.holam32=1465,t.holamhebrew=1465,t.holamnarrowhebrew=1465,t.holamquarterhebrew=1465,t.holamwidehebrew=1465,t.honokhukthai=3630,t.hookabovecomb=777,t.hookcmb=777,t.hookpalatalizedbelowcmb=801,t.hookretroflexbelowcmb=802,t.hoonsquare=13122,t.horicoptic=1001,t.horizontalbar=8213,t.horncmb=795,t.hotsprings=9832,t.house=8962,t.hparen=9379,t.hsuperior=688,t.hturned=613,t.huhiragana=12405,t.huiitosquare=13107,t.hukatakana=12501,t.hukatakanahalfwidth=65420,t.hungarumlaut=733,t.hungarumlautcmb=779,t.hv=405,t.hyphen=45,t.hypheninferior=63205,t.hyphenmonospace=65293,t.hyphensmall=65123,t.hyphensuperior=63206,t.hyphentwo=8208,t.i=105,t.iacute=237,t.iacyrillic=1103,t.ibengali=2439,t.ibopomofo=12583,t.ibreve=301,t.icaron=464,t.icircle=9432,t.icircumflex=238,t.icyrillic=1110,t.idblgrave=521,t.ideographearthcircle=12943,t.ideographfirecircle=12939,t.ideographicallianceparen=12863,t.ideographiccallparen=12858,t.ideographiccentrecircle=12965,t.ideographicclose=12294,t.ideographiccomma=12289,t.ideographiccommaleft=65380,t.ideographiccongratulationparen=12855,t.ideographiccorrectcircle=12963,t.ideographicearthparen=12847,t.ideographicenterpriseparen=12861,t.ideographicexcellentcircle=12957,t.ideographicfestivalparen=12864,t.ideographicfinancialcircle=12950,t.ideographicfinancialparen=12854,t.ideographicfireparen=12843,t.ideographichaveparen=12850,t.ideographichighcircle=12964,t.ideographiciterationmark=12293,t.ideographiclaborcircle=12952,t.ideographiclaborparen=12856,t.ideographicleftcircle=12967,t.ideographiclowcircle=12966,t.ideographicmedicinecircle=12969,t.ideographicmetalparen=12846,t.ideographicmoonparen=12842,t.ideographicnameparen=12852,t.ideographicperiod=12290,t.ideographicprintcircle=12958,t.ideographicreachparen=12867,t.ideographicrepresentparen=12857,t.ideographicresourceparen=12862,t.ideographicrightcircle=12968,t.ideographicsecretcircle=12953,t.ideographicselfparen=12866,t.ideographicsocietyparen=12851,t.ideographicspace=12288,t.ideographicspecialparen=12853,t.ideographicstockparen=12849,t.ideographicstudyparen=12859,t.ideographicsunparen=12848,t.ideographicsuperviseparen=12860,t.ideographicwaterparen=12844,t.ideographicwoodparen=12845,t.ideographiczero=12295,t.ideographmetalcircle=12942,t.ideographmooncircle=12938,t.ideographnamecircle=12948,t.ideographsuncircle=12944,t.ideographwatercircle=12940,t.ideographwoodcircle=12941,t.ideva=2311,t.idieresis=239,t.idieresisacute=7727,t.idieresiscyrillic=1253,t.idotbelow=7883,t.iebrevecyrillic=1239,t.iecyrillic=1077,t.ieungacirclekorean=12917,t.ieungaparenkorean=12821,t.ieungcirclekorean=12903,t.ieungkorean=12615,t.ieungparenkorean=12807,t.igrave=236,t.igujarati=2695,t.igurmukhi=2567,t.ihiragana=12356,t.ihookabove=7881,t.iibengali=2440,t.iicyrillic=1080,t.iideva=2312,t.iigujarati=2696,t.iigurmukhi=2568,t.iimatragurmukhi=2624,t.iinvertedbreve=523,t.iishortcyrillic=1081,t.iivowelsignbengali=2496,t.iivowelsigndeva=2368,t.iivowelsigngujarati=2752,t.ij=307,t.ikatakana=12452,t.ikatakanahalfwidth=65394,t.ikorean=12643,t.ilde=732,t.iluyhebrew=1452,t.imacron=299,t.imacroncyrillic=1251,t.imageorapproximatelyequal=8787,t.imatragurmukhi=2623,t.imonospace=65353,t.increment=8710,t.infinity=8734,t.iniarmenian=1387,t.integral=8747,t.integralbottom=8993,t.integralbt=8993,t.integralex=63733,t.integraltop=8992,t.integraltp=8992,t.intersection=8745,t.intisquare=13061,t.invbullet=9688,t.invcircle=9689,t.invsmileface=9787,t.iocyrillic=1105,t.iogonek=303,t.iota=953,t.iotadieresis=970,t.iotadieresistonos=912,t.iotalatin=617,t.iotatonos=943,t.iparen=9380,t.irigurmukhi=2674,t.ismallhiragana=12355,t.ismallkatakana=12451,t.ismallkatakanahalfwidth=65384,t.issharbengali=2554,t.istroke=616,t.isuperior=63213,t.iterationhiragana=12445,t.iterationkatakana=12541,t.itilde=297,t.itildebelow=7725,t.iubopomofo=12585,t.iucyrillic=1102,t.ivowelsignbengali=2495,t.ivowelsigndeva=2367,t.ivowelsigngujarati=2751,t.izhitsacyrillic=1141,t.izhitsadblgravecyrillic=1143,t.j=106,t.jaarmenian=1393,t.jabengali=2460,t.jadeva=2332,t.jagujarati=2716,t.jagurmukhi=2588,t.jbopomofo=12560,t.jcaron=496,t.jcircle=9433,t.jcircumflex=309,t.jcrossedtail=669,t.jdotlessstroke=607,t.jecyrillic=1112,t.jeemarabic=1580,t.jeemfinalarabic=65182,t.jeeminitialarabic=65183,t.jeemmedialarabic=65184,t.jeharabic=1688,t.jehfinalarabic=64395,t.jhabengali=2461,t.jhadeva=2333,t.jhagujarati=2717,t.jhagurmukhi=2589,t.jheharmenian=1403,t.jis=12292,t.jmonospace=65354,t.jparen=9381,t.jsuperior=690,t.k=107,t.kabashkircyrillic=1185,t.kabengali=2453,t.kacute=7729,t.kacyrillic=1082,t.kadescendercyrillic=1179,t.kadeva=2325,t.kaf=1499,t.kafarabic=1603,t.kafdagesh=64315,t.kafdageshhebrew=64315,t.kaffinalarabic=65242,t.kafhebrew=1499,t.kafinitialarabic=65243,t.kafmedialarabic=65244,t.kafrafehebrew=64333,t.kagujarati=2709,t.kagurmukhi=2581,t.kahiragana=12363,t.kahookcyrillic=1220,t.kakatakana=12459,t.kakatakanahalfwidth=65398,t.kappa=954,t.kappasymbolgreek=1008,t.kapyeounmieumkorean=12657,t.kapyeounphieuphkorean=12676,t.kapyeounpieupkorean=12664,t.kapyeounssangpieupkorean=12665,t.karoriisquare=13069,t.kashidaautoarabic=1600,t.kashidaautonosidebearingarabic=1600,t.kasmallkatakana=12533,t.kasquare=13188,t.kasraarabic=1616,t.kasratanarabic=1613,t.kastrokecyrillic=1183,t.katahiraprolongmarkhalfwidth=65392,t.kaverticalstrokecyrillic=1181,t.kbopomofo=12558,t.kcalsquare=13193,t.kcaron=489,t.kcedilla=311,t.kcircle=9434,t.kcommaaccent=311,t.kdotbelow=7731,t.keharmenian=1412,t.kehiragana=12369,t.kekatakana=12465,t.kekatakanahalfwidth=65401,t.kenarmenian=1391,t.kesmallkatakana=12534,t.kgreenlandic=312,t.khabengali=2454,t.khacyrillic=1093,t.khadeva=2326,t.khagujarati=2710,t.khagurmukhi=2582,t.khaharabic=1582,t.khahfinalarabic=65190,t.khahinitialarabic=65191,t.khahmedialarabic=65192,t.kheicoptic=999,t.khhadeva=2393,t.khhagurmukhi=2649,t.khieukhacirclekorean=12920,t.khieukhaparenkorean=12824,t.khieukhcirclekorean=12906,t.khieukhkorean=12619,t.khieukhparenkorean=12810,t.khokhaithai=3586,t.khokhonthai=3589,t.khokhuatthai=3587,t.khokhwaithai=3588,t.khomutthai=3675,t.khook=409,t.khorakhangthai=3590,t.khzsquare=13201,t.kihiragana=12365,t.kikatakana=12461,t.kikatakanahalfwidth=65399,t.kiroguramusquare=13077,t.kiromeetorusquare=13078,t.kirosquare=13076,t.kiyeokacirclekorean=12910,t.kiyeokaparenkorean=12814,t.kiyeokcirclekorean=12896,t.kiyeokkorean=12593,t.kiyeokparenkorean=12800,t.kiyeoksioskorean=12595,t.kjecyrillic=1116,t.klinebelow=7733,t.klsquare=13208,t.kmcubedsquare=13222,t.kmonospace=65355,t.kmsquaredsquare=13218,t.kohiragana=12371,t.kohmsquare=13248,t.kokaithai=3585,t.kokatakana=12467,t.kokatakanahalfwidth=65402,t.kooposquare=13086,t.koppacyrillic=1153,t.koreanstandardsymbol=12927,t.koroniscmb=835,t.kparen=9382,t.kpasquare=13226,t.ksicyrillic=1135,t.ktsquare=13263,t.kturned=670,t.kuhiragana=12367,t.kukatakana=12463,t.kukatakanahalfwidth=65400,t.kvsquare=13240,t.kwsquare=13246,t.l=108,t.labengali=2482,t.lacute=314,t.ladeva=2354,t.lagujarati=2738,t.lagurmukhi=2610,t.lakkhangyaothai=3653,t.lamaleffinalarabic=65276,t.lamalefhamzaabovefinalarabic=65272,t.lamalefhamzaaboveisolatedarabic=65271,t.lamalefhamzabelowfinalarabic=65274,t.lamalefhamzabelowisolatedarabic=65273,t.lamalefisolatedarabic=65275,t.lamalefmaddaabovefinalarabic=65270,t.lamalefmaddaaboveisolatedarabic=65269,t.lamarabic=1604,t.lambda=955,t.lambdastroke=411,t.lamed=1500,t.lameddagesh=64316,t.lameddageshhebrew=64316,t.lamedhebrew=1500,t.lamfinalarabic=65246,t.lamhahinitialarabic=64714,t.laminitialarabic=65247,t.lamjeeminitialarabic=64713,t.lamkhahinitialarabic=64715,t.lamlamhehisolatedarabic=65010,t.lammedialarabic=65248,t.lammeemhahinitialarabic=64904,t.lammeeminitialarabic=64716,t.largecircle=9711,t.lbar=410,t.lbelt=620,t.lbopomofo=12556,t.lcaron=318,t.lcedilla=316,t.lcircle=9435,t.lcircumflexbelow=7741,t.lcommaaccent=316,t.ldot=320,t.ldotaccent=320,t.ldotbelow=7735,t.ldotbelowmacron=7737,t.leftangleabovecmb=794,t.lefttackbelowcmb=792,t.less=60,t.lessequal=8804,t.lessequalorgreater=8922,t.lessmonospace=65308,t.lessorequivalent=8818,t.lessorgreater=8822,t.lessoverequal=8806,t.lesssmall=65124,t.lezh=622,t.lfblock=9612,t.lhookretroflex=621,t.lira=8356,t.liwnarmenian=1388,t.lj=457,t.ljecyrillic=1113,t.ll=63168,t.lladeva=2355,t.llagujarati=2739,t.llinebelow=7739,t.llladeva=2356,t.llvocalicbengali=2529,t.llvocalicdeva=2401,t.llvocalicvowelsignbengali=2531,t.llvocalicvowelsigndeva=2403,t.lmiddletilde=619,t.lmonospace=65356,t.lmsquare=13264,t.lochulathai=3628,t.logicaland=8743,t.logicalnot=172,t.logicalnotreversed=8976,t.logicalor=8744,t.lolingthai=3621,t.longs=383,t.lowlinecenterline=65102,t.lowlinecmb=818,t.lowlinedashed=65101,t.lozenge=9674,t.lparen=9383,t.lslash=322,t.lsquare=8467,t.lsuperior=63214,t.ltshade=9617,t.luthai=3622,t.lvocalicbengali=2444,t.lvocalicdeva=2316,t.lvocalicvowelsignbengali=2530,t.lvocalicvowelsigndeva=2402,t.lxsquare=13267,t.m=109,t.mabengali=2478,t.macron=175,t.macronbelowcmb=817,t.macroncmb=772,t.macronlowmod=717,t.macronmonospace=65507,t.macute=7743,t.madeva=2350,t.magujarati=2734,t.magurmukhi=2606,t.mahapakhhebrew=1444,t.mahapakhlefthebrew=1444,t.mahiragana=12414,t.maichattawalowleftthai=63637,t.maichattawalowrightthai=63636,t.maichattawathai=3659,t.maichattawaupperleftthai=63635,t.maieklowleftthai=63628,t.maieklowrightthai=63627,t.maiekthai=3656,t.maiekupperleftthai=63626,t.maihanakatleftthai=63620,t.maihanakatthai=3633,t.maitaikhuleftthai=63625,t.maitaikhuthai=3655,t.maitholowleftthai=63631,t.maitholowrightthai=63630,t.maithothai=3657,t.maithoupperleftthai=63629,t.maitrilowleftthai=63634,t.maitrilowrightthai=63633,t.maitrithai=3658,t.maitriupperleftthai=63632,t.maiyamokthai=3654,t.makatakana=12510,t.makatakanahalfwidth=65423,t.male=9794,t.mansyonsquare=13127,t.maqafhebrew=1470,t.mars=9794,t.masoracirclehebrew=1455,t.masquare=13187,t.mbopomofo=12551,t.mbsquare=13268,t.mcircle=9436,t.mcubedsquare=13221,t.mdotaccent=7745,t.mdotbelow=7747,t.meemarabic=1605,t.meemfinalarabic=65250,t.meeminitialarabic=65251,t.meemmedialarabic=65252,t.meemmeeminitialarabic=64721,t.meemmeemisolatedarabic=64584,t.meetorusquare=13133,t.mehiragana=12417,t.meizierasquare=13182,t.mekatakana=12513,t.mekatakanahalfwidth=65426,t.mem=1502,t.memdagesh=64318,t.memdageshhebrew=64318,t.memhebrew=1502,t.menarmenian=1396,t.merkhahebrew=1445,t.merkhakefulahebrew=1446,t.merkhakefulalefthebrew=1446,t.merkhalefthebrew=1445,t.mhook=625,t.mhzsquare=13202,t.middledotkatakanahalfwidth=65381,t.middot=183,t.mieumacirclekorean=12914,t.mieumaparenkorean=12818,t.mieumcirclekorean=12900,t.mieumkorean=12609,t.mieumpansioskorean=12656,t.mieumparenkorean=12804,t.mieumpieupkorean=12654,t.mieumsioskorean=12655,t.mihiragana=12415,t.mikatakana=12511,t.mikatakanahalfwidth=65424,t.minus=8722,t.minusbelowcmb=800,t.minuscircle=8854,t.minusmod=727,t.minusplus=8723,t.minute=8242,t.miribaarusquare=13130,t.mirisquare=13129,t.mlonglegturned=624,t.mlsquare=13206,t.mmcubedsquare=13219,t.mmonospace=65357,t.mmsquaredsquare=13215,t.mohiragana=12418,t.mohmsquare=13249,t.mokatakana=12514,t.mokatakanahalfwidth=65427,t.molsquare=13270,t.momathai=3617,t.moverssquare=13223,t.moverssquaredsquare=13224,t.mparen=9384,t.mpasquare=13227,t.mssquare=13235,t.msuperior=63215,t.mturned=623,t.mu=181,t.mu1=181,t.muasquare=13186,t.muchgreater=8811,t.muchless=8810,t.mufsquare=13196,t.mugreek=956,t.mugsquare=13197,t.muhiragana=12416,t.mukatakana=12512,t.mukatakanahalfwidth=65425,t.mulsquare=13205,t.multiply=215,t.mumsquare=13211,t.munahhebrew=1443,t.munahlefthebrew=1443,t.musicalnote=9834,t.musicalnotedbl=9835,t.musicflatsign=9837,t.musicsharpsign=9839,t.mussquare=13234,t.muvsquare=13238,t.muwsquare=13244,t.mvmegasquare=13241,t.mvsquare=13239,t.mwmegasquare=13247,t.mwsquare=13245,t.n=110,t.nabengali=2472,t.nabla=8711,t.nacute=324,t.nadeva=2344,t.nagujarati=2728,t.nagurmukhi=2600,t.nahiragana=12394,t.nakatakana=12490,t.nakatakanahalfwidth=65413,t.napostrophe=329,t.nasquare=13185,t.nbopomofo=12555,t.nbspace=160,t.ncaron=328,t.ncedilla=326,t.ncircle=9437,t.ncircumflexbelow=7755,t.ncommaaccent=326,t.ndotaccent=7749,t.ndotbelow=7751,t.nehiragana=12397,t.nekatakana=12493,t.nekatakanahalfwidth=65416,t.newsheqelsign=8362,t.nfsquare=13195,t.ngabengali=2457,t.ngadeva=2329,t.ngagujarati=2713,t.ngagurmukhi=2585,t.ngonguthai=3591,t.nhiragana=12435,t.nhookleft=626,t.nhookretroflex=627,t.nieunacirclekorean=12911,t.nieunaparenkorean=12815,t.nieuncieuckorean=12597,t.nieuncirclekorean=12897,t.nieunhieuhkorean=12598,t.nieunkorean=12596,t.nieunpansioskorean=12648,t.nieunparenkorean=12801,t.nieunsioskorean=12647,t.nieuntikeutkorean=12646,t.nihiragana=12395,t.nikatakana=12491,t.nikatakanahalfwidth=65414,t.nikhahitleftthai=63641,t.nikhahitthai=3661,t.nine=57,t.ninearabic=1641,t.ninebengali=2543,t.ninecircle=9320,t.ninecircleinversesansserif=10130,t.ninedeva=2415,t.ninegujarati=2799,t.ninegurmukhi=2671,t.ninehackarabic=1641,t.ninehangzhou=12329,t.nineideographicparen=12840,t.nineinferior=8329,t.ninemonospace=65305,t.nineoldstyle=63289,t.nineparen=9340,t.nineperiod=9360,t.ninepersian=1785,t.nineroman=8568,t.ninesuperior=8313,t.nineteencircle=9330,t.nineteenparen=9350,t.nineteenperiod=9370,t.ninethai=3673,t.nj=460,t.njecyrillic=1114,t.nkatakana=12531,t.nkatakanahalfwidth=65437,t.nlegrightlong=414,t.nlinebelow=7753,t.nmonospace=65358,t.nmsquare=13210,t.nnabengali=2467,t.nnadeva=2339,t.nnagujarati=2723,t.nnagurmukhi=2595,t.nnnadeva=2345,t.nohiragana=12398,t.nokatakana=12494,t.nokatakanahalfwidth=65417,t.nonbreakingspace=160,t.nonenthai=3603,t.nonuthai=3609,t.noonarabic=1606,t.noonfinalarabic=65254,t.noonghunnaarabic=1722,t.noonghunnafinalarabic=64415,t.nooninitialarabic=65255,t.noonjeeminitialarabic=64722,t.noonjeemisolatedarabic=64587,t.noonmedialarabic=65256,t.noonmeeminitialarabic=64725,t.noonmeemisolatedarabic=64590,t.noonnoonfinalarabic=64653,t.notcontains=8716,t.notelement=8713,t.notelementof=8713,t.notequal=8800,t.notgreater=8815,t.notgreaternorequal=8817,t.notgreaternorless=8825,t.notidentical=8802,t.notless=8814,t.notlessnorequal=8816,t.notparallel=8742,t.notprecedes=8832,t.notsubset=8836,t.notsucceeds=8833,t.notsuperset=8837,t.nowarmenian=1398,t.nparen=9385,t.nssquare=13233,t.nsuperior=8319,t.ntilde=241,t.nu=957,t.nuhiragana=12396,t.nukatakana=12492,t.nukatakanahalfwidth=65415,t.nuktabengali=2492,t.nuktadeva=2364,t.nuktagujarati=2748,t.nuktagurmukhi=2620,t.numbersign=35,t.numbersignmonospace=65283,t.numbersignsmall=65119,t.numeralsigngreek=884,t.numeralsignlowergreek=885,t.numero=8470,t.nun=1504,t.nundagesh=64320,t.nundageshhebrew=64320,t.nunhebrew=1504,t.nvsquare=13237,t.nwsquare=13243,t.nyabengali=2462,t.nyadeva=2334,t.nyagujarati=2718,t.nyagurmukhi=2590,t.o=111,t.oacute=243,t.oangthai=3629,t.obarred=629,t.obarredcyrillic=1257,t.obarreddieresiscyrillic=1259,t.obengali=2451,t.obopomofo=12571,t.obreve=335,t.ocandradeva=2321,t.ocandragujarati=2705,t.ocandravowelsigndeva=2377,t.ocandravowelsigngujarati=2761,t.ocaron=466,t.ocircle=9438,t.ocircumflex=244,t.ocircumflexacute=7889,t.ocircumflexdotbelow=7897,t.ocircumflexgrave=7891,t.ocircumflexhookabove=7893,t.ocircumflextilde=7895,t.ocyrillic=1086,t.odblacute=337,t.odblgrave=525,t.odeva=2323,t.odieresis=246,t.odieresiscyrillic=1255,t.odotbelow=7885,t.oe=339,t.oekorean=12634,t.ogonek=731,t.ogonekcmb=808,t.ograve=242,t.ogujarati=2707,t.oharmenian=1413,t.ohiragana=12362,t.ohookabove=7887,t.ohorn=417,t.ohornacute=7899,t.ohorndotbelow=7907,t.ohorngrave=7901,t.ohornhookabove=7903,t.ohorntilde=7905,t.ohungarumlaut=337,t.oi=419,t.oinvertedbreve=527,t.okatakana=12458,t.okatakanahalfwidth=65397,t.okorean=12631,t.olehebrew=1451,t.omacron=333,t.omacronacute=7763,t.omacrongrave=7761,t.omdeva=2384,t.omega=969,t.omega1=982,t.omegacyrillic=1121,t.omegalatinclosed=631,t.omegaroundcyrillic=1147,t.omegatitlocyrillic=1149,t.omegatonos=974,t.omgujarati=2768,t.omicron=959,t.omicrontonos=972,t.omonospace=65359,t.one=49,t.onearabic=1633,t.onebengali=2535,t.onecircle=9312,t.onecircleinversesansserif=10122,t.onedeva=2407,t.onedotenleader=8228,t.oneeighth=8539,t.onefitted=63196,t.onegujarati=2791,t.onegurmukhi=2663,t.onehackarabic=1633,t.onehalf=189,t.onehangzhou=12321,t.oneideographicparen=12832,t.oneinferior=8321,t.onemonospace=65297,t.onenumeratorbengali=2548,t.oneoldstyle=63281,t.oneparen=9332,t.oneperiod=9352,t.onepersian=1777,t.onequarter=188,t.oneroman=8560,t.onesuperior=185,t.onethai=3665,t.onethird=8531,t.oogonek=491,t.oogonekmacron=493,t.oogurmukhi=2579,t.oomatragurmukhi=2635,t.oopen=596,t.oparen=9386,t.openbullet=9702,t.option=8997,t.ordfeminine=170,t.ordmasculine=186,t.orthogonal=8735,t.oshortdeva=2322,t.oshortvowelsigndeva=2378,t.oslash=248,t.oslashacute=511,t.osmallhiragana=12361,t.osmallkatakana=12457,t.osmallkatakanahalfwidth=65387,t.ostrokeacute=511,t.osuperior=63216,t.otcyrillic=1151,t.otilde=245,t.otildeacute=7757,t.otildedieresis=7759,t.oubopomofo=12577,t.overline=8254,t.overlinecenterline=65098,t.overlinecmb=773,t.overlinedashed=65097,t.overlinedblwavy=65100,t.overlinewavy=65099,t.overscore=175,t.ovowelsignbengali=2507,t.ovowelsigndeva=2379,t.ovowelsigngujarati=2763,t.p=112,t.paampssquare=13184,t.paasentosquare=13099,t.pabengali=2474,t.pacute=7765,t.padeva=2346,t.pagedown=8671,t.pageup=8670,t.pagujarati=2730,t.pagurmukhi=2602,t.pahiragana=12401,t.paiyannoithai=3631,t.pakatakana=12497,t.palatalizationcyrilliccmb=1156,t.palochkacyrillic=1216,t.pansioskorean=12671,t.paragraph=182,t.parallel=8741,t.parenleft=40,t.parenleftaltonearabic=64830,t.parenleftbt=63725,t.parenleftex=63724,t.parenleftinferior=8333,t.parenleftmonospace=65288,t.parenleftsmall=65113,t.parenleftsuperior=8317,t.parenlefttp=63723,t.parenleftvertical=65077,t.parenright=41,t.parenrightaltonearabic=64831,t.parenrightbt=63736,t.parenrightex=63735,t.parenrightinferior=8334,t.parenrightmonospace=65289,t.parenrightsmall=65114,t.parenrightsuperior=8318,t.parenrighttp=63734,t.parenrightvertical=65078,t.partialdiff=8706,t.paseqhebrew=1472,t.pashtahebrew=1433,t.pasquare=13225,t.patah=1463,t.patah11=1463,t.patah1d=1463,t.patah2a=1463,t.patahhebrew=1463,t.patahnarrowhebrew=1463,t.patahquarterhebrew=1463,t.patahwidehebrew=1463,t.pazerhebrew=1441,t.pbopomofo=12550,t.pcircle=9439,t.pdotaccent=7767,t.pe=1508,t.pecyrillic=1087,t.pedagesh=64324,t.pedageshhebrew=64324,t.peezisquare=13115,t.pefinaldageshhebrew=64323,t.peharabic=1662,t.peharmenian=1402,t.pehebrew=1508,t.pehfinalarabic=64343,t.pehinitialarabic=64344,t.pehiragana=12410,t.pehmedialarabic=64345,t.pekatakana=12506,t.pemiddlehookcyrillic=1191,t.perafehebrew=64334,t.percent=37,t.percentarabic=1642,t.percentmonospace=65285,t.percentsmall=65130,t.period=46,t.periodarmenian=1417,t.periodcentered=183,t.periodhalfwidth=65377,t.periodinferior=63207,t.periodmonospace=65294,t.periodsmall=65106,t.periodsuperior=63208,t.perispomenigreekcmb=834,t.perpendicular=8869,t.perthousand=8240,t.peseta=8359,t.pfsquare=13194,t.phabengali=2475,t.phadeva=2347,t.phagujarati=2731,t.phagurmukhi=2603,t.phi=966,t.phi1=981,t.phieuphacirclekorean=12922,t.phieuphaparenkorean=12826,t.phieuphcirclekorean=12908,t.phieuphkorean=12621,t.phieuphparenkorean=12812,t.philatin=632,t.phinthuthai=3642,t.phisymbolgreek=981,t.phook=421,t.phophanthai=3614,t.phophungthai=3612,t.phosamphaothai=3616,t.pi=960,t.pieupacirclekorean=12915,t.pieupaparenkorean=12819,t.pieupcieuckorean=12662,t.pieupcirclekorean=12901,t.pieupkiyeokkorean=12658,t.pieupkorean=12610,t.pieupparenkorean=12805,t.pieupsioskiyeokkorean=12660,t.pieupsioskorean=12612,t.pieupsiostikeutkorean=12661,t.pieupthieuthkorean=12663,t.pieuptikeutkorean=12659,t.pihiragana=12404,t.pikatakana=12500,t.pisymbolgreek=982,t.piwrarmenian=1411,t.planckover2pi=8463,t.planckover2pi1=8463,t.plus=43,t.plusbelowcmb=799,t.pluscircle=8853,t.plusminus=177,t.plusmod=726,t.plusmonospace=65291,t.plussmall=65122,t.plussuperior=8314,t.pmonospace=65360,t.pmsquare=13272,t.pohiragana=12413,t.pointingindexdownwhite=9759,t.pointingindexleftwhite=9756,t.pointingindexrightwhite=9758,t.pointingindexupwhite=9757,t.pokatakana=12509,t.poplathai=3611,t.postalmark=12306,t.postalmarkface=12320,t.pparen=9387,t.precedes=8826,t.prescription=8478,t.primemod=697,t.primereversed=8245,t.product=8719,t.projective=8965,t.prolongedkana=12540,t.propellor=8984,t.propersubset=8834,t.propersuperset=8835,t.proportion=8759,t.proportional=8733,t.psi=968,t.psicyrillic=1137,t.psilipneumatacyrilliccmb=1158,t.pssquare=13232,t.puhiragana=12407,t.pukatakana=12503,t.pvsquare=13236,t.pwsquare=13242,t.q=113,t.qadeva=2392,t.qadmahebrew=1448,t.qafarabic=1602,t.qaffinalarabic=65238,t.qafinitialarabic=65239,t.qafmedialarabic=65240,t.qamats=1464,t.qamats10=1464,t.qamats1a=1464,t.qamats1c=1464,t.qamats27=1464,t.qamats29=1464,t.qamats33=1464,t.qamatsde=1464,t.qamatshebrew=1464,t.qamatsnarrowhebrew=1464,t.qamatsqatanhebrew=1464,t.qamatsqatannarrowhebrew=1464,t.qamatsqatanquarterhebrew=1464,t.qamatsqatanwidehebrew=1464,t.qamatsquarterhebrew=1464,t.qamatswidehebrew=1464,t.qarneyparahebrew=1439,t.qbopomofo=12561,t.qcircle=9440,t.qhook=672,t.qmonospace=65361,t.qof=1511,t.qofdagesh=64327,t.qofdageshhebrew=64327,t.qofhebrew=1511,t.qparen=9388,t.quarternote=9833,t.qubuts=1467,t.qubuts18=1467,t.qubuts25=1467,t.qubuts31=1467,t.qubutshebrew=1467,t.qubutsnarrowhebrew=1467,t.qubutsquarterhebrew=1467,t.qubutswidehebrew=1467,t.question=63,t.questionarabic=1567,t.questionarmenian=1374,t.questiondown=191,t.questiondownsmall=63423,t.questiongreek=894,t.questionmonospace=65311,t.questionsmall=63295,t.quotedbl=34,t.quotedblbase=8222,t.quotedblleft=8220,t.quotedblmonospace=65282,t.quotedblprime=12318,t.quotedblprimereversed=12317,t.quotedblright=8221,t.quoteleft=8216,t.quoteleftreversed=8219,t.quotereversed=8219,t.quoteright=8217,t.quoterightn=329,t.quotesinglbase=8218,t.quotesingle=39,t.quotesinglemonospace=65287,t.r=114,t.raarmenian=1404,t.rabengali=2480,t.racute=341,t.radeva=2352,t.radical=8730,t.radicalex=63717,t.radoverssquare=13230,t.radoverssquaredsquare=13231,t.radsquare=13229,t.rafe=1471,t.rafehebrew=1471,t.ragujarati=2736,t.ragurmukhi=2608,t.rahiragana=12425,t.rakatakana=12521,t.rakatakanahalfwidth=65431,t.ralowerdiagonalbengali=2545,t.ramiddlediagonalbengali=2544,t.ramshorn=612,t.ratio=8758,t.rbopomofo=12566,t.rcaron=345,t.rcedilla=343,t.rcircle=9441,t.rcommaaccent=343,t.rdblgrave=529,t.rdotaccent=7769,t.rdotbelow=7771,t.rdotbelowmacron=7773,t.referencemark=8251,t.reflexsubset=8838,t.reflexsuperset=8839,t.registered=174,t.registersans=63720,t.registerserif=63194,t.reharabic=1585,t.reharmenian=1408,t.rehfinalarabic=65198,t.rehiragana=12428,t.rekatakana=12524,t.rekatakanahalfwidth=65434,t.resh=1512,t.reshdageshhebrew=64328,t.reshhebrew=1512,t.reversedtilde=8765,t.reviahebrew=1431,t.reviamugrashhebrew=1431,t.revlogicalnot=8976,t.rfishhook=638,t.rfishhookreversed=639,t.rhabengali=2525,t.rhadeva=2397,t.rho=961,t.rhook=637,t.rhookturned=635,t.rhookturnedsuperior=693,t.rhosymbolgreek=1009,t.rhotichookmod=734,t.rieulacirclekorean=12913,t.rieulaparenkorean=12817,t.rieulcirclekorean=12899,t.rieulhieuhkorean=12608,t.rieulkiyeokkorean=12602,t.rieulkiyeoksioskorean=12649,t.rieulkorean=12601,t.rieulmieumkorean=12603,t.rieulpansioskorean=12652,t.rieulparenkorean=12803,t.rieulphieuphkorean=12607,t.rieulpieupkorean=12604,t.rieulpieupsioskorean=12651,t.rieulsioskorean=12605,t.rieulthieuthkorean=12606,t.rieultikeutkorean=12650,t.rieulyeorinhieuhkorean=12653,t.rightangle=8735,t.righttackbelowcmb=793,t.righttriangle=8895,t.rihiragana=12426,t.rikatakana=12522,t.rikatakanahalfwidth=65432,t.ring=730,t.ringbelowcmb=805,t.ringcmb=778,t.ringhalfleft=703,t.ringhalfleftarmenian=1369,t.ringhalfleftbelowcmb=796,t.ringhalfleftcentered=723,t.ringhalfright=702,t.ringhalfrightbelowcmb=825,t.ringhalfrightcentered=722,t.rinvertedbreve=531,t.rittorusquare=13137,t.rlinebelow=7775,t.rlongleg=636,t.rlonglegturned=634,t.rmonospace=65362,t.rohiragana=12429,t.rokatakana=12525,t.rokatakanahalfwidth=65435,t.roruathai=3619,t.rparen=9389,t.rrabengali=2524,t.rradeva=2353,t.rragurmukhi=2652,t.rreharabic=1681,t.rrehfinalarabic=64397,t.rrvocalicbengali=2528,t.rrvocalicdeva=2400,t.rrvocalicgujarati=2784,t.rrvocalicvowelsignbengali=2500,t.rrvocalicvowelsigndeva=2372,t.rrvocalicvowelsigngujarati=2756,t.rsuperior=63217,t.rtblock=9616,t.rturned=633,t.rturnedsuperior=692,t.ruhiragana=12427,t.rukatakana=12523,t.rukatakanahalfwidth=65433,t.rupeemarkbengali=2546,t.rupeesignbengali=2547,t.rupiah=63197,t.ruthai=3620,t.rvocalicbengali=2443,t.rvocalicdeva=2315,t.rvocalicgujarati=2699,t.rvocalicvowelsignbengali=2499,t.rvocalicvowelsigndeva=2371,t.rvocalicvowelsigngujarati=2755,t.s=115,t.sabengali=2488,t.sacute=347,t.sacutedotaccent=7781,t.sadarabic=1589,t.sadeva=2360,t.sadfinalarabic=65210,t.sadinitialarabic=65211,t.sadmedialarabic=65212,t.sagujarati=2744,t.sagurmukhi=2616,t.sahiragana=12373,t.sakatakana=12469,t.sakatakanahalfwidth=65403,t.sallallahoualayhewasallamarabic=65018,t.samekh=1505,t.samekhdagesh=64321,t.samekhdageshhebrew=64321,t.samekhhebrew=1505,t.saraaathai=3634,t.saraaethai=3649,t.saraaimaimalaithai=3652,t.saraaimaimuanthai=3651,t.saraamthai=3635,t.saraathai=3632,t.saraethai=3648,t.saraiileftthai=63622,t.saraiithai=3637,t.saraileftthai=63621,t.saraithai=3636,t.saraothai=3650,t.saraueeleftthai=63624,t.saraueethai=3639,t.saraueleftthai=63623,t.sarauethai=3638,t.sarauthai=3640,t.sarauuthai=3641,t.sbopomofo=12569,t.scaron=353,t.scarondotaccent=7783,t.scedilla=351,t.schwa=601,t.schwacyrillic=1241,t.schwadieresiscyrillic=1243,t.schwahook=602,t.scircle=9442,t.scircumflex=349,t.scommaaccent=537,t.sdotaccent=7777,t.sdotbelow=7779,t.sdotbelowdotaccent=7785,t.seagullbelowcmb=828,t.second=8243,t.secondtonechinese=714,t.section=167,t.seenarabic=1587,t.seenfinalarabic=65202,t.seeninitialarabic=65203,t.seenmedialarabic=65204,t.segol=1462,t.segol13=1462,t.segol1f=1462,t.segol2c=1462,t.segolhebrew=1462,t.segolnarrowhebrew=1462,t.segolquarterhebrew=1462,t.segoltahebrew=1426,t.segolwidehebrew=1462,t.seharmenian=1405,t.sehiragana=12379,t.sekatakana=12475,t.sekatakanahalfwidth=65406,t.semicolon=59,t.semicolonarabic=1563,t.semicolonmonospace=65307,t.semicolonsmall=65108,t.semivoicedmarkkana=12444,t.semivoicedmarkkanahalfwidth=65439,t.sentisquare=13090,t.sentosquare=13091,t.seven=55,t.sevenarabic=1639,t.sevenbengali=2541,t.sevencircle=9318,t.sevencircleinversesansserif=10128,t.sevendeva=2413,t.seveneighths=8542,t.sevengujarati=2797,t.sevengurmukhi=2669,t.sevenhackarabic=1639,t.sevenhangzhou=12327,t.sevenideographicparen=12838,t.seveninferior=8327,t.sevenmonospace=65303,t.sevenoldstyle=63287,t.sevenparen=9338,t.sevenperiod=9358,t.sevenpersian=1783,t.sevenroman=8566,t.sevensuperior=8311,t.seventeencircle=9328,t.seventeenparen=9348,t.seventeenperiod=9368,t.seventhai=3671,t.sfthyphen=173,t.shaarmenian=1399,t.shabengali=2486,t.shacyrillic=1096,t.shaddaarabic=1617,t.shaddadammaarabic=64609,t.shaddadammatanarabic=64606,t.shaddafathaarabic=64608,t.shaddakasraarabic=64610,t.shaddakasratanarabic=64607,t.shade=9618,t.shadedark=9619,t.shadelight=9617,t.shademedium=9618,t.shadeva=2358,t.shagujarati=2742,t.shagurmukhi=2614,t.shalshelethebrew=1427,t.shbopomofo=12565,t.shchacyrillic=1097,t.sheenarabic=1588,t.sheenfinalarabic=65206,t.sheeninitialarabic=65207,t.sheenmedialarabic=65208,t.sheicoptic=995,t.sheqel=8362,t.sheqelhebrew=8362,t.sheva=1456,t.sheva115=1456,t.sheva15=1456,t.sheva22=1456,t.sheva2e=1456,t.shevahebrew=1456,t.shevanarrowhebrew=1456,t.shevaquarterhebrew=1456,t.shevawidehebrew=1456,t.shhacyrillic=1211,t.shimacoptic=1005,t.shin=1513,t.shindagesh=64329,t.shindageshhebrew=64329,t.shindageshshindot=64300,t.shindageshshindothebrew=64300,t.shindageshsindot=64301,t.shindageshsindothebrew=64301,t.shindothebrew=1473,t.shinhebrew=1513,t.shinshindot=64298,t.shinshindothebrew=64298,t.shinsindot=64299,t.shinsindothebrew=64299,t.shook=642,t.sigma=963,t.sigma1=962,t.sigmafinal=962,t.sigmalunatesymbolgreek=1010,t.sihiragana=12375,t.sikatakana=12471,t.sikatakanahalfwidth=65404,t.siluqhebrew=1469,t.siluqlefthebrew=1469,t.similar=8764,t.sindothebrew=1474,t.siosacirclekorean=12916,t.siosaparenkorean=12820,t.sioscieuckorean=12670,t.sioscirclekorean=12902,t.sioskiyeokkorean=12666,t.sioskorean=12613,t.siosnieunkorean=12667,t.siosparenkorean=12806,t.siospieupkorean=12669,t.siostikeutkorean=12668,t.six=54,t.sixarabic=1638,t.sixbengali=2540,t.sixcircle=9317,t.sixcircleinversesansserif=10127,t.sixdeva=2412,t.sixgujarati=2796,t.sixgurmukhi=2668,t.sixhackarabic=1638,t.sixhangzhou=12326,t.sixideographicparen=12837,t.sixinferior=8326,t.sixmonospace=65302,t.sixoldstyle=63286,t.sixparen=9337,t.sixperiod=9357,t.sixpersian=1782,t.sixroman=8565,t.sixsuperior=8310,t.sixteencircle=9327,t.sixteencurrencydenominatorbengali=2553,t.sixteenparen=9347,t.sixteenperiod=9367,t.sixthai=3670,t.slash=47,t.slashmonospace=65295,t.slong=383,t.slongdotaccent=7835,t.smileface=9786,t.smonospace=65363,t.sofpasuqhebrew=1475,t.softhyphen=173,t.softsigncyrillic=1100,t.sohiragana=12381,t.sokatakana=12477,t.sokatakanahalfwidth=65407,t.soliduslongoverlaycmb=824,t.solidusshortoverlaycmb=823,t.sorusithai=3625,t.sosalathai=3624,t.sosothai=3595,t.sosuathai=3626,t.space=32,t.spacehackarabic=32,t.spade=9824,t.spadesuitblack=9824,t.spadesuitwhite=9828,t.sparen=9390,t.squarebelowcmb=827,t.squarecc=13252,t.squarecm=13213,t.squarediagonalcrosshatchfill=9641,t.squarehorizontalfill=9636,t.squarekg=13199,t.squarekm=13214,t.squarekmcapital=13262,t.squareln=13265,t.squarelog=13266,t.squaremg=13198,t.squaremil=13269,t.squaremm=13212,t.squaremsquared=13217,t.squareorthogonalcrosshatchfill=9638,t.squareupperlefttolowerrightfill=9639,t.squareupperrighttolowerleftfill=9640,t.squareverticalfill=9637,t.squarewhitewithsmallblack=9635,t.srsquare=13275,t.ssabengali=2487,t.ssadeva=2359,t.ssagujarati=2743,t.ssangcieuckorean=12617,t.ssanghieuhkorean=12677,t.ssangieungkorean=12672,t.ssangkiyeokkorean=12594,t.ssangnieunkorean=12645,t.ssangpieupkorean=12611,t.ssangsioskorean=12614,t.ssangtikeutkorean=12600,t.ssuperior=63218,t.sterling=163,t.sterlingmonospace=65505,t.strokelongoverlaycmb=822,t.strokeshortoverlaycmb=821,t.subset=8834,t.subsetnotequal=8842,t.subsetorequal=8838,t.succeeds=8827,t.suchthat=8715,t.suhiragana=12377,t.sukatakana=12473,t.sukatakanahalfwidth=65405,t.sukunarabic=1618,t.summation=8721,t.sun=9788,t.superset=8835,t.supersetnotequal=8843,t.supersetorequal=8839,t.svsquare=13276,t.syouwaerasquare=13180,t.t=116,t.tabengali=2468,t.tackdown=8868,t.tackleft=8867,t.tadeva=2340,t.tagujarati=2724,t.tagurmukhi=2596,t.taharabic=1591,t.tahfinalarabic=65218,t.tahinitialarabic=65219,t.tahiragana=12383,t.tahmedialarabic=65220,t.taisyouerasquare=13181,t.takatakana=12479,t.takatakanahalfwidth=65408,t.tatweelarabic=1600,t.tau=964,t.tav=1514,t.tavdages=64330,t.tavdagesh=64330,t.tavdageshhebrew=64330,t.tavhebrew=1514,t.tbar=359,t.tbopomofo=12554,t.tcaron=357,t.tccurl=680,t.tcedilla=355,t.tcheharabic=1670,t.tchehfinalarabic=64379,t.tchehinitialarabic=64380,t.tchehmedialarabic=64381,t.tcircle=9443,t.tcircumflexbelow=7793,t.tcommaaccent=355,t.tdieresis=7831,t.tdotaccent=7787,t.tdotbelow=7789,t.tecyrillic=1090,t.tedescendercyrillic=1197,t.teharabic=1578,t.tehfinalarabic=65174,t.tehhahinitialarabic=64674,t.tehhahisolatedarabic=64524,t.tehinitialarabic=65175,t.tehiragana=12390,t.tehjeeminitialarabic=64673,t.tehjeemisolatedarabic=64523,t.tehmarbutaarabic=1577,t.tehmarbutafinalarabic=65172,t.tehmedialarabic=65176,t.tehmeeminitialarabic=64676,t.tehmeemisolatedarabic=64526,t.tehnoonfinalarabic=64627,t.tekatakana=12486,t.tekatakanahalfwidth=65411,t.telephone=8481,t.telephoneblack=9742,t.telishagedolahebrew=1440,t.telishaqetanahebrew=1449,t.tencircle=9321,t.tenideographicparen=12841,t.tenparen=9341,t.tenperiod=9361,t.tenroman=8569,t.tesh=679,t.tet=1496,t.tetdagesh=64312,t.tetdageshhebrew=64312,t.tethebrew=1496,t.tetsecyrillic=1205,t.tevirhebrew=1435,t.tevirlefthebrew=1435,t.thabengali=2469,t.thadeva=2341,t.thagujarati=2725,t.thagurmukhi=2597,t.thalarabic=1584,t.thalfinalarabic=65196,t.thanthakhatlowleftthai=63640,t.thanthakhatlowrightthai=63639,t.thanthakhatthai=3660,t.thanthakhatupperleftthai=63638,t.theharabic=1579,t.thehfinalarabic=65178,t.thehinitialarabic=65179,t.thehmedialarabic=65180,t.thereexists=8707,t.therefore=8756,t.theta=952,t.theta1=977,t.thetasymbolgreek=977,t.thieuthacirclekorean=12921,t.thieuthaparenkorean=12825,t.thieuthcirclekorean=12907,t.thieuthkorean=12620,t.thieuthparenkorean=12811,t.thirteencircle=9324,t.thirteenparen=9344,t.thirteenperiod=9364,t.thonangmonthothai=3601,t.thook=429,t.thophuthaothai=3602,t.thorn=254,t.thothahanthai=3607,t.thothanthai=3600,t.thothongthai=3608,t.thothungthai=3606,t.thousandcyrillic=1154,t.thousandsseparatorarabic=1644,t.thousandsseparatorpersian=1644,t.three=51,t.threearabic=1635,t.threebengali=2537,t.threecircle=9314,t.threecircleinversesansserif=10124,t.threedeva=2409,t.threeeighths=8540,t.threegujarati=2793,t.threegurmukhi=2665,t.threehackarabic=1635,t.threehangzhou=12323,t.threeideographicparen=12834,t.threeinferior=8323,t.threemonospace=65299,t.threenumeratorbengali=2550,t.threeoldstyle=63283,t.threeparen=9334,t.threeperiod=9354,t.threepersian=1779,t.threequarters=190,t.threequartersemdash=63198,t.threeroman=8562,t.threesuperior=179,t.threethai=3667,t.thzsquare=13204,t.tihiragana=12385,t.tikatakana=12481,t.tikatakanahalfwidth=65409,t.tikeutacirclekorean=12912,t.tikeutaparenkorean=12816,t.tikeutcirclekorean=12898,t.tikeutkorean=12599,t.tikeutparenkorean=12802,t.tilde=732,t.tildebelowcmb=816,t.tildecmb=771,t.tildecomb=771,t.tildedoublecmb=864,t.tildeoperator=8764,t.tildeoverlaycmb=820,t.tildeverticalcmb=830,t.timescircle=8855,t.tipehahebrew=1430,t.tipehalefthebrew=1430,t.tippigurmukhi=2672,t.titlocyrilliccmb=1155,t.tiwnarmenian=1407,t.tlinebelow=7791,t.tmonospace=65364,t.toarmenian=1385,t.tohiragana=12392,t.tokatakana=12488,t.tokatakanahalfwidth=65412,t.tonebarextrahighmod=741,t.tonebarextralowmod=745,t.tonebarhighmod=742,t.tonebarlowmod=744,t.tonebarmidmod=743,t.tonefive=445,t.tonesix=389,t.tonetwo=424,t.tonos=900,t.tonsquare=13095,t.topatakthai=3599,t.tortoiseshellbracketleft=12308,t.tortoiseshellbracketleftsmall=65117,t.tortoiseshellbracketleftvertical=65081,t.tortoiseshellbracketright=12309,t.tortoiseshellbracketrightsmall=65118,t.tortoiseshellbracketrightvertical=65082,t.totaothai=3605,t.tpalatalhook=427,t.tparen=9391,t.trademark=8482,t.trademarksans=63722,t.trademarkserif=63195,t.tretroflexhook=648,t.triagdn=9660,t.triaglf=9668,t.triagrt=9658,t.triagup=9650,t.ts=678,t.tsadi=1510,t.tsadidagesh=64326,t.tsadidageshhebrew=64326,t.tsadihebrew=1510,t.tsecyrillic=1094,t.tsere=1461,t.tsere12=1461,t.tsere1e=1461,t.tsere2b=1461,t.tserehebrew=1461,t.tserenarrowhebrew=1461,t.tserequarterhebrew=1461,t.tserewidehebrew=1461,t.tshecyrillic=1115,t.tsuperior=63219,t.ttabengali=2463,t.ttadeva=2335,t.ttagujarati=2719,t.ttagurmukhi=2591,t.tteharabic=1657,t.ttehfinalarabic=64359,t.ttehinitialarabic=64360,t.ttehmedialarabic=64361,t.tthabengali=2464,t.tthadeva=2336,t.tthagujarati=2720,t.tthagurmukhi=2592,t.tturned=647,t.tuhiragana=12388,t.tukatakana=12484,t.tukatakanahalfwidth=65410,t.tusmallhiragana=12387,t.tusmallkatakana=12483,t.tusmallkatakanahalfwidth=65391,t.twelvecircle=9323,t.twelveparen=9343,t.twelveperiod=9363,t.twelveroman=8571,t.twentycircle=9331,t.twentyhangzhou=21316,t.twentyparen=9351,t.twentyperiod=9371,t.two=50,t.twoarabic=1634,t.twobengali=2536,t.twocircle=9313,t.twocircleinversesansserif=10123,t.twodeva=2408,t.twodotenleader=8229,t.twodotleader=8229,t.twodotleadervertical=65072,t.twogujarati=2792,t.twogurmukhi=2664,t.twohackarabic=1634,t.twohangzhou=12322,t.twoideographicparen=12833,t.twoinferior=8322,t.twomonospace=65298,t.twonumeratorbengali=2549,t.twooldstyle=63282,t.twoparen=9333,t.twoperiod=9353,t.twopersian=1778,t.tworoman=8561,t.twostroke=443,t.twosuperior=178,t.twothai=3666,t.twothirds=8532,t.u=117,t.uacute=250,t.ubar=649,t.ubengali=2441,t.ubopomofo=12584,t.ubreve=365,t.ucaron=468,t.ucircle=9444,t.ucircumflex=251,t.ucircumflexbelow=7799,t.ucyrillic=1091,t.udattadeva=2385,t.udblacute=369,t.udblgrave=533,t.udeva=2313,t.udieresis=252,t.udieresisacute=472,t.udieresisbelow=7795,t.udieresiscaron=474,t.udieresiscyrillic=1265,t.udieresisgrave=476,t.udieresismacron=470,t.udotbelow=7909,t.ugrave=249,t.ugujarati=2697,t.ugurmukhi=2569,t.uhiragana=12358,t.uhookabove=7911,t.uhorn=432,t.uhornacute=7913,t.uhorndotbelow=7921,t.uhorngrave=7915,t.uhornhookabove=7917,t.uhorntilde=7919,t.uhungarumlaut=369,t.uhungarumlautcyrillic=1267,t.uinvertedbreve=535,t.ukatakana=12454,t.ukatakanahalfwidth=65395,t.ukcyrillic=1145,t.ukorean=12636,t.umacron=363,t.umacroncyrillic=1263,t.umacrondieresis=7803,t.umatragurmukhi=2625,t.umonospace=65365,t.underscore=95,t.underscoredbl=8215,t.underscoremonospace=65343,t.underscorevertical=65075,t.underscorewavy=65103,t.union=8746,t.universal=8704,t.uogonek=371,t.uparen=9392,t.upblock=9600,t.upperdothebrew=1476,t.upsilon=965,t.upsilondieresis=971,t.upsilondieresistonos=944,t.upsilonlatin=650,t.upsilontonos=973,t.uptackbelowcmb=797,t.uptackmod=724,t.uragurmukhi=2675,t.uring=367,t.ushortcyrillic=1118,t.usmallhiragana=12357,t.usmallkatakana=12453,t.usmallkatakanahalfwidth=65385,t.ustraightcyrillic=1199,t.ustraightstrokecyrillic=1201,t.utilde=361,t.utildeacute=7801,t.utildebelow=7797,t.uubengali=2442,t.uudeva=2314,t.uugujarati=2698,t.uugurmukhi=2570,t.uumatragurmukhi=2626,t.uuvowelsignbengali=2498,t.uuvowelsigndeva=2370,t.uuvowelsigngujarati=2754,t.uvowelsignbengali=2497,t.uvowelsigndeva=2369,t.uvowelsigngujarati=2753,t.v=118,t.vadeva=2357,t.vagujarati=2741,t.vagurmukhi=2613,t.vakatakana=12535,t.vav=1493,t.vavdagesh=64309,t.vavdagesh65=64309,t.vavdageshhebrew=64309,t.vavhebrew=1493,t.vavholam=64331,t.vavholamhebrew=64331,t.vavvavhebrew=1520,t.vavyodhebrew=1521,t.vcircle=9445,t.vdotbelow=7807,t.vecyrillic=1074,t.veharabic=1700,t.vehfinalarabic=64363,t.vehinitialarabic=64364,t.vehmedialarabic=64365,t.vekatakana=12537,t.venus=9792,t.verticalbar=124,t.verticallineabovecmb=781,t.verticallinebelowcmb=809,t.verticallinelowmod=716,t.verticallinemod=712,t.vewarmenian=1406,t.vhook=651,t.vikatakana=12536,t.viramabengali=2509,t.viramadeva=2381,t.viramagujarati=2765,t.visargabengali=2435,t.visargadeva=2307,t.visargagujarati=2691,t.vmonospace=65366,t.voarmenian=1400,t.voicediterationhiragana=12446,t.voicediterationkatakana=12542,t.voicedmarkkana=12443,t.voicedmarkkanahalfwidth=65438,t.vokatakana=12538,t.vparen=9393,t.vtilde=7805,t.vturned=652,t.vuhiragana=12436,t.vukatakana=12532,t.w=119,t.wacute=7811,t.waekorean=12633,t.wahiragana=12431,t.wakatakana=12527,t.wakatakanahalfwidth=65436,t.wakorean=12632,t.wasmallhiragana=12430,t.wasmallkatakana=12526,t.wattosquare=13143,t.wavedash=12316,t.wavyunderscorevertical=65076,t.wawarabic=1608,t.wawfinalarabic=65262,t.wawhamzaabovearabic=1572,t.wawhamzaabovefinalarabic=65158,t.wbsquare=13277,t.wcircle=9446,t.wcircumflex=373,t.wdieresis=7813,t.wdotaccent=7815,t.wdotbelow=7817,t.wehiragana=12433,t.weierstrass=8472,t.wekatakana=12529,t.wekorean=12638,t.weokorean=12637,t.wgrave=7809,t.whitebullet=9702,t.whitecircle=9675,t.whitecircleinverse=9689,t.whitecornerbracketleft=12302,t.whitecornerbracketleftvertical=65091,t.whitecornerbracketright=12303,t.whitecornerbracketrightvertical=65092,t.whitediamond=9671,t.whitediamondcontainingblacksmalldiamond=9672,t.whitedownpointingsmalltriangle=9663,t.whitedownpointingtriangle=9661,t.whiteleftpointingsmalltriangle=9667,t.whiteleftpointingtriangle=9665,t.whitelenticularbracketleft=12310,t.whitelenticularbracketright=12311,t.whiterightpointingsmalltriangle=9657,t.whiterightpointingtriangle=9655,t.whitesmallsquare=9643,t.whitesmilingface=9786,t.whitesquare=9633,t.whitestar=9734,t.whitetelephone=9743,t.whitetortoiseshellbracketleft=12312,t.whitetortoiseshellbracketright=12313,t.whiteuppointingsmalltriangle=9653,t.whiteuppointingtriangle=9651,t.wihiragana=12432,t.wikatakana=12528,t.wikorean=12639,t.wmonospace=65367,t.wohiragana=12434,t.wokatakana=12530,t.wokatakanahalfwidth=65382,t.won=8361,t.wonmonospace=65510,t.wowaenthai=3623,t.wparen=9394,t.wring=7832,t.wsuperior=695,t.wturned=653,t.wynn=447,t.x=120,t.xabovecmb=829,t.xbopomofo=12562,t.xcircle=9447,t.xdieresis=7821,t.xdotaccent=7819,t.xeharmenian=1389,t.xi=958,t.xmonospace=65368,t.xparen=9395,t.xsuperior=739,t.y=121,t.yaadosquare=13134,t.yabengali=2479,t.yacute=253,t.yadeva=2351,t.yaekorean=12626,t.yagujarati=2735,t.yagurmukhi=2607,t.yahiragana=12420,t.yakatakana=12516,t.yakatakanahalfwidth=65428,t.yakorean=12625,t.yamakkanthai=3662,t.yasmallhiragana=12419,t.yasmallkatakana=12515,t.yasmallkatakanahalfwidth=65388,t.yatcyrillic=1123,t.ycircle=9448,t.ycircumflex=375,t.ydieresis=255,t.ydotaccent=7823,t.ydotbelow=7925,t.yeharabic=1610,t.yehbarreearabic=1746,t.yehbarreefinalarabic=64431,t.yehfinalarabic=65266,t.yehhamzaabovearabic=1574,t.yehhamzaabovefinalarabic=65162,t.yehhamzaaboveinitialarabic=65163,t.yehhamzaabovemedialarabic=65164,t.yehinitialarabic=65267,t.yehmedialarabic=65268,t.yehmeeminitialarabic=64733,t.yehmeemisolatedarabic=64600,t.yehnoonfinalarabic=64660,t.yehthreedotsbelowarabic=1745,t.yekorean=12630,t.yen=165,t.yenmonospace=65509,t.yeokorean=12629,t.yeorinhieuhkorean=12678,t.yerahbenyomohebrew=1450,t.yerahbenyomolefthebrew=1450,t.yericyrillic=1099,t.yerudieresiscyrillic=1273,t.yesieungkorean=12673,t.yesieungpansioskorean=12675,t.yesieungsioskorean=12674,t.yetivhebrew=1434,t.ygrave=7923,t.yhook=436,t.yhookabove=7927,t.yiarmenian=1397,t.yicyrillic=1111,t.yikorean=12642,t.yinyang=9775,t.yiwnarmenian=1410,t.ymonospace=65369,t.yod=1497,t.yoddagesh=64313,t.yoddageshhebrew=64313,t.yodhebrew=1497,t.yodyodhebrew=1522,t.yodyodpatahhebrew=64287,t.yohiragana=12424,t.yoikorean=12681,t.yokatakana=12520,t.yokatakanahalfwidth=65430,t.yokorean=12635,t.yosmallhiragana=12423,t.yosmallkatakana=12519,t.yosmallkatakanahalfwidth=65390,t.yotgreek=1011,t.yoyaekorean=12680,t.yoyakorean=12679,t.yoyakthai=3618,t.yoyingthai=3597,t.yparen=9396,t.ypogegrammeni=890,t.ypogegrammenigreekcmb=837,t.yr=422,t.yring=7833,t.ysuperior=696,t.ytilde=7929,t.yturned=654,t.yuhiragana=12422,t.yuikorean=12684,t.yukatakana=12518,t.yukatakanahalfwidth=65429,t.yukorean=12640,t.yusbigcyrillic=1131,t.yusbigiotifiedcyrillic=1133,t.yuslittlecyrillic=1127,t.yuslittleiotifiedcyrillic=1129,t.yusmallhiragana=12421,t.yusmallkatakana=12517,t.yusmallkatakanahalfwidth=65389,t.yuyekorean=12683,t.yuyeokorean=12682,t.yyabengali=2527,t.yyadeva=2399,t.z=122,t.zaarmenian=1382,t.zacute=378,t.zadeva=2395,t.zagurmukhi=2651,t.zaharabic=1592,t.zahfinalarabic=65222,t.zahinitialarabic=65223,t.zahiragana=12374,t.zahmedialarabic=65224,t.zainarabic=1586,t.zainfinalarabic=65200,t.zakatakana=12470,t.zaqefgadolhebrew=1429,t.zaqefqatanhebrew=1428,t.zarqahebrew=1432,t.zayin=1494,t.zayindagesh=64310,t.zayindageshhebrew=64310,t.zayinhebrew=1494,t.zbopomofo=12567,t.zcaron=382,t.zcircle=9449,t.zcircumflex=7825,t.zcurl=657,t.zdot=380,t.zdotaccent=380,t.zdotbelow=7827,t.zecyrillic=1079,t.zedescendercyrillic=1177,t.zedieresiscyrillic=1247,t.zehiragana=12380,t.zekatakana=12476,t.zero=48,t.zeroarabic=1632,t.zerobengali=2534,t.zerodeva=2406,t.zerogujarati=2790,t.zerogurmukhi=2662,t.zerohackarabic=1632,t.zeroinferior=8320,t.zeromonospace=65296,t.zerooldstyle=63280,t.zeropersian=1776,t.zerosuperior=8304,t.zerothai=3664,t.zerowidthjoiner=65279,t.zerowidthnonjoiner=8204,t.zerowidthspace=8203,t.zeta=950,t.zhbopomofo=12563,t.zhearmenian=1386,t.zhebrevecyrillic=1218,t.zhecyrillic=1078,t.zhedescendercyrillic=1175,t.zhedieresiscyrillic=1245,t.zihiragana=12376,t.zikatakana=12472,t.zinorhebrew=1454,t.zlinebelow=7829,t.zmonospace=65370,t.zohiragana=12382,t.zokatakana=12478,t.zparen=9397,t.zretroflexhook=656,t.zstroke=438,t.zuhiragana=12378,t.zukatakana=12474,t[".notdef"]=0,t.angbracketleftbig=9001,t.angbracketleftBig=9001,t.angbracketleftbigg=9001,t.angbracketleftBigg=9001,t.angbracketrightBig=9002,t.angbracketrightbig=9002,t.angbracketrightBigg=9002,t.angbracketrightbigg=9002,t.arrowhookleft=8618,t.arrowhookright=8617,t.arrowlefttophalf=8636,t.arrowleftbothalf=8637,t.arrownortheast=8599,t.arrownorthwest=8598,t.arrowrighttophalf=8640,t.arrowrightbothalf=8641,t.arrowsoutheast=8600,t.arrowsouthwest=8601,t.backslashbig=8726,t.backslashBig=8726,t.backslashBigg=8726,t.backslashbigg=8726,t.bardbl=8214,t.bracehtipdownleft=65079,t.bracehtipdownright=65079,t.bracehtipupleft=65080,t.bracehtipupright=65080,t.braceleftBig=123,t.braceleftbig=123,t.braceleftbigg=123,t.braceleftBigg=123,t.bracerightBig=125,t.bracerightbig=125,t.bracerightbigg=125,t.bracerightBigg=125,t.bracketleftbig=91,t.bracketleftBig=91,t.bracketleftbigg=91,t.bracketleftBigg=91,t.bracketrightBig=93,t.bracketrightbig=93,t.bracketrightbigg=93,t.bracketrightBigg=93,t.ceilingleftbig=8968,t.ceilingleftBig=8968,t.ceilingleftBigg=8968,t.ceilingleftbigg=8968,t.ceilingrightbig=8969,t.ceilingrightBig=8969,t.ceilingrightbigg=8969,t.ceilingrightBigg=8969,t.circledotdisplay=8857,t.circledottext=8857,t.circlemultiplydisplay=8855,t.circlemultiplytext=8855,t.circleplusdisplay=8853,t.circleplustext=8853,t.contintegraldisplay=8750,t.contintegraltext=8750,t.coproductdisplay=8720,t.coproducttext=8720,t.floorleftBig=8970,t.floorleftbig=8970,t.floorleftbigg=8970,t.floorleftBigg=8970,t.floorrightbig=8971,t.floorrightBig=8971,t.floorrightBigg=8971,t.floorrightbigg=8971,t.hatwide=770,t.hatwider=770,t.hatwidest=770,t.intercal=7488,t.integraldisplay=8747,t.integraltext=8747,t.intersectiondisplay=8898,t.intersectiontext=8898,t.logicalanddisplay=8743,t.logicalandtext=8743,t.logicalordisplay=8744,t.logicalortext=8744,t.parenleftBig=40,t.parenleftbig=40,t.parenleftBigg=40,t.parenleftbigg=40,t.parenrightBig=41,t.parenrightbig=41,t.parenrightBigg=41,t.parenrightbigg=41,t.prime=8242,t.productdisplay=8719,t.producttext=8719,t.radicalbig=8730,t.radicalBig=8730,t.radicalBigg=8730,t.radicalbigg=8730,t.radicalbt=8730,t.radicaltp=8730,t.radicalvertex=8730,t.slashbig=47,t.slashBig=47,t.slashBigg=47,t.slashbigg=47,t.summationdisplay=8721,t.summationtext=8721,t.tildewide=732,t.tildewider=732,t.tildewidest=732,t.uniondisplay=8899,t.unionmultidisplay=8846,t.unionmultitext=8846,t.unionsqdisplay=8852,t.unionsqtext=8852,t.uniontext=8899,t.vextenddouble=8741,t.vextendsingle=8739}),mse=Dn(function(t){t.space=32,t.a1=9985,t.a2=9986,t.a202=9987,t.a3=9988,t.a4=9742,t.a5=9990,t.a119=9991,t.a118=9992,t.a117=9993,t.a11=9755,t.a12=9758,t.a13=9996,t.a14=9997,t.a15=9998,t.a16=9999,t.a105=1e4,t.a17=10001,t.a18=10002,t.a19=10003,t.a20=10004,t.a21=10005,t.a22=10006,t.a23=10007,t.a24=10008,t.a25=10009,t.a26=10010,t.a27=10011,t.a28=10012,t.a6=10013,t.a7=10014,t.a8=10015,t.a9=10016,t.a10=10017,t.a29=10018,t.a30=10019,t.a31=10020,t.a32=10021,t.a33=10022,t.a34=10023,t.a35=9733,t.a36=10025,t.a37=10026,t.a38=10027,t.a39=10028,t.a40=10029,t.a41=10030,t.a42=10031,t.a43=10032,t.a44=10033,t.a45=10034,t.a46=10035,t.a47=10036,t.a48=10037,t.a49=10038,t.a50=10039,t.a51=10040,t.a52=10041,t.a53=10042,t.a54=10043,t.a55=10044,t.a56=10045,t.a57=10046,t.a58=10047,t.a59=10048,t.a60=10049,t.a61=10050,t.a62=10051,t.a63=10052,t.a64=10053,t.a65=10054,t.a66=10055,t.a67=10056,t.a68=10057,t.a69=10058,t.a70=10059,t.a71=9679,t.a72=10061,t.a73=9632,t.a74=10063,t.a203=10064,t.a75=10065,t.a204=10066,t.a76=9650,t.a77=9660,t.a78=9670,t.a79=10070,t.a81=9687,t.a82=10072,t.a83=10073,t.a84=10074,t.a97=10075,t.a98=10076,t.a99=10077,t.a100=10078,t.a101=10081,t.a102=10082,t.a103=10083,t.a104=10084,t.a106=10085,t.a107=10086,t.a108=10087,t.a112=9827,t.a111=9830,t.a110=9829,t.a109=9824,t.a120=9312,t.a121=9313,t.a122=9314,t.a123=9315,t.a124=9316,t.a125=9317,t.a126=9318,t.a127=9319,t.a128=9320,t.a129=9321,t.a130=10102,t.a131=10103,t.a132=10104,t.a133=10105,t.a134=10106,t.a135=10107,t.a136=10108,t.a137=10109,t.a138=10110,t.a139=10111,t.a140=10112,t.a141=10113,t.a142=10114,t.a143=10115,t.a144=10116,t.a145=10117,t.a146=10118,t.a147=10119,t.a148=10120,t.a149=10121,t.a150=10122,t.a151=10123,t.a152=10124,t.a153=10125,t.a154=10126,t.a155=10127,t.a156=10128,t.a157=10129,t.a158=10130,t.a159=10131,t.a160=10132,t.a161=8594,t.a163=8596,t.a164=8597,t.a196=10136,t.a165=10137,t.a192=10138,t.a166=10139,t.a167=10140,t.a168=10141,t.a169=10142,t.a170=10143,t.a171=10144,t.a172=10145,t.a173=10146,t.a162=10147,t.a174=10148,t.a175=10149,t.a176=10150,t.a177=10151,t.a178=10152,t.a179=10153,t.a193=10154,t.a180=10155,t.a199=10156,t.a181=10157,t.a200=10158,t.a182=10159,t.a201=10161,t.a183=10162,t.a184=10163,t.a197=10164,t.a185=10165,t.a194=10166,t.a198=10167,t.a186=10168,t.a195=10169,t.a187=10170,t.a188=10171,t.a189=10172,t.a190=10173,t.a191=10174,t.a89=10088,t.a90=10089,t.a93=10090,t.a94=10091,t.a91=10092,t.a92=10093,t.a205=10094,t.a85=10095,t.a206=10096,t.a86=10097,t.a87=10098,t.a88=10099,t.a95=10100,t.a96=10101,t[".notdef"]=0}),xse=Dn(function(t){t[63721]=169,t[63193]=169,t[63720]=174,t[63194]=174,t[63722]=8482,t[63195]=8482,t[63729]=9127,t[63730]=9128,t[63731]=9129,t[63740]=9131,t[63741]=9132,t[63742]=9133,t[63726]=9121,t[63727]=9122,t[63728]=9123,t[63737]=9124,t[63738]=9125,t[63739]=9126,t[63723]=9115,t[63724]=9116,t[63725]=9117,t[63734]=9118,t[63735]=9119,t[63736]=9120});function bse(t){return t>=65520&&t<=65535?0:t>=62976&&t<=63743?xse()[t]||t:t===173?45:t}function ug(t,e){let n=e[t];if(n!==void 0)return n;if(!t)return-1;if(t[0]==="u"){const i=t.length;let s;if(i===7&&t[1]==="n"&&t[2]==="i")s=t.substring(3);else if(i>=5&&i<=7)s=t.substring(1);else return-1;if(s===s.toUpperCase()&&(n=parseInt(s,16),n>=0))return n}return-1}const Rw=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function yse(t,e=-1){if(e!==-1){const n=Rw[e];for(let i=0,s=n.length;i<s;i+=2)if(t>=n[i]&&t<=n[i+1])return e}for(let n=0,i=Rw.length;n<i;n++){const s=Rw[n];for(let r=0,a=s.length;r<a;r+=2)if(t>=s[r]&&t<=s[r+1])return n}return-1}const wse=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),kA=new Map;function vse(t){const e=kA.get(t);if(e)return e;const n=t.match(wse),i={isWhitespace:!!(n!=null&&n[1]),isZeroWidthDiacritic:!!(n!=null&&n[2]),isInvisibleFormatMark:!!(n!=null&&n[3])};return kA.set(t,i),i}function Sse(){kA.clear()}const O1=!0,Eo={FixedPitch:1,Serif:2,Symbolic:4,Nonsymbolic:32},hN=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function QO(t,e){if(e[t]!==void 0)return t;const n=ug(t,e);if(n!==-1){for(const i in e)if(e[i]===n)return i}return Pt("Unable to recover a standard glyph name for: "+t),t}function eB(t,e,n){const i=Object.create(null);let s,r,a;const o=!!(t.flags&Eo.Symbolic);if(t.isInternalFont)for(a=e,r=0;r<a.length;r++)s=n.indexOf(a[r]),i[r]=s>=0?s:0;else if(t.baseEncodingName)for(a=Gx(t.baseEncodingName),r=0;r<a.length;r++)s=n.indexOf(a[r]),i[r]=s>=0?s:0;else if(o)for(r in e)i[r]=e[r];else for(a=zc,r=0;r<a.length;r++)s=n.indexOf(a[r]),i[r]=s>=0?s:0;const l=t.differences;let c;if(l)for(r in l){const u=l[r];if(s=n.indexOf(u),s===-1){c||(c=kl());const d=QO(u,c);d!==u&&(s=n.indexOf(d))}i[r]=s>=0?s:0}return i}function s3(t){return t.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}const Ase=Dn(t=>{t[8211]=65074,t[8212]=65073,t[8229]=65072,t[8230]=65049,t[12289]=65041,t[12290]=65042,t[12296]=65087,t[12297]=65088,t[12298]=65085,t[12299]=65086,t[12300]=65089,t[12301]=65090,t[12302]=65091,t[12303]=65092,t[12304]=65083,t[12305]=65084,t[12308]=65081,t[12309]=65082,t[12310]=65047,t[12311]=65048,t[65103]=65076,t[65281]=65045,t[65288]=65077,t[65289]=65078,t[65292]=65040,t[65306]=65043,t[65307]=65044,t[65311]=65046,t[65339]=65095,t[65341]=65096,t[65343]=65075,t[65371]=65079,t[65373]=65080}),F6=Dn(function(t){t["Times-Roman"]="Times-Roman",t.Helvetica="Helvetica",t.Courier="Courier",t.Symbol="Symbol",t["Times-Bold"]="Times-Bold",t["Helvetica-Bold"]="Helvetica-Bold",t["Courier-Bold"]="Courier-Bold",t.ZapfDingbats="ZapfDingbats",t["Times-Italic"]="Times-Italic",t["Helvetica-Oblique"]="Helvetica-Oblique",t["Courier-Oblique"]="Courier-Oblique",t["Times-BoldItalic"]="Times-BoldItalic",t["Helvetica-BoldOblique"]="Helvetica-BoldOblique",t["Courier-BoldOblique"]="Courier-BoldOblique",t.ArialNarrow="Helvetica",t["ArialNarrow-Bold"]="Helvetica-Bold",t["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",t["ArialNarrow-Italic"]="Helvetica-Oblique",t.ArialBlack="Helvetica",t["ArialBlack-Bold"]="Helvetica-Bold",t["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",t["ArialBlack-Italic"]="Helvetica-Oblique",t["Arial-Black"]="Helvetica",t["Arial-Black-Bold"]="Helvetica-Bold",t["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",t["Arial-Black-Italic"]="Helvetica-Oblique",t.Arial="Helvetica",t["Arial-Bold"]="Helvetica-Bold",t["Arial-BoldItalic"]="Helvetica-BoldOblique",t["Arial-Italic"]="Helvetica-Oblique",t.ArialMT="Helvetica",t["Arial-BoldItalicMT"]="Helvetica-BoldOblique",t["Arial-BoldMT"]="Helvetica-Bold",t["Arial-ItalicMT"]="Helvetica-Oblique",t["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",t["Arial-BoldMT-Bold"]="Helvetica-Bold",t["Arial-ItalicMT-Italic"]="Helvetica-Oblique",t.ArialUnicodeMS="Helvetica",t["ArialUnicodeMS-Bold"]="Helvetica-Bold",t["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",t["ArialUnicodeMS-Italic"]="Helvetica-Oblique",t["Courier-BoldItalic"]="Courier-BoldOblique",t["Courier-Italic"]="Courier-Oblique",t.CourierNew="Courier",t["CourierNew-Bold"]="Courier-Bold",t["CourierNew-BoldItalic"]="Courier-BoldOblique",t["CourierNew-Italic"]="Courier-Oblique",t["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",t["CourierNewPS-BoldMT"]="Courier-Bold",t["CourierNewPS-ItalicMT"]="Courier-Oblique",t.CourierNewPSMT="Courier",t["Helvetica-BoldItalic"]="Helvetica-BoldOblique",t["Helvetica-Italic"]="Helvetica-Oblique",t["HelveticaLTStd-Bold"]="Helvetica-Bold",t["Symbol-Bold"]="Symbol",t["Symbol-BoldItalic"]="Symbol",t["Symbol-Italic"]="Symbol",t.TimesNewRoman="Times-Roman",t["TimesNewRoman-Bold"]="Times-Bold",t["TimesNewRoman-BoldItalic"]="Times-BoldItalic",t["TimesNewRoman-Italic"]="Times-Italic",t.TimesNewRomanPS="Times-Roman",t["TimesNewRomanPS-Bold"]="Times-Bold",t["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",t["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",t["TimesNewRomanPS-BoldMT"]="Times-Bold",t["TimesNewRomanPS-Italic"]="Times-Italic",t["TimesNewRomanPS-ItalicMT"]="Times-Italic",t.TimesNewRomanPSMT="Times-Roman",t["TimesNewRomanPSMT-Bold"]="Times-Bold",t["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",t["TimesNewRomanPSMT-Italic"]="Times-Italic"}),kse=Dn(function(t){t.Courier="FoxitFixed.pfb",t["Courier-Bold"]="FoxitFixedBold.pfb",t["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",t["Courier-Oblique"]="FoxitFixedItalic.pfb",t.Helvetica="LiberationSans-Regular.ttf",t["Helvetica-Bold"]="LiberationSans-Bold.ttf",t["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",t["Helvetica-Oblique"]="LiberationSans-Italic.ttf",t["Times-Roman"]="FoxitSerif.pfb",t["Times-Bold"]="FoxitSerifBold.pfb",t["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",t["Times-Italic"]="FoxitSerifItalic.pfb",t.Symbol="FoxitSymbol.pfb",t.ZapfDingbats="FoxitDingbats.pfb",t["LiberationSans-Regular"]="LiberationSans-Regular.ttf",t["LiberationSans-Bold"]="LiberationSans-Bold.ttf",t["LiberationSans-Italic"]="LiberationSans-Italic.ttf",t["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"}),tB=Dn(function(t){t.Calibri="Helvetica",t["Calibri-Bold"]="Helvetica-Bold",t["Calibri-BoldItalic"]="Helvetica-BoldOblique",t["Calibri-Italic"]="Helvetica-Oblique",t.CenturyGothic="Helvetica",t["CenturyGothic-Bold"]="Helvetica-Bold",t["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",t["CenturyGothic-Italic"]="Helvetica-Oblique",t.ComicSansMS="Comic Sans MS",t["ComicSansMS-Bold"]="Comic Sans MS-Bold",t["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",t["ComicSansMS-Italic"]="Comic Sans MS-Italic",t.GillSansMT="Helvetica",t["GillSansMT-Bold"]="Helvetica-Bold",t["GillSansMT-BoldItalic"]="Helvetica-BoldOblique",t["GillSansMT-Italic"]="Helvetica-Oblique",t.Impact="Helvetica",t["ItcSymbol-Bold"]="Helvetica-Bold",t["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",t["ItcSymbol-Book"]="Helvetica",t["ItcSymbol-BookItalic"]="Helvetica-Oblique",t["ItcSymbol-Medium"]="Helvetica",t["ItcSymbol-MediumItalic"]="Helvetica-Oblique",t.LucidaConsole="Courier",t["LucidaConsole-Bold"]="Courier-Bold",t["LucidaConsole-BoldItalic"]="Courier-BoldOblique",t["LucidaConsole-Italic"]="Courier-Oblique",t["LucidaSans-Demi"]="Helvetica-Bold",t["MS-Gothic"]="MS Gothic",t["MS-Gothic-Bold"]="MS Gothic-Bold",t["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",t["MS-Gothic-Italic"]="MS Gothic-Italic",t["MS-Mincho"]="MS Mincho",t["MS-Mincho-Bold"]="MS Mincho-Bold",t["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",t["MS-Mincho-Italic"]="MS Mincho-Italic",t["MS-PGothic"]="MS PGothic",t["MS-PGothic-Bold"]="MS PGothic-Bold",t["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",t["MS-PGothic-Italic"]="MS PGothic-Italic",t["MS-PMincho"]="MS PMincho",t["MS-PMincho-Bold"]="MS PMincho-Bold",t["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",t["MS-PMincho-Italic"]="MS PMincho-Italic",t.NuptialScript="Times-Italic",t.SegoeUISymbol="Helvetica"}),iC=Dn(function(t){t["Adobe Jenson"]=!0,t["Adobe Text"]=!0,t.Albertus=!0,t.Aldus=!0,t.Alexandria=!0,t.Algerian=!0,t["American Typewriter"]=!0,t.Antiqua=!0,t.Apex=!0,t.Arno=!0,t.Aster=!0,t.Aurora=!0,t.Baskerville=!0,t.Bell=!0,t.Bembo=!0,t["Bembo Schoolbook"]=!0,t.Benguiat=!0,t["Berkeley Old Style"]=!0,t["Bernhard Modern"]=!0,t["Berthold City"]=!0,t.Bodoni=!0,t["Bauer Bodoni"]=!0,t["Book Antiqua"]=!0,t.Bookman=!0,t["Bordeaux Roman"]=!0,t["Californian FB"]=!0,t.Calisto=!0,t.Calvert=!0,t.Capitals=!0,t.Cambria=!0,t.Cartier=!0,t.Caslon=!0,t.Catull=!0,t.Centaur=!0,t["Century Old Style"]=!0,t["Century Schoolbook"]=!0,t.Chaparral=!0,t["Charis SIL"]=!0,t.Cheltenham=!0,t["Cholla Slab"]=!0,t.Clarendon=!0,t.Clearface=!0,t.Cochin=!0,t.Colonna=!0,t["Computer Modern"]=!0,t["Concrete Roman"]=!0,t.Constantia=!0,t["Cooper Black"]=!0,t.Corona=!0,t.Ecotype=!0,t.Egyptienne=!0,t.Elephant=!0,t.Excelsior=!0,t.Fairfield=!0,t["FF Scala"]=!0,t.Folkard=!0,t.Footlight=!0,t.FreeSerif=!0,t["Friz Quadrata"]=!0,t.Garamond=!0,t.Gentium=!0,t.Georgia=!0,t.Gloucester=!0,t["Goudy Old Style"]=!0,t["Goudy Schoolbook"]=!0,t["Goudy Pro Font"]=!0,t.Granjon=!0,t["Guardian Egyptian"]=!0,t.Heather=!0,t.Hercules=!0,t["High Tower Text"]=!0,t.Hiroshige=!0,t["Hoefler Text"]=!0,t["Humana Serif"]=!0,t.Imprint=!0,t["Ionic No. 5"]=!0,t.Janson=!0,t.Joanna=!0,t.Korinna=!0,t.Lexicon=!0,t.LiberationSerif=!0,t["Liberation Serif"]=!0,t["Linux Libertine"]=!0,t.Literaturnaya=!0,t.Lucida=!0,t["Lucida Bright"]=!0,t.Melior=!0,t.Memphis=!0,t.Miller=!0,t.Minion=!0,t.Modern=!0,t["Mona Lisa"]=!0,t["Mrs Eaves"]=!0,t["MS Serif"]=!0,t["Museo Slab"]=!0,t["New York"]=!0,t["Nimbus Roman"]=!0,t["NPS Rawlinson Roadway"]=!0,t.NuptialScript=!0,t.Palatino=!0,t.Perpetua=!0,t.Plantin=!0,t["Plantin Schoolbook"]=!0,t.Playbill=!0,t["Poor Richard"]=!0,t["Rawlinson Roadway"]=!0,t.Renault=!0,t.Requiem=!0,t.Rockwell=!0,t.Roman=!0,t["Rotis Serif"]=!0,t.Sabon=!0,t.Scala=!0,t.Seagull=!0,t.Sistina=!0,t.Souvenir=!0,t.STIX=!0,t["Stone Informal"]=!0,t["Stone Serif"]=!0,t.Sylfaen=!0,t.Times=!0,t.Trajan=!0,t.Trinité=!0,t["Trump Mediaeval"]=!0,t.Utopia=!0,t["Vale Type"]=!0,t["Bitstream Vera"]=!0,t["Vera Serif"]=!0,t.Versailles=!0,t.Wanted=!0,t.Weiss=!0,t["Wide Latin"]=!0,t.Windsor=!0,t.XITS=!0}),CA=Dn(function(t){t.Dingbats=!0,t.Symbol=!0,t.ZapfDingbats=!0,t.Wingdings=!0,t["Wingdings-Bold"]=!0,t["Wingdings-Regular"]=!0}),dN=Dn(function(t){t[2]=10,t[3]=32,t[4]=33,t[5]=34,t[6]=35,t[7]=36,t[8]=37,t[9]=38,t[10]=39,t[11]=40,t[12]=41,t[13]=42,t[14]=43,t[15]=44,t[16]=45,t[17]=46,t[18]=47,t[19]=48,t[20]=49,t[21]=50,t[22]=51,t[23]=52,t[24]=53,t[25]=54,t[26]=55,t[27]=56,t[28]=57,t[29]=58,t[30]=894,t[31]=60,t[32]=61,t[33]=62,t[34]=63,t[35]=64,t[36]=65,t[37]=66,t[38]=67,t[39]=68,t[40]=69,t[41]=70,t[42]=71,t[43]=72,t[44]=73,t[45]=74,t[46]=75,t[47]=76,t[48]=77,t[49]=78,t[50]=79,t[51]=80,t[52]=81,t[53]=82,t[54]=83,t[55]=84,t[56]=85,t[57]=86,t[58]=87,t[59]=88,t[60]=89,t[61]=90,t[62]=91,t[63]=92,t[64]=93,t[65]=94,t[66]=95,t[67]=96,t[68]=97,t[69]=98,t[70]=99,t[71]=100,t[72]=101,t[73]=102,t[74]=103,t[75]=104,t[76]=105,t[77]=106,t[78]=107,t[79]=108,t[80]=109,t[81]=110,t[82]=111,t[83]=112,t[84]=113,t[85]=114,t[86]=115,t[87]=116,t[88]=117,t[89]=118,t[90]=119,t[91]=120,t[92]=121,t[93]=122,t[94]=123,t[95]=124,t[96]=125,t[97]=126,t[98]=196,t[99]=197,t[100]=199,t[101]=201,t[102]=209,t[103]=214,t[104]=220,t[105]=225,t[106]=224,t[107]=226,t[108]=228,t[109]=227,t[110]=229,t[111]=231,t[112]=233,t[113]=232,t[114]=234,t[115]=235,t[116]=237,t[117]=236,t[118]=238,t[119]=239,t[120]=241,t[121]=243,t[122]=242,t[123]=244,t[124]=246,t[125]=245,t[126]=250,t[127]=249,t[128]=251,t[129]=252,t[130]=8224,t[131]=176,t[132]=162,t[133]=163,t[134]=167,t[135]=8226,t[136]=182,t[137]=223,t[138]=174,t[139]=169,t[140]=8482,t[141]=180,t[142]=168,t[143]=8800,t[144]=198,t[145]=216,t[146]=8734,t[147]=177,t[148]=8804,t[149]=8805,t[150]=165,t[151]=181,t[152]=8706,t[153]=8721,t[154]=8719,t[156]=8747,t[157]=170,t[158]=186,t[159]=8486,t[160]=230,t[161]=248,t[162]=191,t[163]=161,t[164]=172,t[165]=8730,t[166]=402,t[167]=8776,t[168]=8710,t[169]=171,t[170]=187,t[171]=8230,t[179]=8220,t[180]=8221,t[181]=8216,t[182]=8217,t[200]=193,t[203]=205,t[207]=211,t[210]=218,t[223]=711,t[224]=321,t[225]=322,t[226]=352,t[227]=353,t[228]=381,t[229]=382,t[233]=221,t[234]=253,t[252]=263,t[253]=268,t[254]=269,t[258]=258,t[260]=260,t[261]=261,t[265]=280,t[266]=281,t[267]=282,t[268]=283,t[269]=313,t[275]=323,t[276]=324,t[278]=328,t[283]=344,t[284]=345,t[285]=346,t[286]=347,t[292]=367,t[295]=377,t[296]=378,t[298]=380,t[305]=963,t[306]=964,t[307]=966,t[308]=8215,t[309]=8252,t[310]=8319,t[311]=8359,t[312]=8592,t[313]=8593,t[337]=9552,t[493]=1039,t[494]=1040,t[570]=1040,t[571]=1041,t[572]=1042,t[573]=1043,t[574]=1044,t[575]=1045,t[576]=1046,t[577]=1047,t[578]=1048,t[579]=1049,t[580]=1050,t[581]=1051,t[582]=1052,t[583]=1053,t[584]=1054,t[585]=1055,t[586]=1056,t[587]=1057,t[588]=1058,t[589]=1059,t[590]=1060,t[591]=1061,t[592]=1062,t[593]=1063,t[594]=1064,t[595]=1065,t[596]=1066,t[597]=1067,t[598]=1068,t[599]=1069,t[600]=1070,t[672]=1488,t[673]=1489,t[674]=1490,t[675]=1491,t[676]=1492,t[677]=1493,t[678]=1494,t[679]=1495,t[680]=1496,t[681]=1497,t[682]=1498,t[683]=1499,t[684]=1500,t[685]=1501,t[686]=1502,t[687]=1503,t[688]=1504,t[689]=1505,t[690]=1506,t[691]=1507,t[692]=1508,t[693]=1509,t[694]=1510,t[695]=1511,t[696]=1512,t[697]=1513,t[698]=1514,t[705]=1524,t[706]=8362,t[710]=64288,t[711]=64298,t[759]=1617,t[761]=1776,t[763]=1778,t[775]=1652,t[777]=1764,t[778]=1780,t[779]=1781,t[780]=1782,t[782]=771,t[783]=64726,t[786]=8363,t[788]=8532,t[790]=768,t[791]=769,t[792]=768,t[795]=803,t[797]=64336,t[798]=64337,t[799]=64342,t[800]=64343,t[801]=64344,t[802]=64345,t[803]=64362,t[804]=64363,t[805]=64364,t[2424]=7821,t[2425]=7822,t[2426]=7823,t[2427]=7824,t[2428]=7825,t[2429]=7826,t[2430]=7827,t[2433]=7682,t[2678]=8045,t[2679]=8046,t[2830]=1552,t[2838]=686,t[2840]=751,t[2842]=753,t[2843]=754,t[2844]=755,t[2846]=757,t[2856]=767,t[2857]=848,t[2858]=849,t[2862]=853,t[2863]=854,t[2864]=855,t[2865]=861,t[2866]=862,t[2906]=7460,t[2908]=7462,t[2909]=7463,t[2910]=7464,t[2912]=7466,t[2913]=7467,t[2914]=7468,t[2916]=7470,t[2917]=7471,t[2918]=7472,t[2920]=7474,t[2921]=7475,t[2922]=7476,t[2924]=7478,t[2925]=7479,t[2926]=7480,t[2928]=7482,t[2929]=7483,t[2930]=7484,t[2932]=7486,t[2933]=7487,t[2934]=7488,t[2936]=7490,t[2937]=7491,t[2938]=7492,t[2940]=7494,t[2941]=7495,t[2942]=7496,t[2944]=7498,t[2946]=7500,t[2948]=7502,t[2950]=7504,t[2951]=7505,t[2952]=7506,t[2954]=7508,t[2955]=7509,t[2956]=7510,t[2958]=7512,t[2959]=7513,t[2960]=7514,t[2962]=7516,t[2963]=7517,t[2964]=7518,t[2966]=7520,t[2967]=7521,t[2968]=7522,t[2970]=7524,t[2971]=7525,t[2972]=7526,t[2974]=7528,t[2975]=7529,t[2976]=7530,t[2978]=1537,t[2979]=1538,t[2980]=1539,t[2982]=1549,t[2983]=1551,t[2984]=1552,t[2986]=1554,t[2987]=1555,t[2988]=1556,t[2990]=1623,t[2991]=1624,t[2995]=1775,t[2999]=1791,t[3002]=64290,t[3003]=64291,t[3004]=64292,t[3006]=64294,t[3007]=64295,t[3008]=64296,t[3011]=1900,t[3014]=8223,t[3015]=8244,t[3017]=7532,t[3018]=7533,t[3019]=7534,t[3075]=7590,t[3076]=7591,t[3079]=7594,t[3080]=7595,t[3083]=7598,t[3084]=7599,t[3087]=7602,t[3088]=7603,t[3091]=7606,t[3092]=7607,t[3095]=7610,t[3096]=7611,t[3099]=7614,t[3100]=7615,t[3103]=7618,t[3104]=7619,t[3107]=8337,t[3108]=8338,t[3116]=1884,t[3119]=1885,t[3120]=1885,t[3123]=1886,t[3124]=1886,t[3127]=1887,t[3128]=1887,t[3131]=1888,t[3132]=1888,t[3135]=1889,t[3136]=1889,t[3139]=1890,t[3140]=1890,t[3143]=1891,t[3144]=1891,t[3147]=1892,t[3148]=1892,t[3153]=580,t[3154]=581,t[3157]=584,t[3158]=585,t[3161]=588,t[3162]=589,t[3165]=891,t[3166]=892,t[3169]=1274,t[3170]=1275,t[3173]=1278,t[3174]=1279,t[3181]=7622,t[3182]=7623,t[3282]=11799,t[3316]=578,t[3379]=42785,t[3393]=1159,t[3416]=8377}),Cse=Dn(function(t){t[227]=322,t[264]=261,t[291]=346}),Ese=Dn(function(t){t[1]=32,t[4]=65,t[5]=192,t[6]=193,t[9]=196,t[17]=66,t[18]=67,t[21]=268,t[24]=68,t[28]=69,t[29]=200,t[30]=201,t[32]=282,t[38]=70,t[39]=71,t[44]=72,t[47]=73,t[48]=204,t[49]=205,t[58]=74,t[60]=75,t[62]=76,t[68]=77,t[69]=78,t[75]=79,t[76]=210,t[80]=214,t[87]=80,t[89]=81,t[90]=82,t[92]=344,t[94]=83,t[97]=352,t[100]=84,t[104]=85,t[109]=220,t[115]=86,t[116]=87,t[121]=88,t[122]=89,t[124]=221,t[127]=90,t[129]=381,t[258]=97,t[259]=224,t[260]=225,t[263]=228,t[268]=261,t[271]=98,t[272]=99,t[273]=263,t[275]=269,t[282]=100,t[286]=101,t[287]=232,t[288]=233,t[290]=283,t[295]=281,t[296]=102,t[336]=103,t[346]=104,t[349]=105,t[350]=236,t[351]=237,t[361]=106,t[364]=107,t[367]=108,t[371]=322,t[373]=109,t[374]=110,t[381]=111,t[382]=242,t[383]=243,t[386]=246,t[393]=112,t[395]=113,t[396]=114,t[398]=345,t[400]=115,t[401]=347,t[403]=353,t[410]=116,t[437]=117,t[442]=252,t[448]=118,t[449]=119,t[454]=120,t[455]=121,t[457]=253,t[460]=122,t[462]=382,t[463]=380,t[853]=44,t[855]=58,t[856]=46,t[876]=47,t[878]=45,t[882]=45,t[894]=40,t[895]=41,t[896]=91,t[897]=93,t[923]=64,t[940]=163,t[1004]=48,t[1005]=49,t[1006]=50,t[1007]=51,t[1008]=52,t[1009]=53,t[1010]=54,t[1011]=55,t[1012]=56,t[1013]=57,t[1081]=37,t[1085]=43,t[1086]=45});function fN(t){const e=s3(t);return F6()[e]}function pN(t){const e=s3(t);return!!(F6()[e]||tB()[e]||iC()[e]||CA()[e])}class rx{constructor(e=[]){this._map=e}get length(){return this._map.length}forEach(e){for(const n in this._map)e(n,this._map[n].codePointAt(0))}has(e){return this._map[e]!==void 0}get(e){return this._map[e]}charCodeOf(e){const n=this._map;if(n.length<=65536)return n.indexOf(e);for(const i in n)if(n[i]===e)return i|0;return-1}amend(e){for(const n in e)this._map[n]=e[n]}}class qa{constructor(e,n){this.firstChar=e,this.lastChar=n}get length(){return this.lastChar+1-this.firstChar}forEach(e){for(let n=this.firstChar,i=this.lastChar;n<=i;n++)e(n,n)}has(e){return this.firstChar<=e&&e<=this.lastChar}get(e){if(this.firstChar<=e&&e<=this.lastChar)return String.fromCharCode(e)}charCodeOf(e){return Number.isInteger(e)&&e>=this.firstChar&&e<=this.lastChar?e:-1}amend(e){Ot("Should not call amend()")}}class Fw{constructor(e,n){this.properties=n;const i=new tC(e,n,O1);this.cff=i.parse(),this.cff.duplicateFirstGlyph();const s=new i3(this.cff);this.seacs=this.cff.seacs;try{this.data=s.compile()}catch{W("Failed to compile font "+n.loadedName),this.data=e}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const e=this.cff,n=this.properties,{cidToGidMap:i,cMap:s}=n,r=e.charset.charset;let a,o;if(n.composite){let c;if((i==null?void 0:i.length)>0){c=Object.create(null);for(let d=0,p=i.length;d<p;d++){const g=i[d];g!==void 0&&(c[g]=d)}}a=Object.create(null);let u;if(e.isCIDFont)for(o=0;o<r.length;o++){const d=r[o];u=s.charCodeOf(d),(c==null?void 0:c[u])!==void 0&&(u=c[u]),a[u]=o}else for(o=0;o<e.charStrings.count;o++)u=s.charCodeOf(o),a[u]=o;return a}let l=e.encoding?e.encoding.encoding:null;return n.isInternalFont&&(l=n.defaultEncoding),a=eB(n,l,r),a}hasGlyphId(e){return this.cff.hasGlyphId(e)}_createBuiltInEncoding(){const{charset:e,encoding:n}=this.cff;if(!e||!n)return;const i=e.charset,s=n.encoding,r=[];for(const a in s){const o=s[a];if(o>=0){const l=i[o];l&&(r[a]=l)}}r.length>0&&(this.properties.builtInEncoding=r)}}function fh(t,e){return Bc(t,e)/16384}function EA(t){const e=t.length;let n=32768;return e<1240?n=107:e<33900&&(n=1131),n}function _se(t,e,n){const i=Mt(t,e+2)===1?sn(t,e+8):sn(t,e+16),s=Mt(t,e+i);let r,a,o;if(s===4){Mt(t,e+i+2);const l=Mt(t,e+i+6)>>1;for(a=e+i+14,r=[],o=0;o<l;o++,a+=2)r[o]={end:Mt(t,a)};for(a+=2,o=0;o<l;o++,a+=2)r[o].start=Mt(t,a);for(o=0;o<l;o++,a+=2)r[o].idDelta=Mt(t,a);for(o=0;o<l;o++,a+=2){let c=Mt(t,a);if(c!==0){r[o].ids=[];for(let u=0,d=r[o].end-r[o].start+1;u<d;u++)r[o].ids[u]=Mt(t,a+c),c+=2}}return r}else if(s===12){const l=sn(t,e+i+12);for(a=e+i+16,r=[],o=0;o<l;o++)e=sn(t,a),r.push({start:e,end:sn(t,a+4),idDelta:sn(t,a+8)-e}),a+=12;return r}throw new me(`unsupported cmap: ${s}`)}function Tse(t,e,n,i){var o,l,c;const s={},a=new tC(new Vn(t,e,n-e),s,i).parse();return{glyphs:a.charStrings.objects,subrs:(l=(o=a.topDict.privateDict)==null?void 0:o.subrsIndex)==null?void 0:l.objects,gsubrs:(c=a.globalSubrIndex)==null?void 0:c.objects,isCFFCIDFont:a.isCIDFont,fdSelect:a.fdSelect,fdArray:a.fdArray}}function Ise(t,e,n){let i,s;n?(i=4,s=sn):(i=2,s=(o,l)=>2*Mt(o,l));const r=[];let a=s(e,0);for(let o=i;o<e.length;o+=i){const l=s(e,o);r.push(t.subarray(a,l)),a=l}return r}function i8(t,e){const n=e.codePointAt(0);let i=0,s=0,r=t.length-1;for(;s<r;){const a=s+r+1>>1;n<t[a].start?r=a-1:s=a}return t[s].start<=n&&n<=t[s].end&&(i=t[s].idDelta+(t[s].ids?t[s].ids[n-t[s].start]:n)&65535),{charCode:n,glyphId:i}}function nB(t,e,n){function i(p,g){c&&e.add("L",c),c=[p,g],e.add("M",[p,g])}function s(p,g){e.add("L",[p,g])}function r(p,g,m,b){e.add("Q",[p,g,m,b])}let a=0;const o=Bc(t,a);let l,c=null,u=0,d=0;if(a+=10,o<0)do{l=Mt(t,a);const p=Mt(t,a+2);a+=4;let g,m;l&1?(l&2?(g=Bc(t,a),m=Bc(t,a+2)):(g=Mt(t,a),m=Mt(t,a+2)),a+=4):l&2?(g=el(t,a++),m=el(t,a++)):(g=t[a++],m=t[a++]),l&2?(u=g,d=m):(u=0,d=0);let b=1,v=1,S=0,C=0;l&8?(b=v=fh(t,a),a+=2):l&64?(b=fh(t,a),v=fh(t,a+2),a+=4):l&128&&(b=fh(t,a),S=fh(t,a+2),C=fh(t,a+4),v=fh(t,a+6),a+=8);const E=n.glyphs[p];E&&(e.save(),e.transform([b,S,C,v,u,d]),nB(E,e,n),e.restore())}while(l&32);else{const p=[];let g,m;for(g=0;g<o;g++)p.push(Mt(t,a)),a+=2;const b=Mt(t,a);a+=2+b;const v=p.at(-1)+1,S=[];for(;S.length<v;){l=t[a++];let E=1;for(l&8&&(E+=t[a++]);E-- >0;)S.push({flags:l})}for(g=0;g<v;g++){switch(S[g].flags&18){case 0:u+=Bc(t,a),a+=2;break;case 2:u-=t[a++];break;case 18:u+=t[a++];break}S[g].x=u}for(g=0;g<v;g++){switch(S[g].flags&36){case 0:d+=Bc(t,a),a+=2;break;case 4:d-=t[a++];break;case 36:d+=t[a++];break}S[g].y=d}let C=0;for(a=0;a<o;a++){const E=p[a],w=S.slice(C,E+1);if(w[0].flags&1)w.push(w[0]);else if(w.at(-1).flags&1)w.unshift(w.at(-1));else{const A={flags:1,x:(w[0].x+w.at(-1).x)/2,y:(w[0].y+w.at(-1).y)/2};w.unshift(A),w.push(A)}for(i(w[0].x,w[0].y),g=1,m=w.length;g<m;g++)w[g].flags&1?s(w[g].x,w[g].y):w[g+1].flags&1?(r(w[g].x,w[g].y,w[g+1].x,w[g+1].y),g++):r(w[g].x,w[g].y,(w[g].x+w[g+1].x)/2,(w[g].y+w[g+1].y)/2);C=E+1}}}function _A(t,e,n,i){function s(g,m){d&&e.add("L",d),d=[g,m],e.add("M",[g,m])}function r(g,m){e.add("L",[g,m])}function a(g,m,b,v,S,C){e.add("C",[g,m,b,v,S,C])}const o=[];let l=0,c=0,u=0,d=null;function p(g){var b;let m=0;for(;m<g.length;){let v=!1,S=g[m++],C,E,w,A,T,P,R,D,O;switch(S){case 1:u+=o.length>>1,v=!0;break;case 3:u+=o.length>>1,v=!0;break;case 4:c+=o.pop(),s(l,c),v=!0;break;case 5:for(;o.length>0;)l+=o.shift(),c+=o.shift(),r(l,c);break;case 6:for(;o.length>0&&(l+=o.shift(),r(l,c),o.length!==0);)c+=o.shift(),r(l,c);break;case 7:for(;o.length>0&&(c+=o.shift(),r(l,c),o.length!==0);)l+=o.shift(),r(l,c);break;case 8:for(;o.length>0;)C=l+o.shift(),w=c+o.shift(),E=C+o.shift(),A=w+o.shift(),l=E+o.shift(),c=A+o.shift(),a(C,w,E,A,l,c);break;case 10:if(D=o.pop(),O=null,n.isCFFCIDFont){const B=n.fdSelect.getFDIndex(i);if(B>=0&&B<n.fdArray.length){const U=n.fdArray[B];let V;(b=U.privateDict)!=null&&b.subrsIndex&&(V=U.privateDict.subrsIndex.objects),V&&(D+=EA(V),O=V[D])}else W("Invalid fd index for glyph index.")}else O=n.subrs[D+n.subrsBias];O&&p(O);break;case 11:return;case 12:switch(S=g[m++],S){case 34:C=l+o.shift(),E=C+o.shift(),T=c+o.shift(),l=E+o.shift(),a(C,c,E,T,l,T),C=l+o.shift(),E=C+o.shift(),l=E+o.shift(),a(C,T,E,c,l,c);break;case 35:C=l+o.shift(),w=c+o.shift(),E=C+o.shift(),A=w+o.shift(),l=E+o.shift(),c=A+o.shift(),a(C,w,E,A,l,c),C=l+o.shift(),w=c+o.shift(),E=C+o.shift(),A=w+o.shift(),l=E+o.shift(),c=A+o.shift(),a(C,w,E,A,l,c),o.pop();break;case 36:C=l+o.shift(),T=c+o.shift(),E=C+o.shift(),P=T+o.shift(),l=E+o.shift(),a(C,T,E,P,l,P),C=l+o.shift(),E=C+o.shift(),R=P+o.shift(),l=E+o.shift(),a(C,P,E,R,l,c);break;case 37:const B=l,U=c;C=l+o.shift(),w=c+o.shift(),E=C+o.shift(),A=w+o.shift(),l=E+o.shift(),c=A+o.shift(),a(C,w,E,A,l,c),C=l+o.shift(),w=c+o.shift(),E=C+o.shift(),A=w+o.shift(),l=E,c=A,Math.abs(l-B)>Math.abs(c-U)?l+=o.shift():c+=o.shift(),a(C,w,E,A,l,c);break;default:throw new me(`unknown operator: 12 ${S}`)}break;case 14:if(o.length>=4){const B=o.pop(),U=o.pop();c=o.pop(),l=o.pop(),e.save(),e.translate(l,c);let V=i8(n.cmap,String.fromCharCode(n.glyphNameMap[zc[B]]));_A(n.glyphs[V.glyphId],e,n,V.glyphId),e.restore(),V=i8(n.cmap,String.fromCharCode(n.glyphNameMap[zc[U]])),_A(n.glyphs[V.glyphId],e,n,V.glyphId)}return;case 18:u+=o.length>>1,v=!0;break;case 19:u+=o.length>>1,m+=u+7>>3,v=!0;break;case 20:u+=o.length>>1,m+=u+7>>3,v=!0;break;case 21:c+=o.pop(),l+=o.pop(),s(l,c),v=!0;break;case 22:l+=o.pop(),s(l,c),v=!0;break;case 23:u+=o.length>>1,v=!0;break;case 24:for(;o.length>2;)C=l+o.shift(),w=c+o.shift(),E=C+o.shift(),A=w+o.shift(),l=E+o.shift(),c=A+o.shift(),a(C,w,E,A,l,c);l+=o.shift(),c+=o.shift(),r(l,c);break;case 25:for(;o.length>6;)l+=o.shift(),c+=o.shift(),r(l,c);C=l+o.shift(),w=c+o.shift(),E=C+o.shift(),A=w+o.shift(),l=E+o.shift(),c=A+o.shift(),a(C,w,E,A,l,c);break;case 26:for(o.length%2&&(l+=o.shift());o.length>0;)C=l,w=c+o.shift(),E=C+o.shift(),A=w+o.shift(),l=E,c=A+o.shift(),a(C,w,E,A,l,c);break;case 27:for(o.length%2&&(c+=o.shift());o.length>0;)C=l+o.shift(),w=c,E=C+o.shift(),A=w+o.shift(),l=E+o.shift(),c=A,a(C,w,E,A,l,c);break;case 28:o.push(Bc(g,m)),m+=2;break;case 29:D=o.pop()+n.gsubrsBias,O=n.gsubrs[D],O&&p(O);break;case 30:for(;o.length>0&&(C=l,w=c+o.shift(),E=C+o.shift(),A=w+o.shift(),l=E+o.shift(),c=A+(o.length===1?o.shift():0),a(C,w,E,A,l,c),o.length!==0);)C=l+o.shift(),w=c,E=C+o.shift(),A=w+o.shift(),c=A+o.shift(),l=E+(o.length===1?o.shift():0),a(C,w,E,A,l,c);break;case 31:for(;o.length>0&&(C=l+o.shift(),w=c,E=C+o.shift(),A=w+o.shift(),c=A+o.shift(),l=E+(o.length===1?o.shift():0),a(C,w,E,A,l,c),o.length!==0);)C=l,w=c+o.shift(),E=C+o.shift(),A=w+o.shift(),l=E+o.shift(),c=A+(o.length===1?o.shift():0),a(C,w,E,A,l,c);break;default:if(S<32)throw new me(`unknown operator: ${S}`);S<247?o.push(S-139):S<251?o.push((S-247)*256+g[m++]+108):S<255?o.push(-(S-251)*256-g[m++]-108):(o.push((g[m]<<24|g[m+1]<<16|g[m+2]<<8|g[m+3])/65536),m+=4);break}v&&(o.length=0)}}p(t)}const gN="";class Pse{constructor(){qe(this,"cmds",[]);qe(this,"transformStack",[]);qe(this,"currentTransform",[1,0,0,1,0,0])}add(e,n){if(n){const[i,s,r,a,o,l]=this.currentTransform;for(let c=0,u=n.length;c<u;c+=2){const d=n[c],p=n[c+1];n[c]=i*d+r*p+o,n[c+1]=s*d+a*p+l}this.cmds.push(`${e}${n.join(" ")}`)}else this.cmds.push(e)}transform(e){this.currentTransform=rn.transform(this.currentTransform,e)}translate(e,n){this.transform([1,0,0,1,e,n])}save(){this.transformStack.push(this.currentTransform.slice())}restore(){this.currentTransform=this.transformStack.pop()||[1,0,0,1,0,0]}getSVG(){return this.cmds.join("")}}class iB{constructor(e){this.fontMatrix=e,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(e){var a;const{charCode:n,glyphId:i}=i8(this.cmap,e);let s=this.compiledGlyphs[i],r;if(s===void 0){try{s=this.compileGlyph(this.glyphs[i],i)}catch(o){s=gN,r=o}this.compiledGlyphs[i]=s}if((a=this.compiledCharCodeToGlyphId)[n]??(a[n]=i),r)throw r;return s}compileGlyph(e,n){if(!(e!=null&&e.length)||e[0]===14)return gN;let i=this.fontMatrix;if(this.isCFFCIDFont){const r=this.fdSelect.getFDIndex(n);r>=0&&r<this.fdArray.length?i=this.fdArray[r].getByName("FontMatrix")||Jd:W("Invalid fd index for glyph index.")}bs(lr(i,6),"Expected a valid fontMatrix.");const s=new Pse;return s.transform(i.slice()),this.compileGlyphImpl(e,s,n),s.add("Z"),s.getSVG()}compileGlyphImpl(){Ot("Children classes should implement this.")}hasBuiltPath(e){const{charCode:n,glyphId:i}=i8(this.cmap,e);return this.compiledGlyphs[i]!==void 0&&this.compiledCharCodeToGlyphId[n]!==void 0}}class Nse extends iB{constructor(e,n,i){super(i||[488e-6,0,0,488e-6,0,0]),this.glyphs=e,this.cmap=n}compileGlyphImpl(e,n){nB(e,n,this)}}class Rse extends iB{constructor(e,n,i){super(i||[.001,0,0,.001,0,0]),this.glyphs=e.glyphs,this.gsubrs=e.gsubrs||[],this.subrs=e.subrs||[],this.cmap=n,this.glyphNameMap=kl(),this.gsubrsBias=EA(this.gsubrs),this.subrsBias=EA(this.subrs),this.isCFFCIDFont=e.isCFFCIDFont,this.fdSelect=e.fdSelect,this.fdArray=e.fdArray}compileGlyphImpl(e,n,i){_A(e,n,this,i)}}class Fse{static create(e,n){const i=new Uint8Array(e.data);let s,r,a,o,l,c;const u=Mt(i,4);for(let d=0,p=12;d<u;d++,p+=16){const g=Mr(i.subarray(p,p+4)),m=sn(i,p+8),b=sn(i,p+12);switch(g){case"cmap":s=_se(i,m);break;case"glyf":r=i.subarray(m,m+b);break;case"loca":a=i.subarray(m,m+b);break;case"head":c=Mt(i,m+18),l=Mt(i,m+50);break;case"CFF ":o=Tse(i,m,m+b,n);break}}if(r){const d=c?[1/c,0,0,1/c,0,0]:e.fontMatrix;return new Nse(Ise(r,a,l),s,d)}return new Rse(o,s,e.fontMatrix)}}const Mse=Dn(function(t){t.Courier=600,t["Courier-Bold"]=600,t["Courier-BoldOblique"]=600,t["Courier-Oblique"]=600,t.Helvetica=Dn(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),t["Helvetica-Bold"]=Dn(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),t["Helvetica-BoldOblique"]=Dn(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),t["Helvetica-Oblique"]=Dn(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),t.Symbol=Dn(function(e){e.space=250,e.exclam=333,e.universal=713,e.numbersign=500,e.existential=549,e.percent=833,e.ampersand=778,e.suchthat=439,e.parenleft=333,e.parenright=333,e.asteriskmath=500,e.plus=549,e.comma=250,e.minus=549,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=549,e.equal=549,e.greater=549,e.question=444,e.congruent=549,e.Alpha=722,e.Beta=667,e.Chi=722,e.Delta=612,e.Epsilon=611,e.Phi=763,e.Gamma=603,e.Eta=722,e.Iota=333,e.theta1=631,e.Kappa=722,e.Lambda=686,e.Mu=889,e.Nu=722,e.Omicron=722,e.Pi=768,e.Theta=741,e.Rho=556,e.Sigma=592,e.Tau=611,e.Upsilon=690,e.sigma1=439,e.Omega=768,e.Xi=645,e.Psi=795,e.Zeta=611,e.bracketleft=333,e.therefore=863,e.bracketright=333,e.perpendicular=658,e.underscore=500,e.radicalex=500,e.alpha=631,e.beta=549,e.chi=549,e.delta=494,e.epsilon=439,e.phi=521,e.gamma=411,e.eta=603,e.iota=329,e.phi1=603,e.kappa=549,e.lambda=549,e.mu=576,e.nu=521,e.omicron=549,e.pi=549,e.theta=521,e.rho=549,e.sigma=603,e.tau=439,e.upsilon=576,e.omega1=713,e.omega=686,e.xi=493,e.psi=686,e.zeta=494,e.braceleft=480,e.bar=200,e.braceright=480,e.similar=549,e.Euro=750,e.Upsilon1=620,e.minute=247,e.lessequal=549,e.fraction=167,e.infinity=713,e.florin=500,e.club=753,e.diamond=753,e.heart=753,e.spade=753,e.arrowboth=1042,e.arrowleft=987,e.arrowup=603,e.arrowright=987,e.arrowdown=603,e.degree=400,e.plusminus=549,e.second=411,e.greaterequal=549,e.multiply=549,e.proportional=713,e.partialdiff=494,e.bullet=460,e.divide=549,e.notequal=549,e.equivalence=549,e.approxequal=549,e.ellipsis=1e3,e.arrowvertex=603,e.arrowhorizex=1e3,e.carriagereturn=658,e.aleph=823,e.Ifraktur=686,e.Rfraktur=795,e.weierstrass=987,e.circlemultiply=768,e.circleplus=768,e.emptyset=823,e.intersection=768,e.union=768,e.propersuperset=713,e.reflexsuperset=713,e.notsubset=713,e.propersubset=713,e.reflexsubset=713,e.element=713,e.notelement=713,e.angle=768,e.gradient=713,e.registerserif=790,e.copyrightserif=790,e.trademarkserif=890,e.product=823,e.radical=549,e.dotmath=250,e.logicalnot=713,e.logicaland=603,e.logicalor=603,e.arrowdblboth=1042,e.arrowdblleft=987,e.arrowdblup=603,e.arrowdblright=987,e.arrowdbldown=603,e.lozenge=494,e.angleleft=329,e.registersans=790,e.copyrightsans=790,e.trademarksans=786,e.summation=713,e.parenlefttp=384,e.parenleftex=384,e.parenleftbt=384,e.bracketlefttp=384,e.bracketleftex=384,e.bracketleftbt=384,e.bracelefttp=494,e.braceleftmid=494,e.braceleftbt=494,e.braceex=494,e.angleright=329,e.integral=274,e.integraltp=686,e.integralex=686,e.integralbt=686,e.parenrighttp=384,e.parenrightex=384,e.parenrightbt=384,e.bracketrighttp=384,e.bracketrightex=384,e.bracketrightbt=384,e.bracerighttp=494,e.bracerightmid=494,e.bracerightbt=494,e.apple=790}),t["Times-Roman"]=Dn(function(e){e.space=250,e.exclam=333,e.quotedbl=408,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=564,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=564,e.equal=564,e.greater=564,e.question=444,e.at=921,e.A=722,e.B=667,e.C=667,e.D=722,e.E=611,e.F=556,e.G=722,e.H=722,e.I=333,e.J=389,e.K=722,e.L=611,e.M=889,e.N=722,e.O=722,e.P=556,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=722,e.W=944,e.X=722,e.Y=722,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=469,e.underscore=500,e.quoteleft=333,e.a=444,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=500,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=500,e.o=500,e.p=500,e.q=500,e.r=333,e.s=389,e.t=278,e.u=500,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=480,e.bar=200,e.braceright=480,e.asciitilde=541,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=180,e.quotedblleft=444,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=453,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=444,e.quotedblright=444,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=444,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=889,e.ordfeminine=276,e.Lslash=611,e.Oslash=722,e.OE=889,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=444,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=722,e.divide=564,e.Yacute=722,e.Acircumflex=722,e.aacute=444,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=444,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=444,e.Ncommaaccent=722,e.lacute=278,e.agrave=444,e.Tcommaaccent=611,e.Cacute=667,e.atilde=444,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=444,e.Amacron=722,e.rcaron=333,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=556,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=588,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=722,e.Abreve=722,e.multiply=564,e.uacute=500,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=444,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=722,e.Iacute=333,e.plusminus=564,e.brokenbar=200,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=333,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=326,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=444,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=344,e.Kcommaaccent=722,e.Lacute=611,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=722,e.zdotaccent=444,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=500,e.minus=564,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=564,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),t["Times-Bold"]=Dn(function(e){e.space=250,e.exclam=333,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=1e3,e.ampersand=833,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=930,e.A=722,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=778,e.I=389,e.J=500,e.K=778,e.L=667,e.M=944,e.N=722,e.O=778,e.P=611,e.Q=778,e.R=722,e.S=556,e.T=667,e.U=722,e.V=722,e.W=1e3,e.X=722,e.Y=722,e.Z=667,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=581,e.underscore=500,e.quoteleft=333,e.a=500,e.b=556,e.c=444,e.d=556,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=333,e.k=556,e.l=278,e.m=833,e.n=556,e.o=500,e.p=556,e.q=556,e.r=444,e.s=389,e.t=333,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=394,e.bar=220,e.braceright=394,e.asciitilde=520,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=540,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=300,e.Lslash=667,e.Oslash=778,e.OE=1e3,e.ordmasculine=330,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=556,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=722,e.divide=570,e.Yacute=722,e.Acircumflex=722,e.aacute=500,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=667,e.Cacute=722,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=500,e.Amacron=722,e.rcaron=444,e.ccedilla=444,e.Zdotaccent=667,e.Thorn=611,e.Omacron=778,e.Racute=722,e.Sacute=556,e.dcaron=672,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=570,e.uacute=556,e.Tcaron=667,e.partialdiff=494,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=778,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=444,e.omacron=500,e.Zacute=667,e.Zcaron=667,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=416,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=778,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=300,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=556,e.threequarters=750,e.Scedilla=556,e.lcaron=394,e.Kcommaaccent=778,e.Lacute=667,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=667,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=778,e.degree=400,e.ograve=500,e.Ccaron=722,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=444,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=722,e.Lcommaaccent=667,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=444,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=556,e.minus=570,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=333,e.logicalnot=570,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),t["Times-BoldItalic"]=Dn(function(e){e.space=250,e.exclam=389,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=832,e.A=667,e.B=667,e.C=667,e.D=722,e.E=667,e.F=667,e.G=722,e.H=778,e.I=389,e.J=500,e.K=667,e.L=611,e.M=889,e.N=722,e.O=722,e.P=611,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=667,e.W=889,e.X=667,e.Y=611,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=570,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=556,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=556,e.v=444,e.w=667,e.x=500,e.y=444,e.z=389,e.braceleft=348,e.bar=220,e.braceright=348,e.asciitilde=570,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=500,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=944,e.ordfeminine=266,e.Lslash=611,e.Oslash=722,e.OE=944,e.ordmasculine=300,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=611,e.divide=570,e.Yacute=611,e.Acircumflex=667,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=611,e.Cacute=667,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=556,e.acircumflex=500,e.Amacron=667,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=611,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=608,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=722,e.Agrave=667,e.Abreve=667,e.multiply=570,e.uacute=556,e.Tcaron=611,e.partialdiff=494,e.ydieresis=444,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=722,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=366,e.eogonek=444,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=576,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=382,e.Kcommaaccent=667,e.Lacute=611,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=722,e.zdotaccent=389,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=500,e.minus=606,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=606,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),t["Times-Italic"]=Dn(function(e){e.space=250,e.exclam=333,e.quotedbl=420,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=675,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=675,e.equal=675,e.greater=675,e.question=500,e.at=920,e.A=611,e.B=611,e.C=667,e.D=722,e.E=611,e.F=611,e.G=722,e.H=722,e.I=333,e.J=444,e.K=667,e.L=556,e.M=833,e.N=667,e.O=722,e.P=611,e.Q=722,e.R=611,e.S=500,e.T=556,e.U=722,e.V=611,e.W=833,e.X=611,e.Y=556,e.Z=556,e.bracketleft=389,e.backslash=278,e.bracketright=389,e.asciicircum=422,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=278,e.g=500,e.h=500,e.i=278,e.j=278,e.k=444,e.l=278,e.m=722,e.n=500,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=500,e.v=444,e.w=667,e.x=444,e.y=444,e.z=389,e.braceleft=400,e.bar=275,e.braceright=400,e.asciitilde=541,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=214,e.quotedblleft=556,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=523,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=556,e.quotedblright=556,e.guillemotright=500,e.ellipsis=889,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=889,e.AE=889,e.ordfeminine=276,e.Lslash=556,e.Oslash=722,e.OE=944,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=667,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=500,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=556,e.divide=675,e.Yacute=556,e.Acircumflex=611,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=500,e.Ncommaaccent=667,e.lacute=278,e.agrave=500,e.Tcommaaccent=556,e.Cacute=667,e.atilde=500,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=611,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=500,e.Amacron=611,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=556,e.Thorn=611,e.Omacron=722,e.Racute=611,e.Sacute=500,e.dcaron=544,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=611,e.Abreve=611,e.multiply=675,e.uacute=500,e.Tcaron=556,e.partialdiff=476,e.ydieresis=444,e.Nacute=667,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=667,e.Iacute=333,e.plusminus=675,e.brokenbar=275,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=389,e.omacron=500,e.Zacute=556,e.Zcaron=556,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=300,e.eogonek=444,e.Uogonek=722,e.Aacute=611,e.Adieresis=611,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=500,e.lcaron=300,e.Kcommaaccent=667,e.Lacute=556,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=500,e.Scommaaccent=500,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=667,e.otilde=500,e.Rcommaaccent=611,e.Lcommaaccent=556,e.Atilde=611,e.Aogonek=611,e.Aring=611,e.Otilde=722,e.zdotaccent=389,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=444,e.minus=675,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=675,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),t.ZapfDingbats=Dn(function(e){e.space=278,e.a1=974,e.a2=961,e.a202=974,e.a3=980,e.a4=719,e.a5=789,e.a119=790,e.a118=791,e.a117=690,e.a11=960,e.a12=939,e.a13=549,e.a14=855,e.a15=911,e.a16=933,e.a105=911,e.a17=945,e.a18=974,e.a19=755,e.a20=846,e.a21=762,e.a22=761,e.a23=571,e.a24=677,e.a25=763,e.a26=760,e.a27=759,e.a28=754,e.a6=494,e.a7=552,e.a8=537,e.a9=577,e.a10=692,e.a29=786,e.a30=788,e.a31=788,e.a32=790,e.a33=793,e.a34=794,e.a35=816,e.a36=823,e.a37=789,e.a38=841,e.a39=823,e.a40=833,e.a41=816,e.a42=831,e.a43=923,e.a44=744,e.a45=723,e.a46=749,e.a47=790,e.a48=792,e.a49=695,e.a50=776,e.a51=768,e.a52=792,e.a53=759,e.a54=707,e.a55=708,e.a56=682,e.a57=701,e.a58=826,e.a59=815,e.a60=789,e.a61=789,e.a62=707,e.a63=687,e.a64=696,e.a65=689,e.a66=786,e.a67=787,e.a68=713,e.a69=791,e.a70=785,e.a71=791,e.a72=873,e.a73=761,e.a74=762,e.a203=762,e.a75=759,e.a204=759,e.a76=892,e.a77=892,e.a78=788,e.a79=784,e.a81=438,e.a82=138,e.a83=277,e.a84=415,e.a97=392,e.a98=392,e.a99=668,e.a100=668,e.a89=390,e.a90=390,e.a93=317,e.a94=317,e.a91=276,e.a92=276,e.a205=509,e.a85=509,e.a206=410,e.a86=410,e.a87=234,e.a88=234,e.a95=334,e.a96=334,e.a101=732,e.a102=544,e.a103=544,e.a104=910,e.a106=667,e.a107=760,e.a108=760,e.a112=776,e.a111=595,e.a110=694,e.a109=626,e.a120=788,e.a121=788,e.a122=788,e.a123=788,e.a124=788,e.a125=788,e.a126=788,e.a127=788,e.a128=788,e.a129=788,e.a130=788,e.a131=788,e.a132=788,e.a133=788,e.a134=788,e.a135=788,e.a136=788,e.a137=788,e.a138=788,e.a139=788,e.a140=788,e.a141=788,e.a142=788,e.a143=788,e.a144=788,e.a145=788,e.a146=788,e.a147=788,e.a148=788,e.a149=788,e.a150=788,e.a151=788,e.a152=788,e.a153=788,e.a154=788,e.a155=788,e.a156=788,e.a157=788,e.a158=788,e.a159=788,e.a160=894,e.a161=838,e.a163=1016,e.a164=458,e.a196=748,e.a165=924,e.a192=748,e.a166=918,e.a167=927,e.a168=928,e.a169=928,e.a170=834,e.a171=873,e.a172=828,e.a173=924,e.a162=924,e.a174=917,e.a175=930,e.a176=931,e.a177=463,e.a178=883,e.a179=836,e.a193=836,e.a180=867,e.a199=867,e.a181=696,e.a200=696,e.a182=874,e.a201=874,e.a183=760,e.a184=946,e.a197=771,e.a185=865,e.a194=771,e.a198=888,e.a186=967,e.a195=888,e.a187=831,e.a188=873,e.a189=927,e.a190=970,e.a191=918})}),Dse=Dn(function(t){t.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},t["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},t["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},t["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},t.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},t["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},t["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},t["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},t["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},t["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},t["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},t["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},t.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},t.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}}),Lse=1,ty=2,ny=4,mN=8,ym=16,wm=32,Ose=64,vm=1,iy=2,Bse=8,jse=32,$se=64,Use=128,Mw=256;class zse{constructor({glyfTable:e,isGlyphLocationsLong:n,locaTable:i,numGlyphs:s}){this.glyphs=[];const r=new DataView(i.buffer,i.byteOffset,i.byteLength),a=new DataView(e.buffer,e.byteOffset,e.byteLength),o=n?4:2;let l=n?r.getUint32(0):2*r.getUint16(0),c=0;for(let u=0;u<s;u++){c+=o;const d=n?r.getUint32(c):2*r.getUint16(c);if(d===l){this.glyphs.push(new Xx({}));continue}const p=Xx.parse(l,a);this.glyphs.push(p),l=d}}getSize(){return Math.sumPrecise(this.glyphs.map(e=>e.getSize()+3&-4))}write(){const e=this.getSize(),n=new DataView(new ArrayBuffer(e)),i=e>131070,s=i?4:2,r=new DataView(new ArrayBuffer((this.glyphs.length+1)*s));i?r.setUint32(0,0):r.setUint16(0,0);let a=0,o=0;for(const l of this.glyphs)a+=l.write(a,n),a=a+3&-4,o+=s,i?r.setUint32(o,a):r.setUint16(o,a>>1);return{isLocationLong:i,loca:new Uint8Array(r.buffer),glyf:new Uint8Array(n.buffer)}}scale(e){for(let n=0,i=this.glyphs.length;n<i;n++)this.glyphs[n].scale(e[n])}}class Xx{constructor({header:e=null,simple:n=null,composites:i=null}){this.header=e,this.simple=n,this.composites=i}static parse(e,n){const[i,s]=sC.parse(e,n);if(e+=i,s.numberOfContours<0){const a=[];for(;;){const[o,l]=aC.parse(e,n);if(e+=o,a.push(l),!(l.flags&jse))break}return new Xx({header:s,composites:a})}const r=rC.parse(e,n,s.numberOfContours);return new Xx({header:s,simple:r})}getSize(){if(!this.header)return 0;const e=this.simple?this.simple.getSize():Math.sumPrecise(this.composites.map(n=>n.getSize()));return this.header.getSize()+e}write(e,n){if(!this.header)return 0;const i=e;if(e+=this.header.write(e,n),this.simple)e+=this.simple.write(e,n);else for(const s of this.composites)e+=s.write(e,n);return e-i}scale(e){if(!this.header)return;const n=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(n,e),this.simple)this.simple.scale(n,e);else for(const i of this.composites)i.scale(n,e)}}class sC{constructor({numberOfContours:e,xMin:n,yMin:i,xMax:s,yMax:r}){this.numberOfContours=e,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=r}static parse(e,n){return[10,new sC({numberOfContours:n.getInt16(e),xMin:n.getInt16(e+2),yMin:n.getInt16(e+4),xMax:n.getInt16(e+6),yMax:n.getInt16(e+8)})]}getSize(){return 10}write(e,n){return n.setInt16(e,this.numberOfContours),n.setInt16(e+2,this.xMin),n.setInt16(e+4,this.yMin),n.setInt16(e+6,this.xMax),n.setInt16(e+8,this.yMax),10}scale(e,n){this.xMin=Math.round(e+(this.xMin-e)*n),this.xMax=Math.round(e+(this.xMax-e)*n)}}class Hse{constructor({flags:e,xCoordinates:n,yCoordinates:i}){this.xCoordinates=n,this.yCoordinates=i,this.flags=e}}class rC{constructor({contours:e,instructions:n}){this.contours=e,this.instructions=n}static parse(e,n,i){const s=[];for(let v=0;v<i;v++){const S=n.getUint16(e);e+=2,s.push(S)}const r=s[i-1]+1,a=n.getUint16(e);e+=2;const o=new Uint8Array(n).slice(e,e+a);e+=a;const l=[];for(let v=0;v<r;e++,v++){let S=n.getUint8(e);if(l.push(S),S&mN){const C=n.getUint8(++e);S^=mN;for(let E=0;E<C;E++)l.push(S);v+=C}}const c=[];let u=[],d=[],p=[];const g=[];let m=0,b=0;for(let v=0;v<r;v++){const S=l[v];if(S&ty){const C=n.getUint8(e++);b+=S&ym?C:-C,u.push(b)}else S&ym||(b+=n.getInt16(e),e+=2),u.push(b);s[m]===v&&(m++,c.push(u),u=[])}b=0,m=0;for(let v=0;v<r;v++){const S=l[v];if(S&ny){const C=n.getUint8(e++);b+=S&wm?C:-C,d.push(b)}else S&wm||(b+=n.getInt16(e),e+=2),d.push(b);p.push(S&Lse|S&Ose),s[m]===v&&(u=c[m],m++,g.push(new Hse({flags:p,xCoordinates:u,yCoordinates:d})),d=[],p=[])}return new rC({contours:g,instructions:o})}getSize(){let e=this.contours.length*2+2+this.instructions.length,n=0,i=0;for(const s of this.contours){e+=s.flags.length;for(let r=0,a=s.xCoordinates.length;r<a;r++){const o=s.xCoordinates[r],l=s.yCoordinates[r];let c=Math.abs(o-n);c>255?e+=2:c>0&&(e+=1),n=o,c=Math.abs(l-i),c>255?e+=2:c>0&&(e+=1),i=l}}return e}write(e,n){const i=e,s=[],r=[],a=[];let o=0,l=0;for(const c of this.contours){for(let u=0,d=c.xCoordinates.length;u<d;u++){let p=c.flags[u];const g=c.xCoordinates[u];let m=g-o;if(m===0)p|=ym,s.push(0);else{const v=Math.abs(m);v<=255?(p|=m>=0?ty|ym:ty,s.push(v)):s.push(m)}o=g;const b=c.yCoordinates[u];if(m=b-l,m===0)p|=wm,r.push(0);else{const v=Math.abs(m);v<=255?(p|=m>=0?ny|wm:ny,r.push(v)):r.push(m)}l=b,a.push(p)}n.setUint16(e,s.length-1),e+=2}n.setUint16(e,this.instructions.length),e+=2,this.instructions.length&&(new Uint8Array(n.buffer,0,n.buffer.byteLength).set(this.instructions,e),e+=this.instructions.length);for(const c of a)n.setUint8(e++,c);for(let c=0,u=s.length;c<u;c++){const d=s[c],p=a[c];p&ty?n.setUint8(e++,d):p&ym||(n.setInt16(e,d),e+=2)}for(let c=0,u=r.length;c<u;c++){const d=r[c],p=a[c];p&ny?n.setUint8(e++,d):p&wm||(n.setInt16(e,d),e+=2)}return e-i}scale(e,n){for(const i of this.contours)if(i.xCoordinates.length!==0)for(let s=0,r=i.xCoordinates.length;s<r;s++)i.xCoordinates[s]=Math.round(e+(i.xCoordinates[s]-e)*n)}}class aC{constructor({flags:e,glyphIndex:n,argument1:i,argument2:s,transf:r,instructions:a}){this.flags=e,this.glyphIndex=n,this.argument1=i,this.argument2=s,this.transf=r,this.instructions=a}static parse(e,n){const i=e,s=[];let r=n.getUint16(e);const a=n.getUint16(e+2);e+=4;let o,l;r&vm?(r&iy?(o=n.getInt16(e),l=n.getInt16(e+2)):(o=n.getUint16(e),l=n.getUint16(e+2)),e+=4,r^=vm):(r&iy?(o=n.getInt8(e),l=n.getInt8(e+1)):(o=n.getUint8(e),l=n.getUint8(e+1)),e+=2),r&Bse?(s.push(n.getUint16(e)),e+=2):r&$se?(s.push(n.getUint16(e),n.getUint16(e+2)),e+=4):r&Use&&(s.push(n.getUint16(e),n.getUint16(e+2),n.getUint16(e+4),n.getUint16(e+6)),e+=8);let c=null;if(r&Mw){const u=n.getUint16(e);e+=2,c=new Uint8Array(n).slice(e,e+u),e+=u}return[e-i,new aC({flags:r,glyphIndex:a,argument1:o,argument2:l,transf:s,instructions:c})]}getSize(){let e=4+this.transf.length*2;return this.flags&Mw&&(e+=2+this.instructions.length),e+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(e+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(e+=2),e}write(e,n){const i=e;return this.flags&iy?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=vm):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=vm),n.setUint16(e,this.flags),n.setUint16(e+2,this.glyphIndex),e+=4,this.flags&vm?(this.flags&iy?(n.setInt16(e,this.argument1),n.setInt16(e+2,this.argument2)):(n.setUint16(e,this.argument1),n.setUint16(e+2,this.argument2)),e+=4):(n.setUint8(e,this.argument1),n.setUint8(e+1,this.argument2),e+=2),this.flags&Mw&&(n.setUint16(e,this.instructions.length),e+=2,this.instructions.length&&(new Uint8Array(n.buffer,0,n.buffer.byteLength).set(this.instructions,e),e+=this.instructions.length)),e-i}scale(e,n){}}function sy(t,e,n){t[e]=n>>8&255,t[e+1]=n&255}function Dw(t,e,n){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n&255}function qse(t,e,n){if(n instanceof Uint8Array)t.set(n,e);else if(typeof n=="string")for(let i=0,s=n.length;i<s;i++)t[e++]=n.charCodeAt(i)&255;else for(const i of n)t[e++]=i&255}const xN=12,bN=16;class Kx{constructor(e){this.sfnt=e,this.tables=Object.create(null)}static getSearchParams(e,n){let i=1,s=0;for(;(i^e)>i;)i<<=1,s++;const r=i*n;return{range:r,entry:s,rangeShift:n*e-r}}toArray(){let e=this.sfnt;const n=this.tables,i=Object.keys(n);i.sort();const s=i.length;let r,a,o,l,c,u=xN+s*bN;const d=[u];for(r=0;r<s;r++){l=n[i[r]];const m=(l.length+3&-4)>>>0;u+=m,d.push(u)}const p=new Uint8Array(u);for(r=0;r<s;r++)l=n[i[r]],qse(p,d[r],l);e==="true"&&(e=ps(65536)),p[0]=e.charCodeAt(0)&255,p[1]=e.charCodeAt(1)&255,p[2]=e.charCodeAt(2)&255,p[3]=e.charCodeAt(3)&255,sy(p,4,s);const g=Kx.getSearchParams(s,16);for(sy(p,6,g.range),sy(p,8,g.entry),sy(p,10,g.rangeShift),u=xN,r=0;r<s;r++){c=i[r],p[u]=c.charCodeAt(0)&255,p[u+1]=c.charCodeAt(1)&255,p[u+2]=c.charCodeAt(2)&255,p[u+3]=c.charCodeAt(3)&255;let m=0;for(a=d[r],o=d[r+1];a<o;a+=4){const b=sn(p,a);m=m+b>>>0}Dw(p,u+4,m),Dw(p,u+8,d[r]),Dw(p,u+12,n[c].length),u+=bN}return p}addTable(e,n){if(e in this.tables)throw new Error("Table "+e+" already exists");this.tables[e]=n}}const Gse=!1,Ks={vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],flex:[12,35],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class Wse{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(e,n,i){const s=e.length;let r=!1,a,o,l;for(let c=0;c<s;c++){let u=e[c];if(u<32){switch(u===12&&(u=(u<<8)+e[++c]),u){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){r=!0;break}const b=this.stack.pop();this.stack.push(0,b);break}r=this.executeCommand(1,Ks.vmoveto);break;case 5:r=this.executeCommand(2,Ks.rlineto);break;case 6:r=this.executeCommand(1,Ks.hlineto);break;case 7:r=this.executeCommand(1,Ks.vlineto);break;case 8:r=this.executeCommand(6,Ks.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){r=!0;break}if(l=this.stack.pop(),!n[l]){r=!0;break}r=this.convert(n[l],n,i);break;case 11:return r;case 13:if(this.stack.length<2){r=!0;break}a=this.stack.pop(),o=this.stack.pop(),this.lsb=o,this.width=a,this.stack.push(a,o),r=this.executeCommand(2,Ks.hmoveto);break;case 14:this.output.push(Ks.endchar[0]);break;case 21:if(this.flexing)break;r=this.executeCommand(2,Ks.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}r=this.executeCommand(1,Ks.hmoveto);break;case 30:r=this.executeCommand(4,Ks.vhcurveto);break;case 31:r=this.executeCommand(4,Ks.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(i){const b=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-b,r=this.executeCommand(0,Ks.endchar)}else r=this.executeCommand(4,Ks.endchar);break;case 3079:if(this.stack.length<4){r=!0;break}this.stack.pop(),a=this.stack.pop();const d=this.stack.pop();o=this.stack.pop(),this.lsb=o,this.width=a,this.stack.push(a,o,d),r=this.executeCommand(3,Ks.rmoveto);break;case 3084:if(this.stack.length<2){r=!0;break}const p=this.stack.pop(),g=this.stack.pop();this.stack.push(g/p);break;case 3088:if(this.stack.length<2){r=!0;break}l=this.stack.pop();const m=this.stack.pop();if(l===0&&m===3){const b=this.stack.splice(-17,17);this.stack.push(b[2]+b[0],b[3]+b[1],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14]),r=this.executeCommand(13,Ks.flex,!0),this.flexing=!1,this.stack.push(b[15],b[16])}else l===1&&m===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:W('Unknown type 1 charstring command of "'+u+'"');break}if(r)break;continue}else u<=246?u-=139:u<=250?u=(u-247)*256+e[++c]+108:u<=254?u=-((u-251)*256)-e[++c]-108:u=(e[++c]&255)<<24|(e[++c]&255)<<16|(e[++c]&255)<<8|(e[++c]&255)<<0;this.stack.push(u)}return r}executeCommand(e,n,i){const s=this.stack.length;if(e>s)return!0;const r=s-e;for(let a=r;a<s;a++){let o=this.stack[a];Number.isInteger(o)?this.output.push(28,o>>8&255,o&255):(o=65536*o|0,this.output.push(255,o>>24&255,o>>16&255,o>>8&255,o&255))}return this.output.push(...n),i?this.stack.splice(r,e):this.stack.length=0,!1}}const yN=55665,Vse=4330;function tl(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function wN(t,e,n){if(n>=t.length)return new Uint8Array(0);const i=52845,s=22719;let r=e|0,a,o;for(a=0;a<n;a++)r=(t[a]+r)*i+s&65535;const l=t.length-n,c=new Uint8Array(l);for(a=n,o=0;o<l;a++,o++){const u=t[a];c[o]=u^r>>8,r=(u+r)*i+s&65535}return c}function Xse(t,e,n){let r=e|0;const a=t.length,o=a>>>1,l=new Uint8Array(o);let c,u;for(c=0,u=0;c<a;c++){const d=t[c];if(!tl(d))continue;c++;let p;for(;c<a&&!tl(p=t[c]);)c++;if(c<a){const g=parseInt(String.fromCharCode(d,p),16);l[u++]=g^r>>8,r=(g+r)*52845+22719&65535}}return l.slice(n,u)}function vN(t){return t===47||t===91||t===93||t===123||t===125||t===40||t===41}class SN{constructor(e,n,i){if(n){const s=e.getBytes(),r=!((tl(s[0])||pa(s[0]))&&tl(s[1])&&tl(s[2])&&tl(s[3])&&tl(s[4])&&tl(s[5])&&tl(s[6])&&tl(s[7]));e=new Vn(r?wN(s,yN,4):Xse(s,yN,4))}this.seacAnalysisEnabled=!!i,this.stream=e,this.nextChar()}readNumberArray(){this.getToken();const e=[];for(;;){const n=this.getToken();if(n===null||n==="]"||n==="}")break;e.push(parseFloat(n||0))}return e}readNumber(){const e=this.getToken();return parseFloat(e||0)}readInt(){const e=this.getToken();return parseInt(e||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let e=!1,n=this.currentChar;for(;;){if(n===-1)return null;if(e)(n===10||n===13)&&(e=!1);else if(n===37)e=!0;else if(!pa(n))break;n=this.nextChar()}if(vN(n))return this.nextChar(),String.fromCharCode(n);let i="";do i+=String.fromCharCode(n),n=this.nextChar();while(n>=0&&!pa(n)&&!vN(n));return i}readCharStrings(e,n){return n===-1?e:wN(e,Vse,n)}extractFontProgram(e){const n=this.stream,i=[],s=[],r=Object.create(null);r.lenIV=4;const a={subrs:[],charstrings:[],properties:{privateData:r}};let o,l,c,u;for(;(o=this.getToken())!==null;)if(o==="/")switch(o=this.getToken(),o){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();o=this.getToken(),!(o===null||o==="end");){if(o!=="/")continue;const p=this.getToken();l=this.readInt(),this.getToken(),c=l>0?n.getBytes(l):new Uint8Array(0),u=a.properties.privateData.lenIV;const g=this.readCharStrings(c,u);this.nextChar(),o=this.getToken(),o==="noaccess"?this.getToken():o==="/"&&this.prevChar(),s.push({glyph:p,encoded:g})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const p=this.readInt();l=this.readInt(),this.getToken(),c=l>0?n.getBytes(l):new Uint8Array(0),u=a.properties.privateData.lenIV;const g=this.readCharStrings(c,u);this.nextChar(),o=this.getToken(),o==="noaccess"&&this.getToken(),i[p]=g}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const d=this.readNumberArray();d.length>0&&d.length%2;break;case"StemSnapH":case"StemSnapV":a.properties.privateData[o]=this.readNumberArray();break;case"StdHW":case"StdVW":a.properties.privateData[o]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":a.properties.privateData[o]=this.readNumber();break;case"ExpansionFactor":a.properties.privateData[o]=this.readNumber()||.06;break;case"ForceBold":a.properties.privateData[o]=this.readBoolean();break}for(const{encoded:d,glyph:p}of s){const g=new Wse,m=g.convert(d,i,this.seacAnalysisEnabled);let b=g.output;m&&(b=[14]);const v={glyphName:p,charstring:b,width:g.width,lsb:g.lsb,seac:g.seac};if(p===".notdef"?a.charstrings.unshift(v):a.charstrings.push(v),e.builtInEncoding){const S=e.builtInEncoding.indexOf(p);S>-1&&e.widths[S]===void 0&&S>=e.firstChar&&S<=e.lastChar&&(e.widths[S]=g.width)}}return a}extractFontHeader(e){let n;for(;(n=this.getToken())!==null;)if(n==="/")switch(n=this.getToken(),n){case"FontMatrix":const i=this.readNumberArray();e.fontMatrix=i;break;case"Encoding":const s=this.getToken();let r;if(!/^\d+$/.test(s))r=Gx(s);else{r=[];const o=parseInt(s,10)|0;this.getToken();for(let l=0;l<o;l++){for(n=this.getToken();n!=="dup"&&n!=="def";)if(n=this.getToken(),n===null)return;if(n==="def")break;const c=this.readInt();this.getToken();const u=this.getToken();r[c]=u,this.getToken()}}e.builtInEncoding=r;break;case"FontBBox":const a=this.readNumberArray();e.ascent=Math.max(a[3],a[1]),e.descent=Math.min(a[1],a[3]),e.ascentScaled=!0;break}}}function AN(t,e,n){const i=t.length,s=e.length,r=i-s;let a=n,o=!1;for(;a<r;){let l=0;for(;l<s&&t[a+l]===e[l];)l++;if(l>=s){for(a+=l;a<i&&pa(t[a]);)a++;o=!0;break}a++}return{found:o,length:a}}function Kse(t,e){const n=[101,101,120,101,99],i=t.pos;let s,r,a;try{s=t.getBytes(e),r=s.length}catch{}if(r===e&&(a=AN(s,n,e-2*n.length),a.found&&a.length===e))return{stream:new Vn(s),length:e};W('Invalid "Length1" property in Type1 font -- trying to recover.'),t.pos=i;const o=2048;let l;for(;;){const c=t.peekBytes(o);if(a=AN(c,n,0),a.length===0)break;if(t.pos+=a.length,a.found){l=t.pos-i;break}}return t.pos=i,l?{stream:new Vn(t.getBytes(l)),length:l}:(W('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new Vn(t.getBytes(e)),length:e})}function Yse(t,e){const n=t.getBytes();if(n.length===0)throw new me("getEexecBlock - no font program found.");return{stream:new Vn(n),length:n.length}}class Zse{constructor(e,n,i){let r=i.length1;i.length2;let a=n.peekBytes(6);const o=a[0]===128&&a[1]===1;o&&(n.skip(6),r=a[5]<<24|a[4]<<16|a[3]<<8|a[2]);const l=Kse(n,r);new SN(l.stream,!1,O1).extractFontHeader(i),o&&(a=n.getBytes(6),a[5]<<24|a[4]<<16|a[3]<<8|a[2]);const u=Yse(n),p=new SN(u.stream,!0,O1).extractFontProgram(i);for(const v in p.properties)i[v]=p.properties[v];const g=p.charstrings,m=this.getType2Charstrings(g),b=this.getType2Subrs(p.subrs);this.charstrings=g,this.data=this.wrap(e,m,this.charstrings,b,i),this.seacs=this.getSeacs(p.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const e=[".notdef"];for(const{glyphName:n}of this.charstrings)e.push(n);return e}getGlyphMapping(e){const n=this.charstrings;if(e.composite){const o=Object.create(null);for(let l=0,c=n.length;l<c;l++){const u=e.cMap.charCodeOf(l);o[u]=l+1}return o}const i=[".notdef"];let s,r;for(r=0;r<n.length;r++)i.push(n[r].glyphName);const a=e.builtInEncoding;if(a){s=Object.create(null);for(const o in a)r=i.indexOf(a[o]),r>=0&&(s[o]=r)}return eB(e,s,i)}hasGlyphId(e){return e<0||e>=this.numGlyphs?!1:e===0?!0:this.charstrings[e-1].charstring.length>0}getSeacs(e){const n=[];for(let i=0,s=e.length;i<s;i++){const r=e[i];r.seac&&(n[i+1]=r.seac)}return n}getType2Charstrings(e){const n=[];for(const i of e)n.push(i.charstring);return n}getType2Subrs(e){let n=0;const i=e.length;i<1133?n=107:i<33769?n=1131:n=32768;const s=[];let r;for(r=0;r<n;r++)s.push([11]);for(r=0;r<i;r++)s.push(e[r]);return s}wrap(e,n,i,s,r){const a=new YO;a.header=new ZO(1,0,4,4),a.names=[e];const o=new Wx;o.setByName("version",391),o.setByName("Notice",392),o.setByName("FullName",393),o.setByName("FamilyName",394),o.setByName("Weight",395),o.setByName("Encoding",null),o.setByName("FontMatrix",r.fontMatrix),o.setByName("FontBBox",r.bbox),o.setByName("charset",null),o.setByName("CharStrings",null),o.setByName("Private",null),a.topDict=o;const l=new nC;l.add("Version 0.11"),l.add("See original notice"),l.add(e),l.add(e),l.add("Medium"),a.strings=l,a.globalSubrIndex=new ku;const c=n.length,u=[".notdef"];let d,p;for(d=0;d<c;d++){const C=i[d].glyphName;x5.indexOf(C)===-1&&l.add(C),u.push(C)}a.charset=new sx(!1,0,u);const g=new ku;for(g.add([139,14]),d=0;d<c;d++)g.add(n[d]);a.charStrings=g;const m=new Vx;m.setByName("Subrs",null);const b=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(d=0,p=b.length;d<p;d++){const C=b[d];if(!(C in r.privateData))continue;const E=r.privateData[C];if(Array.isArray(E))for(let w=E.length-1;w>0;w--)E[w]-=E[w-1];m.setByName(C,E)}a.topDict.privateDict=m;const v=new ku;for(d=0,p=s.length;d<p;d++)v.add(s[d]);return m.subrsIndex=v,new i3(a).compile()}}const Jl=[[57344,63743],[1048576,1114109]],kh=1e3,kN=["ascent","bbox","black","bold","charProcOperatorList","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","disableFontFace","fallbackName","fontExtraProperties","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","systemFontInfo","vertical"],Jse=["cMap","composite","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","subtype","toFontChar","toUnicode","type","vmetrics","widths"];function Lw(t){if(!t.fontMatrix||t.fontMatrix[0]===Jd[0])return;const e=.001/t.fontMatrix[0],n=t.widths;for(const i in n)n[i]*=e;t.defaultWidth*=e}function Qse(t,e,n){if(t.isInternalFont||t.hasIncludedToUnicodeMap||t.hasEncoding||t.toUnicode instanceof qa||!e||n.length===0||t.defaultEncoding===qx)return;for(const a of n)if(!rB(a))return;const i=qx,s=[],r=kl();for(const a in i){const o=i[a];if(o==="")continue;const l=r[o];l!==void 0&&(s[a]=String.fromCharCode(l))}s.length>0&&t.toUnicode.amend(s)}function ere(t,e){if(t.isInternalFont||t.hasIncludedToUnicodeMap||e===t.defaultEncoding||t.toUnicode instanceof qa)return;const n=[],i=kl();for(const s in e){if(t.hasEncoding&&(t.baseEncodingName||t.differences[s]!==void 0))continue;const r=e[s],a=ug(r,i);a!==-1&&(n[s]=String.fromCharCode(a))}n.length>0&&t.toUnicode.amend(n)}function CN(t){if(!t.fallbackToUnicode||t.toUnicode instanceof qa)return;const e=[];for(const n in t.fallbackToUnicode)t.toUnicode.has(n)||(e[n]=t.fallbackToUnicode[n]);e.length>0&&t.toUnicode.amend(e)}class tre{constructor(e,n,i,s,r,a,o,l,c){this.originalCharCode=e,this.fontChar=n,this.unicode=i,this.accent=s,this.width=r,this.vmetric=a,this.operatorListId=o,this.isSpace=l,this.isInFont=c}get category(){return Fe(this,"category",vse(this.unicode),!0)}}function ph(t,e){return(t<<8)+e}function Sm(t,e,n){t[e+1]=n,t[e]=n>>>8}function qr(t,e){const n=(t<<8)+e;return n&32768?n-65536:n}function nre(t,e,n){t[e+3]=n&255,t[e+2]=n>>>8,t[e+1]=n>>>16,t[e]=n>>>24}function ire(t,e,n,i){return(t<<24)+(e<<16)+(n<<8)+i}function Qt(t){return String.fromCharCode(t>>8&255,t&255)}function gh(t){return t>32767?t=32767:t<-32768&&(t=-32768),String.fromCharCode(t>>8&255,t&255)}function sre(t){const e=t.peekBytes(4);return sn(e,0)===65536||Mr(e)==="true"}function sB(t){const e=t.peekBytes(4);return Mr(e)==="ttcf"}function rre(t){const e=t.peekBytes(4);return Mr(e)==="OTTO"}function are(t){const e=t.peekBytes(2);return e[0]===37&&e[1]===33||e[0]===128&&e[1]===1}function ore(t){const e=t.peekBytes(4);return e[0]>=1&&e[3]>=1&&e[3]<=4}function lre(t,{type:e,subtype:n,composite:i}){let s,r;return sre(t)||sB(t)?s=i?"CIDFontType2":"TrueType":rre(t)?s=i?"CIDFontType2":"OpenType":are(t)?i?s="CIDFontType0":s=e==="MMType1"?"MMType1":"Type1":ore(t)?i?(s="CIDFontType0",r="CIDFontType0C"):(s=e==="MMType1"?"MMType1":"Type1",r="Type1C"):(W("getFontFileType: Unable to detect correct font file Type/Subtype."),s=e,r=n),[s,r]}function ry(t,e){for(const n in e)t[+n]=e[n]}function Ow(t,e,n){const i=[];let s;for(let r=0,a=t.length;r<a;r++)s=ug(t[r],e),s!==-1&&(i[r]=s);for(const r in n)s=ug(n[r],e),s!==-1&&(i[+r]=s);return i}function cre(t){return t.platform===1&&t.encoding===0&&t.language===0}function rB(t){return t.platform===3&&t.encoding===1&&t.language===1033}function Bw(t,e,n=!1){switch(e.length){case 1:return e.charCodeAt(0);case 2:return e.charCodeAt(0)<<8|e.charCodeAt(1)}const i=`Unsupported CID string (charCode ${t}): "${e}".`;if(n)throw new me(i);return W(i),e}function EN(t,e,n,i){const s=Object.create(null),r=new Map,a=[],o=new Set;let l=0,u=Jl[l][0],d=Jl[l][1];const p=m=>Jl[0][0]<=m&&m<=Jl[0][1]||Jl[1][0]<=m&&m<=Jl[1][1];let g=null;for(const m in t){let b=t[m];if(!e(b))continue;if(u>d){if(l++,l>=Jl.length){W("Ran out of space in font private use area.");break}u=Jl[l][0],d=Jl[l][1]}const v=u++;b===0&&(b=n);let S=i.get(m);if(typeof S=="string")if(S.length===1)S=S.codePointAt(0);else{if(!g){g=new Map;for(let C=64256;C<=64335;C++){const E=String.fromCharCode(C).normalize("NFKD");E.length>1&&g.set(E,C)}}S=g.get(S)||S.codePointAt(0)}S&&!p(S)&&!o.has(b)&&(r.set(S,b),o.add(b)),s[v]=b,a[m]=v}return{toFontChar:a,charCodeToGlyphId:s,toUnicodeExtraMap:r,nextAvailableFontCharCode:u}}function ure(t,e,n){const i=[];for(const a in t)t[a]>=n||i.push({fontCharCode:a|0,glyphId:t[a]});if(e)for(const[a,o]of e)o>=n||i.push({fontCharCode:a,glyphId:o});i.length===0&&i.push({fontCharCode:0,glyphId:0}),i.sort((a,o)=>a.fontCharCode-o.fontCharCode);const s=[],r=i.length;for(let a=0;a<r;){const o=i[a].fontCharCode,l=[i[a].glyphId];++a;let c=o;for(;a<r&&c+1===i[a].fontCharCode&&(l.push(i[a].glyphId),++c,++a,c!==65535););s.push([o,c,l])}return s}function _N(t,e,n){const i=ure(t,e,n),s=i.at(-1)[1]>65535?2:1;let r="\0\0"+Qt(s)+"\0\0"+ps(4+s*8),a,o,l,c;for(a=i.length-1;a>=0&&!(i[a][0]<=65535);--a);const u=a+1;i[a][0]<65535&&i[a][1]===65535&&(i[a][1]=65534);const d=i[a][1]<65535?1:0,p=u+d,g=Kx.getSearchParams(p,2);let m="",b="",v="",S="",C="",E=0,w,A,T,P;for(a=0,o=u;a<o;a++){w=i[a],A=w[0],T=w[1],m+=Qt(A),b+=Qt(T),P=w[2];let B=!0;for(l=1,c=P.length;l<c;++l)if(P[l]!==P[l-1]+1){B=!1;break}if(B){const U=P[0];v+=Qt(U-A&65535),S+=Qt(0)}else{const U=(p-a)*2+E*2;for(E+=T-A+1,v+=Qt(0),S+=Qt(U),l=0,c=P.length;l<c;++l)C+=Qt(P[l])}}d>0&&(b+="ÿÿ",m+="ÿÿ",v+="\0",S+="\0\0");const R="\0\0"+Qt(2*p)+Qt(g.range)+Qt(g.entry)+Qt(g.rangeShift)+b+"\0\0"+m+v+S+C;let D="",O="";if(s>1){for(r+=`\0\0
`+ps(4+s*8+4+R.length),D="",a=0,o=i.length;a<o;a++){w=i[a],A=w[0],P=w[2];let B=P[0];for(l=1,c=P.length;l<c;++l)P[l]!==P[l-1]+1&&(T=w[0]+l-1,D+=ps(A)+ps(T)+ps(B),A=T+1,B=P[l]);D+=ps(A)+ps(w[1])+ps(B)}O="\0\f\0\0"+ps(D.length+16)+"\0\0\0\0"+ps(D.length/12)}return r+"\0"+Qt(R.length+4)+R+O+D}function hre(t,e){e.pos=(e.start||0)+t.offset;const n=e.getUint16();e.skip(60);const i=e.getUint16();if(n<4&&i&768)return!1;const s=e.getUint16(),r=e.getUint16();return s>r||(e.skip(6),e.getUint16()===0)?!1:(t.data[8]=t.data[9]=0,!0)}function TN(t,e,n){n||(n={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0});let i=0,s=0,r=0,a=0,o=null,l=0,c=-1;if(e){for(let S in e)if(S|=0,(o>S||!o)&&(o=S),l<S&&(l=S),c=yse(S,c),c<32)i|=1<<c;else if(c<64)s|=1<<c-32;else if(c<96)r|=1<<c-64;else if(c<123)a|=1<<c-96;else throw new me("Unicode ranges Bits > 123 are reserved for internal usage");l>65535&&(l=65535)}else o=0,l=255;const u=t.bbox||[0,0,0,0],d=n.unitsPerEm||(t.fontMatrix?1/Math.max(...t.fontMatrix.slice(0,4).map(Math.abs)):1e3),p=t.ascentScaled?1:d/kh,g=n.ascent||Math.round(p*(t.ascent||u[3]));let m=n.descent||Math.round(p*(t.descent||u[1]));m>0&&t.descent>0&&u[1]<0&&(m=-m);const b=n.yMax||g,v=-n.yMin||-m;return"\0$ô\0\0\0»\0\0\0»\0\0ß\x001\0\0\0\0"+String.fromCharCode(t.fixedPitch?9:0)+"\0\0\0\0\0\0"+ps(i)+ps(s)+ps(r)+ps(a)+"*21*"+Qt(t.italicAngle?1:0)+Qt(o||t.firstChar)+Qt(l||t.lastChar)+Qt(g)+Qt(m)+"\0d"+Qt(b)+Qt(v)+"\0\0\0\0\0\0\0\0"+Qt(t.xHeight)+Qt(t.capHeight)+Qt(0)+Qt(o||t.firstChar)+"\0"}function IN(t){const e=Math.floor(t.italicAngle*65536);return"\0\0\0"+ps(e)+"\0\0\0\0"+ps(t.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function dre(t){return t.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function jw(t,e){e||(e=[[],[]]);const n=[e[0][0]||"Original licence",e[0][1]||t,e[0][2]||"Unknown",e[0][3]||"uniqueID",e[0][4]||t,e[0][5]||"Version 0.11",e[0][6]||dre(t),e[0][7]||"Unknown",e[0][8]||"Unknown",e[0][9]||"Unknown"],i=[];let s,r,a,o,l;for(s=0,r=n.length;s<r;s++){l=e[1][s]||n[s];const v=[];for(a=0,o=l.length;a<o;a++)v.push(Qt(l.charCodeAt(a)));i.push(v.join(""))}const c=[n,i],u=["\0","\0"],d=["\0\0","\0"],p=["\0\0","	"],g=n.length*u.length;let m="\0\0"+Qt(g)+Qt(g*12+6),b=0;for(s=0,r=u.length;s<r;s++){const v=c[s];for(a=0,o=v.length;a<o;a++){l=v[a];const S=u[s]+d[s]+p[s]+Qt(a)+Qt(l.length)+Qt(b);m+=S,b+=l.length}}return m+=n.join("")+i.join(""),m}class PN{constructor(e,n,i,s){var u;this.name=e,this.psName=null,this.mimetype=null,this.disableFontFace=s.disableFontFace,this.fontExtraProperties=s.fontExtraProperties,this.loadedName=i.loadedName,this.isType3Font=i.isType3Font,this.missingFile=!1,this.cssFontInfo=i.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let r=!!(i.flags&Eo.Serif);if(!r&&!i.isSimulatedFlags){const d=e.replaceAll(/[,_]/g,"-").split("-",1)[0],p=iC();for(const g of d.split("+"))if(p[g]){r=!0;break}}this.isSerifFont=r,this.isSymbolicFont=!!(i.flags&Eo.Symbolic),this.isMonospace=!!(i.flags&Eo.FixedPitch);let{type:a,subtype:o}=i;this.type=a,this.subtype=o,this.systemFontInfo=i.systemFontInfo;const l=e.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!l,this.isInvalidPDFjsFont?this.fallbackName=l[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",(u=this.systemFontInfo)!=null&&u.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=i.differences,this.widths=i.widths,this.defaultWidth=i.defaultWidth,this.composite=i.composite,this.cMap=i.cMap,this.capHeight=i.capHeight/kh,this.ascent=i.ascent/kh,this.descent=i.descent/kh,this.lineHeight=this.ascent-this.descent,this.fontMatrix=i.fontMatrix,this.bbox=i.bbox,this.defaultEncoding=i.defaultEncoding,this.toUnicode=i.toUnicode,this.toFontChar=[],i.type==="Type3"){for(let d=0;d<256;d++)this.toFontChar[d]=this.differences[d]||i.defaultEncoding[d];return}if(this.cidEncoding=i.cidEncoding||"",this.vertical=!!i.vertical,this.vertical&&(this.vmetrics=i.vmetrics,this.defaultVMetrics=i.defaultVMetrics),!n||n.isEmpty){n&&W('Font file is empty in "'+e+'" ('+this.loadedName+")"),this.fallbackToSystemFont(i);return}[a,o]=lre(n,i),(a!==this.type||o!==this.subtype)&&Pt(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${a}/${o}.`);let c;try{switch(a){case"MMType1":Pt("MMType1 font ("+e+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const d=o==="Type1C"||o==="CIDFontType0C"?new Fw(n,i):new Zse(e,n,i);Lw(i),c=this.convert(e,d,i);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",c=this.checkAndRepair(e,n,i),this.isOpenType&&(Lw(i),a="OpenType");break;default:throw new me(`Font ${a} is not supported`)}}catch(d){W(d),this.fallbackToSystemFont(i);return}CN(i),this.data=c,this.type=a,this.subtype=o,this.fontMatrix=i.fontMatrix,this.widths=i.widths,this.defaultWidth=i.defaultWidth,this.toUnicode=i.toUnicode,this.seacMap=i.seacMap}get renderer(){const e=Fse.create(this,O1);return Fe(this,"renderer",e)}exportData(){const e=this.fontExtraProperties?[...kN,...Jse]:kN,n=Object.create(null);for(const i of e){const s=this[i];s!==void 0&&(n[i]=s)}return n}fallbackToSystemFont(e){this.missingFile=!0;const{name:n,type:i}=this;let s=s3(n);const r=F6(),a=tB(),o=!!r[s],l=!!(a[s]&&r[a[s]]);s=r[s]||a[s]||s;const u=Dse()[s];u&&(isNaN(this.ascent)&&(this.ascent=u.ascent/kh),isNaN(this.descent)&&(this.descent=u.descent/kh),isNaN(this.capHeight)&&(this.capHeight=u.capHeight/kh)),this.bold=/bold/gi.test(s),this.italic=/oblique|italic/gi.test(s),this.black=/Black/g.test(n);const d=/Narrow/g.test(n);if(this.remeasure=(!o||d)&&Object.keys(this.widths).length>0,(o||l)&&i==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const p=e.cidToGidMap,g=[];if(ry(g,dN()),/Arial-?Black/i.test(n)?ry(g,Cse()):/Calibri/i.test(n)&&ry(g,Ese()),p){for(const m in g){const b=g[m];p[b]!==void 0&&(g[+m]=p[b])}p.length!==this.toUnicode.length&&e.hasIncludedToUnicodeMap&&this.toUnicode instanceof qa&&this.toUnicode.forEach(function(m,b){const v=g[m];p[v]===void 0&&(g[+m]=b)})}this.toUnicode instanceof qa||this.toUnicode.forEach(function(m,b){g[+m]=b}),this.toFontChar=g,this.toUnicode=new rx(g)}else if(/Symbol/i.test(s))this.toFontChar=Ow(Qk,kl(),this.differences);else if(/Dingbats/i.test(s))this.toFontChar=Ow(eC,mse(),this.differences);else if(o||l){const p=Ow(this.defaultEncoding,kl(),this.differences);i==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof qa)&&this.toUnicode.forEach(function(g,m){p[+g]=m}),this.toFontChar=p}else{const p=kl(),g=[];this.toUnicode.forEach((m,b)=>{if(!this.composite){const v=this.differences[m]||this.defaultEncoding[m],S=ug(v,p);S!==-1&&(b=S)}g[+m]=b}),this.composite&&this.toUnicode instanceof qa&&/Tahoma|Verdana/i.test(n)&&ry(g,dN()),this.toFontChar=g}CN(e),this.loadedName=s.split("-",1)[0]}checkAndRepair(e,n,i){var Ee,Re,we;const s=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function r(K,Z){const oe=Object.create(null);oe["OS/2"]=null,oe.cmap=null,oe.head=null,oe.hhea=null,oe.hmtx=null,oe.maxp=null,oe.name=null,oe.post=null;for(let de=0;de<Z;de++){const Ie=a(K);s.includes(Ie.tag)&&Ie.length!==0&&(oe[Ie.tag]=Ie)}return oe}function a(K){const Z=K.getString(4),oe=K.getInt32()>>>0,de=K.getInt32()>>>0,Ie=K.getInt32()>>>0,ye=K.pos;K.pos=K.start||0,K.skip(de);const xe=K.getBytes(Ie);return K.pos=ye,Z==="head"&&(xe[8]=xe[9]=xe[10]=xe[11]=0,xe[17]|=32),{tag:Z,checksum:oe,length:Ie,offset:de,data:xe}}function o(K){return{version:K.getString(4),numTables:K.getUint16(),searchRange:K.getUint16(),entrySelector:K.getUint16(),rangeShift:K.getUint16()}}function l(K){const Z=K.getString(4);bs(Z==="ttcf","Must be a TrueType Collection font.");const oe=K.getUint16(),de=K.getUint16(),Ie=K.getInt32()>>>0,ye=[];for(let se=0;se<Ie;se++)ye.push(K.getInt32()>>>0);const xe={ttcTag:Z,majorVersion:oe,minorVersion:de,numFonts:Ie,offsetTable:ye};switch(oe){case 1:return xe;case 2:return xe.dsigTag=K.getInt32()>>>0,xe.dsigLength=K.getInt32()>>>0,xe.dsigOffset=K.getInt32()>>>0,xe}throw new me(`Invalid TrueType Collection majorVersion: ${oe}.`)}function c(K,Z){var xe;const{numFonts:oe,offsetTable:de}=l(K),Ie=Z.split("+");let ye;for(let se=0;se<oe;se++){K.pos=(K.start||0)+de[se];const Ue=o(K),Ve=r(K,Ue.numTables);if(!Ve.name)throw new me('TrueType Collection font must contain a "name" table.');const[Ke]=v(Ve.name);for(let Xe=0,He=Ke.length;Xe<He;Xe++)for(let Le=0,tt=Ke[Xe].length;Le<tt;Le++){const ce=(xe=Ke[Xe][Le])==null?void 0:xe.replaceAll(/\s/g,"");if(ce){if(ce===Z)return{header:Ue,tables:Ve};if(!(Ie.length<2))for(const ge of Ie)ce===ge&&(ye={name:ge,header:Ue,tables:Ve})}}}if(ye)return W(`TrueType Collection does not contain "${Z}" font, falling back to "${ye.name}" font instead.`),{header:ye.header,tables:ye.tables};throw new me(`TrueType Collection does not contain "${Z}" font.`)}function u(K,Z,oe,de){if(!K)return W("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let Ie,ye=(Z.start||0)+K.offset;Z.pos=ye,Z.skip(2);const xe=Z.getUint16();let se,Ue=!1;for(let ge=0;ge<xe;ge++){const Te=Z.getUint16(),Ne=Z.getUint16(),Ye=Z.getInt32()>>>0;let Pe=!1;if(!((se==null?void 0:se.platformId)===Te&&(se==null?void 0:se.encodingId)===Ne)){if(Te===0&&(Ne===0||Ne===1||Ne===3))Pe=!0;else if(Te===1&&Ne===0)Pe=!0;else if(Te===3&&Ne===1&&(de||!se))Pe=!0,oe||(Ue=!0);else if(oe&&Te===3&&Ne===0){Pe=!0;let nt=!0;if(ge<xe-1){const Qe=Z.peekBytes(2);ph(Qe[0],Qe[1])<Te&&(nt=!1)}nt&&(Ue=!0)}if(Pe&&(se={platformId:Te,encodingId:Ne,offset:Ye}),Ue)break}}if(se&&(Z.pos=ye+se.offset),!se||Z.peekByte()===-1)return W("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const Ve=Z.getUint16();let Ke=!1;const Xe=[];let He,Le;if(Ve===0){for(Z.skip(4),He=0;He<256;He++){const ge=Z.getByte();ge&&Xe.push({charCode:He,glyphId:ge})}Ke=!0}else if(Ve===2){Z.skip(4);const ge=[];let Te=0;for(let Ye=0;Ye<256;Ye++){const Pe=Z.getUint16()>>3;ge.push(Pe),Te=Math.max(Pe,Te)}const Ne=[];for(let Ye=0;Ye<=Te;Ye++)Ne.push({firstCode:Z.getUint16(),entryCount:Z.getUint16(),idDelta:qr(Z.getByte(),Z.getByte()),idRangePos:Z.pos+Z.getUint16()});for(let Ye=0;Ye<256;Ye++)if(ge[Ye]===0)Z.pos=Ne[0].idRangePos+2*Ye,Le=Z.getUint16(),Xe.push({charCode:Ye,glyphId:Le});else{const Pe=Ne[ge[Ye]];for(He=0;He<Pe.entryCount;He++){const nt=(Ye<<8)+He+Pe.firstCode;Z.pos=Pe.idRangePos+2*He,Le=Z.getUint16(),Le!==0&&(Le=(Le+Pe.idDelta)%65536),Xe.push({charCode:nt,glyphId:Le})}}}else if(Ve===4){Z.skip(4);const ge=Z.getUint16()>>1;Z.skip(6);const Te=[];let Ne;for(Ne=0;Ne<ge;Ne++)Te.push({end:Z.getUint16()});for(Z.skip(2),Ne=0;Ne<ge;Ne++)Te[Ne].start=Z.getUint16();for(Ne=0;Ne<ge;Ne++)Te[Ne].delta=Z.getUint16();let Ye=0,Pe;for(Ne=0;Ne<ge;Ne++){Ie=Te[Ne];const Qe=Z.getUint16();if(!Qe){Ie.offsetIndex=-1;continue}Pe=(Qe>>1)-(ge-Ne),Ie.offsetIndex=Pe,Ye=Math.max(Ye,Pe+Ie.end-Ie.start+1)}const nt=[];for(He=0;He<Ye;He++)nt.push(Z.getUint16());for(Ne=0;Ne<ge;Ne++){Ie=Te[Ne],ye=Ie.start;const Qe=Ie.end,vt=Ie.delta;for(Pe=Ie.offsetIndex,He=ye;He<=Qe;He++)He!==65535&&(Le=Pe<0?He:nt[Pe+He-ye],Le=Le+vt&65535,Xe.push({charCode:He,glyphId:Le}))}}else if(Ve===6){Z.skip(4);const ge=Z.getUint16(),Te=Z.getUint16();for(He=0;He<Te;He++){Le=Z.getUint16();const Ne=ge+He;Xe.push({charCode:Ne,glyphId:Le})}}else if(Ve===12){Z.skip(10);const ge=Z.getInt32()>>>0;for(He=0;He<ge;He++){const Te=Z.getInt32()>>>0,Ne=Z.getInt32()>>>0;let Ye=Z.getInt32()>>>0;for(let Pe=Te;Pe<=Ne;Pe++)Xe.push({charCode:Pe,glyphId:Ye++})}}else return W("cmap table has unsupported format: "+Ve),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};Xe.sort((ge,Te)=>ge.charCode-Te.charCode);const tt=[],ce=new Set;for(const ge of Xe){const{charCode:Te}=ge;ce.has(Te)||(ce.add(Te),tt.push(ge))}return{platformId:se.platformId,encodingId:se.encodingId,mappings:tt,hasShortCmap:Ke}}function d(K,Z,oe,de,Ie,ye){if(!Z){oe&&(oe.data=null);return}K.pos=(K.start||0)+Z.offset,K.pos+=4,K.pos+=2,K.pos+=2,K.pos+=2,K.pos+=2,K.pos+=2,K.pos+=2,K.pos+=2,K.pos+=2,K.pos+=2;const xe=K.getUint16();K.pos+=8,K.pos+=2;let se=K.getUint16();xe!==0&&(ph(de.data[44],de.data[45])&2||(Z.data[22]=0,Z.data[23]=0)),se>Ie&&(Pt(`The numOfMetrics (${se}) should not be greater than the numGlyphs (${Ie}).`),se=Ie,Z.data[34]=(se&65280)>>8,Z.data[35]=se&255);const Ve=Ie-se-(oe.length-se*4>>1);if(Ve>0){const Ke=new Uint8Array(oe.length+Ve*2);Ke.set(oe.data),ye&&(Ke[oe.length]=oe.data[2],Ke[oe.length+1]=oe.data[3]),oe.data=Ke}}function p(K,Z,oe,de,Ie,ye){const xe={length:0,sizeOfInstructions:0};if(Z<0||Z>=K.length||oe>K.length||oe-Z<=12)return xe;const se=K.subarray(Z,oe),Ue=qr(se[2],se[3]),Ve=qr(se[4],se[5]),Ke=qr(se[6],se[7]),Xe=qr(se[8],se[9]);Ue>Ke&&(Sm(se,2,Ke),Sm(se,6,Ue)),Ve>Xe&&(Sm(se,4,Xe),Sm(se,8,Ve));const He=qr(se[0],se[1]);if(He<0)return He<-1||(de.set(se,Ie),xe.length=se.length),xe;let Le,tt=10,ce=0;for(Le=0;Le<He;Le++)ce=(se[tt]<<8|se[tt+1])+1,tt+=2;const ge=tt,Te=se[tt]<<8|se[tt+1];xe.sizeOfInstructions=Te,tt+=2+Te;const Ne=tt;let Ye=0;for(Le=0;Le<ce;Le++){const nt=se[tt++];nt&192&&(se[tt-1]=nt&63);let Qe=2;nt&2?Qe=1:nt&16&&(Qe=0);let vt=2;nt&4?vt=1:nt&32&&(vt=0);const jt=Qe+vt;if(Ye+=jt,nt&8){const bi=se[tt++];bi===0&&(se[tt-1]^=8),Le+=bi,Ye+=bi*jt}}if(Ye===0)return xe;let Pe=tt+Ye;return Pe>se.length?xe:!ye&&Te>0?(de.set(se.subarray(0,ge),Ie),de.set([0,0],Ie+ge),de.set(se.subarray(Ne,Pe),Ie+ge+2),Pe-=Te,se.length-Pe>3&&(Pe=Pe+3&-4),xe.length=Pe,xe):se.length-Pe>3?(Pe=Pe+3&-4,de.set(se.subarray(0,Pe),Ie),xe.length=Pe,xe):(de.set(se,Ie),xe.length=se.length,xe)}function g(K,Z,oe){const de=K.data,Ie=ire(de[0],de[1],de[2],de[3]);Ie>>16!==1&&(Pt("Attempting to fix invalid version in head table: "+Ie),de[0]=0,de[1]=1,de[2]=0,de[3]=0);const ye=ph(de[50],de[51]);if(ye<0||ye>1){Pt("Attempting to fix invalid indexToLocFormat in head table: "+ye);const xe=Z+1;if(oe===xe<<1)de[50]=0,de[51]=0;else if(oe===xe<<2)de[50]=0,de[51]=1;else throw new me("Could not fix indexToLocFormat: "+ye)}}function m(K,Z,oe,de,Ie,ye,xe){let se,Ue,Ve;de?(se=4,Ue=function(vt,jt){return vt[jt]<<24|vt[jt+1]<<16|vt[jt+2]<<8|vt[jt+3]},Ve=function(vt,jt,bi){vt[jt]=bi>>>24&255,vt[jt+1]=bi>>16&255,vt[jt+2]=bi>>8&255,vt[jt+3]=bi&255}):(se=2,Ue=function(vt,jt){return vt[jt]<<9|vt[jt+1]<<1},Ve=function(vt,jt,bi){vt[jt]=bi>>9&255,vt[jt+1]=bi>>1&255});const Ke=ye?oe+1:oe,Xe=se*(1+Ke),He=new Uint8Array(Xe);He.set(K.data.subarray(0,Xe)),K.data=He;const Le=Z.data,tt=Le.length,ce=new Uint8Array(tt);let ge,Te;const Ne=[];for(ge=0,Te=0;ge<oe+1;ge++,Te+=se){let Qe=Ue(He,Te);Qe>tt&&(Qe=tt),Ne.push({index:ge,offset:Qe,endOffset:0})}for(Ne.sort((Qe,vt)=>Qe.offset-vt.offset),ge=0;ge<oe;ge++)Ne[ge].endOffset=Ne[ge+1].offset;for(Ne.sort((Qe,vt)=>Qe.index-vt.index),ge=0;ge<oe;ge++){const{offset:Qe,endOffset:vt}=Ne[ge];if(Qe!==0||vt!==0)break;const jt=Ne[ge+1].offset;if(jt!==0){Ne[ge].endOffset=jt;break}}const Ye=Ne.at(-2);Ye.offset!==0&&Ye.endOffset===0&&(Ye.endOffset=tt);const Pe=Object.create(null);let nt=0;for(Ve(He,0,nt),ge=0,Te=se;ge<oe;ge++,Te+=se){const Qe=p(Le,Ne[ge].offset,Ne[ge].endOffset,ce,nt,Ie),vt=Qe.length;vt===0&&(Pe[ge]=!0),Qe.sizeOfInstructions>xe&&(xe=Qe.sizeOfInstructions),nt+=vt,Ve(He,Te,nt)}if(nt===0){const Qe=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(ge=0,Te=se;ge<Ke;ge++,Te+=se)Ve(He,Te,Qe.length);Z.data=Qe}else if(ye){const Qe=Ue(He,se);ce.length>Qe+nt?Z.data=ce.subarray(0,Qe+nt):(Z.data=new Uint8Array(Qe+nt),Z.data.set(ce.subarray(0,nt))),Z.data.set(ce.subarray(0,Qe),nt),Ve(K.data,He.length-se,nt+Qe)}else Z.data=ce.subarray(0,nt);return{missingGlyphs:Pe,maxSizeOfInstructions:xe}}function b(K,Z,oe){const de=(n.start||0)+K.offset;n.pos=de;const Ie=K.length,ye=de+Ie,xe=n.getInt32();n.skip(28);let se,Ue=!0,Ve;switch(xe){case 65536:se=hN;break;case 131072:const Ke=n.getUint16();if(Ke!==oe){Ue=!1;break}const Xe=[];for(Ve=0;Ve<Ke;++Ve){const tt=n.getUint16();if(tt>=32768){Ue=!1;break}Xe.push(tt)}if(!Ue)break;const He=[],Le=[];for(;n.pos<ye;){const tt=n.getByte();for(Le.length=tt,Ve=0;Ve<tt;++Ve)Le[Ve]=String.fromCharCode(n.getByte());He.push(Le.join(""))}for(se=[],Ve=0;Ve<Ke;++Ve){const tt=Xe[Ve];if(tt<258){se.push(hN[tt]);continue}se.push(He[tt-258])}break;case 196608:break;default:W("Unknown/unsupported post table version "+xe),Ue=!1,Z.defaultEncoding&&(se=Z.defaultEncoding);break}return Z.glyphNames=se,Ue}function v(K){const Z=(n.start||0)+K.offset;n.pos=Z;const oe=[[],[]],de=[],Ie=K.length,ye=Z+Ie;if(n.getUint16()!==0||Ie<6)return[oe,de];const Ue=n.getUint16(),Ve=n.getUint16(),Ke=12;let Xe,He;for(Xe=0;Xe<Ue&&n.pos+Ke<=ye;Xe++){const Le={platform:n.getUint16(),encoding:n.getUint16(),language:n.getUint16(),name:n.getUint16(),length:n.getUint16(),offset:n.getUint16()};(cre(Le)||rB(Le))&&de.push(Le)}for(Xe=0,He=de.length;Xe<He;Xe++){const Le=de[Xe];if(Le.length<=0)continue;const tt=Z+Ve+Le.offset;if(tt+Le.length>ye)continue;n.pos=tt;const ce=Le.name;if(Le.encoding){let ge="";for(let Te=0,Ne=Le.length;Te<Ne;Te+=2)ge+=String.fromCharCode(n.getUint16());oe[1][ce]=ge}else oe[0][ce]=n.getString(Le.length)}return[oe,de]}const S=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function C(K,Z){let oe=K.data,de=0,Ie,ye,xe,se,Ue,Ve=0,Ke=0;const Xe=[],He=[],Le=[];let tt=Z.tooComplexToFollowFunctions,ce=!1,ge=0,Te=0;for(let Ye=oe.length;de<Ye;){const Pe=oe[de++];if(Pe===64)if(ye=oe[de++],ce||Te)de+=ye;else for(Ie=0;Ie<ye;Ie++)Xe.push(oe[de++]);else if(Pe===65)if(ye=oe[de++],ce||Te)de+=ye*2;else for(Ie=0;Ie<ye;Ie++)xe=oe[de++],Xe.push(xe<<8|oe[de++]);else if((Pe&248)===176)if(ye=Pe-176+1,ce||Te)de+=ye;else for(Ie=0;Ie<ye;Ie++)Xe.push(oe[de++]);else if((Pe&248)===184)if(ye=Pe-184+1,ce||Te)de+=ye*2;else for(Ie=0;Ie<ye;Ie++)xe=oe[de++],Xe.push(qr(xe,oe[de++]));else if(Pe===43&&!tt){if(!ce&&!Te){if(se=Xe.at(-1),isNaN(se))Pt("TT: CALL empty stack (or invalid entry).");else if(Z.functionsUsed[se]=!0,se in Z.functionsStackDeltas){const nt=Xe.length+Z.functionsStackDeltas[se];if(nt<0){W("TT: CALL invalid functions stack delta."),Z.hintsValid=!1;return}Xe.length=nt}else if(se in Z.functionsDefined&&!Le.includes(se)){if(He.push({data:oe,i:de,stackTop:Xe.length-1}),Le.push(se),Ue=Z.functionsDefined[se],!Ue){W("TT: CALL non-existent function"),Z.hintsValid=!1;return}oe=Ue.data,de=Ue.i}}}else if(Pe===44&&!tt)(ce||Te)&&(W("TT: nested FDEFs not allowed"),tt=!0),ce=!0,Ke=de,se=Xe.pop(),Z.functionsDefined[se]={data:oe,i:de};else if(Pe===45)if(ce)ce=!1,Ve=de;else{if(Ue=He.pop(),!Ue){W("TT: ENDF bad stack"),Z.hintsValid=!1;return}se=Le.pop(),oe=Ue.data,de=Ue.i,Z.functionsStackDeltas[se]=Xe.length-Ue.stackTop}else if(Pe===137)(ce||Te)&&(W("TT: nested IDEFs not allowed"),tt=!0),ce=!0,Ke=de;else if(Pe===88)++ge;else if(Pe===27)Te=ge;else if(Pe===89)Te===ge&&(Te=0),--ge;else if(Pe===28&&!ce&&!Te){const nt=Xe.at(-1);nt>0&&(de+=nt-1)}if(!ce&&!Te){let nt=0;for(Pe<=142?nt=S[Pe]:Pe>=192&&Pe<=223?nt=-1:Pe>=224&&(nt=-2),Pe>=113&&Pe<=117&&(ye=Xe.pop(),isNaN(ye)||(nt=-ye*2));nt<0&&Xe.length>0;)Xe.pop(),nt++;for(;nt>0;)Xe.push(NaN),nt--}}Z.tooComplexToFollowFunctions=tt;const Ne=[oe];de>oe.length&&Ne.push(new Uint8Array(de-oe.length)),Ke>Ve&&(W("TT: complementing a missing function tail"),Ne.push(new Uint8Array([34,45]))),w(K,Ne)}function E(K,Z){if(!K.tooComplexToFollowFunctions){if(K.functionsDefined.length>Z){W("TT: more functions defined than expected"),K.hintsValid=!1;return}for(let oe=0,de=K.functionsUsed.length;oe<de;oe++){if(oe>Z){W("TT: invalid function id: "+oe),K.hintsValid=!1;return}if(K.functionsUsed[oe]&&!K.functionsDefined[oe]){W("TT: undefined function: "+oe),K.hintsValid=!1;return}}}}function w(K,Z){if(Z.length>1){let oe=0,de,Ie;for(de=0,Ie=Z.length;de<Ie;de++)oe+=Z[de].length;oe=oe+3&-4;const ye=new Uint8Array(oe);let xe=0;for(de=0,Ie=Z.length;de<Ie;de++)ye.set(Z[de],xe),xe+=Z[de].length;K.data=ye,K.length=oe}}function A(K,Z,oe,de){const Ie={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(K&&C(K,Ie),Z&&C(Z,Ie),K&&E(Ie,de),oe&&oe.length&1){const ye=new Uint8Array(oe.length+1);ye.set(oe.data),oe.data=ye}return Ie.hintsValid}n=new Vn(new Uint8Array(n.getBytes()));let T,P;if(sB(n)){const K=c(n,this.name);T=K.header,P=K.tables}else T=o(n),P=r(n,T.numTables);let R,D;const O=!P["CFF "];if(O){if(!P.loca)throw new me('Required "loca" table is not found');P.glyf||(W('Required "glyf" table is not found -- trying to recover.'),P.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const K=i.composite&&(((Ee=i.cidToGidMap)==null?void 0:Ee.length)>0||!(i.cMap instanceof L1));if(T.version==="OTTO"&&!K||!P.head||!P.hhea||!P.maxp||!P.post)return D=new Vn(P["CFF "].data),R=new Fw(D,i),Lw(i),this.convert(e,R,i);delete P.glyf,delete P.loca,delete P.fpgm,delete P.prep,delete P["cvt "],this.isOpenType=!0}if(!P.maxp)throw new me('Required "maxp" table is not found');n.pos=(n.start||0)+P.maxp.offset;let B=n.getInt32();const U=n.getUint16();if(B!==65536&&B!==20480){if(P.maxp.length===6)B=20480;else if(P.maxp.length>=32)B=65536;else throw new me('"maxp" table has a wrong version number');nre(P.maxp.data,0,B)}if(((Re=i.scaleFactors)==null?void 0:Re.length)===U&&O){const{scaleFactors:K}=i,Z=ph(P.head.data[50],P.head.data[51]),oe=new zse({glyfTable:P.glyf.data,isGlyphLocationsLong:Z,locaTable:P.loca.data,numGlyphs:U});oe.scale(K);const{glyf:de,loca:Ie,isLocationLong:ye}=oe.write();P.glyf.data=de,P.loca.data=Ie,ye!==!!Z&&(P.head.data[50]=0,P.head.data[51]=ye?1:0);const xe=P.hmtx.data;for(let se=0;se<U;se++){const Ue=4*se,Ve=Math.round(K[se]*ph(xe[Ue],xe[Ue+1]));xe[Ue]=Ve>>8&255,xe[Ue+1]=Ve&255;const Ke=Math.round(K[se]*qr(xe[Ue+2],xe[Ue+3]));Sm(xe,Ue+2,Ke)}}let V=U+1,ee=!0;V>65535&&(ee=!1,V=U,W("Not enough space in glyfs to duplicate first glyph."));let Q=0,G=0;B>=65536&&P.maxp.length>=32&&(n.pos+=8,n.getUint16()>2&&(P.maxp.data[14]=0,P.maxp.data[15]=2),n.pos+=4,Q=n.getUint16(),n.pos+=4,G=n.getUint16()),P.maxp.data[4]=V>>8,P.maxp.data[5]=V&255;const $=A(P.fpgm,P.prep,P["cvt "],Q);if($||(delete P.fpgm,delete P.prep,delete P["cvt "]),d(n,P.hhea,P.hmtx,P.head,V,ee),!P.head)throw new me('Required "head" table is not found');g(P.head,U,O?P.loca.length:0);let ie=Object.create(null);if(O){const K=ph(P.head.data[50],P.head.data[51]),Z=m(P.loca,P.glyf,U,K,$,ee,G);ie=Z.missingGlyphs,B>=65536&&P.maxp.length>=32&&(P.maxp.data[26]=Z.maxSizeOfInstructions>>8,P.maxp.data[27]=Z.maxSizeOfInstructions&255)}if(!P.hhea)throw new me('Required "hhea" table is not found');P.hhea.data[10]===0&&P.hhea.data[11]===0&&(P.hhea.data[10]=255,P.hhea.data[11]=255);const he={unitsPerEm:ph(P.head.data[18],P.head.data[19]),yMax:qr(P.head.data[42],P.head.data[43]),yMin:qr(P.head.data[38],P.head.data[39]),ascent:qr(P.hhea.data[4],P.hhea.data[5]),descent:qr(P.hhea.data[6],P.hhea.data[7]),lineGap:qr(P.hhea.data[8],P.hhea.data[9])};this.ascent=he.ascent/he.unitsPerEm,this.descent=he.descent/he.unitsPerEm,this.lineGap=he.lineGap/he.unitsPerEm,(we=this.cssFontInfo)!=null&&we.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,P.post&&b(P.post,i,U),P.post={tag:"post",data:IN(i)};const pe=Object.create(null);function X(K){return!ie[K]}if(i.composite){const K=i.cidToGidMap||[],Z=K.length===0;i.cMap.forEach(function(oe,de){if(typeof de=="string"&&(de=Bw(oe,de,!0)),de>65535)throw new me("Max size of CID is 65,535");let Ie=-1;Z?Ie=de:K[de]!==void 0&&(Ie=K[de]),Ie>=0&&Ie<U&&X(Ie)&&(pe[oe]=Ie)})}else{const K=u(P.cmap,n,this.isSymbolicFont,i.hasEncoding),Z=K.platformId,oe=K.encodingId,de=K.mappings;let Ie=[],ye=!1;if(i.hasEncoding&&(i.baseEncodingName==="MacRomanEncoding"||i.baseEncodingName==="WinAnsiEncoding")&&(Ie=Gx(i.baseEncodingName)),i.hasEncoding&&!this.isSymbolicFont&&(Z===3&&oe===1||Z===1&&oe===0)){const xe=kl();for(let se=0;se<256;se++){let Ue;if(this.differences[se]!==void 0?Ue=this.differences[se]:Ie.length&&Ie[se]!==""?Ue=Ie[se]:Ue=zc[se],!Ue)continue;const Ve=QO(Ue,xe);let Ke;if(Z===3&&oe===1?Ke=xe[Ve]:Z===1&&oe===0&&(Ke=Jk.indexOf(Ve)),Ke===void 0){if(!i.glyphNames&&i.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof qa)){const Xe=this.toUnicode.get(se);Xe&&(Ke=Xe.codePointAt(0))}if(Ke===void 0)continue}for(const Xe of de)if(Xe.charCode===Ke){pe[se]=Xe.glyphId;break}}}else if(Z===0){for(const xe of de)pe[xe.charCode]=xe.glyphId;ye=!0}else if(Z===3&&oe===0)for(const xe of de){let se=xe.charCode;se>=61440&&se<=61695&&(se&=255),pe[se]=xe.glyphId}else for(const xe of de)pe[xe.charCode]=xe.glyphId;if(i.glyphNames&&(Ie.length||this.differences.length))for(let xe=0;xe<256;++xe){if(!ye&&pe[xe]!==void 0)continue;const se=this.differences[xe]||Ie[xe];if(!se)continue;const Ue=i.glyphNames.indexOf(se);Ue>0&&X(Ue)&&(pe[xe]=Ue)}}pe.length===0&&(pe[0]=0);let te=V-1;if(ee||(te=0),!i.cssFontInfo){const K=EN(pe,X,te,this.toUnicode);this.toFontChar=K.toFontChar,P.cmap={tag:"cmap",data:_N(K.charCodeToGlyphId,K.toUnicodeExtraMap,V)},(!P["OS/2"]||!hre(P["OS/2"],n))&&(P["OS/2"]={tag:"OS/2",data:TN(i,K.charCodeToGlyphId,he)})}if(!O)try{D=new Vn(P["CFF "].data),R=new tC(D,i,O1).parse(),R.duplicateFirstGlyph();const Z=new i3(R);P["CFF "].data=Z.compile()}catch{W("Failed to compile font "+i.loadedName)}if(!P.name)P.name={tag:"name",data:jw(this.name)};else{const[K,Z]=v(P.name);P.name.data=jw(e,K),this.psName=K[0][6]||null,i.composite||Qse(i,this.isSymbolicFont,Z)}const re=new Kx(T.version);for(const K in P)re.addTable(K,P[K].data);return re.toArray()}convert(e,n,i){i.fixedPitch=!1,i.builtInEncoding&&ere(i,i.builtInEncoding);let s=1;n instanceof Fw&&(s=n.numGlyphs-1);const r=n.getGlyphMapping(i);let a=null,o=r,l=null;i.cssFontInfo||(a=EN(r,n.hasGlyphId.bind(n),s,this.toUnicode),this.toFontChar=a.toFontChar,o=a.charCodeToGlyphId,l=a.toUnicodeExtraMap);const c=n.numGlyphs;function u(b,v){let S=null;for(const C in b)v===b[C]&&(S||(S=[])).push(C|0);return S}function d(b,v){for(const S in b)if(v===b[S])return S|0;return a.charCodeToGlyphId[a.nextAvailableFontCharCode]=v,a.nextAvailableFontCharCode++}const p=n.seacs;if(a&&O1&&(p!=null&&p.length)){const b=i.fontMatrix||Jd,v=n.getCharset(),S=Object.create(null);for(let C in p){C|=0;const E=p[C],w=zc[E[2]],A=zc[E[3]],T=v.indexOf(w),P=v.indexOf(A);if(T<0||P<0)continue;const R={x:E[0]*b[0]+E[1]*b[2]+b[4],y:E[0]*b[1]+E[1]*b[3]+b[5]},D=u(r,C);if(D)for(const O of D){const B=a.charCodeToGlyphId,U=d(B,T),V=d(B,P);S[O]={baseFontCharCode:U,accentFontCharCode:V,accentOffset:R}}}i.seacMap=S}const g=i.fontMatrix?1/Math.max(...i.fontMatrix.slice(0,4).map(Math.abs)):1e3,m=new Kx("OTTO");return m.addTable("CFF ",n.data),m.addTable("OS/2",TN(i,o)),m.addTable("cmap",_N(o,l,c)),m.addTable("head","\0\0\0\0\0\0\0\0\0\0_<õ\0\0"+gh(g)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+gh(i.descent)+"ÿ"+gh(i.ascent)+Qt(i.italicAngle?2:0)+"\0\0\0\0\0\0\0"),m.addTable("hhea","\0\0\0"+gh(i.ascent)+gh(i.descent)+"\0\0ÿÿ\0\0\0\0\0\0"+gh(i.capHeight)+gh(Math.tan(i.italicAngle)*i.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+Qt(c)),m.addTable("hmtx",function(){const v=n.charstrings,S=n.cff?n.cff.widths:null;let C="\0\0\0\0";for(let E=1,w=c;E<w;E++){let A=0;if(v){const T=v[E-1];A="width"in T?T.width:0}else S&&(A=Math.ceil(S[E]||0));C+=Qt(A)+Qt(0)}return C}()),m.addTable("maxp","\0\0P\0"+Qt(c)),m.addTable("name",jw(e)),m.addTable("post",IN(i)),m.toArray()}get _spaceWidth(){const e=["space","minus","one","i","I"];let n;for(const i of e){if(i in this.widths){n=this.widths[i];break}const r=kl()[i];let a=0;if(this.composite&&this.cMap.contains(r)&&(a=this.cMap.lookup(r),typeof a=="string"&&(a=Bw(r,a))),!a&&this.toUnicode&&(a=this.toUnicode.charCodeOf(r)),a<=0&&(a=r),n=this.widths[a],n)break}return Fe(this,"_spaceWidth",n||this.defaultWidth)}_charToGlyph(e,n=!1){var g,m,b;let i=this._glyphCache[e];if((i==null?void 0:i.isSpace)===n)return i;let s,r,a,o=e;(g=this.cMap)!=null&&g.contains(e)&&(o=this.cMap.lookup(e),typeof o=="string"&&(o=Bw(e,o))),r=this.widths[o],typeof r!="number"&&(r=this.defaultWidth);const l=(m=this.vmetrics)==null?void 0:m[o];let c=this.toUnicode.get(e)||e;typeof c=="number"&&(c=String.fromCharCode(c));let u=this.toFontChar[e]!==void 0;if(s=this.toFontChar[e]||e,this.missingFile){const v=this.differences[e]||this.defaultEncoding[e];(v===".notdef"||v==="")&&this.type==="Type1"&&(s=32,v===""&&(r||(r=this._spaceWidth),c=String.fromCharCode(s))),s=bse(s)}this.isType3Font&&(a=s);let d=null;if((b=this.seacMap)!=null&&b[e]){u=!0;const v=this.seacMap[e];s=v.baseFontCharCode,d={fontChar:String.fromCodePoint(v.accentFontCharCode),offset:v.accentOffset}}let p="";if(typeof s=="number"&&(s<=1114111?p=String.fromCodePoint(s):W(`charToGlyph - invalid fontCharCode: ${s}`)),this.missingFile&&this.vertical&&p.length===1){const v=Ase()[p.charCodeAt(0)];v&&(p=c=String.fromCharCode(v))}return i=new tre(e,p,c,d,r,l,a,n,u),this._glyphCache[e]=i}charsToGlyphs(e){let n=this._charsCache[e];if(n)return n;if(n=[],this.cMap){const i=Object.create(null),s=e.length;let r=0;for(;r<s;){this.cMap.readCharCode(e,r,i);const{charcode:a,length:o}=i;r+=o;const l=this._charToGlyph(a,o===1&&e.charCodeAt(r-1)===32);n.push(l)}}else for(let i=0,s=e.length;i<s;++i){const r=e.charCodeAt(i),a=this._charToGlyph(r,r===32);n.push(a)}return this._charsCache[e]=n}getCharPositions(e){const n=[];if(this.cMap){const i=Object.create(null);let s=0;for(;s<e.length;){this.cMap.readCharCode(e,s,i);const r=i.length;n.push([s,s+r]),s+=r}}else for(let i=0,s=e.length;i<s;++i)n.push([i,i+1]);return n}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(e){const n=[],i=[],s=()=>n.length%2===1,r=this.toUnicode instanceof qa?a=>this.toUnicode.charCodeOf(a):a=>this.toUnicode.charCodeOf(String.fromCodePoint(a));for(let a=0,o=e.length;a<o;a++){const l=e.codePointAt(a);if(l>55295&&(l<57344||l>65533)&&a++,this.toUnicode){const c=r(l);if(c!==-1){s()&&(n.push(i.join("")),i.length=0);const u=this.cMap?this.cMap.getCharCodeLength(c):1;for(let d=u-1;d>=0;d--)i.push(String.fromCharCode(c>>8*d&255));continue}}s()||(n.push(i.join("")),i.length=0),i.push(String.fromCodePoint(l))}return n.push(i.join("")),n}}class NN{constructor(e){this.error=e,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(e){return[e]}exportData(){return{error:this.error}}}const ar={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class fre{constructor(){Ot("Cannot initialize Pattern.")}static parseShading(e,n,i,s,r,a){const o=e instanceof _t?e.dict:e,l=o.get("ShadingType");try{switch(l){case ar.AXIAL:case ar.RADIAL:return new pre(o,n,i,s,r,a);case ar.FREE_FORM_MESH:case ar.LATTICE_FORM_MESH:case ar.COONS_PATCH_MESH:case ar.TENSOR_PATCH_MESH:return new TA(e,n,i,s,r,a);default:throw new me("Unsupported ShadingType: "+l)}}catch(c){if(c instanceof En)throw c;return W(c),new bre}}}class B1{getIR(){Ot("Abstract method `getIR` called.")}}qe(B1,"SMALL_NUMBER",1e-6);class pre extends B1{constructor(e,n,i,s,r,a){super(),this.shadingType=e.get("ShadingType");let o=0;if(this.shadingType===ar.AXIAL?o=4:this.shadingType===ar.RADIAL&&(o=6),this.coordsArr=e.getArray("Coords"),!lr(this.coordsArr,o))throw new me("RadialAxialShading: Invalid /Coords array.");const l=Gt.parse({cs:e.getRaw("CS")||e.getRaw("ColorSpace"),xref:n,resources:i,pdfFunctionFactory:s,globalColorSpaceCache:r,localColorSpaceCache:a});this.bbox=Tl(e.getArray("BBox"),null);let c=0,u=1;const d=e.getArray("Domain");lr(d,2)&&([c,u]=d);let p=!1,g=!1;const m=e.getArray("Extend");if(Ene(m,2)&&([p,g]=m),this.shadingType===ar.RADIAL&&(!p||!g)){const[pe,X,te,re,Ee,Re]=this.coordsArr,we=Math.hypot(pe-re,X-Ee);te<=Re+we&&Re<=te+we&&W("Unsupported radial gradient.")}this.extendStart=p,this.extendEnd=g;const b=e.getRaw("Function"),v=s.create(b,!0),S=840,C=(u-c)/S,E=this.colorStops=[];if(c>=u||C<=0){Pt("Bad shading domain.");return}const w=new Float32Array(l.numComps),A=new Float32Array(1);let T,P=0;A[0]=c,v(A,0,w,0);let R=l.getRgb(w,0);const D=rn.makeHexColor(R[0],R[1],R[2]);E.push([0,D]);let O=1;A[0]=c+C,v(A,0,w,0);let B=l.getRgb(w,0),U=B[0]-R[0]+1,V=B[1]-R[1]+1,ee=B[2]-R[2]+1,Q=B[0]-R[0]-1,G=B[1]-R[1]-1,$=B[2]-R[2]-1;for(let pe=2;pe<S;pe++){A[0]=c+pe*C,v(A,0,w,0),T=l.getRgb(w,0);const X=pe-P;if(U=Math.min(U,(T[0]-R[0]+1)/X),V=Math.min(V,(T[1]-R[1]+1)/X),ee=Math.min(ee,(T[2]-R[2]+1)/X),Q=Math.max(Q,(T[0]-R[0]-1)/X),G=Math.max(G,(T[1]-R[1]-1)/X),$=Math.max($,(T[2]-R[2]-1)/X),!(Q<=U&&G<=V&&$<=ee)){const re=rn.makeHexColor(B[0],B[1],B[2]);E.push([O/S,re]),U=T[0]-B[0]+1,V=T[1]-B[1]+1,ee=T[2]-B[2]+1,Q=T[0]-B[0]-1,G=T[1]-B[1]-1,$=T[2]-B[2]-1,P=O,R=B}O=pe,B=T}const ie=rn.makeHexColor(B[0],B[1],B[2]);E.push([1,ie]);let he="transparent";e.has("Background")&&(T=l.getRgb(e.get("Background"),0),he=rn.makeHexColor(T[0],T[1],T[2])),p||(E.unshift([0,he]),E[1][0]+=B1.SMALL_NUMBER),g||(E.at(-1)[0]-=B1.SMALL_NUMBER,E.push([1,he])),this.colorStops=E}getIR(){const{coordsArr:e,shadingType:n}=this;let i,s,r,a,o;return n===ar.AXIAL?(s=[e[0],e[1]],r=[e[2],e[3]],a=null,o=null,i="axial"):n===ar.RADIAL?(s=[e[0],e[1]],r=[e[3],e[4]],a=e[2],o=e[5],i="radial"):Ot(`getPattern type unknown: ${n}`),["RadialAxial",i,this.bbox,this.colorStops,s,r,a,o]}}class gre{constructor(e,n){this.stream=e,this.context=n,this.buffer=0,this.bufferLength=0;const i=n.numComps;this.tmpCompsBuf=new Float32Array(i);const s=n.colorSpace.numComps;this.tmpCsCompsBuf=n.colorFn?new Float32Array(s):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const e=this.stream.getByte();return e<0?!1:(this.buffer=e,this.bufferLength=8,!0)}readBits(e){const{stream:n}=this;let{buffer:i,bufferLength:s}=this;if(e===32){if(s===0)return n.getInt32()>>>0;i=i<<24|n.getByte()<<16|n.getByte()<<8|n.getByte();const r=n.getByte();return this.buffer=r&(1<<s)-1,(i<<8-s|(r&255)>>s)>>>0}if(e===8&&s===0)return n.getByte();for(;s<e;)i=i<<8|n.getByte(),s+=8;return s-=e,this.bufferLength=s,this.buffer=i&(1<<s)-1,i>>s}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const{bitsPerCoordinate:e,decode:n}=this.context,i=this.readBits(e),s=this.readBits(e),r=e<32?1/((1<<e)-1):23283064365386963e-26;return[i*r*(n[1]-n[0])+n[0],s*r*(n[3]-n[2])+n[2]]}readComponents(){const{bitsPerComponent:e,colorFn:n,colorSpace:i,decode:s,numComps:r}=this.context,a=e<32?1/((1<<e)-1):23283064365386963e-26,o=this.tmpCompsBuf;for(let c=0,u=4;c<r;c++,u+=2){const d=this.readBits(e);o[c]=d*a*(s[u+1]-s[u])+s[u]}const l=this.tmpCsCompsBuf;return n==null||n(o,0,l,0),i.getRgb(l,0)}}let b5=Object.create(null);function mre(t){const e=[];for(let n=0;n<=t;n++){const i=n/t,s=1-i;e.push(new Float32Array([s**3,3*i*s**2,3*i**2*s,i**3]))}return e}function RN(t){return b5[t]||(b5[t]=mre(t))}function xre(){b5=Object.create(null)}const uo=class uo extends B1{constructor(e,n,i,s,r,a){if(super(),!(e instanceof _t))throw new me("Mesh data is not a stream");const o=e.dict;this.shadingType=o.get("ShadingType"),this.bbox=Tl(o.getArray("BBox"),null);const l=Gt.parse({cs:o.getRaw("CS")||o.getRaw("ColorSpace"),xref:n,resources:i,pdfFunctionFactory:s,globalColorSpaceCache:r,localColorSpaceCache:a});this.background=o.has("Background")?l.getRgb(o.get("Background"),0):null;const c=o.getRaw("Function"),u=c?s.create(c,!0):null;this.coords=[],this.colors=[],this.figures=[];const d={bitsPerCoordinate:o.get("BitsPerCoordinate"),bitsPerComponent:o.get("BitsPerComponent"),bitsPerFlag:o.get("BitsPerFlag"),decode:o.getArray("Decode"),colorFn:u,colorSpace:l,numComps:u?1:l.numComps},p=new gre(e,d);let g=!1;switch(this.shadingType){case ar.FREE_FORM_MESH:this._decodeType4Shading(p);break;case ar.LATTICE_FORM_MESH:const m=o.get("VerticesPerRow")|0;if(m<2)throw new me("Invalid VerticesPerRow");this._decodeType5Shading(p,m);break;case ar.COONS_PATCH_MESH:this._decodeType6Shading(p),g=!0;break;case ar.TENSOR_PATCH_MESH:this._decodeType7Shading(p),g=!0;break;default:Ot("Unsupported mesh type.");break}if(g){this._updateBounds();for(let m=0,b=this.figures.length;m<b;m++)this._buildFigureFromPatch(m)}this._updateBounds(),this._packData()}_decodeType4Shading(e){const n=this.coords,i=this.colors,s=[];let r=0;for(;e.hasData;){const a=e.readFlag(),o=e.readCoordinate(),l=e.readComponents();if(r===0){if(!(0<=a&&a<=2))throw new me("Unknown type4 flag");switch(a){case 0:r=3;break;case 1:s.push(s.at(-2),s.at(-1)),r=1;break;case 2:s.push(s.at(-3),s.at(-1)),r=1;break}}s.push(n.length),n.push(o),i.push(l),r--,e.align()}this.figures.push({type:"triangles",coords:new Int32Array(s),colors:new Int32Array(s)})}_decodeType5Shading(e,n){const i=this.coords,s=this.colors,r=[];for(;e.hasData;){const a=e.readCoordinate(),o=e.readComponents();r.push(i.length),i.push(a),s.push(o)}this.figures.push({type:"lattice",coords:new Int32Array(r),colors:new Int32Array(r),verticesPerRow:n})}_decodeType6Shading(e){const n=this.coords,i=this.colors,s=new Int32Array(16),r=new Int32Array(4);for(;e.hasData;){const a=e.readFlag();if(!(0<=a&&a<=3))throw new me("Unknown type6 flag");const o=n.length;for(let g=0,m=a!==0?8:12;g<m;g++)n.push(e.readCoordinate());const l=i.length;for(let g=0,m=a!==0?2:4;g<m;g++)i.push(e.readComponents());let c,u,d,p;switch(a){case 0:s[12]=o+3,s[13]=o+4,s[14]=o+5,s[15]=o+6,s[8]=o+2,s[11]=o+7,s[4]=o+1,s[7]=o+8,s[0]=o,s[1]=o+11,s[2]=o+10,s[3]=o+9,r[2]=l+1,r[3]=l+2,r[0]=l,r[1]=l+3;break;case 1:c=s[12],u=s[13],d=s[14],p=s[15],s[12]=p,s[13]=o+0,s[14]=o+1,s[15]=o+2,s[8]=d,s[11]=o+3,s[4]=u,s[7]=o+4,s[0]=c,s[1]=o+7,s[2]=o+6,s[3]=o+5,c=r[2],u=r[3],r[2]=u,r[3]=l,r[0]=c,r[1]=l+1;break;case 2:c=s[15],u=s[11],s[12]=s[3],s[13]=o+0,s[14]=o+1,s[15]=o+2,s[8]=s[7],s[11]=o+3,s[4]=u,s[7]=o+4,s[0]=c,s[1]=o+7,s[2]=o+6,s[3]=o+5,c=r[3],r[2]=r[1],r[3]=l,r[0]=c,r[1]=l+1;break;case 3:s[12]=s[0],s[13]=o+0,s[14]=o+1,s[15]=o+2,s[8]=s[1],s[11]=o+3,s[4]=s[2],s[7]=o+4,s[0]=s[3],s[1]=o+7,s[2]=o+6,s[3]=o+5,r[2]=r[0],r[3]=l,r[0]=r[1],r[1]=l+1;break}s[5]=n.length,n.push([(-4*n[s[0]][0]-n[s[15]][0]+6*(n[s[4]][0]+n[s[1]][0])-2*(n[s[12]][0]+n[s[3]][0])+3*(n[s[13]][0]+n[s[7]][0]))/9,(-4*n[s[0]][1]-n[s[15]][1]+6*(n[s[4]][1]+n[s[1]][1])-2*(n[s[12]][1]+n[s[3]][1])+3*(n[s[13]][1]+n[s[7]][1]))/9]),s[6]=n.length,n.push([(-4*n[s[3]][0]-n[s[12]][0]+6*(n[s[2]][0]+n[s[7]][0])-2*(n[s[0]][0]+n[s[15]][0])+3*(n[s[4]][0]+n[s[14]][0]))/9,(-4*n[s[3]][1]-n[s[12]][1]+6*(n[s[2]][1]+n[s[7]][1])-2*(n[s[0]][1]+n[s[15]][1])+3*(n[s[4]][1]+n[s[14]][1]))/9]),s[9]=n.length,n.push([(-4*n[s[12]][0]-n[s[3]][0]+6*(n[s[8]][0]+n[s[13]][0])-2*(n[s[0]][0]+n[s[15]][0])+3*(n[s[11]][0]+n[s[1]][0]))/9,(-4*n[s[12]][1]-n[s[3]][1]+6*(n[s[8]][1]+n[s[13]][1])-2*(n[s[0]][1]+n[s[15]][1])+3*(n[s[11]][1]+n[s[1]][1]))/9]),s[10]=n.length,n.push([(-4*n[s[15]][0]-n[s[0]][0]+6*(n[s[11]][0]+n[s[14]][0])-2*(n[s[12]][0]+n[s[3]][0])+3*(n[s[2]][0]+n[s[8]][0]))/9,(-4*n[s[15]][1]-n[s[0]][1]+6*(n[s[11]][1]+n[s[14]][1])-2*(n[s[12]][1]+n[s[3]][1])+3*(n[s[2]][1]+n[s[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(s),colors:new Int32Array(r)})}}_decodeType7Shading(e){const n=this.coords,i=this.colors,s=new Int32Array(16),r=new Int32Array(4);for(;e.hasData;){const a=e.readFlag();if(!(0<=a&&a<=3))throw new me("Unknown type7 flag");const o=n.length;for(let g=0,m=a!==0?12:16;g<m;g++)n.push(e.readCoordinate());const l=i.length;for(let g=0,m=a!==0?2:4;g<m;g++)i.push(e.readComponents());let c,u,d,p;switch(a){case 0:s[12]=o+3,s[13]=o+4,s[14]=o+5,s[15]=o+6,s[8]=o+2,s[9]=o+13,s[10]=o+14,s[11]=o+7,s[4]=o+1,s[5]=o+12,s[6]=o+15,s[7]=o+8,s[0]=o,s[1]=o+11,s[2]=o+10,s[3]=o+9,r[2]=l+1,r[3]=l+2,r[0]=l,r[1]=l+3;break;case 1:c=s[12],u=s[13],d=s[14],p=s[15],s[12]=p,s[13]=o+0,s[14]=o+1,s[15]=o+2,s[8]=d,s[9]=o+9,s[10]=o+10,s[11]=o+3,s[4]=u,s[5]=o+8,s[6]=o+11,s[7]=o+4,s[0]=c,s[1]=o+7,s[2]=o+6,s[3]=o+5,c=r[2],u=r[3],r[2]=u,r[3]=l,r[0]=c,r[1]=l+1;break;case 2:c=s[15],u=s[11],s[12]=s[3],s[13]=o+0,s[14]=o+1,s[15]=o+2,s[8]=s[7],s[9]=o+9,s[10]=o+10,s[11]=o+3,s[4]=u,s[5]=o+8,s[6]=o+11,s[7]=o+4,s[0]=c,s[1]=o+7,s[2]=o+6,s[3]=o+5,c=r[3],r[2]=r[1],r[3]=l,r[0]=c,r[1]=l+1;break;case 3:s[12]=s[0],s[13]=o+0,s[14]=o+1,s[15]=o+2,s[8]=s[1],s[9]=o+9,s[10]=o+10,s[11]=o+3,s[4]=s[2],s[5]=o+8,s[6]=o+11,s[7]=o+4,s[0]=s[3],s[1]=o+7,s[2]=o+6,s[3]=o+5,r[2]=r[0],r[3]=l,r[0]=r[1],r[1]=l+1;break}this.figures.push({type:"patch",coords:new Int32Array(s),colors:new Int32Array(r)})}}_buildFigureFromPatch(e){const n=this.figures[e];bs(n.type==="patch","Unexpected patch mesh figure");const i=this.coords,s=this.colors,r=n.coords,a=n.colors,o=Math.min(i[r[0]][0],i[r[3]][0],i[r[12]][0],i[r[15]][0]),l=Math.min(i[r[0]][1],i[r[3]][1],i[r[12]][1],i[r[15]][1]),c=Math.max(i[r[0]][0],i[r[3]][0],i[r[12]][0],i[r[15]][0]),u=Math.max(i[r[0]][1],i[r[3]][1],i[r[12]][1],i[r[15]][1]);let d=Math.ceil((c-o)*uo.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));d=js(d,uo.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,uo.MAX_SPLIT_PATCH_CHUNKS_AMOUNT);let p=Math.ceil((u-l)*uo.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));p=js(p,uo.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,uo.MAX_SPLIT_PATCH_CHUNKS_AMOUNT);const g=d+1,m=new Int32Array((p+1)*g),b=new Int32Array((p+1)*g);let v=0;const S=new Uint8Array(3),C=new Uint8Array(3),E=s[a[0]],w=s[a[1]],A=s[a[2]],T=s[a[3]],P=RN(p),R=RN(d);for(let D=0;D<=p;D++){S[0]=(E[0]*(p-D)+A[0]*D)/p|0,S[1]=(E[1]*(p-D)+A[1]*D)/p|0,S[2]=(E[2]*(p-D)+A[2]*D)/p|0,C[0]=(w[0]*(p-D)+T[0]*D)/p|0,C[1]=(w[1]*(p-D)+T[1]*D)/p|0,C[2]=(w[2]*(p-D)+T[2]*D)/p|0;for(let O=0;O<=d;O++,v++){if((D===0||D===p)&&(O===0||O===d))continue;let B=0,U=0,V=0;for(let Q=0;Q<=3;Q++)for(let G=0;G<=3;G++,V++){const $=P[D][Q]*R[O][G];B+=i[r[V]][0]*$,U+=i[r[V]][1]*$}m[v]=i.length,i.push([B,U]),b[v]=s.length;const ee=new Uint8Array(3);ee[0]=(S[0]*(d-O)+C[0]*O)/d|0,ee[1]=(S[1]*(d-O)+C[1]*O)/d|0,ee[2]=(S[2]*(d-O)+C[2]*O)/d|0,s.push(ee)}}m[0]=r[0],b[0]=a[0],m[d]=r[3],b[d]=a[1],m[g*p]=r[12],b[g*p]=a[2],m[g*p+d]=r[15],b[g*p+d]=a[3],this.figures[e]={type:"lattice",coords:m,colors:b,verticesPerRow:g}}_updateBounds(){let e=this.coords[0][0],n=this.coords[0][1],i=e,s=n;for(let r=1,a=this.coords.length;r<a;r++){const o=this.coords[r][0],l=this.coords[r][1];e=e>o?o:e,n=n>l?l:n,i=i<o?o:i,s=s<l?l:s}this.bounds=[e,n,i,s]}_packData(){let e,n,i,s;const r=this.coords,a=new Float32Array(r.length*2);for(e=0,i=0,n=r.length;e<n;e++){const u=r[e];a[i++]=u[0],a[i++]=u[1]}this.coords=a;const o=this.colors,l=new Uint8Array(o.length*3);for(e=0,i=0,n=o.length;e<n;e++){const u=o[e];l[i++]=u[0],l[i++]=u[1],l[i++]=u[2]}this.colors=l;const c=this.figures;for(e=0,n=c.length;e<n;e++){const u=c[e],d=u.coords,p=u.colors;for(i=0,s=d.length;i<s;i++)d[i]*=2,p[i]*=3}}getIR(){const{bounds:e}=this;if(e[2]-e[0]===0||e[3]-e[1]===0)throw new me(`Invalid MeshShading bounds: [${e}].`);return["Mesh",this.shadingType,this.coords,this.colors,this.figures,e,this.bbox,this.background]}};qe(uo,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3),qe(uo,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20),qe(uo,"TRIANGLE_DENSITY",20);let TA=uo;class bre extends B1{getIR(){return["Dummy"]}}function FN(t,e,n){const i=vu(e.getArray("Matrix"),Do),s=Tl(e.getArray("BBox"),null);if(!s||s[2]-s[0]===0||s[3]-s[1]===0)throw new me("Invalid getTilingPatternIR /BBox array.");const r=e.get("XStep");if(typeof r!="number")throw new me("Invalid getTilingPatternIR /XStep value.");const a=e.get("YStep");if(typeof a!="number")throw new me("Invalid getTilingPatternIR /YStep value.");const o=e.get("PaintType");if(!Number.isInteger(o))throw new me("Invalid getTilingPatternIR /PaintType value.");const l=e.get("TilingType");if(!Number.isInteger(l))throw new me("Invalid getTilingPatternIR /TilingType value.");return["TilingPattern",n,t,i,s,r,a,o,l]}const yre=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],wre={lineHeight:1.2207,lineGap:.2207},vre=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],Sre={lineHeight:1.2207,lineGap:.2207},Are=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],kre={lineHeight:1.2207,lineGap:.2207},Cre=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1],Ere={lineHeight:1.2207,lineGap:.2207},_re=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],Tre={lineHeight:1.2,lineGap:.2},Ire=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],Pre={lineHeight:1.35,lineGap:.2},Nre=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],Rre={lineHeight:1.35,lineGap:.2},Fre=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],Mre={lineHeight:1.2,lineGap:.2},Am=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],km=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],Cm=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],Em=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],_m=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],Tm=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],Im=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],Pm=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],Dre=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],Lre={lineHeight:1.2,lineGap:.2},Ore=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],Bre={lineHeight:1.2,lineGap:.2},jre=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],$re={lineHeight:1.2,lineGap:.2},Ure=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],zre={lineHeight:1.2,lineGap:.2},Hre=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],qre={lineHeight:1.33008,lineGap:0},Gre=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],Wre={lineHeight:1.33008,lineGap:0},Vre=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],Xre={lineHeight:1.33008,lineGap:0},Kre=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1],Yre={lineHeight:1.33008,lineGap:0},Zre=Dn(function(t){t["MyriadPro-Regular"]=t["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:Ure,baseWidths:Im,baseMapping:Pm,metrics:zre},t["MyriadPro-Bold"]=t["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:Dre,baseWidths:Am,baseMapping:km,metrics:Lre},t["MyriadPro-It"]=t["MyriadPro-Italic"]=t["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:jre,baseWidths:_m,baseMapping:Tm,metrics:$re},t["MyriadPro-BoldIt"]=t["MyriadPro-BoldItalic"]=t["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Ore,baseWidths:Cm,baseMapping:Em,metrics:Bre},t.ArialMT=t.Arial=t["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:Im,baseMapping:Pm},t["Arial-BoldMT"]=t["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:Am,baseMapping:km},t["Arial-ItalicMT"]=t["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:_m,baseMapping:Tm},t["Arial-BoldItalicMT"]=t["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:Cm,baseMapping:Em},t["Calibri-Regular"]={name:"LiberationSans-Regular",factors:Cre,baseWidths:Im,baseMapping:Pm,metrics:Ere},t["Calibri-Bold"]={name:"LiberationSans-Bold",factors:yre,baseWidths:Am,baseMapping:km,metrics:wre},t["Calibri-Italic"]={name:"LiberationSans-Italic",factors:Are,baseWidths:_m,baseMapping:Tm,metrics:kre},t["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:vre,baseWidths:Cm,baseMapping:Em,metrics:Sre},t["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:Kre,baseWidths:Im,baseMapping:Pm,metrics:Yre},t["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:Hre,baseWidths:Am,baseMapping:km,metrics:qre},t["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:Vre,baseWidths:_m,baseMapping:Tm,metrics:Xre},t["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Gre,baseWidths:Cm,baseMapping:Em,metrics:Wre},t["Helvetica-Regular"]=t.Helvetica={name:"LiberationSans-Regular",factors:Fre,baseWidths:Im,baseMapping:Pm,metrics:Mre},t["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:_re,baseWidths:Am,baseMapping:km,metrics:Tre},t["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:Nre,baseWidths:_m,baseMapping:Tm,metrics:Rre},t["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:Ire,baseWidths:Cm,baseMapping:Em,metrics:Pre}});function oC(t){const e=s3(t);return Zre()[e]}function Jre(t){const e=oC(t);if(!e)return null;const{baseWidths:n,baseMapping:i,factors:s}=e,r=s?n.map((c,u)=>c*s[u]):n;let a=-2,o;const l=[];for(const[c,u]of i.map((d,p)=>[d,p]).sort(([d],[p])=>d-p))c!==-1&&(c===a+1?(o.push(r[u]),a+=1):(a=c,o=[r[u]],l.push(c,o)));return l}function aB(t){const e=Jre(t),n=new J(null);n.set("BaseFont",le.get(t)),n.set("Type",le.get("Font")),n.set("Subtype",le.get("CIDFontType2")),n.set("Encoding",le.get("Identity-H")),n.set("CIDToGIDMap",le.get("Identity")),n.set("W",e),n.set("FirstChar",e[0]),n.set("LastChar",e.at(-2)+e.at(-1).length-1);const i=new J(null);n.set("FontDescriptor",i);const s=new J(null);return s.set("Ordering","Identity"),s.set("Registry","Adobe"),s.set("Supplement",0),n.set("CIDSystemInfo",s),n}class Qre{constructor(e){this.lexer=e,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(e){return this.token.type===e?(this.nextToken(),!0):!1}expect(e){if(this.accept(e))return!0;throw new me(`Unexpected symbol: found ${this.token.type} expected ${e}.`)}parse(){return this.nextToken(),this.expect(Ls.LBRACE),this.parseBlock(),this.expect(Ls.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(Ls.NUMBER))this.operators.push(this.prev.value);else if(this.accept(Ls.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(Ls.LBRACE))this.parseCondition();else return}parseCondition(){const e=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(Ls.RBRACE),this.accept(Ls.IF))this.operators[e]=this.operators.length,this.operators[e+1]="jz";else if(this.accept(Ls.LBRACE)){const n=this.operators.length;this.operators.push(null,null);const i=this.operators.length;this.parseBlock(),this.expect(Ls.RBRACE),this.expect(Ls.IFELSE),this.operators[n]=this.operators.length,this.operators[n+1]="j",this.operators[e]=i,this.operators[e+1]="jz"}else throw new me("PS Function: error parsing conditional.")}}const Ls={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class ua{static get opCache(){return Fe(this,"opCache",Object.create(null))}constructor(e,n){this.type=e,this.value=n}static getOperator(e){var n;return(n=ua.opCache)[e]||(n[e]=new ua(Ls.OPERATOR,e))}static get LBRACE(){return Fe(this,"LBRACE",new ua(Ls.LBRACE,"{"))}static get RBRACE(){return Fe(this,"RBRACE",new ua(Ls.RBRACE,"}"))}static get IF(){return Fe(this,"IF",new ua(Ls.IF,"IF"))}static get IFELSE(){return Fe(this,"IFELSE",new ua(Ls.IFELSE,"IFELSE"))}}class eae{constructor(e){this.stream=e,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let e=!1,n=this.currentChar;for(;;){if(n<0)return Ji;if(e)(n===10||n===13)&&(e=!1);else if(n===37)e=!0;else if(!pa(n))break;n=this.nextChar()}switch(n|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new ua(Ls.NUMBER,this.getNumber());case 123:return this.nextChar(),ua.LBRACE;case 125:return this.nextChar(),ua.RBRACE}const i=this.strBuf;for(i.length=0,i[0]=String.fromCharCode(n);(n=this.nextChar())>=0&&(n>=65&&n<=90||n>=97&&n<=122);)i.push(String.fromCharCode(n));const s=i.join("");switch(s.toLowerCase()){case"if":return ua.IF;case"ifelse":return ua.IFELSE;default:return ua.getOperator(s)}}getNumber(){let e=this.currentChar;const n=this.strBuf;for(n.length=0,n[0]=String.fromCharCode(e);(e=this.nextChar())>=0&&(e>=48&&e<=57||e===45||e===46);)n.push(String.fromCharCode(e));const i=parseFloat(n.join(""));if(isNaN(i))throw new me(`Invalid floating point number: ${i}`);return i}}class Cf{constructor(e){this._onlyRefs=(e==null?void 0:e.onlyRefs)===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new Nr}getByName(e){this._onlyRefs&&Ot("Should not call `getByName` method.");const n=this._nameRefMap.get(e);return n?this.getByRef(n):this._imageMap.get(e)||null}getByRef(e){return this._imageCache.get(e)||null}set(e,n,i){Ot("Abstract method `set` called.")}}class MN extends Cf{set(e,n=null,i){if(typeof e!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(n){if(this._imageCache.has(n))return;this._nameRefMap.set(e,n),this._imageCache.put(n,i);return}this._imageMap.has(e)||this._imageMap.set(e,i)}}class oB extends Cf{set(e=null,n=null,i){if(typeof e!="string"&&!n)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(n){if(this._imageCache.has(n))return;e!==null&&this._nameRefMap.set(e,n),this._imageCache.put(n,i);return}this._imageMap.has(e)||this._imageMap.set(e,i)}}class tae extends Cf{constructor(e){super({onlyRefs:!0})}set(e=null,n,i){if(!n)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(n)||this._imageCache.put(n,i)}}class DN extends Cf{set(e,n=null,i){if(typeof e!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(n){if(this._imageCache.has(n))return;this._nameRefMap.set(e,n),this._imageCache.put(n,i);return}this._imageMap.has(e)||this._imageMap.set(e,i)}}class nae extends Cf{constructor(e){super({onlyRefs:!0})}set(e=null,n,i){if(!n)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(n)||this._imageCache.put(n,i)}}class iae extends Cf{constructor(e){super({onlyRefs:!0})}set(e=null,n,i){if(!n)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(n)||this._imageCache.put(n,i)}}class sae extends Cf{constructor(e){super({onlyRefs:!0})}set(e=null,n,i){if(!n)throw new Error('GlobalColorSpaceCache.set - expected "ref" argument.');this._imageCache.has(n)||this._imageCache.put(n,i)}clear(){this._imageCache.clear()}}var Jp,mf,lB,PA;const ac=class ac{constructor(){L(this,mf);L(this,Jp,new Bi);this._refCache=new Nr,this._imageCache=new Nr}shouldCache(e,n){let i=this._refCache.get(e);return i||(i=new Set,this._refCache.put(e,i)),i.add(n),!(i.size<ac.NUM_PAGES_THRESHOLD||!this._imageCache.has(e)&&x(this,mf,PA))}addDecodeFailed(e){x(this,Jp).put(e)}hasDecodeFailed(e){return x(this,Jp).has(e)}addByteSize(e,n){const i=this._imageCache.get(e);i&&(i.byteSize||(i.byteSize=n))}getData(e,n){const i=this._refCache.get(e);if(!i||i.size<ac.NUM_PAGES_THRESHOLD)return null;const s=this._imageCache.get(e);return s?(i.add(n),s):null}setData(e,n){if(!this._refCache.has(e))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(e)){if(x(this,mf,PA)){W("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(e,n)}}clear(e=!1){e||(x(this,Jp).clear(),this._refCache.clear()),this._imageCache.clear()}};Jp=new WeakMap,mf=new WeakSet,lB=function(){let e=0;for(const n of this._imageCache)e+=n.byteSize;return e},PA=function(){return!(this._imageCache.size<ac.MIN_IMAGES_TO_CACHE||x(this,mf,lB)<ac.MAX_BYTE_SIZE)},qe(ac,"NUM_PAGES_THRESHOLD",2),qe(ac,"MIN_IMAGES_TO_CACHE",10),qe(ac,"MAX_BYTE_SIZE",5e7);let IA=ac;class cB{constructor({xref:e,isEvalSupported:n=!0}){this.xref=e,this.isEvalSupported=n!==!1}create(e,n=!1){var a;let i,s;if(e instanceof Be?i=e:e instanceof J?i=e.objId:e instanceof _t&&(i=(a=e.dict)==null?void 0:a.objId),i){const o=this._localFunctionCache.getByRef(i);if(o)return o}const r=this.xref.fetchIfRef(e);if(Array.isArray(r)){if(!n)throw new Error('PDFFunctionFactory.create - expected "parseArray" argument.');s=LN.parseArray(this,r)}else s=LN.parse(this,r);return i&&this._localFunctionCache.set(null,i,s),s}get _localFunctionCache(){return Fe(this,"_localFunctionCache",new tae)}}function Ia(t){return Array.isArray(t)?lr(t,null)?t:t.map(e=>+e):null}class LN{static getSampleArray(e,n,i,s){let r,a,o=1;for(r=0,a=e.length;r<a;r++)o*=e[r];o*=n;const l=new Array(o);let c=0,u=0;const d=1/(2**i-1),p=s.getBytes((o*i+7)/8);let g=0;for(r=0;r<o;r++){for(;c<i;)u<<=8,u|=p[g++],c+=8;c-=i,l[r]=(u>>c)*d,u&=(1<<c)-1}return l}static parse(e,n){const i=n.dict||n;switch(i.get("FunctionType")){case 0:return this.constructSampled(e,n,i);case 1:break;case 2:return this.constructInterpolated(e,i);case 3:return this.constructStiched(e,i);case 4:return this.constructPostScript(e,n,i)}throw new me("Unknown type of function")}static parseArray(e,n){const{xref:i}=e,s=[];for(const r of n)s.push(this.parse(e,i.fetchIfRef(r)));return function(r,a,o,l){for(let c=0,u=s.length;c<u;c++)s[c](r,a,o,l+c)}}static constructSampled(e,n,i){function s(v){const S=v.length,C=[];let E=0;for(let w=0;w<S;w+=2)C[E++]=[v[w],v[w+1]];return C}function r(v,S,C,E,w){return E+(v-S)*((w-E)/(C-S))}let a=Ia(i.getArray("Domain")),o=Ia(i.getArray("Range"));if(!a||!o)throw new me("No domain or range");const l=a.length/2,c=o.length/2;a=s(a),o=s(o);const u=Ia(i.getArray("Size")),d=i.get("BitsPerSample"),p=i.get("Order")||1;p!==1&&Pt("No support for cubic spline interpolation: "+p);let g=Ia(i.getArray("Encode"));if(g)g=s(g);else{g=[];for(let v=0;v<l;++v)g.push([0,u[v]-1])}let m=Ia(i.getArray("Decode"));m=m?s(m):o;const b=this.getSampleArray(u,c,d,n);return function(S,C,E,w){const A=1<<l,T=new Float64Array(A).fill(1),P=new Uint32Array(A);let R,D,O=c,B=1;for(R=0;R<l;++R){const U=a[R][0],V=a[R][1],ee=js(S[C+R],U,V);let Q=r(ee,U,V,g[R][0],g[R][1]);const G=u[R];Q=js(Q,0,G-1);const $=Q<G-1?Math.floor(Q):Q-1,ie=$+1-Q,he=Q-$,pe=$*O,X=pe+O;for(D=0;D<A;D++)D&B?(T[D]*=he,P[D]+=X):(T[D]*=ie,P[D]+=pe);O*=G,B<<=1}for(D=0;D<c;++D){let U=0;for(R=0;R<A;R++)U+=b[P[R]+D]*T[R];U=r(U,0,1,m[D][0],m[D][1]),E[w+D]=js(U,o[D][0],o[D][1])}}}static constructInterpolated(e,n){const i=Ia(n.getArray("C0"))||[0],s=Ia(n.getArray("C1"))||[1],r=n.get("N"),a=[];for(let l=0,c=i.length;l<c;++l)a.push(s[l]-i[l]);const o=a.length;return function(c,u,d,p){const g=r===1?c[u]:c[u]**r;for(let m=0;m<o;++m)d[p+m]=i[m]+g*a[m]}}static constructStiched(e,n){const i=Ia(n.getArray("Domain"));if(!i)throw new me("No domain");if(i.length/2!==1)throw new me("Bad domain for stiched function");const{xref:r}=e,a=[];for(const u of n.get("Functions"))a.push(this.parse(e,r.fetchIfRef(u)));const o=Ia(n.getArray("Bounds")),l=Ia(n.getArray("Encode")),c=new Float32Array(1);return function(d,p,g,m){const b=js(d[p],i[0],i[1]),v=o.length;let S;for(S=0;S<v&&!(b<o[S]);++S);let C=i[0];S>0&&(C=o[S-1]);let E=i[1];S<o.length&&(E=o[S]);const w=l[2*S],A=l[2*S+1];c[0]=C===E?w:w+(b-C)*(A-w)/(E-C),a[S](c,0,g,m)}}static constructPostScript(e,n,i){const s=Ia(i.getArray("Domain")),r=Ia(i.getArray("Range"));if(!s)throw new me("No domain.");if(!r)throw new me("No range.");const a=new eae(n),l=new Qre(a).parse();if(e.isEvalSupported&&Lr.isEvalSupported){const v=new dae().compile(l,s,r);if(v)return new Function("src","srcOffset","dest","destOffset",v)}Pt("Unable to compile PS function");const c=r.length>>1,u=s.length>>1,d=new rae(l),p=Object.create(null);let m=2048*4;const b=new Float32Array(u);return function(S,C,E,w){let A,T,P="";const R=b;for(A=0;A<u;A++)T=S[C+A],R[A]=T,P+=T+"_";const D=p[P];if(D!==void 0){E.set(D,w);return}const O=new Float32Array(c),B=d.execute(R),U=B.length-c;for(A=0;A<c;A++){T=B[U+A];let V=r[A*2];T<V?T=V:(V=r[A*2+1],T>V&&(T=V)),O[A]=T}m>0&&(m--,p[P]=O),E.set(O,w)}}}function $w(t){let e;if(t instanceof J)e=t;else if(t instanceof _t)e=t.dict;else return!1;return e.has("FunctionType")}const Ax=class Ax{constructor(e){this.stack=e?Array.from(e):[]}push(e){if(this.stack.length>=Ax.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(e)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(e){if(this.stack.length+e>=Ax.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const n=this.stack;for(let i=n.length-e,s=e-1;s>=0;s--,i++)n.push(n[i])}index(e){this.push(this.stack[this.stack.length-e-1])}roll(e,n){const i=this.stack,s=i.length-e,r=i.length-1,a=s+(n-Math.floor(n/e)*e);for(let o=s,l=r;o<l;o++,l--){const c=i[o];i[o]=i[l],i[l]=c}for(let o=s,l=a-1;o<l;o++,l--){const c=i[o];i[o]=i[l],i[l]=c}for(let o=a,l=r;o<l;o++,l--){const c=i[o];i[o]=i[l],i[l]=c}}};qe(Ax,"MAX_STACK_SIZE",100);let NA=Ax;class rae{constructor(e){this.operators=e}execute(e){const n=new NA(e);let i=0;const s=this.operators,r=s.length;let a,o,l;for(;i<r;){if(a=s[i++],typeof a=="number"){n.push(a);continue}switch(a){case"jz":l=n.pop(),o=n.pop(),o||(i=l);break;case"j":o=n.pop(),i=o;break;case"abs":o=n.pop(),n.push(Math.abs(o));break;case"add":l=n.pop(),o=n.pop(),n.push(o+l);break;case"and":l=n.pop(),o=n.pop(),typeof o=="boolean"&&typeof l=="boolean"?n.push(o&&l):n.push(o&l);break;case"atan":l=n.pop(),o=n.pop(),o=Math.atan2(o,l)/Math.PI*180,o<0&&(o+=360),n.push(o);break;case"bitshift":l=n.pop(),o=n.pop(),o>0?n.push(o<<l):n.push(o>>l);break;case"ceiling":o=n.pop(),n.push(Math.ceil(o));break;case"copy":o=n.pop(),n.copy(o);break;case"cos":o=n.pop(),n.push(Math.cos(o%360/180*Math.PI));break;case"cvi":o=n.pop()|0,n.push(o);break;case"cvr":break;case"div":l=n.pop(),o=n.pop(),n.push(o/l);break;case"dup":n.copy(1);break;case"eq":l=n.pop(),o=n.pop(),n.push(o===l);break;case"exch":n.roll(2,1);break;case"exp":l=n.pop(),o=n.pop(),n.push(o**l);break;case"false":n.push(!1);break;case"floor":o=n.pop(),n.push(Math.floor(o));break;case"ge":l=n.pop(),o=n.pop(),n.push(o>=l);break;case"gt":l=n.pop(),o=n.pop(),n.push(o>l);break;case"idiv":l=n.pop(),o=n.pop(),n.push(o/l|0);break;case"index":o=n.pop(),n.index(o);break;case"le":l=n.pop(),o=n.pop(),n.push(o<=l);break;case"ln":o=n.pop(),n.push(Math.log(o));break;case"log":o=n.pop(),n.push(Math.log10(o));break;case"lt":l=n.pop(),o=n.pop(),n.push(o<l);break;case"mod":l=n.pop(),o=n.pop(),n.push(o%l);break;case"mul":l=n.pop(),o=n.pop(),n.push(o*l);break;case"ne":l=n.pop(),o=n.pop(),n.push(o!==l);break;case"neg":o=n.pop(),n.push(-o);break;case"not":o=n.pop(),typeof o=="boolean"?n.push(!o):n.push(~o);break;case"or":l=n.pop(),o=n.pop(),typeof o=="boolean"&&typeof l=="boolean"?n.push(o||l):n.push(o|l);break;case"pop":n.pop();break;case"roll":l=n.pop(),o=n.pop(),n.roll(o,l);break;case"round":o=n.pop(),n.push(Math.round(o));break;case"sin":o=n.pop(),n.push(Math.sin(o%360/180*Math.PI));break;case"sqrt":o=n.pop(),n.push(Math.sqrt(o));break;case"sub":l=n.pop(),o=n.pop(),n.push(o-l);break;case"true":n.push(!0);break;case"truncate":o=n.pop(),o=o<0?Math.ceil(o):Math.floor(o),n.push(o);break;case"xor":l=n.pop(),o=n.pop(),typeof o=="boolean"&&typeof l=="boolean"?n.push(o!==l):n.push(o^l);break;default:throw new me(`Unknown operator ${a}`)}}return n.stack}}class Ag{constructor(e){this.type=e}visit(e){Ot("abstract method")}}class aae extends Ag{constructor(e,n,i){super("args"),this.index=e,this.min=n,this.max=i}visit(e){e.visitArgument(this)}}class Qd extends Ag{constructor(e){super("literal"),this.number=e,this.min=e,this.max=e}visit(e){e.visitLiteral(this)}}class lC extends Ag{constructor(e,n,i,s,r){super("binary"),this.op=e,this.arg1=n,this.arg2=i,this.min=s,this.max=r}visit(e){e.visitBinaryOperation(this)}}class oae extends Ag{constructor(e,n){super("max"),this.arg=e,this.min=e.min,this.max=n}visit(e){e.visitMin(this)}}class ON extends Ag{constructor(e,n,i){super("var"),this.index=e,this.min=n,this.max=i}visit(e){e.visitVariable(this)}}class BN extends Ag{constructor(e,n){super("definition"),this.variable=e,this.arg=n}visit(e){e.visitVariableDefinition(this)}}class jN{constructor(){this.parts=[]}visitArgument(e){this.parts.push("Math.max(",e.min,", Math.min(",e.max,", src[srcOffset + ",e.index,"]))")}visitVariable(e){this.parts.push("v",e.index)}visitLiteral(e){this.parts.push(e.number)}visitBinaryOperation(e){this.parts.push("("),e.arg1.visit(this),this.parts.push(" ",e.op," "),e.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(e){this.parts.push("var "),e.variable.visit(this),this.parts.push(" = "),e.arg.visit(this),this.parts.push(";")}visitMin(e){this.parts.push("Math.min("),e.arg.visit(this),this.parts.push(", ",e.max,")")}toString(){return this.parts.join("")}}function lae(t,e){return e.type==="literal"&&e.number===0?t:t.type==="literal"&&t.number===0?e:e.type==="literal"&&t.type==="literal"?new Qd(t.number+e.number):new lC("+",t,e,t.min+e.min,t.max+e.max)}function cae(t,e){if(e.type==="literal"){if(e.number===0)return new Qd(0);if(e.number===1)return t;if(t.type==="literal")return new Qd(t.number*e.number)}if(t.type==="literal"){if(t.number===0)return new Qd(0);if(t.number===1)return e}const n=Math.min(t.min*e.min,t.min*e.max,t.max*e.min,t.max*e.max),i=Math.max(t.min*e.min,t.min*e.max,t.max*e.min,t.max*e.max);return new lC("*",t,e,n,i)}function uae(t,e){if(e.type==="literal"){if(e.number===0)return t;if(t.type==="literal")return new Qd(t.number-e.number)}return e.type==="binary"&&e.op==="-"&&t.type==="literal"&&t.number===1&&e.arg1.type==="literal"&&e.arg1.number===1?e.arg2:new lC("-",t,e,t.min-e.max,t.max-e.min)}function hae(t,e){return t.min>=e?new Qd(e):t.max<=e?t:new oae(t,e)}class dae{compile(e,n,i){const s=[],r=[],a=n.length>>1,o=i.length>>1;let l=0,c,u,d,p,g,m,b,v;for(let C=0;C<a;C++)s.push(new aae(C,n[C*2],n[C*2+1]));for(let C=0,E=e.length;C<E;C++){if(v=e[C],typeof v=="number"){s.push(new Qd(v));continue}switch(v){case"add":if(s.length<2)return null;p=s.pop(),d=s.pop(),s.push(lae(d,p));break;case"cvr":if(s.length<1)return null;break;case"mul":if(s.length<2)return null;p=s.pop(),d=s.pop(),s.push(cae(d,p));break;case"sub":if(s.length<2)return null;p=s.pop(),d=s.pop(),s.push(uae(d,p));break;case"exch":if(s.length<2)return null;g=s.pop(),m=s.pop(),s.push(g,m);break;case"pop":if(s.length<1)return null;s.pop();break;case"index":if(s.length<1||(d=s.pop(),d.type!=="literal")||(c=d.number,c<0||!Number.isInteger(c)||s.length<c))return null;if(g=s[s.length-c-1],g.type==="literal"||g.type==="var"){s.push(g);break}b=new ON(l++,g.min,g.max),s[s.length-c-1]=b,s.push(b),r.push(new BN(b,g));break;case"dup":if(s.length<1)return null;if(typeof e[C+1]=="number"&&e[C+2]==="gt"&&e[C+3]===C+7&&e[C+4]==="jz"&&e[C+5]==="pop"&&e[C+6]===e[C+1]){d=s.pop(),s.push(hae(d,e[C+1])),C+=6;break}if(g=s.at(-1),g.type==="literal"||g.type==="var"){s.push(g);break}b=new ON(l++,g.min,g.max),s[s.length-1]=b,s.push(b),r.push(new BN(b,g));break;case"roll":if(s.length<2||(p=s.pop(),d=s.pop(),p.type!=="literal"||d.type!=="literal")||(u=p.number,c=d.number,c<=0||!Number.isInteger(c)||!Number.isInteger(u)||s.length<c))return null;if(u=(u%c+c)%c,u===0)break;s.push(...s.splice(s.length-c,c-u));break;default:return null}}if(s.length!==o)return null;const S=[];for(const C of r){const E=new jN;C.visit(E),S.push(E.toString())}for(let C=0,E=s.length;C<E;C++){const w=s[C],A=new jN;w.visit(A);const T=i[C*2],P=i[C*2+1],R=[A.toString()];T>w.min&&(R.unshift("Math.max(",T,", "),R.push(")")),P<w.max&&(R.unshift("Math.min(",P,", "),R.push(")")),R.unshift("dest[destOffset + ",C,"] = "),R.push(";"),S.push(R.join(""))}return S.join(`
`)}}const fae=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],pae=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function $N(t){return(t&1)!==0}function gae(t){return(t&1)===0}function mae(t,e,n){let i,s;for(i=e,s=t.length;i<s;++i)if(t[i]!==n)return i;return i}function UN(t,e,n){for(let i=e,s=n-1;i<s;++i,--s){const r=t[i];t[i]=t[s],t[s]=r}}function Uw(t,e,n=!1){let i="ltr";return n?i="ttb":e||(i="rtl"),{str:t,dir:i}}const v0=[],Kt=[];function uB(t,e=-1,n=!1){let i=!0;const s=t.length;if(s===0||n)return Uw(t,i,n);v0.length=s,Kt.length=s;let r=0,a,o;for(a=0;a<s;++a){v0[a]=t.charAt(a);const S=t.charCodeAt(a);let C="L";S<=255?C=fae[S]:1424<=S&&S<=1524?C="R":1536<=S&&S<=1791?(C=pae[S&255],C||W("Bidi: invalid Unicode character "+S.toString(16))):(1792<=S&&S<=2220||64336<=S&&S<=65023||65136<=S&&S<=65279)&&(C="AL"),(C==="R"||C==="AL"||C==="AN")&&r++,Kt[a]=C}if(r===0)return i=!0,Uw(t,i);e===-1&&(r/s<.3&&s>4?(i=!0,e=0):(i=!1,e=1));const l=[];for(a=0;a<s;++a)l[a]=e;const c=$N(e)?"R":"L",u=c,d=u;let p=u;for(a=0;a<s;++a)Kt[a]==="NSM"?Kt[a]=p:p=Kt[a];p=u;let g;for(a=0;a<s;++a)g=Kt[a],g==="EN"?Kt[a]=p==="AL"?"AN":"EN":(g==="R"||g==="L"||g==="AL")&&(p=g);for(a=0;a<s;++a)g=Kt[a],g==="AL"&&(Kt[a]="R");for(a=1;a<s-1;++a)Kt[a]==="ES"&&Kt[a-1]==="EN"&&Kt[a+1]==="EN"&&(Kt[a]="EN"),Kt[a]==="CS"&&(Kt[a-1]==="EN"||Kt[a-1]==="AN")&&Kt[a+1]===Kt[a-1]&&(Kt[a]=Kt[a-1]);for(a=0;a<s;++a)if(Kt[a]==="EN"){for(let S=a-1;S>=0&&Kt[S]==="ET";--S)Kt[S]="EN";for(let S=a+1;S<s&&Kt[S]==="ET";++S)Kt[S]="EN"}for(a=0;a<s;++a)g=Kt[a],(g==="WS"||g==="ES"||g==="ET"||g==="CS")&&(Kt[a]="ON");for(p=u,a=0;a<s;++a)g=Kt[a],g==="EN"?Kt[a]=p==="L"?"L":"EN":(g==="R"||g==="L")&&(p=g);for(a=0;a<s;++a)if(Kt[a]==="ON"){const S=mae(Kt,a+1,"ON");let C=u;a>0&&(C=Kt[a-1]);let E=d;S+1<s&&(E=Kt[S+1]),C!=="L"&&(C="R"),E!=="L"&&(E="R"),C===E&&Kt.fill(C,a,S),a=S-1}for(a=0;a<s;++a)Kt[a]==="ON"&&(Kt[a]=c);for(a=0;a<s;++a)g=Kt[a],gae(l[a])?g==="R"?l[a]+=1:(g==="AN"||g==="EN")&&(l[a]+=2):(g==="L"||g==="AN"||g==="EN")&&(l[a]+=1);let m=-1,b=99,v;for(a=0,o=l.length;a<o;++a)v=l[a],m<v&&(m=v),b>v&&$N(v)&&(b=v);for(v=m;v>=b;--v){let S=-1;for(a=0,o=l.length;a<o;++a)l[a]<v?S>=0&&(UN(v0,S,a),S=-1):S<0&&(S=a);S>=0&&UN(v0,S,l.length)}for(a=0,o=v0.length;a<o;++a){const S=v0[a];(S==="<"||S===">")&&(v0[a]="")}return Uw(v0.join(""),i)}const Ch={style:"normal",weight:"normal"},_h={style:"normal",weight:"bold"},Th={style:"italic",weight:"normal"},Ih={style:"italic",weight:"bold"},xx=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","Linux Libertine O","Libertinus Serif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:Ch,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:_h,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:Th,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:Ih,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:Ch,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:_h,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:Th,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:Ih,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono","Linux Libertine Mono O","Libertinus Mono"],style:Ch,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:_h,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:Th,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:Ih,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:Ch,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:_h,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:Th,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:Ih,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:Ch,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:_h,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:Th,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:Ih,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:Ch}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),xae=new Map([["Arial-Black","ArialBlack"]]);function bae(t){switch(t){case _h:return"Bold";case Th:return"Italic";case Ih:return"Bold Italic";default:if((t==null?void 0:t.weight)==="bold")return"Bold";if((t==null?void 0:t.style)==="italic")return"Italic"}return""}function zN(t){const e=new Set(["thin","extralight","ultralight","demilight","semilight","light","book","regular","normal","medium","demibold","semibold","bold","extrabold","ultrabold","black","heavy","extrablack","ultrablack","roman","italic","oblique","ultracondensed","extracondensed","condensed","semicondensed","normal","semiexpanded","expanded","extraexpanded","ultraexpanded","bolditalic"]);return t.split(/[- ,+]+/g).filter(n=>!e.has(n.toLowerCase())).join(" ")}function RA({alias:t,local:e,path:n,fallback:i,style:s,ultimate:r},a,o,l=!0,c=!0,u=""){const d={style:null,ultimate:null};if(e){const p=u?` ${u}`:"";for(const g of e)a.push(`local(${g}${p})`)}if(t){const p=xx.get(t),g=u||bae(s);Object.assign(d,RA(p,a,o,l&&!i,c&&!n,g))}if(s&&(d.style=s),r&&(d.ultimate=r),l&&i){const p=xx.get(i),{ultimate:g}=RA(p,a,o,l,c&&!n,u);d.ultimate||(d.ultimate=g)}return c&&n&&o&&a.push(`url(${o}${n})`),d}function HN(t,e,n,i,s,r){if(i.startsWith("InvalidPDFjsFont_"))return null;(r==="TrueType"||r==="Type1")&&/^[A-Z]{6}\+/.test(i)&&(i=i.slice(7)),i=s3(i);const a=i;let o=t.get(a);if(o)return o;let l=xx.get(i);if(!l){for(const[v,S]of xae)if(i.startsWith(v)){i=`${S}${i.substring(v.length)}`,l=xx.get(i);break}}let c=!1;l||(l=xx.get(s),c=!0);const u=`${e.getDocId()}_s${e.createFontId()}`;if(!l){if(!lA(i))return W(`Cannot substitute the font because of its name: ${i}`),t.set(a,null),null;const v=/bold/gi.test(i),S=/oblique|italic/gi.test(i),C=v&&S&&Ih||v&&_h||S&&Th||Ch;return o={css:`"${zN(i)}",${u}`,guessFallback:!0,loadedName:u,baseFontName:i,src:`local(${i})`,style:C},t.set(a,o),o}const d=[];c&&lA(i)&&d.push(`local(${i})`);const{style:p,ultimate:g}=RA(l,d,n),m=g===null,b=m?"":`,${g}`;return o={css:`"${zN(i)}",${u}${b}`,guessFallback:m,loadedName:u,baseFontName:i,src:d.join(","),style:p},t.set(a,o),o}const qN=3285377520,Pa=4294901760,Jo=65535;class yae{constructor(e){this.h1=e?e&4294967295:qN,this.h2=e?e&4294967295:qN}update(e){let n,i;if(typeof e=="string"){n=new Uint8Array(e.length*2),i=0;for(let b=0,v=e.length;b<v;b++){const S=e.charCodeAt(b);S<=255?n[i++]=S:(n[i++]=S>>>8,n[i++]=S&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),i=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=i>>2,r=i-s*4,a=new Uint32Array(n.buffer,0,s);let o=0,l=0,c=this.h1,u=this.h2;const d=3432918353,p=461845907,g=d&Jo,m=p&Jo;for(let b=0;b<s;b++)b&1?(o=a[b],o=o*d&Pa|o*g&Jo,o=o<<15|o>>>17,o=o*p&Pa|o*m&Jo,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[b],l=l*d&Pa|l*g&Jo,l=l<<15|l>>>17,l=l*p&Pa|l*m&Jo,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,r){case 3:o^=n[s*4+2]<<16;case 2:o^=n[s*4+1]<<8;case 1:o^=n[s*4],o=o*d&Pa|o*g&Jo,o=o<<15|o>>>17,o=o*p&Pa|o*m&Jo,s&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&Pa|e*36045&Jo,n=n*4283543511&Pa|((n<<16|e>>>16)*2950163797&Pa)>>>16,e^=n>>>1,e=e*444984403&Pa|e*60499&Jo,n=n*3301882366&Pa|((n<<16|e>>>16)*3120437893&Pa)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}function M6(t,e,n,i,s){let r=t;for(let a=0,o=e.length-1;a<o;a++){const l=e[a];r=r[l]||(r[l]=[])}r[e.at(-1)]={checkFn:n,iterateFn:i,processFn:s}}const hg=[];M6(hg,[z.save,z.transform,z.paintInlineImageXObject,z.restore],null,function(e,n){const i=e.fnArray,s=e.iCurr-3,r=(n-s)%4;switch(r){case 0:return i[n]===z.save;case 1:return i[n]===z.transform;case 2:return i[n]===z.paintInlineImageXObject;case 3:return i[n]===z.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${r}`)},function(e,n){const o=e.fnArray,l=e.argsArray,c=e.iCurr,u=c-3,d=c-2,p=c-1,g=Math.min(Math.floor((n-u)/4),200);if(g<10)return n-(n-u)%4;let m=0;const b=[];let v=0,S=1,C=1;for(let R=0;R<g;R++){const D=l[d+(R<<2)],O=l[p+(R<<2)][0];S+O.width>1e3&&(m=Math.max(m,S),C+=v+2*1,S=0,v=0),b.push({transform:D,x:S,y:C,w:O.width,h:O.height}),S+=O.width+2*1,v=Math.max(v,O.height)}const E=Math.max(m,S)+1,w=C+v+1,A=new Uint8Array(E*w*4),T=E<<2;for(let R=0;R<g;R++){const D=l[p+(R<<2)][0].data,O=b[R].w<<2;let B=0,U=b[R].x+b[R].y*E<<2;A.set(D.subarray(0,O),U-T);for(let V=0,ee=b[R].h;V<ee;V++)A.set(D.subarray(B,B+O),U),B+=O,U+=T;for(A.set(D.subarray(B-O,B),U);U>=0;)D[U-4]=D[U],D[U-3]=D[U+1],D[U-2]=D[U+2],D[U-1]=D[U+3],D[U+O]=D[U+O-4],D[U+O+1]=D[U+O-3],D[U+O+2]=D[U+O-2],D[U+O+3]=D[U+O-1],U-=T}const P={width:E,height:w};if(e.isOffscreenCanvasSupported){const R=new OffscreenCanvas(E,w);R.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(A.buffer),E,w),0,0),P.bitmap=R.transferToImageBitmap(),P.data=null}else P.kind=Yi.RGBA_32BPP,P.data=A;return o.splice(u,g*4,z.paintInlineImageXObjectGroup),l.splice(u,g*4,[P,b]),u+1});M6(hg,[z.save,z.transform,z.paintImageMaskXObject,z.restore],null,function(e,n){const i=e.fnArray,s=e.iCurr-3,r=(n-s)%4;switch(r){case 0:return i[n]===z.save;case 1:return i[n]===z.transform;case 2:return i[n]===z.paintImageMaskXObject;case 3:return i[n]===z.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${r}`)},function(e,n){const a=e.fnArray,o=e.argsArray,l=e.iCurr,c=l-3,u=l-2,d=l-1;let p=Math.floor((n-c)/4);if(p<10)return n-(n-c)%4;let g=!1,m,b;const v=o[d][0],S=o[u][0],C=o[u][1],E=o[u][2],w=o[u][3];if(C===E){g=!0,m=u+4;let A=d+4;for(let T=1;T<p;T++,m+=4,A+=4)if(b=o[m],o[A][0]!==v||b[0]!==S||b[1]!==C||b[2]!==E||b[3]!==w){T<10?g=!1:p=T;break}}if(g){p=Math.min(p,1e3);const A=new Float32Array(p*2);m=u;for(let T=0;T<p;T++,m+=4)b=o[m],A[T<<1]=b[4],A[(T<<1)+1]=b[5];a.splice(c,p*4,z.paintImageMaskXObjectRepeat),o.splice(c,p*4,[v,S,C,E,w,A])}else{p=Math.min(p,100);const A=[];for(let T=0;T<p;T++){b=o[u+(T<<2)];const P=o[d+(T<<2)][0];A.push({data:P.data,width:P.width,height:P.height,interpolate:P.interpolate,count:P.count,transform:b})}a.splice(c,p*4,z.paintImageMaskXObjectGroup),o.splice(c,p*4,[A])}return c+1});M6(hg,[z.save,z.transform,z.paintImageXObject,z.restore],function(t){const e=t.argsArray,n=t.iCurr-2;return e[n][1]===0&&e[n][2]===0},function(e,n){const i=e.fnArray,s=e.argsArray,r=e.iCurr-3,a=(n-r)%4;switch(a){case 0:return i[n]===z.save;case 1:if(i[n]!==z.transform)return!1;const o=e.iCurr-2,l=s[o][0],c=s[o][3];return!(s[n][0]!==l||s[n][1]!==0||s[n][2]!==0||s[n][3]!==c);case 2:if(i[n]!==z.paintImageXObject)return!1;const u=e.iCurr-1,d=s[u][0];return s[n][0]===d;case 3:return i[n]===z.restore}throw new Error(`iterateImageGroup - invalid pos: ${a}`)},function(t,e){const s=t.fnArray,r=t.argsArray,a=t.iCurr,o=a-3,l=a-2,c=a-1,u=r[c][0],d=r[l][0],p=r[l][3],g=Math.min(Math.floor((e-o)/4),1e3);if(g<3)return e-(e-o)%4;const m=new Float32Array(g*2);let b=l;for(let S=0;S<g;S++,b+=4){const C=r[b];m[S<<1]=C[4],m[(S<<1)+1]=C[5]}const v=[u,d,p,m];return s.splice(o,g*4,z.paintImageXObjectRepeat),r.splice(o,g*4,v),o+1});M6(hg,[z.beginText,z.setFont,z.setTextMatrix,z.showText,z.endText],null,function(e,n){const i=e.fnArray,s=e.argsArray,r=e.iCurr-4,a=(n-r)%5;switch(a){case 0:return i[n]===z.beginText;case 1:return i[n]===z.setFont;case 2:return i[n]===z.setTextMatrix;case 3:if(i[n]!==z.showText)return!1;const o=e.iCurr-3,l=s[o][0],c=s[o][1];return!(s[n][0]!==l||s[n][1]!==c);case 4:return i[n]===z.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${a}`)},function(t,e){const s=t.fnArray,r=t.argsArray,a=t.iCurr,o=a-4,l=a-3,c=a-2,u=a-1,d=a,p=r[l][0],g=r[l][1];let m=Math.min(Math.floor((e-o)/5),1e3);if(m<3)return e-(e-o)%5;let b=o;o>=4&&s[o-4]===s[l]&&s[o-3]===s[c]&&s[o-2]===s[u]&&s[o-1]===s[d]&&r[o-4][0]===p&&r[o-4][1]===g&&(m++,b-=5);let v=b+4;for(let S=1;S<m;S++)s.splice(v,3),r.splice(v,3),v+=2;return v+1});class hB{constructor(e){this.queue=e}_optimize(){}push(e,n){this.queue.fnArray.push(e),this.queue.argsArray.push(n),this._optimize()}flush(){}reset(){}}class wae extends hB{constructor(e){super(e),this.state=null,this.context={iCurr:0,fnArray:e.fnArray,argsArray:e.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(e){this.context.isOffscreenCanvasSupported=e}_optimize(){const e=this.queue.fnArray;let n=this.lastProcessed,i=e.length,s=this.state,r=this.match;if(!s&&!r&&n+1===i&&!hg[e[n]]){this.lastProcessed=i;return}const a=this.context;for(;n<i;){if(r){if((0,r.iterateFn)(a,n)){n++;continue}if(n=(0,r.processFn)(a,n+1),i=e.length,r=null,s=null,n>=i)break}if(s=(s||hg)[e[n]],!s||Array.isArray(s)){n++;continue}if(a.iCurr=n,n++,s.checkFn&&!(0,s.checkFn)(a)){s=null;continue}r=s,s=null}this.state=s,this.match=r,this.lastProcessed=n}flush(){for(;this.match;){const e=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,e),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}const P0=class P0{constructor(e=0,n){this._streamSink=n,this.fnArray=[],this.argsArray=[],this.optimizer=n&&!(e&nr.OPLIST)?new wae(this):new hB(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=n?null:Promise.resolve()}set isOffscreenCanvasSupported(e){this.optimizer.isOffscreenCanvasSupported=e}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(e,n){this.optimizer.push(e,n),this.weight++,this._streamSink&&(this.weight>=P0.CHUNK_SIZE?this.flush():this.weight>=P0.CHUNK_SIZE_ABOUT&&(e===z.restore||e===z.endText)&&this.flush())}addImageOps(e,n,i,s=!1){s&&(this.addOp(z.save),this.addOp(z.setGState,[[["SMask",!1]]])),i!==void 0&&this.addOp(z.beginMarkedContentProps,["OC",i]),this.addOp(e,n),i!==void 0&&this.addOp(z.endMarkedContent,[]),s&&this.addOp(z.restore)}addDependency(e){this.dependencies.has(e)||(this.dependencies.add(e),this.addOp(z.dependency,[e]))}addDependencies(e){for(const n of e)this.addDependency(n)}addOpList(e){if(!(e instanceof P0)){W('addOpList - ignoring invalid "opList" parameter.');return}for(const n of e.dependencies)this.dependencies.add(n);for(let n=0,i=e.length;n<i;n++)this.addOp(e.fnArray[n],e.argsArray[n])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){var r;const e=[],{fnArray:n,argsArray:i,length:s}=this;for(let a=0;a<s;a++)switch(n[a]){case z.paintInlineImageXObject:case z.paintInlineImageXObjectGroup:case z.paintImageMaskXObject:const o=i[a][0];!o.cached&&((r=o.data)==null?void 0:r.buffer)instanceof ArrayBuffer&&e.push(o.data.buffer);break;case z.constructPath:const[,[l],c]=i[a];l&&e.push(l.buffer,c.buffer);break}return e}flush(e=!1,n=null){this.optimizer.flush();const i=this.length;this._totalLength+=i,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:e,separateAnnots:n,length:i},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}};qe(P0,"CHUNK_SIZE",1e3),qe(P0,"CHUNK_SIZE_ABOUT",P0.CHUNK_SIZE-5);let Dr=P0;function GN(t,e,n,i,s,r){const a=s*r;let o;e<=8?o=new Uint8Array(a):e<=16?o=new Uint16Array(a):o=new Uint32Array(a);const l=n/s,c=i/r;let u,d,p,g=0,m;const b=new Uint16Array(s),v=n;for(u=0;u<s;u++)b[u]=Math.floor(u*l);for(u=0;u<r;u++)for(p=Math.floor(u*c)*v,d=0;d<s;d++)m=p+b[d],o[g++]=t[m];return o}var O9,FA;const _1=class _1{constructor({xref:e,res:n,image:i,isInline:s=!1,smask:r=null,mask:a=null,isMask:o=!1,pdfFunctionFactory:l,globalColorSpaceCache:c,localColorSpaceCache:u}){L(this,O9);var S,C;this.image=i;const d=i.dict,p=d.get("F","Filter");let g;if(p instanceof le)g=p.name;else if(Array.isArray(p)){const E=e.fetchIfRef(p[0]);E instanceof le&&(g=E.name)}switch(g){case"JPXDecode":({width:i.width,height:i.height,componentsCount:i.numComps,bitsPerComponent:i.bitsPerComponent}=Co.parseImageProperties(i.stream)),i.stream.reset(),this.jpxDecoderOptions={numComponents:0,isIndexedColormap:!1,smaskInData:d.has("SMaskInData")};break;case"JBIG2Decode":i.bitsPerComponent=1,i.numComps=1;break}let m=d.get("W","Width"),b=d.get("H","Height");if(Number.isInteger(i.width)&&i.width>0&&Number.isInteger(i.height)&&i.height>0&&(i.width!==m||i.height!==b))W("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),m=i.width,b=i.height;else{const E=typeof m=="number"&&m>0,w=typeof b=="number"&&b>0;if(!E||!w){if(!i.fallbackDims)throw new me(`Invalid image width: ${m} or height: ${b}`);W("PDFImage - using the Width/Height of the parent image, for SMask/Mask data."),E||(m=i.fallbackDims.width),w||(b=i.fallbackDims.height)}}this.width=m,this.height=b,this.interpolate=d.get("I","Interpolate"),this.imageMask=d.get("IM","ImageMask")||!1,this.matte=d.get("Matte")||!1;let v=i.bitsPerComponent;if(!v&&(v=d.get("BPC","BitsPerComponent"),!v))if(this.imageMask)v=1;else throw new me(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=v,!this.imageMask){let E=d.getRaw("CS")||d.getRaw("ColorSpace");const w=!!E;if(w)(S=this.jpxDecoderOptions)!=null&&S.smaskInData&&(E=le.get("DeviceRGBA"));else if(this.jpxDecoderOptions)E=le.get("DeviceRGBA");else switch(i.numComps){case 1:E=le.get("DeviceGray");break;case 3:E=le.get("DeviceRGB");break;case 4:E=le.get("DeviceCMYK");break;default:throw new Error(`Images with ${i.numComps} color components not supported.`)}this.colorSpace=Gt.parse({cs:E,xref:e,resources:s?n:null,pdfFunctionFactory:l,globalColorSpaceCache:c,localColorSpaceCache:u}),this.numComps=this.colorSpace.numComps,this.jpxDecoderOptions&&(this.jpxDecoderOptions.numComponents=w?this.numComps:0,this.jpxDecoderOptions.isIndexedColormap=this.colorSpace.name==="Indexed")}if(this.decode=d.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,v)||o&&!Ss.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const E=(1<<v)-1;this.decodeCoefficients=[],this.decodeAddends=[];const w=((C=this.colorSpace)==null?void 0:C.name)==="Indexed";for(let A=0,T=0;A<this.decode.length;A+=2,++T){const P=this.decode[A],R=this.decode[A+1];this.decodeCoefficients[T]=w?(R-P)/E:R-P,this.decodeAddends[T]=w?P:E*P}}r?(r.fallbackDims??(r.fallbackDims={width:m,height:b}),this.smask=new _1({xref:e,res:n,image:r,isInline:s,pdfFunctionFactory:l,globalColorSpaceCache:c,localColorSpaceCache:u})):a&&(a instanceof _t?a.dict.get("IM","ImageMask")?(a.fallbackDims??(a.fallbackDims={width:m,height:b}),this.mask=new _1({xref:e,res:n,image:a,isInline:s,isMask:!0,pdfFunctionFactory:l,globalColorSpaceCache:c,localColorSpaceCache:u})):W("Ignoring /Mask in image without /ImageMask."):this.mask=a)}static async buildImage({xref:e,res:n,image:i,isInline:s=!1,pdfFunctionFactory:r,globalColorSpaceCache:a,localColorSpaceCache:o}){const l=i;let c=null,u=null;const d=i.dict.get("SMask"),p=i.dict.get("Mask");return d?d instanceof _t?c=d:W("Unsupported /SMask format."):p&&(p instanceof _t||Array.isArray(p)?u=p:W("Unsupported /Mask format.")),new _1({xref:e,res:n,image:l,isInline:s,smask:c,mask:u,pdfFunctionFactory:r,globalColorSpaceCache:a,localColorSpaceCache:o})}static createRawMask({imgArray:e,width:n,height:i,imageIsFromDecodeStream:s,inverseDecode:r,interpolate:a}){const o=(n+7>>3)*i,l=e.byteLength,c=o===l;let u,d;if(s&&(!r||c)?u=e:r?(u=new Uint8Array(o),u.set(e),u.fill(255,l)):u=new Uint8Array(e),r)for(d=0;d<l;d++)u[d]^=255;return{data:u,width:n,height:i,interpolate:a}}static async createMask({imgArray:e,width:n,height:i,imageIsFromDecodeStream:s,inverseDecode:r,interpolate:a,isOffscreenCanvasSupported:o=!1}){const l=n===1&&i===1&&r===(e.length===0||!!(e[0]&128));if(l)return{isSingleOpaquePixel:l};if(o){if(il.needsToBeResized(n,i)){const g=new Uint8ClampedArray(n*i*4);return gA({src:e,dest:g,width:n,height:i,nonBlackColor:0,inverseDecode:r}),il.createImage({kind:Yi.RGBA_32BPP,data:g,width:n,height:i,interpolate:a})}const c=new OffscreenCanvas(n,i),u=c.getContext("2d"),d=u.createImageData(n,i);gA({src:e,dest:d.data,width:n,height:i,nonBlackColor:0,inverseDecode:r}),u.putImageData(d,0,0);const p=c.transferToImageBitmap();return{data:null,width:n,height:i,interpolate:a,bitmap:p}}return this.createRawMask({imgArray:e,width:n,height:i,inverseDecode:r,imageIsFromDecodeStream:s,interpolate:a})}get drawWidth(){var e,n;return Math.max(this.width,((e=this.smask)==null?void 0:e.width)||0,((n=this.mask)==null?void 0:n.width)||0)}get drawHeight(){var e,n;return Math.max(this.height,((e=this.smask)==null?void 0:e.height)||0,((n=this.mask)==null?void 0:n.height)||0)}decodeBuffer(e){const n=this.bpc,i=this.numComps,s=this.decodeAddends,r=this.decodeCoefficients,a=(1<<n)-1;let o,l;if(n===1){for(o=0,l=e.length;o<l;o++)e[o]=+!e[o];return}let c=0;for(o=0,l=this.width*this.height;o<l;o++)for(let u=0;u<i;u++)e[c]=js(s[u]+e[c]*r[u],0,a),c++}getComponents(e){const n=this.bpc;if(n===8)return e;const i=this.width,s=this.height,r=this.numComps,a=i*s*r;let o=0,l;n<=8?l=new Uint8Array(a):n<=16?l=new Uint16Array(a):l=new Uint32Array(a);const c=i*r,u=(1<<n)-1;let d=0,p,g;if(n===1){let m,b,v;for(let S=0;S<s;S++){for(b=d+(c&-8),v=d+c;d<b;)g=e[o++],l[d]=g>>7&1,l[d+1]=g>>6&1,l[d+2]=g>>5&1,l[d+3]=g>>4&1,l[d+4]=g>>3&1,l[d+5]=g>>2&1,l[d+6]=g>>1&1,l[d+7]=g&1,d+=8;if(d<v)for(g=e[o++],m=128;d<v;)l[d++]=+!!(g&m),m>>=1}}else{let m=0;for(g=0,d=0,p=a;d<p;++d){for(d%c===0&&(g=0,m=0);m<n;)g=g<<8|e[o++],m+=8;const b=m-n;let v=g>>b;v<0?v=0:v>u&&(v=u),l[d]=v,g&=(1<<b)-1,m=b}}return l}async fillOpacity(e,n,i,s,r){const a=this.smask,o=this.mask;let l,c,u,d,p,g;if(a)c=a.width,u=a.height,l=new Uint8ClampedArray(c*u),await a.fillGrayBuffer(l),(c!==n||u!==i)&&(l=GN(l,a.bpc,c,u,n,i));else if(o)if(o instanceof _1){for(c=o.width,u=o.height,l=new Uint8ClampedArray(c*u),o.numComps=1,await o.fillGrayBuffer(l),d=0,p=c*u;d<p;++d)l[d]=255-l[d];(c!==n||u!==i)&&(l=GN(l,o.bpc,c,u,n,i))}else if(Array.isArray(o)){l=new Uint8ClampedArray(n*i);const m=this.numComps;for(d=0,p=n*i;d<p;++d){let b=0;const v=d*m;for(g=0;g<m;++g){const S=r[v+g],C=g*2;if(S<o[C]||S>o[C+1]){b=255;break}}l[d]=b}}else throw new me("Unknown mask format.");if(l)for(d=0,g=3,p=n*s;d<p;++d,g+=4)e[g]=l[d];else for(d=0,g=3,p=n*s;d<p;++d,g+=4)e[g]=255}undoPreblend(e,n,i){var u;const s=(u=this.smask)==null?void 0:u.matte;if(!s)return;const r=this.colorSpace.getRgb(s,0),a=r[0],o=r[1],l=r[2],c=n*i*4;for(let d=0;d<c;d+=4){const p=e[d+3];if(p===0){e[d]=255,e[d+1]=255,e[d+2]=255;continue}const g=255/p;e[d]=(e[d]-a)*g+a,e[d+1]=(e[d+1]-o)*g+o,e[d+2]=(e[d+2]-l)*g+l}}async createImageData(e=!1,n=!1){const i=this.drawWidth,s=this.drawHeight,r={width:i,height:s,interpolate:this.interpolate,kind:0,data:null},a=this.numComps,o=this.width,l=this.height,c=this.bpc,u=o*a*c+7>>3,d=n&&il.needsToBeResized(i,s);if(!this.smask&&!this.mask&&this.colorSpace.name==="DeviceRGBA"){r.kind=Yi.RGBA_32BPP;const A=r.data=await this.getImageBytes(l*o*4,{});return n?d?il.createImage(r,!1):this.createBitmap(Yi.RGBA_32BPP,i,s,A):r}if(!e){let A;if(this.colorSpace.name==="DeviceGray"&&c===1?A=Yi.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&c===8&&!this.needsDecode&&(A=Yi.RGB_24BPP),A&&!this.smask&&!this.mask&&i===o&&s===l){const T=await M(this,O9,FA).call(this,o,l);if(T)return T;const P=await this.getImageBytes(l*u,{});if(n)return d?il.createImage({data:P,kind:A,width:i,height:s,interpolate:this.interpolate},this.needsDecode):this.createBitmap(A,o,l,P);if(r.kind=A,r.data=P,this.needsDecode){bs(A===Yi.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const R=r.data;for(let D=0,O=R.length;D<O;D++)R[D]^=255}return r}if(this.image instanceof cg&&!this.smask&&!this.mask&&!this.needsDecode){let T=l*u;if(n&&!d){let P=!1;switch(this.colorSpace.name){case"DeviceGray":T*=4,P=!0;break;case"DeviceRGB":T=T/3*4,P=!0;break;case"DeviceCMYK":P=!0;break}if(P){const R=await M(this,O9,FA).call(this,i,s);if(R)return R;const D=await this.getImageBytes(T,{drawWidth:i,drawHeight:s,forceRGBA:!0});return this.createBitmap(Yi.RGBA_32BPP,i,s,D)}}else switch(this.colorSpace.name){case"DeviceGray":T*=3;case"DeviceRGB":case"DeviceCMYK":return r.kind=Yi.RGB_24BPP,r.data=await this.getImageBytes(T,{drawWidth:i,drawHeight:s,forceRGB:!0}),d?il.createImage(r):r}}}const p=await this.getImageBytes(l*u,{internal:!0}),g=0|p.length/u*s/l,m=this.getComponents(p);let b,v,S,C,E,w;if(n&&!d&&(S=new OffscreenCanvas(i,s),C=S.getContext("2d"),E=C.createImageData(i,s),w=E.data),r.kind=Yi.RGBA_32BPP,!e&&!this.smask&&!this.mask?(!n||d?(r.kind=Yi.RGB_24BPP,w=new Uint8ClampedArray(i*s*3),b=0):(new Uint32Array(w.buffer).fill(Lr.isLittleEndian?4278190080:255),b=1),v=!1):((!n||d)&&(w=new Uint8ClampedArray(i*s*4)),b=1,v=!0,await this.fillOpacity(w,i,s,g,m)),this.needsDecode&&this.decodeBuffer(m),this.colorSpace.fillRgb(w,o,l,i,s,g,c,m,b),v&&this.undoPreblend(w,i,g),n&&!d){C.putImageData(E,0,0);const A=S.transferToImageBitmap();return{data:null,width:i,height:s,bitmap:A,interpolate:this.interpolate}}return r.data=w,d?il.createImage(r):r}async fillGrayBuffer(e){const n=this.numComps;if(n!==1)throw new me(`Reading gray scale from a color image: ${n}`);const i=this.width,s=this.height,r=this.bpc,a=i*n*r+7>>3,o=await this.getImageBytes(s*a,{internal:!0}),l=this.getComponents(o);let c,u;if(r===1){if(u=i*s,this.needsDecode)for(c=0;c<u;++c)e[c]=l[c]-1&255;else for(c=0;c<u;++c)e[c]=-l[c]&255;return}this.needsDecode&&this.decodeBuffer(l),u=i*s;const d=255/((1<<r)-1);for(c=0;c<u;++c)e[c]=d*l[c]}createBitmap(e,n,i,s){const r=new OffscreenCanvas(n,i),a=r.getContext("2d");let o;e===Yi.RGBA_32BPP?o=new ImageData(s,n,i):(o=a.createImageData(n,i),DO({kind:e,src:s,dest:new Uint32Array(o.data.buffer),width:n,height:i,inverseDecode:this.needsDecode})),a.putImageData(o,0,0);const l=r.transferToImageBitmap();return{data:null,width:n,height:i,bitmap:l,interpolate:this.interpolate}}async getImageBytes(e,{drawWidth:n,drawHeight:i,forceRGBA:s=!1,forceRGB:r=!1,internal:a=!1}){this.image.reset(),this.image.drawWidth=n||this.width,this.image.drawHeight=i||this.height,this.image.forceRGBA=!!s,this.image.forceRGB=!!r;const o=await this.image.getImageData(e,this.jpxDecoderOptions);return a||this.image instanceof zs?o:(bs(o instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(o))}};O9=new WeakSet,FA=async function(e,n){const i=await this.image.getTransferableImage();return i?{data:null,width:e,height:n,bitmap:i,interpolate:this.interpolate}:null};let S1=_1;const vae=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,isImageDecoderSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,useWasm:!0,useWorkerFetch:!0,cMapUrl:null,iccUrl:null,standardFontDataUrl:null,wasmUrl:null}),WN={TILING:1,SHADING:2},Sae=10,VN=Promise.resolve();function dB(t,e=!1){if(Array.isArray(t)){for(const n of t){const i=dB(n,!0);if(i)return i}return W(`Unsupported blend mode Array: ${t}`),"source-over"}if(!(t instanceof le))return e?null:"source-over";switch(t.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return e?null:(W(`Unsupported blend mode: ${t.name}`),"source-over")}function zw(t,e){var n;e.objId&&t.addDependency(e.objId),t.addImageOps(e.fn,e.args,e.optionalContent,e.hasMask),e.fn===z.paintImageMaskXObject&&((n=e.args[0])==null?void 0:n.count)>0&&e.args[0].count++}const T1=class T1{constructor(){this.reset()}check(){return++this.checked<T1.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+T1.TIME_SLOT_DURATION_MS,this.checked=0}};qe(T1,"TIME_SLOT_DURATION_MS",20),qe(T1,"CHECK_TIME_EVERY",100);let s8=T1;class Cl{constructor({xref:e,handler:n,pageIndex:i,idFactory:s,fontCache:r,builtInCMapCache:a,standardFontDataCache:o,globalColorSpaceCache:l,globalImageCache:c,systemFontCache:u,options:d=null}){this.xref=e,this.handler=n,this.pageIndex=i,this.idFactory=s,this.fontCache=r,this.builtInCMapCache=a,this.standardFontDataCache=o,this.globalColorSpaceCache=l,this.globalImageCache=c,this.systemFontCache=u,this.options=d||vae,this.type3FontRefs=null,this._regionalImageCache=new iae,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}get _pdfFunctionFactory(){const e=new cB({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return Fe(this,"_pdfFunctionFactory",e)}get parsingType3Font(){return!!this.type3FontRefs}clone(e=null){const n=Object.create(this);return n.options=Object.assign(Object.create(null),this.options,e),n}hasBlendModes(e,n){if(!(e instanceof J)||e.objId&&n.has(e.objId))return!1;const i=new Bi(n);e.objId&&i.put(e.objId);const s=[e],r=this.xref;for(;s.length;){const a=s.shift(),o=a.get("ExtGState");if(o instanceof J)for(let c of o.getRawValues()){if(c instanceof Be){if(i.has(c))continue;try{c=r.fetch(c)}catch(d){i.put(c),Pt(`hasBlendModes - ignoring ExtGState: "${d}".`);continue}}if(!(c instanceof J))continue;c.objId&&i.put(c.objId);const u=c.get("BM");if(u instanceof le){if(u.name!=="Normal")return!0;continue}if(u!==void 0&&Array.isArray(u)){for(const d of u)if(d instanceof le&&d.name!=="Normal")return!0}}const l=a.get("XObject");if(l instanceof J)for(let c of l.getRawValues()){if(c instanceof Be){if(i.has(c))continue;try{c=r.fetch(c)}catch(d){i.put(c),Pt(`hasBlendModes - ignoring XObject: "${d}".`);continue}}if(!(c instanceof _t))continue;c.dict.objId&&i.put(c.dict.objId);const u=c.dict.get("Resources");u instanceof J&&(u.objId&&i.has(u.objId)||(s.push(u),u.objId&&i.put(u.objId)))}}for(const a of i)n.put(a);return!1}async fetchBuiltInCMap(e){const n=this.builtInCMapCache.get(e);if(n)return n;let i;return this.options.useWorkerFetch?i={cMapData:await aA(`${this.options.cMapUrl}${e}.bcmap`),isCompressed:!0}:i=await this.handler.sendWithPromise("FetchBinaryData",{type:"cMapReaderFactory",name:e}),this.builtInCMapCache.set(e,i),i}async fetchStandardFontData(e){const n=this.standardFontDataCache.get(e);if(n)return new Vn(n);if(this.options.useSystemFonts&&e!=="Symbol"&&e!=="ZapfDingbats")return null;const i=kse(),s=i[e];let r;try{this.options.useWorkerFetch?r=await aA(`${this.options.standardFontDataUrl}${s}`):r=await this.handler.sendWithPromise("FetchBinaryData",{type:"standardFontDataFactory",filename:s})}catch(a){return W(a),null}return this.standardFontDataCache.set(e,r),new Vn(r)}async buildFormXObject(e,n,i,s,r,a,o){const l=n.dict,c=vu(l.getArray("Matrix"),null),u=Tl(l.getArray("BBox"),null);let d,p;l.has("OC")&&(d=await this.parseMarkedContentProps(l.get("OC"),e)),d!==void 0&&s.addOp(z.beginMarkedContentProps,["OC",d]);const g=l.get("Group");if(g){p={matrix:c,bbox:u,smask:i,isolated:!1,knockout:!1};const b=g.get("S");let v=null;if(ti(b,"Transparency")&&(p.isolated=g.get("I")||!1,p.knockout=g.get("K")||!1,g.has("CS"))){const S=this._getColorSpace(g.getRaw("CS"),e,o);v=S instanceof Ss?S:await this._handleColorSpace(S)}i!=null&&i.backdrop&&(v||(v=Gt.rgb),i.backdrop=v.getRgb(i.backdrop,0)),s.addOp(z.beginGroup,[p])}const m=g?[c,null]:[c,u];s.addOp(z.paintFormXObjectBegin,m),await this.getOperatorList({stream:n,task:r,resources:l.get("Resources")||e,operatorList:s,initialState:a}),s.addOp(z.paintFormXObjectEnd,[]),g&&s.addOp(z.endGroup,[p]),d!==void 0&&s.addOp(z.endMarkedContent,[])}_sendImgData(e,n,i=!1){const s=n?[n.bitmap||n.data.buffer]:null;return this.parsingType3Font||i?this.handler.send("commonobj",[e,"Image",n],s):this.handler.send("obj",[e,this.pageIndex,"Image",n],s)}async buildPaintImageXObject({resources:e,image:n,isInline:i=!1,operatorList:s,cacheKey:r,localImageCache:a,localColorSpaceCache:o}){const l=n.dict,c=l.objId,u=l.get("W","Width"),d=l.get("H","Height");if(!(u&&typeof u=="number")||!(d&&typeof d=="number")){W("Image dimensions are missing, or not numbers.");return}const p=this.options.maxImageSize;if(p!==-1&&u*d>p){const T="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){W(T);return}throw new Error(T)}let g;l.has("OC")&&(g=await this.parseMarkedContentProps(l.get("OC"),e));const m=l.get("IM","ImageMask")||!1;let b,v,S;if(m){const T=l.get("I","Interpolate"),P=u+7>>3,R=n.getBytes(P*d),D=l.getArray("D","Decode");if(this.parsingType3Font){if(b=S1.createRawMask({imgArray:R,width:u,height:d,imageIsFromDecodeStream:n instanceof zs,inverseDecode:(D==null?void 0:D[0])>0,interpolate:T}),b.cached=!!r,v=z.paintImageMaskXObject,S=[b],s.addImageOps(v,S,g),r){const B={fn:v,args:S,optionalContent:g};a.set(r,c,B),c&&this._regionalImageCache.set(null,c,B)}return}if(b=await S1.createMask({imgArray:R,width:u,height:d,imageIsFromDecodeStream:n instanceof zs,inverseDecode:(D==null?void 0:D[0])>0,interpolate:T,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),b.isSingleOpaquePixel){if(v=z.paintSolidColorImageMask,S=[],s.addImageOps(v,S,g),r){const B={fn:v,args:S,optionalContent:g};a.set(r,c,B),c&&this._regionalImageCache.set(null,c,B)}return}const O=`mask_${this.idFactory.createObjId()}`;if(s.addDependency(O),b.dataLen=b.bitmap?b.width*b.height*4:b.data.length,this._sendImgData(O,b),v=z.paintImageMaskXObject,S=[{data:O,width:b.width,height:b.height,interpolate:b.interpolate,count:1}],s.addImageOps(v,S,g),r){const B={objId:O,fn:v,args:S,optionalContent:g};a.set(r,c,B),c&&this._regionalImageCache.set(null,c,B)}return}const C=200,E=l.has("SMask")||l.has("Mask");if(i&&u+d<C&&!E){try{b=await new S1({xref:this.xref,res:e,image:n,isInline:i,pdfFunctionFactory:this._pdfFunctionFactory,globalColorSpaceCache:this.globalColorSpaceCache,localColorSpaceCache:o}).createImageData(!0,!1),s.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,s.addImageOps(z.paintInlineImageXObject,[b],g)}catch(T){const P=`Unable to decode inline image: "${T}".`;if(!this.options.ignoreErrors)throw new Error(P);W(P)}return}let w=`img_${this.idFactory.createObjId()}`,A=!1;if(this.parsingType3Font?w=`${this.idFactory.getDocId()}_type3_${w}`:r&&c&&(A=this.globalImageCache.shouldCache(c,this.pageIndex),A&&(bs(!i,"Cannot cache an inline image globally."),w=`${this.idFactory.getDocId()}_${w}`)),s.addDependency(w),v=z.paintImageXObject,S=[w,u,d],s.addImageOps(v,S,g,E),A){if(this.globalImageCache.hasDecodeFailed(c)){this.globalImageCache.setData(c,{objId:w,fn:v,args:S,optionalContent:g,hasMask:E,byteSize:0}),this._sendImgData(w,null,A);return}if(u*d>25e4||E){const T=await this.handler.sendWithPromise("commonobj",[w,"CopyLocalImage",{imageRef:c}]);if(T){this.globalImageCache.setData(c,{objId:w,fn:v,args:S,optionalContent:g,hasMask:E,byteSize:0}),this.globalImageCache.addByteSize(c,T);return}}}if(S1.buildImage({xref:this.xref,res:e,image:n,isInline:i,pdfFunctionFactory:this._pdfFunctionFactory,globalColorSpaceCache:this.globalColorSpaceCache,localColorSpaceCache:o}).then(async T=>(b=await T.createImageData(!1,this.options.isOffscreenCanvasSupported),b.dataLen=b.bitmap?b.width*b.height*4:b.data.length,b.ref=c,A&&this.globalImageCache.addByteSize(c,b.dataLen),this._sendImgData(w,b,A))).catch(T=>(W(`Unable to decode image "${w}": "${T}".`),c&&this.globalImageCache.addDecodeFailed(c),this._sendImgData(w,null,A))),r){const T={objId:w,fn:v,args:S,optionalContent:g,hasMask:E};a.set(r,c,T),c&&(this._regionalImageCache.set(null,c,T),A&&this.globalImageCache.setData(c,{objId:w,fn:v,args:S,optionalContent:g,hasMask:E,byteSize:0}))}}handleSMask(e,n,i,s,r,a){const o=e.get("G"),l={subtype:e.get("S").name,backdrop:e.get("BC")},c=e.get("TR");if($w(c)){const u=this._pdfFunctionFactory.create(c),d=new Uint8Array(256),p=new Float32Array(1);for(let g=0;g<256;g++)p[0]=g/255,u(p,0,p,0),d[g]=p[0]*255|0;l.transferMap=d}return this.buildFormXObject(n,o,l,i,s,r.state.clone({newPath:!0}),a)}handleTransferFunction(e){let n;if(Array.isArray(e))n=e;else if($w(e))n=[e];else return null;const i=[];let s=0,r=0;for(const a of n){const o=this.xref.fetchIfRef(a);if(s++,ti(o,"Identity")){i.push(null);continue}else if(!$w(o))return null;const l=this._pdfFunctionFactory.create(o),c=new Uint8Array(256),u=new Float32Array(1);for(let d=0;d<256;d++)u[0]=d/255,l(u,0,u,0),c[d]=u[0]*255|0;i.push(c),r++}return!(s===1||s===4)||r===0?null:i}handleTilingType(e,n,i,s,r,a,o,l){const c=new Dr,u=J.merge({xref:this.xref,dictArray:[r.get("Resources"),i]});return this.getOperatorList({stream:s,task:o,resources:u,operatorList:c}).then(function(){const d=c.getIR(),p=FN(d,r,n);a.addDependencies(c.dependencies),a.addOp(e,p),r.objId&&l.set(null,r.objId,{operatorListIR:d,dict:r})}).catch(d=>{if(!(d instanceof hs)){if(this.options.ignoreErrors){W(`handleTilingType - ignoring pattern: "${d}".`);return}throw d}})}async handleSetFont(e,n,i,s,r,a,o=null,l=null){const c=(n==null?void 0:n[0])instanceof le?n[0].name:null,u=await this.loadFont(c,i,e,r,o,l);return u.font.isType3Font&&s.addDependencies(u.type3Dependencies),a.font=u.font,u.send(this.handler),u.loadedName}handleText(e,n){const i=n.font,s=i.charsToGlyphs(e);return i.data&&(n.textRenderingMode&gO.ADD_TO_PATH_FLAG||n.fillColorSpace.name==="Pattern"||i.disableFontFace)&&Cl.buildFontPaths(i,s,this.handler,this.options),s}ensureStateFont(e){if(e.font)return;const n=new me("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){W(`ensureStateFont: "${n}".`);return}throw n}async setGState({resources:e,gState:n,operatorList:i,cacheKey:s,task:r,stateManager:a,localGStateCache:o,localColorSpaceCache:l}){const c=n.objId;let u=!0;const d=[];let p=Promise.resolve();for(const[g,m]of n)switch(g){case"Type":break;case"LW":if(typeof m!="number"){W(`Invalid LW (line width): ${m}`);break}d.push([g,Math.abs(m)]);break;case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":d.push([g,m]);break;case"Font":u=!1,p=p.then(()=>this.handleSetFont(e,null,m[0],i,r,a.state).then(function(v){i.addDependency(v),d.push([g,[v,m[1]]])}));break;case"BM":d.push([g,dB(m)]);break;case"SMask":if(ti(m,"None")){d.push([g,!1]);break}m instanceof J?(u=!1,p=p.then(()=>this.handleSMask(m,e,i,r,a,l)),d.push([g,!0])):W("Unsupported SMask type");break;case"TR":const b=this.handleTransferFunction(m);d.push([g,b]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":Pt("graphic state operator "+g);break;default:Pt("Unknown graphic state operator "+g);break}await p,d.length>0&&i.addOp(z.setGState,[d]),u&&o.set(s,c,d)}loadFont(e,n,i,s,r=null,a=null){var v;const o=async()=>new Hw({loadedName:"g_font_error",font:new NN(`Font "${e}" is not available.`),dict:n});let l;if(n)n instanceof Be&&(l=n);else{const S=i.get("Font");S&&(l=S.getRaw(e))}if(l){if((v=this.type3FontRefs)!=null&&v.has(l))return o();if(this.fontCache.has(l))return this.fontCache.get(l);try{n=this.xref.fetchIfRef(l)}catch(S){W(`loadFont - lookup failed: "${S}".`)}}if(!(n instanceof J)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return W(`Font "${e}" is not available.`),o();W(`Font "${e}" is not available -- attempting to fallback to a default font.`),n=r||Cl.fallbackFontDict}if(n.cacheKey&&this.fontCache.has(n.cacheKey))return this.fontCache.get(n.cacheKey);const{promise:c,resolve:u}=Promise.withResolvers();let d;try{d=this.preEvaluateFont(n),d.cssFontInfo=a}catch(S){return W(`loadFont - preEvaluateFont failed: "${S}".`),o()}const{descriptor:p,hash:g}=d,m=l instanceof Be;let b;if(g&&p instanceof J){const S=p.fontAliases||(p.fontAliases=Object.create(null));if(S[g]){const C=S[g].aliasRef;if(m&&C&&this.fontCache.has(C))return this.fontCache.putAlias(l,C),this.fontCache.get(l)}else S[g]={fontID:this.idFactory.createFontId()};m&&(S[g].aliasRef=l),b=S[g].fontID}else b=this.idFactory.createFontId();return bs(b==null?void 0:b.startsWith("f"),'The "fontID" must be (correctly) defined.'),m?this.fontCache.put(l,c):(n.cacheKey=`cacheKey_${b}`,this.fontCache.put(n.cacheKey,c)),n.loadedName=`${this.idFactory.getDocId()}_${b}`,this.translateFont(d).then(async S=>{const C=new Hw({loadedName:n.loadedName,font:S,dict:n});if(S.isType3Font)try{await C.loadType3Data(this,i,s)}catch(E){throw new Error(`Type3 font load error: ${E}`)}u(C)}).catch(S=>{W(`loadFont - translateFont failed: "${S}".`),u(new Hw({loadedName:n.loadedName,font:new NN(S==null?void 0:S.message),dict:n}))}),c}buildPath(e,n,i){const{pathMinMax:s,pathBuffer:r}=i;switch(e|0){case z.rectangle:{const a=i.currentPointX=n[0],o=i.currentPointY=n[1],l=n[2],c=n[3],u=a+l,d=o+c;l===0||c===0?r.push(Vs.moveTo,a,o,Vs.lineTo,u,d,Vs.closePath):r.push(Vs.moveTo,a,o,Vs.lineTo,u,o,Vs.lineTo,u,d,Vs.lineTo,a,d,Vs.closePath),rn.rectBoundingBox(a,o,u,d,s);break}case z.moveTo:{const a=i.currentPointX=n[0],o=i.currentPointY=n[1];r.push(Vs.moveTo,a,o),rn.pointBoundingBox(a,o,s);break}case z.lineTo:{const a=i.currentPointX=n[0],o=i.currentPointY=n[1];r.push(Vs.lineTo,a,o),rn.pointBoundingBox(a,o,s);break}case z.curveTo:{const a=i.currentPointX,o=i.currentPointY,[l,c,u,d,p,g]=n;i.currentPointX=p,i.currentPointY=g,r.push(Vs.curveTo,l,c,u,d,p,g),rn.bezierBoundingBox(a,o,l,c,u,d,p,g,s);break}case z.curveTo2:{const a=i.currentPointX,o=i.currentPointY,[l,c,u,d]=n;i.currentPointX=u,i.currentPointY=d,r.push(Vs.curveTo,a,o,l,c,u,d),rn.bezierBoundingBox(a,o,a,o,l,c,u,d,s);break}case z.curveTo3:{const a=i.currentPointX,o=i.currentPointY,[l,c,u,d]=n;i.currentPointX=u,i.currentPointY=d,r.push(Vs.curveTo,l,c,u,d,u,d),rn.bezierBoundingBox(a,o,l,c,u,d,u,d,s);break}case z.closePath:r.push(Vs.closePath);break}}_getColorSpace(e,n,i){return Gt.parse({cs:e,xref:this.xref,resources:n,pdfFunctionFactory:this._pdfFunctionFactory,globalColorSpaceCache:this.globalColorSpaceCache,localColorSpaceCache:i,asyncIfNotCached:!0})}async _handleColorSpace(e){try{return await e}catch(n){if(n instanceof hs)return null;if(this.options.ignoreErrors)return W(`_handleColorSpace - ignoring ColorSpace: "${n}".`),null;throw n}}parseShading({shading:e,resources:n,localColorSpaceCache:i,localShadingPatternCache:s}){let r=s.get(e);if(r)return r;let a;try{a=fre.parseShading(e,this.xref,n,this._pdfFunctionFactory,this.globalColorSpaceCache,i).getIR()}catch(o){if(o instanceof hs)return null;if(this.options.ignoreErrors)return W(`parseShading - ignoring shading: "${o}".`),s.set(e,null),null;throw o}return r=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(r=`${this.idFactory.getDocId()}_type3_${r}`),s.set(e,r),this.parsingType3Font?this.handler.send("commonobj",[r,"Pattern",a]):this.handler.send("obj",[r,this.pageIndex,"Pattern",a]),r}handleColorN(e,n,i,s,r,a,o,l,c,u){const d=i.pop();if(d instanceof le){const p=r.getRaw(d.name),g=p instanceof Be&&c.getByRef(p);if(g)try{const b=s.base?s.base.getRgb(i,0):null,v=FN(g.operatorListIR,g.dict,b);e.addOp(n,v);return}catch{}const m=this.xref.fetchIfRef(p);if(m){const b=m instanceof _t?m.dict:m,v=b.get("PatternType");if(v===WN.TILING){const S=s.base?s.base.getRgb(i,0):null;return this.handleTilingType(n,S,a,m,b,e,o,c)}else if(v===WN.SHADING){const S=b.get("Shading"),C=this.parseShading({shading:S,resources:a,localColorSpaceCache:l,localShadingPatternCache:u});if(C){const E=vu(b.getArray("Matrix"),null);e.addOp(n,["Shading",C,E])}return}throw new me(`Unknown PatternType: ${v}`)}}throw new me(`Unknown PatternName: ${d}`)}_parseVisibilityExpression(e,n,i){if(++n>10){W("Visibility expression is too deeply nested");return}const r=e.length,a=this.xref.fetchIfRef(e[0]);if(r<2||!(a instanceof le)){W("Invalid visibility expression");return}switch(a.name){case"And":case"Or":case"Not":i.push(a.name);break;default:W(`Invalid operator ${a.name} in visibility expression`);return}for(let o=1;o<r;o++){const l=e[o],c=this.xref.fetchIfRef(l);if(Array.isArray(c)){const u=[];i.push(u),this._parseVisibilityExpression(c,n,u)}else l instanceof Be&&i.push(l.toString())}}async parseMarkedContentProps(e,n){var r;let i;if(e instanceof le)i=n.get("Properties").get(e.name);else if(e instanceof J)i=e;else throw new me("Optional content properties malformed.");const s=(r=i.get("Type"))==null?void 0:r.name;if(s==="OCG")return{type:s,id:i.objId};if(s==="OCMD"){const a=i.get("VE");if(Array.isArray(a)){const l=[];if(this._parseVisibilityExpression(a,0,l),l.length>0)return{type:"OCMD",expression:l}}const o=i.get("OCGs");if(Array.isArray(o)||o instanceof J){const l=[];if(Array.isArray(o))for(const c of o)l.push(c.toString());else l.push(o.objId);return{type:s,ids:l,policy:i.get("P")instanceof le?i.get("P").name:null,expression:null}}else if(o instanceof Be)return{type:s,id:o.toString()}}return null}getOperatorList({stream:e,task:n,resources:i,operatorList:s,initialState:r=null,fallbackFontDict:a=null}){if(i||(i=J.empty),r||(r=new gB),!s)throw new Error('getOperatorList: missing "operatorList" parameter');const o=this,l=this.xref,c=new MN,u=new oB,d=new DN,p=new nae,g=new Map,m=i.get("XObject")||J.empty,b=i.get("Pattern")||J.empty,v=new y5(r),S=new dg(e,l,v),C=new s8;function E(w){for(let A=0,T=S.savedStatesDepth;A<T;A++)s.addOp(z.restore,[])}return new Promise(function w(A,T){const P=function(Q){Promise.all([Q,s.ready]).then(function(){try{w(A,T)}catch(G){T(G)}},T)};n.ensureNotTerminated(),C.reset();const R={};let D,O,B,U,V,ee;for(;!(D=C.check())&&(R.args=null,!!S.read(R));){let Q=R.args,G=R.fn;switch(G|0){case z.paintXObject:if(ee=Q[0]instanceof le,V=Q[0].name,ee){const re=c.getByName(V);if(re){zw(s,re),Q=null;continue}}P(new Promise(function(re,Ee){if(!ee)throw new me("XObject must be referred to by name.");let Re=m.getRaw(V);if(Re instanceof Be){const K=c.getByRef(Re)||o._regionalImageCache.getByRef(Re);if(K){zw(s,K),re();return}const Z=o.globalImageCache.getData(Re,o.pageIndex);if(Z){s.addDependency(Z.objId),s.addImageOps(Z.fn,Z.args,Z.optionalContent,Z.hasMask),re();return}Re=l.fetch(Re)}if(!(Re instanceof _t))throw new me("XObject should be a stream");const we=Re.dict.get("Subtype");if(!(we instanceof le))throw new me("XObject should have a Name subtype");if(we.name==="Form"){v.save(),o.buildFormXObject(i,Re,null,s,n,v.state.clone({newPath:!0}),u).then(function(){v.restore(),re()},Ee);return}else if(we.name==="Image"){o.buildPaintImageXObject({resources:i,image:Re,operatorList:s,cacheKey:V,localImageCache:c,localColorSpaceCache:u}).then(re,Ee);return}else if(we.name==="PS")Pt("Ignored XObject subtype PS");else throw new me(`Unhandled XObject subtype ${we.name}`);re()}).catch(function(re){if(!(re instanceof hs)){if(o.options.ignoreErrors){W(`getOperatorList - ignoring XObject: "${re}".`);return}throw re}}));return;case z.setFont:const $=Q[1];P(o.handleSetFont(i,Q,null,s,n,v.state,a).then(function(re){s.addDependency(re),s.addOp(z.setFont,[re,$])}));return;case z.endInlineImage:const ie=Q[0].cacheKey;if(ie){const re=c.getByName(ie);if(re){zw(s,re),Q=null;continue}}P(o.buildPaintImageXObject({resources:i,image:Q[0],isInline:!0,operatorList:s,cacheKey:ie,localImageCache:c,localColorSpaceCache:u}));return;case z.showText:if(!v.state.font){o.ensureStateFont(v.state);continue}Q[0]=o.handleText(Q[0],v.state);break;case z.showSpacedText:if(!v.state.font){o.ensureStateFont(v.state);continue}const he=[],pe=v.state;for(const re of Q[0])typeof re=="string"?he.push(...o.handleText(re,pe)):typeof re=="number"&&he.push(re);Q[0]=he,G=z.showText;break;case z.nextLineShowText:if(!v.state.font){o.ensureStateFont(v.state);continue}s.addOp(z.nextLine),Q[0]=o.handleText(Q[0],v.state),G=z.showText;break;case z.nextLineSetSpacingShowText:if(!v.state.font){o.ensureStateFont(v.state);continue}s.addOp(z.nextLine),s.addOp(z.setWordSpacing,[Q.shift()]),s.addOp(z.setCharSpacing,[Q.shift()]),Q[0]=o.handleText(Q[0],v.state),G=z.showText;break;case z.setTextRenderingMode:v.state.textRenderingMode=Q[0];break;case z.setFillColorSpace:{const re=o._getColorSpace(Q[0],i,u);if(re instanceof Ss){v.state.fillColorSpace=re;continue}P(o._handleColorSpace(re).then(Ee=>{v.state.fillColorSpace=Ee||Gt.gray}));return}case z.setStrokeColorSpace:{const re=o._getColorSpace(Q[0],i,u);if(re instanceof Ss){v.state.strokeColorSpace=re;continue}P(o._handleColorSpace(re).then(Ee=>{v.state.strokeColorSpace=Ee||Gt.gray}));return}case z.setFillColor:U=v.state.fillColorSpace,Q=U.getRgb(Q,0),G=z.setFillRGBColor;break;case z.setStrokeColor:U=v.state.strokeColorSpace,Q=U.getRgb(Q,0),G=z.setStrokeRGBColor;break;case z.setFillGray:v.state.fillColorSpace=Gt.gray,Q=Gt.gray.getRgb(Q,0),G=z.setFillRGBColor;break;case z.setStrokeGray:v.state.strokeColorSpace=Gt.gray,Q=Gt.gray.getRgb(Q,0),G=z.setStrokeRGBColor;break;case z.setFillCMYKColor:v.state.fillColorSpace=Gt.cmyk,Q=Gt.cmyk.getRgb(Q,0),G=z.setFillRGBColor;break;case z.setStrokeCMYKColor:v.state.strokeColorSpace=Gt.cmyk,Q=Gt.cmyk.getRgb(Q,0),G=z.setStrokeRGBColor;break;case z.setFillRGBColor:v.state.fillColorSpace=Gt.rgb,Q=Gt.rgb.getRgb(Q,0);break;case z.setStrokeRGBColor:v.state.strokeColorSpace=Gt.rgb,Q=Gt.rgb.getRgb(Q,0);break;case z.setFillColorN:if(U=v.state.patternFillColorSpace,!U){if(lr(Q,null)){Q=Gt.gray.getRgb(Q,0),G=z.setFillRGBColor;break}Q=[],G=z.setFillTransparent;break}if(U.name==="Pattern"){P(o.handleColorN(s,z.setFillColorN,Q,U,b,i,n,u,p,g));return}Q=U.getRgb(Q,0),G=z.setFillRGBColor;break;case z.setStrokeColorN:if(U=v.state.patternStrokeColorSpace,!U){if(lr(Q,null)){Q=Gt.gray.getRgb(Q,0),G=z.setStrokeRGBColor;break}Q=[],G=z.setStrokeTransparent;break}if(U.name==="Pattern"){P(o.handleColorN(s,z.setStrokeColorN,Q,U,b,i,n,u,p,g));return}Q=U.getRgb(Q,0),G=z.setStrokeRGBColor;break;case z.shadingFill:let X;try{const re=i.get("Shading");if(!re)throw new me("No shading resource found");if(X=re.get(Q[0].name),!X)throw new me("No shading object found")}catch(re){if(re instanceof hs)continue;if(o.options.ignoreErrors){W(`getOperatorList - ignoring Shading: "${re}".`);continue}throw re}const te=o.parseShading({shading:X,resources:i,localColorSpaceCache:u,localShadingPatternCache:g});if(!te)continue;Q=[te],G=z.shadingFill;break;case z.setGState:if(ee=Q[0]instanceof le,V=Q[0].name,ee){const re=d.getByName(V);if(re){re.length>0&&s.addOp(z.setGState,[re]),Q=null;continue}}P(new Promise(function(re,Ee){if(!ee)throw new me("GState must be referred to by name.");const Re=i.get("ExtGState");if(!(Re instanceof J))throw new me("ExtGState should be a dictionary.");const we=Re.get(V);if(!(we instanceof J))throw new me("GState should be a dictionary.");o.setGState({resources:i,gState:we,operatorList:s,cacheKey:V,task:n,stateManager:v,localGStateCache:d,localColorSpaceCache:u}).then(re,Ee)}).catch(function(re){if(!(re instanceof hs)){if(o.options.ignoreErrors){W(`getOperatorList - ignoring ExtGState: "${re}".`);return}throw re}}));return;case z.setLineWidth:{const[re]=Q;if(typeof re!="number"){W(`Invalid setLineWidth: ${re}`);continue}Q[0]=Math.abs(re);break}case z.moveTo:case z.lineTo:case z.curveTo:case z.curveTo2:case z.curveTo3:case z.closePath:case z.rectangle:o.buildPath(G,Q,v.state);continue;case z.stroke:case z.closeStroke:case z.fill:case z.eoFill:case z.fillStroke:case z.eoFillStroke:case z.closeFillStroke:case z.closeEOFillStroke:case z.endPath:{const{state:{pathBuffer:re,pathMinMax:Ee}}=v;(G===z.closeStroke||G===z.closeFillStroke||G===z.closeEOFillStroke)&&re.push(Vs.closePath),re.length===0?s.addOp(z.constructPath,[G,[null],null]):(s.addOp(z.constructPath,[G,[new Float32Array(re)],Ee.slice()]),re.length=0,Ee.set([1/0,1/0,-1/0,-1/0],0));continue}case z.markPoint:case z.markPointProps:case z.beginCompat:case z.endCompat:continue;case z.beginMarkedContentProps:if(!(Q[0]instanceof le)){W(`Expected name for beginMarkedContentProps arg0=${Q[0]}`),s.addOp(z.beginMarkedContentProps,["OC",null]);continue}if(Q[0].name==="OC"){P(o.parseMarkedContentProps(Q[1],i).then(re=>{s.addOp(z.beginMarkedContentProps,["OC",re])}).catch(re=>{if(!(re instanceof hs)){if(o.options.ignoreErrors){W(`getOperatorList - ignoring beginMarkedContentProps: "${re}".`),s.addOp(z.beginMarkedContentProps,["OC",null]);return}throw re}}));return}Q=[Q[0].name,Q[1]instanceof J?Q[1].get("MCID"):null];break;case z.beginMarkedContent:case z.endMarkedContent:default:if(Q!==null){for(O=0,B=Q.length;O<B&&!(Q[O]instanceof J);O++);if(O<B){W("getOperatorList - ignoring operator: "+G);continue}}}s.addOp(G,Q)}if(D){P(VN);return}E(),A()}).catch(w=>{if(!(w instanceof hs)){if(this.options.ignoreErrors){W(`getOperatorList - ignoring errors during "${n.name}" task: "${w}".`),E();return}throw w}})}getTextContent({stream:e,task:n,resources:i,stateManager:s=null,includeMarkedContent:r=!1,sink:a,seenStyles:o=new Set,viewBox:l,lang:c=null,markedContentData:u=null,disableNormalization:d=!1,keepWhiteSpace:p=!1}){i||(i=J.empty),s||(s=new y5(new Aae)),r&&(u||(u={level:0}));const g={items:[],styles:Object.create(null),lang:c},m={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},b=[" "," "];let v=0;function S(ye){const xe=(v+1)%2,se=b[v]!==" "&&b[xe]===" ";return b[v]=ye,v=xe,!p&&se}function C(){return!p&&b[v]!==" "&&b[(v+1)%2]===" "}function E(){b[0]=b[1]=" ",v=0}const w=.102,A=.03,T=-.2,P=.102,R=.6,D=.25,O=this,B=this.xref,U=[];let V=null;const ee=new MN,Q=new DN,G=new dg(e,B,s);let $;function ie({width:ye=0,height:xe=0,transform:se=m.prevTransform,fontName:Ue=m.fontName}){g.items.push({str:" ",dir:"ltr",width:ye,height:xe,transform:se,fontName:Ue,hasEOL:!1})}function he(){const ye=$.font,xe=[$.fontSize*$.textHScale,0,0,$.fontSize,0,$.textRise];if(ye.isType3Font&&($.fontSize<=1||ye.isCharBBox)&&!Ux($.fontMatrix,Jd)){const se=ye.bbox[3]-ye.bbox[1];se>0&&(xe[3]*=se*$.fontMatrix[3])}return rn.transform($.ctm,rn.transform($.textMatrix,xe))}function pe(){if(m.initialized)return m;const{font:ye,loadedName:xe}=$;if(!o.has(xe)&&(o.add(xe),g.styles[xe]={fontFamily:ye.fallbackName,ascent:ye.ascent,descent:ye.descent,vertical:ye.vertical},O.options.fontExtraProperties&&ye.systemFontInfo)){const Xe=g.styles[xe];Xe.fontSubstitution=ye.systemFontInfo.css,Xe.fontSubstitutionLoadedName=ye.systemFontInfo.loadedName}m.fontName=xe;const se=m.transform=he();ye.vertical?(m.width=m.totalWidth=Math.hypot(se[0],se[1]),m.height=m.totalHeight=0,m.vertical=!0):(m.width=m.totalWidth=0,m.height=m.totalHeight=Math.hypot(se[2],se[3]),m.vertical=!1);const Ue=Math.hypot($.textLineMatrix[0],$.textLineMatrix[1]),Ve=Math.hypot($.ctm[0],$.ctm[1]);m.textAdvanceScale=Ve*Ue;const{fontSize:Ke}=$;return m.trackingSpaceMin=Ke*w,m.notASpace=Ke*A,m.negativeSpaceMax=Ke*T,m.spaceInFlowMin=Ke*P,m.spaceInFlowMax=Ke*R,m.hasEOL=!1,m.initialized=!0,m}function X(){if(!m.initialized)return;const ye=Math.hypot($.textLineMatrix[0],$.textLineMatrix[1]),se=Math.hypot($.ctm[0],$.ctm[1])*ye;se!==m.textAdvanceScale&&(m.vertical?(m.totalHeight+=m.height*m.textAdvanceScale,m.height=0):(m.totalWidth+=m.width*m.textAdvanceScale,m.width=0),m.textAdvanceScale=se)}function te(ye){let xe=ye.str.join("");d||(xe=xne(xe));const se=uB(xe,-1,ye.vertical);return{str:se.str,dir:se.dir,width:Math.abs(ye.totalWidth),height:Math.abs(ye.totalHeight),transform:ye.transform,fontName:ye.fontName,hasEOL:ye.hasEOL}}async function re(ye,xe){const se=await O.loadFont(ye,xe,i,n);$.loadedName=se.loadedName,$.font=se.font,$.fontMatrix=se.font.fontMatrix||Jd}function Ee(ye,xe,se){const Ue=Math.hypot(se[0],se[1]);return[(se[0]*ye+se[1]*xe)/Ue,(se[2]*ye+se[3]*xe)/Ue]}function Re(ye){var ce;const xe=he();let se=xe[4],Ue=xe[5];if((ce=$.font)!=null&&ce.vertical){if(se<l[0]||se>l[2]||Ue+ye<l[1]||Ue>l[3])return!1}else if(se+ye<l[0]||se>l[2]||Ue<l[1]||Ue>l[3])return!1;if(!$.font||!m.prevTransform)return!0;let Ve=m.prevTransform[4],Ke=m.prevTransform[5];if(Ve===se&&Ke===Ue)return!0;let Xe=-1;switch(xe[0]&&xe[1]===0&&xe[2]===0?Xe=xe[0]>0?0:180:xe[1]&&xe[0]===0&&xe[3]===0&&(Xe=xe[1]>0?90:270),Xe){case 0:break;case 90:[se,Ue]=[Ue,se],[Ve,Ke]=[Ke,Ve];break;case 180:[se,Ue,Ve,Ke]=[-se,-Ue,-Ve,-Ke];break;case 270:[se,Ue]=[-Ue,-se],[Ve,Ke]=[-Ke,-Ve];break;default:[se,Ue]=Ee(se,Ue,xe),[Ve,Ke]=Ee(Ve,Ke,m.prevTransform)}if($.font.vertical){const ge=(Ke-Ue)/m.textAdvanceScale,Te=se-Ve,Ne=Math.sign(m.height);return ge<Ne*m.negativeSpaceMax?Math.abs(Te)>.5*m.width?(K(),!0):(E(),oe(),!0):Math.abs(Te)>m.width?(K(),!0):(ge<=Ne*m.notASpace&&E(),ge<=Ne*m.trackingSpaceMin?C()?(E(),oe(),ie({height:Math.abs(ge)})):m.height+=ge:Z(ge,m.prevTransform,Ne)||(m.str.length===0?(E(),ie({height:Math.abs(ge)})):m.height+=ge),Math.abs(Te)>m.width*D&&oe(),!0)}const He=(se-Ve)/m.textAdvanceScale,Le=Ue-Ke,tt=Math.sign(m.width);return He<tt*m.negativeSpaceMax?Math.abs(Le)>.5*m.height?(K(),!0):(E(),oe(),!0):Math.abs(Le)>m.height?(K(),!0):(He<=tt*m.notASpace&&E(),He<=tt*m.trackingSpaceMin?C()?(E(),oe(),ie({width:Math.abs(He)})):m.width+=He:Z(He,m.prevTransform,tt)||(m.str.length===0?(E(),ie({width:Math.abs(He)})):m.width+=He),Math.abs(Le)>m.height*D&&oe(),!0)}function we({chars:ye,extraSpacing:xe}){const se=$.font;if(!ye){const Ke=$.charSpacing+xe;Ke&&(se.vertical?$.translateTextMatrix(0,-Ke):$.translateTextMatrix(Ke*$.textHScale,0)),p&&Re(0);return}const Ue=se.charsToGlyphs(ye),Ve=$.fontMatrix[0]*$.fontSize;for(let Ke=0,Xe=Ue.length;Ke<Xe;Ke++){const He=Ue[Ke],{category:Le}=He;if(Le.isInvisibleFormatMark)continue;let tt=$.charSpacing+(Ke+1===Xe?xe:0),ce=He.width;se.vertical&&(ce=He.vmetric?He.vmetric[0]:-ce);let ge=ce*Ve;if(!p&&Le.isWhitespace){se.vertical?(tt+=-ge+$.wordSpacing,$.translateTextMatrix(0,-tt)):(tt+=ge+$.wordSpacing,$.translateTextMatrix(tt*$.textHScale,0)),S(" ");continue}if(!Le.isZeroWidthDiacritic&&!Re(ge)){se.vertical?$.translateTextMatrix(0,ge):$.translateTextMatrix(ge*$.textHScale,0);continue}const Te=pe();Le.isZeroWidthDiacritic&&(ge=0),se.vertical?($.translateTextMatrix(0,ge),ge=Math.abs(ge),Te.height+=ge):(ge*=$.textHScale,$.translateTextMatrix(ge,0),Te.width+=ge),ge&&(Te.prevTransform=he());const Ne=He.unicode;S(Ne)&&Te.str.push(" "),Te.str.push(Ne),tt&&(se.vertical?$.translateTextMatrix(0,-tt):$.translateTextMatrix(tt*$.textHScale,0))}}function K(){E(),m.initialized?(m.hasEOL=!0,oe()):g.items.push({str:"",dir:"ltr",width:0,height:0,transform:he(),fontName:$.loadedName,hasEOL:!0})}function Z(ye,xe,se){if(se*m.spaceInFlowMin<=ye&&ye<=se*m.spaceInFlowMax)return m.initialized&&(E(),m.str.push(" ")),!1;const Ue=m.fontName;let Ve=0;return m.vertical&&(Ve=ye,ye=0),oe(),E(),ie({width:Math.abs(ye),height:Math.abs(Ve),transform:xe||he(),fontName:Ue}),!0}function oe(){!m.initialized||!m.str||(m.vertical?m.totalHeight+=m.height*m.textAdvanceScale:m.totalWidth+=m.width*m.textAdvanceScale,g.items.push(te(m)),m.initialized=!1,m.str.length=0)}function de(ye=!1){const xe=g.items.length;xe!==0&&(ye&&xe<Sae||(a.enqueue(g,xe),g.items=[],g.styles=Object.create(null)))}const Ie=new s8;return new Promise(function ye(xe,se){const Ue=function(tt){de(!0),Promise.all([tt,a.ready]).then(function(){try{ye(xe,se)}catch(ce){se(ce)}},se)};n.ensureNotTerminated(),Ie.reset();const Ve={};let Ke,Xe,He,Le=[];for(;!(Ke=Ie.check())&&(Le.length=0,Ve.args=Le,!!G.read(Ve));){const tt=$;$=s.state;const ce=Ve.fn;switch(Le=Ve.args,ce|0){case z.setFont:const ge=Le[0].name,Te=Le[1];if($.font&&ge===$.fontName&&Te===$.fontSize)break;oe(),$.fontName=ge,$.fontSize=Te,Ue(re(ge,null));return;case z.setTextRise:$.textRise=Le[0];break;case z.setHScale:$.textHScale=Le[0]/100;break;case z.setLeading:$.leading=Le[0];break;case z.moveText:$.translateTextLineMatrix(Le[0],Le[1]),$.textMatrix=$.textLineMatrix.slice();break;case z.setLeadingMoveText:$.leading=-Le[1],$.translateTextLineMatrix(Le[0],Le[1]),$.textMatrix=$.textLineMatrix.slice();break;case z.nextLine:$.carriageReturn();break;case z.setTextMatrix:$.setTextMatrix(Le[0],Le[1],Le[2],Le[3],Le[4],Le[5]),$.setTextLineMatrix(Le[0],Le[1],Le[2],Le[3],Le[4],Le[5]),X();break;case z.setCharSpacing:$.charSpacing=Le[0];break;case z.setWordSpacing:$.wordSpacing=Le[0];break;case z.beginText:$.textMatrix=Do.slice(),$.textLineMatrix=Do.slice();break;case z.showSpacedText:if(!s.state.font){O.ensureStateFont(s.state);continue}const Ne=($.font.vertical?1:-1)*$.fontSize/1e3,Ye=Le[0];for(let Pe=0,nt=Ye.length;Pe<nt;Pe++){const Qe=Ye[Pe];if(typeof Qe=="string")U.push(Qe);else if(typeof Qe=="number"&&Qe!==0){const vt=U.join("");U.length=0,we({chars:vt,extraSpacing:Qe*Ne})}}if(U.length>0){const Pe=U.join("");U.length=0,we({chars:Pe,extraSpacing:0})}break;case z.showText:if(!s.state.font){O.ensureStateFont(s.state);continue}we({chars:Le[0],extraSpacing:0});break;case z.nextLineShowText:if(!s.state.font){O.ensureStateFont(s.state);continue}$.carriageReturn(),we({chars:Le[0],extraSpacing:0});break;case z.nextLineSetSpacingShowText:if(!s.state.font){O.ensureStateFont(s.state);continue}$.wordSpacing=Le[0],$.charSpacing=Le[1],$.carriageReturn(),we({chars:Le[2],extraSpacing:0});break;case z.paintXObject:if(oe(),V??(V=i.get("XObject")||J.empty),He=Le[0]instanceof le,Xe=Le[0].name,He&&ee.getByName(Xe))break;Ue(new Promise(function(Pe,nt){if(!He)throw new me("XObject must be referred to by name.");let Qe=V.getRaw(Xe);if(Qe instanceof Be){if(ee.getByRef(Qe)){Pe();return}if(O.globalImageCache.getData(Qe,O.pageIndex)){Pe();return}Qe=B.fetch(Qe)}if(!(Qe instanceof _t))throw new me("XObject should be a stream");const vt=Qe.dict.get("Subtype");if(!(vt instanceof le))throw new me("XObject should have a Name subtype");if(vt.name!=="Form"){ee.set(Xe,Qe.dict.objId,!0),Pe();return}const jt=s.state.clone(),bi=new y5(jt),gr=vu(Qe.dict.getArray("Matrix"),null);gr&&bi.transform(gr),de();const $l={enqueueInvoked:!1,enqueue(_f,Ku){this.enqueueInvoked=!0,a.enqueue(_f,Ku)},get desiredSize(){return a.desiredSize},get ready(){return a.ready}};O.getTextContent({stream:Qe,task:n,resources:Qe.dict.get("Resources")||i,stateManager:bi,includeMarkedContent:r,sink:$l,seenStyles:o,viewBox:l,lang:c,markedContentData:u,disableNormalization:d,keepWhiteSpace:p}).then(function(){$l.enqueueInvoked||ee.set(Xe,Qe.dict.objId,!0),Pe()},nt)}).catch(function(Pe){if(!(Pe instanceof hs)){if(O.options.ignoreErrors){W(`getTextContent - ignoring XObject: "${Pe}".`);return}throw Pe}}));return;case z.setGState:if(He=Le[0]instanceof le,Xe=Le[0].name,He&&Q.getByName(Xe))break;Ue(new Promise(function(Pe,nt){if(!He)throw new me("GState must be referred to by name.");const Qe=i.get("ExtGState");if(!(Qe instanceof J))throw new me("ExtGState should be a dictionary.");const vt=Qe.get(Xe);if(!(vt instanceof J))throw new me("GState should be a dictionary.");const jt=vt.get("Font");if(!jt){Q.set(Xe,vt.objId,!0),Pe();return}oe(),$.fontName=null,$.fontSize=jt[1],re(null,jt[0]).then(Pe,nt)}).catch(function(Pe){if(!(Pe instanceof hs)){if(O.options.ignoreErrors){W(`getTextContent - ignoring ExtGState: "${Pe}".`);return}throw Pe}}));return;case z.beginMarkedContent:oe(),r&&(u.level++,g.items.push({type:"beginMarkedContent",tag:Le[0]instanceof le?Le[0].name:null}));break;case z.beginMarkedContentProps:if(oe(),r){u.level++;let Pe=null;Le[1]instanceof J&&(Pe=Le[1].get("MCID")),g.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Pe)?`${O.idFactory.getPageObjId()}_mc${Pe}`:null,tag:Le[0]instanceof le?Le[0].name:null})}break;case z.endMarkedContent:if(oe(),r){if(u.level===0)break;u.level--,g.items.push({type:"endMarkedContent"})}break;case z.restore:tt&&(tt.font!==$.font||tt.fontSize!==$.fontSize||tt.fontName!==$.fontName)&&oe();break}if(g.items.length>=a.desiredSize){Ke=!0;break}}if(Ke){Ue(VN);return}oe(),de(),xe()}).catch(ye=>{if(!(ye instanceof hs)){if(this.options.ignoreErrors){W(`getTextContent - ignoring errors during "${n.name}" task: "${ye}".`),oe(),de();return}throw ye}})}async extractDataStructures(e,n){const i=this.xref;let s;const r=this.readToUnicode(n.toUnicode);if(n.composite){const p=e.get("CIDSystemInfo");p instanceof J&&(n.cidSystemInfo={registry:Wt(p.get("Registry")),ordering:Wt(p.get("Ordering")),supplement:p.get("Supplement")});try{const g=e.get("CIDToGIDMap");g instanceof _t&&(s=g.getBytes())}catch(g){if(!this.options.ignoreErrors)throw g;W(`extractDataStructures - ignoring CIDToGIDMap data: "${g}".`)}}const a=[];let o=null,l;if(e.has("Encoding")){if(l=e.get("Encoding"),l instanceof J){if(o=l.get("BaseEncoding"),o=o instanceof le?o.name:null,l.has("Differences")){const p=l.get("Differences");let g=0;for(const m of p){const b=i.fetchIfRef(m);if(typeof b=="number")g=b;else if(b instanceof le)a[g++]=b.name;else throw new me(`Invalid entry in 'Differences' array: ${b}`)}}}else if(l instanceof le)o=l.name;else{const p="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new me(p);W(p)}o!=="MacRomanEncoding"&&o!=="MacExpertEncoding"&&o!=="WinAnsiEncoding"&&(o=null)}const c=!n.file||n.isInternalFont,u=CA()[n.name];if(o&&c&&u&&(o=null),o)n.defaultEncoding=Gx(o);else{const p=!!(n.flags&Eo.Symbolic),g=!!(n.flags&Eo.Nonsymbolic);l=zc,n.type==="TrueType"&&!g&&(l=qx),(p||u)&&(l=Jk,c&&(/Symbol/i.test(n.name)?l=Qk:/Dingbats/i.test(n.name)?l=eC:/Wingdings/i.test(n.name)&&(l=qx))),n.defaultEncoding=l}n.differences=a,n.baseEncodingName=o,n.hasEncoding=!!o||a.length>0,n.dict=e,n.toUnicode=await r;const d=await this.buildToUnicode(n);return n.toUnicode=d,s&&(n.cidToGidMap=this.readCidToGidMap(s,d)),n}_simpleFontToUnicode(e,n=!1){bs(!e.composite,"Must be a simple font.");const i=[],s=e.defaultEncoding.slice(),r=e.baseEncodingName,a=e.differences;for(const l in a){const c=a[l];c!==".notdef"&&(s[l]=c)}const o=kl();for(const l in s){let c=s[l];if(c==="")continue;let u=o[c];if(u!==void 0){i[l]=String.fromCharCode(u);continue}let d=0;switch(c[0]){case"G":c.length===3&&(d=parseInt(c.substring(1),16));break;case"g":c.length===5&&(d=parseInt(c.substring(1),16));break;case"C":case"c":if(c.length>=3&&c.length<=4){const p=c.substring(1);if(n){d=parseInt(p,16);break}if(d=+p,Number.isNaN(d)&&Number.isInteger(parseInt(p,16)))return this._simpleFontToUnicode(e,!0)}break;case"u":u=ug(c,o),u!==-1&&(d=u);break;default:switch(c){case"f_h":case"f_t":case"T_h":i[l]=c.replaceAll("_","");continue}break}if(d>0&&d<=1114111&&Number.isInteger(d)){if(r&&d===+l){const p=Gx(r);if(p&&(c=p[l])){i[l]=String.fromCharCode(o[c]);continue}}i[l]=String.fromCodePoint(d)}}return i}async buildToUnicode(e){var n,i;if(e.hasIncludedToUnicodeMap=((n=e.toUnicode)==null?void 0:n.length)>0,e.hasIncludedToUnicodeMap)return!e.composite&&e.hasEncoding&&(e.fallbackToUnicode=this._simpleFontToUnicode(e)),e.toUnicode;if(!e.composite)return new rx(this._simpleFontToUnicode(e));if(e.composite&&(e.cMap.builtInCMap&&!(e.cMap instanceof L1)||((i=e.cidSystemInfo)==null?void 0:i.registry)==="Adobe"&&(e.cidSystemInfo.ordering==="GB1"||e.cidSystemInfo.ordering==="CNS1"||e.cidSystemInfo.ordering==="Japan1"||e.cidSystemInfo.ordering==="Korea1"))){const{registry:s,ordering:r}=e.cidSystemInfo,a=le.get(`${s}-${r}-UCS2`),o=await Qb.create({encoding:a,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),l=[],c=[];return e.cMap.forEach(function(u,d){if(d>65535)throw new me("Max size of CID is 65,535");const p=o.lookup(d);if(p){c.length=0;for(let g=0,m=p.length;g<m;g+=2)c.push((p.charCodeAt(g)<<8)+p.charCodeAt(g+1));l[u]=String.fromCharCode(...c)}}),new rx(l)}return new qa(e.firstChar,e.lastChar)}async readToUnicode(e){if(!e)return null;if(e instanceof le){const n=await Qb.create({encoding:e,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});return n instanceof L1?new qa(0,65535):new rx(n.getMap())}if(e instanceof _t)try{const n=await Qb.create({encoding:e,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});if(n instanceof L1)return new qa(0,65535);const i=new Array(n.length);return n.forEach(function(s,r){if(typeof r=="number"){i[s]=String.fromCodePoint(r);return}r.length%2!==0&&(r="\0"+r);const a=[];for(let o=0;o<r.length;o+=2){const l=r.charCodeAt(o)<<8|r.charCodeAt(o+1);if((l&63488)!==55296){a.push(l);continue}o+=2;const c=r.charCodeAt(o)<<8|r.charCodeAt(o+1);a.push(((l&1023)<<10)+(c&1023)+65536)}i[s]=String.fromCodePoint(...a)}),new rx(i)}catch(n){if(n instanceof hs)return null;if(this.options.ignoreErrors)return W(`readToUnicode - ignoring ToUnicode data: "${n}".`),null;throw n}return null}readCidToGidMap(e,n){const i=[];for(let s=0,r=e.length;s<r;s++){const a=e[s++]<<8|e[s],o=s>>1;a===0&&!n.has(o)||(i[o]=a)}return i}extractWidths(e,n,i){const s=this.xref;let r=[],a=0;const o=[];let l;if(i.composite){const d=e.get("DW");a=typeof d=="number"?Math.ceil(d):1e3;const p=e.get("W");if(Array.isArray(p))for(let g=0,m=p.length;g<m;g++){let b=s.fetchIfRef(p[g++]);if(!Number.isInteger(b))break;const v=s.fetchIfRef(p[g]);if(Array.isArray(v))for(const S of v){const C=s.fetchIfRef(S);typeof C=="number"&&(r[b]=C),b++}else if(Number.isInteger(v)){const S=s.fetchIfRef(p[++g]);if(typeof S!="number")continue;for(let C=b;C<=v;C++)r[C]=S}else break}if(i.vertical){const g=e.getArray("DW2");let m=lr(g,2)?g:[880,-1e3];if(l=[m[1],a*.5,m[0]],m=e.get("W2"),Array.isArray(m))for(let b=0,v=m.length;b<v;b++){let S=s.fetchIfRef(m[b++]);if(!Number.isInteger(S))break;const C=s.fetchIfRef(m[b]);if(Array.isArray(C))for(let E=0,w=C.length;E<w;E++){const A=[s.fetchIfRef(C[E++]),s.fetchIfRef(C[E++]),s.fetchIfRef(C[E])];lr(A,null)&&(o[S]=A),S++}else if(Number.isInteger(C)){const E=[s.fetchIfRef(m[++b]),s.fetchIfRef(m[++b]),s.fetchIfRef(m[++b])];if(!lr(E,null))continue;for(let w=S;w<=C;w++)o[w]=E}else break}}}else{const d=e.get("Widths");if(Array.isArray(d)){let p=i.firstChar;for(const m of d){const b=s.fetchIfRef(m);typeof b=="number"&&(r[p]=b),p++}const g=n.get("MissingWidth");a=typeof g=="number"?g:0}else{const p=e.get("BaseFont");if(p instanceof le){const g=this.getBaseFontMetrics(p.name);r=this.buildCharCodeToWidth(g.widths,i),a=g.defaultWidth}}}let c=!0,u=a;for(const d in r){const p=r[d];if(p){if(!u){u=p;continue}if(u!==p){c=!1;break}}}c?i.flags|=Eo.FixedPitch:i.flags&=-2,i.defaultWidth=a,i.widths=r,i.defaultVMetrics=l,i.vmetrics=o}isSerifFont(e){const n=e.split("-",1)[0];return n in iC()||/serif/gi.test(n)}getBaseFontMetrics(e){let n=0,i=Object.create(null),s=!1,a=F6()[e]||e;const o=Mse();a in o||(a=this.isSerifFont(e)?"Times-Roman":"Helvetica");const l=o[a];return typeof l=="number"?(n=l,s=!0):i=l(),{defaultWidth:n,monospace:s,widths:i}}buildCharCodeToWidth(e,n){const i=Object.create(null),s=n.differences,r=n.defaultEncoding;for(let a=0;a<256;a++){if(a in s&&e[s[a]]){i[a]=e[s[a]];continue}if(a in r&&e[r[a]]){i[a]=e[r[a]];continue}}return i}preEvaluateFont(e){const n=e;let i=e.get("Subtype");if(!(i instanceof le))throw new me("invalid font Subtype");let s=!1,r;if(i.name==="Type0"){const u=e.get("DescendantFonts");if(!u)throw new me("Descendant fonts are not specified");if(e=Array.isArray(u)?this.xref.fetchIfRef(u[0]):u,!(e instanceof J))throw new me("Descendant font is not a dictionary.");if(i=e.get("Subtype"),!(i instanceof le))throw new me("invalid font Subtype");s=!0}let a=e.get("FirstChar");Number.isInteger(a)||(a=0);let o=e.get("LastChar");Number.isInteger(o)||(o=s?65535:255);const l=e.get("FontDescriptor"),c=e.get("ToUnicode")||n.get("ToUnicode");if(l){r=new yae;const u=n.getRaw("Encoding");if(u instanceof le)r.update(u.name);else if(u instanceof Be)r.update(u.toString());else if(u instanceof J){for(const p of u.getRawValues())if(p instanceof le)r.update(p.name);else if(p instanceof Be)r.update(p.toString());else if(Array.isArray(p)){const g=p.length,m=new Array(g);for(let b=0;b<g;b++){const v=p[b];v instanceof le?m[b]=v.name:(typeof v=="number"||v instanceof Be)&&(m[b]=v.toString())}r.update(m.join())}}if(r.update(`${a}-${o}`),c instanceof _t){const p=c.str||c,g=p.buffer?new Uint8Array(p.buffer.buffer,0,p.bufferLength):new Uint8Array(p.bytes.buffer,p.start,p.end-p.start);r.update(g)}else c instanceof le&&r.update(c.name);const d=e.get("Widths")||n.get("Widths");if(Array.isArray(d)){const p=[];for(const g of d)(typeof g=="number"||g instanceof Be)&&p.push(g.toString());r.update(p.join())}if(s){r.update("compositeFont");const p=e.get("W")||n.get("W");if(Array.isArray(p)){const m=[];for(const b of p)if(typeof b=="number"||b instanceof Be)m.push(b.toString());else if(Array.isArray(b)){const v=[];for(const S of b)(typeof S=="number"||S instanceof Be)&&v.push(S.toString());m.push(`[${v.join()}]`)}r.update(m.join())}const g=e.getRaw("CIDToGIDMap")||n.getRaw("CIDToGIDMap");g instanceof le?r.update(g.name):g instanceof Be?r.update(g.toString()):g instanceof _t&&r.update(g.peekBytes())}}return{descriptor:l,dict:e,baseDict:n,composite:s,type:i.name,firstChar:a,lastChar:o,toUnicode:c,hash:r?r.hexdigest():""}}async translateFont({descriptor:e,dict:n,baseDict:i,composite:s,type:r,firstChar:a,lastChar:o,toUnicode:l,cssFontInfo:c}){const u=r==="Type3";if(!e)if(u){const $=Tl(n.getArray("FontBBox"),[0,0,0,0]);e=new J(null),e.set("FontName",le.get(r)),e.set("FontBBox",$)}else{let $=n.get("BaseFont");if(!($ instanceof le))throw new me("Base font is not specified");$=$.name.replaceAll(/[,_]/g,"-");const ie=this.getBaseFontMetrics($),he=$.split("-",1)[0],pe=(this.isSerifFont(he)?Eo.Serif:0)|(ie.monospace?Eo.FixedPitch:0)|(CA()[he]?Eo.Symbolic:Eo.Nonsymbolic),X={type:r,name:$,loadedName:i.loadedName,systemFontInfo:null,widths:ie.widths,defaultWidth:ie.defaultWidth,isSimulatedFlags:!0,flags:pe,firstChar:a,lastChar:o,toUnicode:l,xHeight:0,capHeight:0,italicAngle:0,isType3Font:u},te=n.get("Widths"),re=fN($);let Ee=null;re&&(Ee=await this.fetchStandardFontData(re),X.isInternalFont=!!Ee),!X.isInternalFont&&this.options.useSystemFonts&&(X.systemFontInfo=HN(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,$,re,r));const Re=await this.extractDataStructures(n,X);if(Array.isArray(te)){const we=[];let K=a;for(const Z of te){const oe=this.xref.fetchIfRef(Z);typeof oe=="number"&&(we[K]=oe),K++}Re.widths=we}else Re.widths=this.buildCharCodeToWidth(ie.widths,Re);return new PN($,Ee,Re,this.options)}let d=e.get("FontName"),p=n.get("BaseFont");typeof d=="string"&&(d=le.get(d)),typeof p=="string"&&(p=le.get(p));const g=d==null?void 0:d.name,m=p==null?void 0:p.name;if(!u&&g!==m&&(Pt(`The FontDescriptor's FontName is "${g}" but should be the same as the Font's BaseFont "${m}".`),g&&m&&(m.startsWith(g)||!pN(g)&&pN(m))&&(d=null)),d||(d=p),!(d instanceof le))throw new me("invalid font name");let b,v,S,C,E;try{if(b=e.get("FontFile","FontFile2","FontFile3"),b)if(b instanceof _t){if(b.isEmpty)throw new me("FontFile is empty")}else throw new me("FontFile should be a stream")}catch($){if(!this.options.ignoreErrors)throw $;W(`translateFont - fetching "${d.name}" font file: "${$}".`),b=null}let w=!1,A=null,T=null;if(b){if(b.dict){const $=b.dict.get("Subtype");$ instanceof le&&(v=$.name),S=b.dict.get("Length1"),C=b.dict.get("Length2"),E=b.dict.get("Length3")}}else if(c){const $=oC(d.name);$&&(c.fontFamily=`${c.fontFamily}-PdfJS-XFA`,c.metrics=$.metrics||null,A=$.factors||null,b=await this.fetchStandardFontData($.name),w=!!b,i=n=aB(d.name),s=!0)}else if(!u){const $=fN(d.name);$&&(b=await this.fetchStandardFontData($),w=!!b),!w&&this.options.useSystemFonts&&(T=HN(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,d.name,$,r))}const P=vu(n.getArray("FontMatrix"),Jd),R=Tl(e.getArray("FontBBox")||n.getArray("FontBBox"),void 0);let D=e.get("Ascent");typeof D!="number"&&(D=void 0);let O=e.get("Descent");typeof O!="number"&&(O=void 0);let B=e.get("XHeight");typeof B!="number"&&(B=0);let U=e.get("CapHeight");typeof U!="number"&&(U=0);let V=e.get("Flags");Number.isInteger(V)||(V=0);let ee=e.get("ItalicAngle");typeof ee!="number"&&(ee=0);const Q={type:r,name:d.name,subtype:v,file:b,length1:S,length2:C,length3:E,isInternalFont:w,loadedName:i.loadedName,composite:s,fixedPitch:!1,fontMatrix:P,firstChar:a,lastChar:o,toUnicode:l,bbox:R,ascent:D,descent:O,xHeight:B,capHeight:U,flags:V,italicAngle:ee,isType3Font:u,cssFontInfo:c,scaleFactors:A,systemFontInfo:T};if(s){const $=i.get("Encoding");$ instanceof le&&(Q.cidEncoding=$.name);const ie=await Qb.create({encoding:$,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Q.cMap=ie,Q.vertical=Q.cMap.vertical}const G=await this.extractDataStructures(n,Q);return this.extractWidths(n,e,G),new PN(d.name,b,G,this.options)}static buildFontPaths(e,n,i,s){function r(a){const o=`${e.loadedName}_path_${a}`;try{if(e.renderer.hasBuiltPath(a))return;i.send("commonobj",[o,"FontPath",e.renderer.getPathJs(a)])}catch(l){if(s.ignoreErrors){W(`buildFontPaths - ignoring ${o} glyph: "${l}".`);return}throw l}}for(const a of n){r(a.fontChar);const o=a.accent;o!=null&&o.fontChar&&r(o.fontChar)}}static get fallbackFontDict(){const e=new J;return e.set("BaseFont",le.get("Helvetica")),e.set("Type",le.get("FallbackType")),e.set("Subtype",le.get("FallbackType")),e.set("Encoding",le.get("WinAnsiEncoding")),Fe(this,"fallbackFontDict",e)}}var B9,Wd,xg,fB,pB;class Hw{constructor({loadedName:e,font:n,dict:i}){L(this,xg);L(this,B9,!1);L(this,Wd,null);this.loadedName=e,this.font=n,this.dict=i,this.type3Dependencies=n.isType3Font?new Set:null}send(e){x(this,B9)||(F(this,B9,!0),e.send("commonobj",[this.loadedName,"Font",this.font.exportData()]))}fallback(e,n){this.font.data&&(this.font.disableFontFace=!0,Cl.buildFontPaths(this.font,this.font.glyphCacheValues,e,n))}loadType3Data(e,n,i){if(x(this,Wd))return x(this,Wd);const{font:s,type3Dependencies:r}=this;bs(s.isType3Font,"Must be a Type3 font.");const a=e.clone({ignoreErrors:!1}),o=new Bi(e.type3FontRefs);this.dict.objId&&!o.has(this.dict.objId)&&o.put(this.dict.objId),a.type3FontRefs=o;let l=Promise.resolve();const c=this.dict.get("CharProcs"),u=this.dict.get("Resources")||n,d=Object.create(null),p=rn.normalizeRect(s.bbox||[0,0,0,0]),g=p[2]-p[0],m=p[3]-p[1],b=Math.hypot(g,m);for(const v of c.getKeys())l=l.then(()=>{const S=c.get(v),C=new Dr;return a.getOperatorList({stream:S,task:i,resources:u,operatorList:C}).then(()=>{switch(C.fnArray[0]){case z.setCharWidthAndBounds:M(this,xg,fB).call(this,C,b);break;case z.setCharWidth:b||M(this,xg,pB).call(this,C);break}d[v]=C.getIR();for(const E of C.dependencies)r.add(E)}).catch(function(E){W(`Type3 font resource "${v}" is not available.`);const w=new Dr;d[v]=w.getIR()})});return F(this,Wd,l.then(()=>{s.charProcOperatorList=d,this._bbox&&(s.isCharBBox=!0,s.bbox=this._bbox)})),x(this,Wd)}}B9=new WeakMap,Wd=new WeakMap,xg=new WeakSet,fB=function(e,n=NaN){const i=rn.normalizeRect(e.argsArray[0].slice(2)),s=i[2]-i[0],r=i[3]-i[1],a=Math.hypot(s,r);s===0||r===0?(e.fnArray.splice(0,1),e.argsArray.splice(0,1)):(n===0||Math.round(a/n)>=10)&&(this._bbox??(this._bbox=[1/0,1/0,-1/0,-1/0]),rn.rectBoundingBox(...i,this._bbox));let o=0,l=e.length;for(;o<l;){switch(e.fnArray[o]){case z.setCharWidthAndBounds:break;case z.setStrokeColorSpace:case z.setFillColorSpace:case z.setStrokeColor:case z.setStrokeColorN:case z.setFillColor:case z.setFillColorN:case z.setStrokeGray:case z.setFillGray:case z.setStrokeRGBColor:case z.setFillRGBColor:case z.setStrokeCMYKColor:case z.setFillCMYKColor:case z.shadingFill:case z.setRenderingIntent:e.fnArray.splice(o,1),e.argsArray.splice(o,1),l--;continue;case z.setGState:const[c]=e.argsArray[o];let u=0,d=c.length;for(;u<d;){const[p]=c[u];switch(p){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":c.splice(u,1),d--;continue}u++}break}o++}},pB=function(e){let n=1;const i=e.length;for(;n<i;){switch(e.fnArray[n]){case z.constructPath:const s=e.argsArray[n][2];this._bbox??(this._bbox=[1/0,1/0,-1/0,-1/0]),rn.rectBoundingBox(...s,this._bbox);break}n++}};class y5{constructor(e=new gB){this.state=e,this.stateStack=[]}save(){const e=this.state;this.stateStack.push(this.state),this.state=e.clone()}restore(){const e=this.stateStack.pop();e&&(this.state=e)}transform(e){this.state.ctm=rn.transform(this.state.ctm,e)}}class Aae{constructor(){this.ctm=new Float32Array(Do),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=Jd,this.textMatrix=Do.slice(),this.textLineMatrix=Do.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(e,n,i,s,r,a){const o=this.textMatrix;o[0]=e,o[1]=n,o[2]=i,o[3]=s,o[4]=r,o[5]=a}setTextLineMatrix(e,n,i,s,r,a){const o=this.textLineMatrix;o[0]=e,o[1]=n,o[2]=i,o[3]=s,o[4]=r,o[5]=a}translateTextMatrix(e,n){const i=this.textMatrix;i[4]=i[0]*e+i[2]*n+i[4],i[5]=i[1]*e+i[3]*n+i[5]}translateTextLineMatrix(e,n){const i=this.textLineMatrix;i[4]=i[0]*e+i[2]*n+i[4],i[5]=i[1]*e+i[3]*n+i[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const e=Object.create(this);return e.textMatrix=this.textMatrix.slice(),e.textLineMatrix=this.textLineMatrix.slice(),e.fontMatrix=this.fontMatrix.slice(),e}}class gB{constructor(){this.ctm=new Float32Array(Do),this.font=null,this.textRenderingMode=gO.FILL,this._fillColorSpace=this._strokeColorSpace=Gt.gray,this.patternFillColorSpace=null,this.patternStrokeColorSpace=null,this.currentPointX=this.currentPointY=0,this.pathMinMax=new Float32Array([1/0,1/0,-1/0,-1/0]),this.pathBuffer=[]}get fillColorSpace(){return this._fillColorSpace}set fillColorSpace(e){this._fillColorSpace=this.patternFillColorSpace=e}get strokeColorSpace(){return this._strokeColorSpace}set strokeColorSpace(e){this._strokeColorSpace=this.patternStrokeColorSpace=e}clone({newPath:e=!1}={}){const n=Object.create(this);return e&&(n.pathBuffer=[],n.pathMinMax=new Float32Array([1/0,1/0,-1/0,-1/0])),n}}const I1=class I1{static get opMap(){return Fe(this,"opMap",Object.assign(Object.create(null),{w:{id:z.setLineWidth,numArgs:1,variableArgs:!1},J:{id:z.setLineCap,numArgs:1,variableArgs:!1},j:{id:z.setLineJoin,numArgs:1,variableArgs:!1},M:{id:z.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:z.setDash,numArgs:2,variableArgs:!1},ri:{id:z.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:z.setFlatness,numArgs:1,variableArgs:!1},gs:{id:z.setGState,numArgs:1,variableArgs:!1},q:{id:z.save,numArgs:0,variableArgs:!1},Q:{id:z.restore,numArgs:0,variableArgs:!1},cm:{id:z.transform,numArgs:6,variableArgs:!1},m:{id:z.moveTo,numArgs:2,variableArgs:!1},l:{id:z.lineTo,numArgs:2,variableArgs:!1},c:{id:z.curveTo,numArgs:6,variableArgs:!1},v:{id:z.curveTo2,numArgs:4,variableArgs:!1},y:{id:z.curveTo3,numArgs:4,variableArgs:!1},h:{id:z.closePath,numArgs:0,variableArgs:!1},re:{id:z.rectangle,numArgs:4,variableArgs:!1},S:{id:z.stroke,numArgs:0,variableArgs:!1},s:{id:z.closeStroke,numArgs:0,variableArgs:!1},f:{id:z.fill,numArgs:0,variableArgs:!1},F:{id:z.fill,numArgs:0,variableArgs:!1},"f*":{id:z.eoFill,numArgs:0,variableArgs:!1},B:{id:z.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:z.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:z.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:z.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:z.endPath,numArgs:0,variableArgs:!1},W:{id:z.clip,numArgs:0,variableArgs:!1},"W*":{id:z.eoClip,numArgs:0,variableArgs:!1},BT:{id:z.beginText,numArgs:0,variableArgs:!1},ET:{id:z.endText,numArgs:0,variableArgs:!1},Tc:{id:z.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:z.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:z.setHScale,numArgs:1,variableArgs:!1},TL:{id:z.setLeading,numArgs:1,variableArgs:!1},Tf:{id:z.setFont,numArgs:2,variableArgs:!1},Tr:{id:z.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:z.setTextRise,numArgs:1,variableArgs:!1},Td:{id:z.moveText,numArgs:2,variableArgs:!1},TD:{id:z.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:z.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:z.nextLine,numArgs:0,variableArgs:!1},Tj:{id:z.showText,numArgs:1,variableArgs:!1},TJ:{id:z.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:z.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:z.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:z.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:z.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:z.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:z.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:z.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:z.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:z.setFillColor,numArgs:4,variableArgs:!0},scn:{id:z.setFillColorN,numArgs:33,variableArgs:!0},G:{id:z.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:z.setFillGray,numArgs:1,variableArgs:!1},RG:{id:z.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:z.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:z.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:z.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:z.shadingFill,numArgs:1,variableArgs:!1},BI:{id:z.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:z.beginImageData,numArgs:0,variableArgs:!1},EI:{id:z.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:z.paintXObject,numArgs:1,variableArgs:!1},MP:{id:z.markPoint,numArgs:1,variableArgs:!1},DP:{id:z.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:z.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:z.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:z.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:z.beginCompat,numArgs:0,variableArgs:!1},EX:{id:z.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null}))}constructor(e,n,i=new y5){this.parser=new E0({lexer:new To(e,I1.opMap),xref:n}),this.stateManager=i,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(e){let n=e.args;for(;;){const i=this.parser.getObj();if(i instanceof gi){const s=i.cmd,r=I1.opMap[s];if(!r){W(`Unknown command "${s}".`);continue}const a=r.id,o=r.numArgs;let l=n!==null?n.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=a>=z.moveTo&&a<=z.endPath,r.variableArgs)l>o&&Pt(`Command ${s}: expected [0, ${o}] args, but received ${l} args.`);else{if(l!==o){const c=this.nonProcessedArgs;for(;l>o;)c.push(n.shift()),l--;for(;l<o&&c.length!==0;)n===null&&(n=[]),n.unshift(c.pop()),l++}if(l<o){const c=`command ${s}: expected ${o} args, but received ${l} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>I1.MAX_INVALID_PATH_OPS)throw new me(`Invalid ${c}`);W(`Skipping ${c}`),n!==null&&(n.length=0);continue}}return this.preprocessCommand(a,n),e.fn=a,e.args=n,!0}if(i===Ji)return!1;if(i!==null&&(n===null&&(n=[]),n.push(i),n.length>33))throw new me("Too many arguments")}}preprocessCommand(e,n){switch(e|0){case z.save:this.stateManager.save();break;case z.restore:this.stateManager.restore();break;case z.transform:this.stateManager.transform(n);break}}};qe(I1,"MAX_INVALID_PATH_OPS",10);let dg=I1;class kae extends dg{constructor(e){super(new hr(e))}parse(){const e={fn:0,args:[]},n={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;e.args.length=0,!!this.read(e);){if(this.savedStatesDepth!==0)continue;const{fn:i,args:s}=e;switch(i|0){case z.setFont:const[r,a]=s;r instanceof le&&(n.fontName=r.name),typeof a=="number"&&a>0&&(n.fontSize=a);break;case z.setFillRGBColor:Gt.rgb.getRgbItem(s,0,n.fontColor,0);break;case z.setFillGray:Gt.gray.getRgbItem(s,0,n.fontColor,0);break;case z.setFillCMYKColor:Gt.cmyk.getRgbItem(s,0,n.fontColor,0);break}}}catch(i){W(`parseDefaultAppearance - ignoring errors: "${i}".`)}return n}}function cC(t){return new kae(t).parse()}class Cae extends dg{constructor(e,n,i,s){var r;super(e),this.stream=e,this.evaluatorOptions=n,this.xref=i,this.globalColorSpaceCache=s,this.resources=(r=e.dict)==null?void 0:r.get("Resources")}parse(){const e={fn:0,args:[]};let n={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:Gt.gray},i=!1;const s=[];try{for(;e.args.length=0,!(i||!this.read(e));){const{fn:r,args:a}=e;switch(r|0){case z.save:s.push({scaleFactor:n.scaleFactor,fontSize:n.fontSize,fontName:n.fontName,fontColor:n.fontColor.slice(),fillColorSpace:n.fillColorSpace});break;case z.restore:n=s.pop()||n;break;case z.setTextMatrix:n.scaleFactor*=Math.hypot(a[0],a[1]);break;case z.setFont:const[o,l]=a;o instanceof le&&(n.fontName=o.name),typeof l=="number"&&l>0&&(n.fontSize=l*n.scaleFactor);break;case z.setFillColorSpace:n.fillColorSpace=Gt.parse({cs:a[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,globalColorSpaceCache:this.globalColorSpaceCache,localColorSpaceCache:this._localColorSpaceCache});break;case z.setFillColor:n.fillColorSpace.getRgbItem(a,0,n.fontColor,0);break;case z.setFillRGBColor:Gt.rgb.getRgbItem(a,0,n.fontColor,0);break;case z.setFillGray:Gt.gray.getRgbItem(a,0,n.fontColor,0);break;case z.setFillCMYKColor:Gt.cmyk.getRgbItem(a,0,n.fontColor,0);break;case z.showText:case z.showSpacedText:case z.nextLineShowText:case z.nextLineSetSpacingShowText:i=!0;break}}}catch(r){W(`parseAppearanceStream - ignoring errors: "${r}".`)}return this.stream.reset(),delete n.scaleFactor,delete n.fillColorSpace,n}get _localColorSpaceCache(){return Fe(this,"_localColorSpaceCache",new oB)}get _pdfFunctionFactory(){const e=new cB({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return Fe(this,"_pdfFunctionFactory",e)}}function Eae(t,e,n,i){return new Cae(t,e,n,i).parse()}function Ml(t,e){if(t[0]===t[1]&&t[1]===t[2]){const n=t[0]/255;return`${Lt(n)} ${e?"g":"G"}`}return Array.from(t,n=>Lt(n/255)).join(" ")+` ${e?"rg":"RG"}`}function _ae({fontSize:t,fontName:e,fontColor:n}){return`/${Xk(e)} ${t} Tf ${Ml(n,!0)}`}class Sl{constructor(e,n){this.xref=e,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=n;const i=new OffscreenCanvas(1,1);this.ctxMeasure=i.getContext("2d",{willReadFrequently:!0}),Sl._fontNameId||(Sl._fontNameId=1),this.fontName=le.get(`InvalidPDFjsFont_${n}_${Sl._fontNameId++}`)}get fontDescriptorRef(){if(!Sl._fontDescriptorRef){const e=new J(this.xref);e.set("Type",le.get("FontDescriptor")),e.set("FontName",this.fontName),e.set("FontFamily","MyriadPro Regular"),e.set("FontBBox",[0,0,0,0]),e.set("FontStretch",le.get("Normal")),e.set("FontWeight",400),e.set("ItalicAngle",0),Sl._fontDescriptorRef=this.xref.getNewPersistentRef(e)}return Sl._fontDescriptorRef}get descendantFontRef(){const e=new J(this.xref);e.set("BaseFont",this.fontName),e.set("Type",le.get("Font")),e.set("Subtype",le.get("CIDFontType0")),e.set("CIDToGIDMap",le.get("Identity")),e.set("FirstChar",this.firstChar),e.set("LastChar",this.lastChar),e.set("FontDescriptor",this.fontDescriptorRef),e.set("DW",1e3);const n=[],i=[...this.widths.entries()].sort();let s=null,r=null;for(const[o,l]of i){if(!s){s=o,r=[l];continue}o===s+r.length?r.push(l):(n.push(s,r),s=o,r=[l])}s&&n.push(s,r),e.set("W",n);const a=new J(this.xref);return a.set("Ordering","Identity"),a.set("Registry","Adobe"),a.set("Supplement",0),e.set("CIDSystemInfo",a),this.xref.getNewPersistentRef(e)}get baseFontRef(){const e=new J(this.xref);return e.set("BaseFont",this.fontName),e.set("Type",le.get("Font")),e.set("Subtype",le.get("Type0")),e.set("Encoding",le.get("Identity-H")),e.set("DescendantFonts",[this.descendantFontRef]),e.set("ToUnicode",le.get("Identity-H")),this.xref.getNewPersistentRef(e)}get resources(){const e=new J(this.xref),n=new J(this.xref);return n.set(this.fontName.name,this.baseFontRef),e.set("Font",n),e}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(e){const n=this._createContext();for(const i of e.split(/\r\n?|\n/))for(const s of i.split("")){const r=s.charCodeAt(0);if(this.widths.has(r))continue;const a=n.measureText(s),o=Math.ceil(a.width);this.widths.set(r,o),this.firstChar=Math.min(r,this.firstChar),this.lastChar=Math.max(r,this.lastChar)}return this.resources}static getFirstPositionInfo(e,n,i){const[s,r,a,o]=e;let l=a-s,c=o-r;n%180!==0&&([l,c]=[c,l]);const u=Uc*i,d=Y5*i;return{coords:[0,c+d-u],bbox:[0,0,l,c],matrix:n!==0?e8(n,c,u):void 0}}createAppearance(e,n,i,s,r,a){const o=this._createContext(),l=[];let c=-1/0;for(const V of e.split(/\r\n?|\n/)){l.push(V);const ee=o.measureText(V).width;c=Math.max(c,ee);for(const Q of Tne(V)){const G=String.fromCodePoint(Q);let $=this.widths.get(Q);if($===void 0){const ie=o.measureText(G);$=Math.ceil(ie.width),this.widths.set(Q,$),this.firstChar=Math.min(Q,this.firstChar),this.lastChar=Math.max(Q,this.lastChar)}}}c*=s/1e3;const[u,d,p,g]=n;let m=p-u,b=g-d;i%180!==0&&([m,b]=[b,m]);let v=1;c>m&&(v=m/c);let S=1;const C=Uc*s,E=Y5*s,w=C*l.length;w>b&&(S=b/w);const A=Math.min(v,S),T=s*A,P=["q",`0 0 ${Lt(m)} ${Lt(b)} re W n`,"BT",`1 0 0 1 0 ${Lt(b+E)} Tm 0 Tc ${Ml(r,!0)}`,`/${this.fontName.name} ${Lt(T)} Tf`],{resources:R}=this;if(a=typeof a=="number"&&a>=0&&a<=1?a:1,a!==1){P.push("/R0 gs");const V=new J(this.xref),ee=new J(this.xref);ee.set("ca",a),ee.set("CA",a),ee.set("Type",le.get("ExtGState")),V.set("R0",ee),R.set("ExtGState",V)}const D=Lt(C);for(const V of l)P.push(`0 -${D} Td <${Nne(V)}> Tj`);P.push("ET","Q");const O=P.join(`
`),B=new J(this.xref);if(B.set("Subtype",le.get("Form")),B.set("Type",le.get("XObject")),B.set("BBox",[0,0,m,b]),B.set("Length",O.length),B.set("Resources",R),i){const V=e8(i,m,b);B.set("Matrix",V)}const U=new hr(O);return U.dict=B,U}}class mB{constructor(e,n,i){this.root=e,this.xref=n,this._type=i}getAll(){const e=new Map;if(!this.root)return e;const n=this.xref,i=new Bi;i.put(this.root);const s=[this.root];for(;s.length>0;){const r=n.fetchIfRef(s.shift());if(!(r instanceof J))continue;if(r.has("Kids")){const o=r.get("Kids");if(!Array.isArray(o))continue;for(const l of o){if(i.has(l))throw new me(`Duplicate entry in "${this._type}" tree.`);s.push(l),i.put(l)}continue}const a=r.get(this._type);if(Array.isArray(a))for(let o=0,l=a.length;o<l;o+=2)e.set(n.fetchIfRef(a[o]),n.fetchIfRef(a[o+1]))}return e}getRaw(e){if(!this.root)return null;const n=this.xref;let i=n.fetchIfRef(this.root),s=0;const r=10;for(;i.has("Kids");){if(++s>r)return W(`Search depth limit reached for "${this._type}" tree.`),null;const o=i.get("Kids");if(!Array.isArray(o))return null;let l=0,c=o.length-1;for(;l<=c;){const u=l+c>>1,d=n.fetchIfRef(o[u]),p=d.get("Limits");if(e<n.fetchIfRef(p[0]))c=u-1;else if(e>n.fetchIfRef(p[1]))l=u+1;else{i=d;break}}if(l>c)return null}const a=i.get(this._type);if(Array.isArray(a)){let o=0,l=a.length-2;for(;o<=l;){const c=o+l>>1,u=c+(c&1),d=n.fetchIfRef(a[u]);if(e<d)l=u-2;else if(e>d)o=u+2;else return a[u+1]}}return null}get(e){return this.xref.fetchIfRef(this.getRaw(e))}}class mh extends mB{constructor(e,n){super(e,n,"Names")}}class r8 extends mB{constructor(e,n){super(e,n,"Nums")}}function uC(){xre(),Sne(),Sse(),Co.cleanup()}function XN(t){return t instanceof J?t.has("UF")?t.get("UF"):t.has("F")?t.get("F"):t.has("Unix")?t.get("Unix"):t.has("Mac")?t.get("Mac"):t.has("DOS")?t.get("DOS"):null:null}function Tae(t){return t.substring(t.lastIndexOf("/")+1)}var j9;class MA{constructor(e,n,i=!1){L(this,j9,!1);e instanceof J&&(this.xref=n,this.root=e,e.has("FS")&&(this.fs=e.get("FS")),e.has("RF")&&W("Related file specifications are not supported"),i||(e.has("EF")?F(this,j9,!0):W("Non-embedded file specifications are not supported")))}get filename(){let e="";const n=XN(this.root);return n&&typeof n=="string"&&(e=Wt(n).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")),Fe(this,"filename",e||"unnamed")}get content(){var n;if(!x(this,j9))return null;this._contentRef||(this._contentRef=XN((n=this.root)==null?void 0:n.get("EF")));let e=null;if(this._contentRef){const i=this.xref.fetchIfRef(this._contentRef);i instanceof _t?e=i.getBytes():W("Embedded file specification points to non-existing/invalid content")}else W("Embedded file specification does not have any content");return e}get description(){var i;let e="";const n=(i=this.root)==null?void 0:i.get("Desc");return n&&typeof n=="string"&&(e=Wt(n)),Fe(this,"description",e)}get serializable(){return{rawFilename:this.filename,filename:Tae(this.filename),content:this.content,description:this.description}}}j9=new WeakMap;const Ir={NoError:0,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,UnterminatedElement:-9};function b1(t,e){const n=t[e];return n===" "||n===`
`||n==="\r"||n==="	"}function Iae(t){for(let e=0,n=t.length;e<n;e++)if(!b1(t,e))return!1;return!0}class xB{_resolveEntities(e){return e.replaceAll(/&([^;]+);/g,(n,i)=>{if(i.substring(0,2)==="#x")return String.fromCodePoint(parseInt(i.substring(2),16));if(i.substring(0,1)==="#")return String.fromCodePoint(parseInt(i.substring(1),10));switch(i){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(i)})}_parseContent(e,n){const i=[];let s=n;function r(){for(;s<e.length&&b1(e,s);)++s}for(;s<e.length&&!b1(e,s)&&e[s]!==">"&&e[s]!=="/";)++s;const a=e.substring(n,s);for(r();s<e.length&&e[s]!==">"&&e[s]!=="/"&&e[s]!=="?";){r();let o="",l="";for(;s<e.length&&!b1(e,s)&&e[s]!=="=";)o+=e[s],++s;if(r(),e[s]!=="=")return null;++s,r();const c=e[s];if(c!=='"'&&c!=="'")return null;const u=e.indexOf(c,++s);if(u<0)return null;l=e.substring(s,u),i.push({name:o,value:this._resolveEntities(l)}),s=u+1,r()}return{name:a,attributes:i,parsed:s-n}}_parseProcessingInstruction(e,n){let i=n;function s(){for(;i<e.length&&b1(e,i);)++i}for(;i<e.length&&!b1(e,i)&&e[i]!==">"&&e[i]!=="?"&&e[i]!=="/";)++i;const r=e.substring(n,i);s();const a=i;for(;i<e.length&&(e[i]!=="?"||e[i+1]!==">");)++i;const o=e.substring(a,i);return{name:r,value:o,parsed:i-n}}parseXml(e){let n=0;for(;n<e.length;){const i=e[n];let s=n;if(i==="<"){++s;const r=e[s];let a;switch(r){case"/":if(++s,a=e.indexOf(">",s),a<0){this.onError(Ir.UnterminatedElement);return}this.onEndElement(e.substring(s,a)),s=a+1;break;case"?":++s;const o=this._parseProcessingInstruction(e,s);if(e.substring(s+o.parsed,s+o.parsed+2)!=="?>"){this.onError(Ir.UnterminatedXmlDeclaration);return}this.onPi(o.name,o.value),s+=o.parsed+2;break;case"!":if(e.substring(s+1,s+3)==="--"){if(a=e.indexOf("-->",s+3),a<0){this.onError(Ir.UnterminatedComment);return}this.onComment(e.substring(s+3,a)),s=a+3}else if(e.substring(s+1,s+8)==="[CDATA["){if(a=e.indexOf("]]>",s+8),a<0){this.onError(Ir.UnterminatedCdat);return}this.onCdata(e.substring(s+8,a)),s=a+3}else if(e.substring(s+1,s+8)==="DOCTYPE"){const u=e.indexOf("[",s+8);let d=!1;if(a=e.indexOf(">",s+8),a<0){this.onError(Ir.UnterminatedDoctypeDeclaration);return}if(u>0&&a>u){if(a=e.indexOf("]>",s+8),a<0){this.onError(Ir.UnterminatedDoctypeDeclaration);return}d=!0}const p=e.substring(s+8,a+(d?1:0));this.onDoctype(p),s=a+(d?2:1)}else{this.onError(Ir.MalformedElement);return}break;default:const l=this._parseContent(e,s);if(l===null){this.onError(Ir.MalformedElement);return}let c=!1;if(e.substring(s+l.parsed,s+l.parsed+2)==="/>")c=!0;else if(e.substring(s+l.parsed,s+l.parsed+1)!==">"){this.onError(Ir.UnterminatedElement);return}this.onBeginElement(l.name,l.attributes,c),s+=l.parsed+(c?2:1);break}}else{for(;s<e.length&&e[s]!=="<";)s++;const r=e.substring(n,s);this.onText(this._resolveEntities(r))}n=s}}onResolveEntity(e){return`&${e};`}onPi(e,n){}onComment(e){}onCdata(e){}onDoctype(e){}onText(e){}onBeginElement(e,n,i){}onEndElement(e){}onError(e){}}class bx{constructor(e,n){this.nodeName=e,this.nodeValue=n,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){var e;return(e=this.childNodes)==null?void 0:e[0]}get nextSibling(){const e=this.parentNode.childNodes;if(!e)return;const n=e.indexOf(this);if(n!==-1)return e[n+1]}get textContent(){return this.childNodes?this.childNodes.map(e=>e.textContent).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){var e;return((e=this.childNodes)==null?void 0:e.length)>0}searchNode(e,n){var a;if(n>=e.length)return this;const i=e[n];if(i.name.startsWith("#")&&n<e.length-1)return this.searchNode(e,n+1);const s=[];let r=this;for(;;){if(i.name===r.nodeName)if(i.pos===0){const o=r.searchNode(e,n+1);if(o!==null)return o}else{if(s.length===0)return null;{const[o]=s.pop();let l=0;for(const c of o.childNodes)if(i.name===c.nodeName){if(l===i.pos)return c.searchNode(e,n+1);l++}return r.searchNode(e,n+1)}}if(((a=r.childNodes)==null?void 0:a.length)>0)s.push([r,0]),r=r.childNodes[0];else{if(s.length===0)return null;for(;s.length!==0;){const[o,l]=s.pop(),c=l+1;if(c<o.childNodes.length){s.push([o,c]),r=o.childNodes[c];break}}if(s.length===0)return null}}}dump(e){if(this.nodeName==="#text"){e.push(D1(this.nodeValue));return}if(e.push(`<${this.nodeName}`),this.attributes)for(const n of this.attributes)e.push(` ${n.name}="${D1(n.value)}"`);if(this.hasChildNodes()){e.push(">");for(const n of this.childNodes)n.dump(e);e.push(`</${this.nodeName}>`)}else this.nodeValue?e.push(`>${D1(this.nodeValue)}</${this.nodeName}>`):e.push("/>")}}class D6 extends xB{constructor({hasAttributes:e=!1,lowerCaseName:n=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=Ir.NoError,this._hasAttributes=e,this._lowerCaseName=n}parseFromString(e){if(this._currentFragment=[],this._stack=[],this._errorCode=Ir.NoError,this.parseXml(e),this._errorCode!==Ir.NoError)return;const[n]=this._currentFragment;if(n)return{documentElement:n}}onText(e){if(Iae(e))return;const n=new bx("#text",e);this._currentFragment.push(n)}onCdata(e){const n=new bx("#text",e);this._currentFragment.push(n)}onBeginElement(e,n,i){this._lowerCaseName&&(e=e.toLowerCase());const s=new bx(e);s.childNodes=[],this._hasAttributes&&(s.attributes=n),this._currentFragment.push(s),!i&&(this._stack.push(this._currentFragment),this._currentFragment=s.childNodes)}onEndElement(e){this._currentFragment=this._stack.pop()||[];const n=this._currentFragment.at(-1);if(!n)return null;for(const i of n.childNodes)i.parentNode=n;return n}onError(e){this._errorCode=e}}class Pae{constructor(e){e=this._repair(e);const i=new D6({lowerCaseName:!0}).parseFromString(e);this._metadataMap=new Map,this._data=e,i&&this._parse(i)}_repair(e){return e.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(n,i){const s=i.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(a,o,l,c){return String.fromCharCode(o*64+l*8+c*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(a,o){switch(o){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${o} isn't defined.`)}),r=[">"];for(let a=0,o=s.length;a<o;a+=2){const l=s.charCodeAt(a)*256+s.charCodeAt(a+1);l>=32&&l<127&&l!==60&&l!==62&&l!==38?r.push(String.fromCharCode(l)):r.push("&#x"+(65536+l).toString(16).substring(1)+";")}return r.join("")})}_getSequence(e){const n=e.nodeName;return n!=="rdf:bag"&&n!=="rdf:seq"&&n!=="rdf:alt"?null:e.childNodes.filter(i=>i.nodeName==="rdf:li")}_parseArray(e){if(!e.hasChildNodes())return;const[n]=e.childNodes,i=this._getSequence(n)||[];this._metadataMap.set(e.nodeName,i.map(s=>s.textContent.trim()))}_parse(e){let n=e.documentElement;if(n.nodeName!=="rdf:rdf")for(n=n.firstChild;n&&n.nodeName!=="rdf:rdf";)n=n.nextSibling;if(!(!n||n.nodeName!=="rdf:rdf"||!n.hasChildNodes())){for(const i of n.childNodes)if(i.nodeName==="rdf:description")for(const s of i.childNodes){const r=s.nodeName;switch(r){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(s);continue}this._metadataMap.set(r,s.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}const KN=40,za={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5};var G8,bB,Qa,DA,LA,yB,wB;const Fh=class Fh{constructor(e,n,i){L(this,G8);this.xref=e,this.dict=n,this.ref=i instanceof Be?i:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}addAnnotationIdToPage(e,n){M(this,G8,bB).call(this,e,n,za.ANNOTATION)}readRoleMap(){const e=this.dict.get("RoleMap");if(e instanceof J)for(const[n,i]of e)i instanceof le&&this.roleMap.set(n,i.name)}static async canCreateStructureTree({catalogRef:e,pdfManager:n,newAnnotationsByPage:i}){var a;if(!(e instanceof Be))return W("Cannot save the struct tree: no catalog reference."),!1;let s=0,r=!0;for(const[o,l]of i){const{ref:c}=await n.getPage(o);if(!(c instanceof Be)){W(`Cannot save the struct tree: page ${o} has no ref.`),r=!0;break}for(const u of l)(a=u.accessibilityData)!=null&&a.type&&(u.parentTreeId=s++,r=!1)}if(r){for(const o of i.values())for(const l of o)delete l.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:e,xref:n,catalogRef:i,pdfManager:s,changes:r}){const a=s.catalog.cloneDict(),o=new Nr;o.put(i,a);const l=n.getNewTemporaryRef();a.set("StructTreeRoot",l);const c=new J(n);c.set("Type",le.get("StructTreeRoot"));const u=n.getNewTemporaryRef();c.set("ParentTree",u);const d=[];c.set("K",d),o.put(l,c);const p=new J(n),g=[];p.set("Nums",g);const m=await M(this,Qa,DA).call(this,{newAnnotationsByPage:e,structTreeRootRef:l,structTreeRoot:null,kids:d,nums:g,xref:n,pdfManager:s,changes:r,cache:o});c.set("ParentTreeNextKey",m),o.put(u,p);for(const[b,v]of o.items())r.put(b,{data:v})}async canUpdateStructTree({pdfManager:e,newAnnotationsByPage:n}){var l,c;if(!this.ref)return W("Cannot update the struct tree: no root reference."),!1;let i=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(i)||i<0)return W("Cannot update the struct tree: invalid next key."),!1;const s=this.dict.get("ParentTree");if(!(s instanceof J))return W("Cannot update the struct tree: ParentTree isn't a dict."),!1;const r=s.get("Nums");if(!Array.isArray(r))return W("Cannot update the struct tree: nums isn't an array."),!1;const a=new r8(s,this.xref);for(const u of n.keys()){const{pageDict:d}=await e.getPage(u);if(!d.has("StructParents"))continue;const p=d.get("StructParents");if(!Number.isInteger(p)||!Array.isArray(a.get(p)))return W(`Cannot save the struct tree: page ${u} has a wrong id.`),!1}let o=!0;for(const[u,d]of n){const{pageDict:p}=await e.getPage(u);M(l=Fh,Qa,yB).call(l,{elements:d,xref:this.xref,pageDict:p,numberTree:a});for(const g of d)(c=g.accessibilityData)!=null&&c.type&&(g.accessibilityData.structParent>=0||(g.parentTreeId=i++),o=!1)}if(o){for(const u of n.values())for(const d of u)delete d.parentTreeId,delete d.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:e,pdfManager:n,changes:i}){var g;const{ref:s,xref:r}=this,a=this.dict.clone(),o=new Nr;o.put(s,a);let l=a.getRaw("ParentTree"),c;l instanceof Be?c=r.fetch(l):(c=l,l=r.getNewTemporaryRef(),a.set("ParentTree",l)),c=c.clone(),o.put(l,c);let u=c.getRaw("Nums"),d=null;u instanceof Be&&(d=u,u=r.fetch(d)),u=u.slice(),d||c.set("Nums",u);const p=await M(g=Fh,Qa,DA).call(g,{newAnnotationsByPage:e,structTreeRootRef:s,structTreeRoot:this,kids:null,nums:u,xref:r,pdfManager:n,changes:i,cache:o});if(p!==-1){a.set("ParentTreeNextKey",p),d&&o.put(d,u);for(const[m,b]of o.items())i.put(m,{data:b})}}};G8=new WeakSet,bB=function(e,n,i){if(!(e instanceof Be)||n<0)return;this.structParentIds||(this.structParentIds=new Nr);let s=this.structParentIds.get(e);s||(s=[],this.structParentIds.put(e,s)),s.push([n,i])},Qa=new WeakSet,DA=async function({newAnnotationsByPage:e,structTreeRootRef:n,structTreeRoot:i,kids:s,nums:r,xref:a,pdfManager:o,changes:l,cache:c}){var g,m;const u=le.get("OBJR");let d=-1,p;for(const[b,v]of e){const S=await o.getPage(b),{ref:C}=S,E=C instanceof Be;for(const{accessibilityData:w,ref:A,parentTreeId:T,structTreeParent:P}of v){if(!(w!=null&&w.type))continue;const{structParent:R}=w;if(i&&Number.isInteger(R)&&R>=0){let U=(p||(p=new Map)).get(b);U===void 0&&(U=new vB(i,S.pageDict).collectObjects(C),p.set(b,U));const V=U==null?void 0:U.get(R);if(V){const ee=a.fetch(V).clone();M(g=Fh,Qa,LA).call(g,ee,w),l.put(V,{data:ee});continue}}d=Math.max(d,T);const D=a.getNewTemporaryRef(),O=new J(a);M(m=Fh,Qa,LA).call(m,O,w),await M(this,Qa,wB).call(this,{structTreeParent:P,tagDict:O,newTagRef:D,structTreeRootRef:n,fallbackKids:s,xref:a,cache:c});const B=new J(a);O.set("K",B),B.set("Type",u),E&&B.set("Pg",C),B.set("Obj",A),c.put(D,O),r.push(T,D)}}return d+1},LA=function(e,{type:n,title:i,lang:s,alt:r,expanded:a,actualText:o}){e.set("S",le.get(n)),i&&e.set("T",Wa(i)),s&&e.set("Lang",Wa(s)),r&&e.set("Alt",Wa(r)),a&&e.set("E",Wa(a)),o&&e.set("ActualText",Wa(o))},yB=function({elements:e,xref:n,pageDict:i,numberTree:s}){const r=new Map;for(const c of e)if(c.structTreeParentId){const u=parseInt(c.structTreeParentId.split("_mc")[1],10);let d=r.get(u);d||(d=[],r.set(u,d)),d.push(c)}const a=i.get("StructParents");if(!Number.isInteger(a))return;const o=s.get(a),l=(c,u,d)=>{const p=r.get(c);if(p){const g=u.getRaw("P"),m=n.fetchIfRef(g);if(g instanceof Be&&m instanceof J){const b={ref:d,dict:u};for(const v of p)v.structTreeParent=b}return!0}return!1};for(const c of o){if(!(c instanceof Be))continue;const u=n.fetch(c),d=u.get("K");if(Number.isInteger(d)){l(d,u,c);continue}if(Array.isArray(d))for(let p of d){if(p=n.fetchIfRef(p),Number.isInteger(p)&&l(p,u,c))break;if(!(p instanceof J))continue;if(!ti(p.get("Type"),"MCR"))break;const g=p.get("MCID");if(Number.isInteger(g)&&l(g,u,c))break}}},wB=async function({structTreeParent:e,tagDict:n,newTagRef:i,structTreeRootRef:s,fallbackKids:r,xref:a,cache:o}){let l=null,c;e?({ref:l}=e,c=e.dict.getRaw("P")||s):c=s,n.set("P",c);const u=a.fetchIfRef(c);if(!u){r.push(i);return}let d=o.get(c);d||(d=u.clone(),o.put(c,d));const p=d.getRaw("K");let g=p instanceof Be?o.get(p):null;if(!g){g=a.fetchIfRef(p),g=Array.isArray(g)?g.slice():[p];const b=a.getNewTemporaryRef();d.set("K",b),o.put(b,g)}const m=g.indexOf(l);g.splice(m>=0?m+1:g.length,0,i)},L(Fh,Qa);let Yx=Fh;class Nae{constructor(e,n){this.tree=e,this.xref=e.xref,this.dict=n,this.kids=[],this.parseKids()}get role(){const e=this.dict.get("S"),n=e instanceof le?e.name:"",{root:i}=this.tree;return i.roleMap.get(n)??n}parseKids(){let e=null;const n=this.dict.getRaw("Pg");n instanceof Be&&(e=n.toString());const i=this.dict.get("K");if(Array.isArray(i))for(const s of i){const r=this.parseKid(e,this.xref.fetchIfRef(s));r&&this.kids.push(r)}else{const s=this.parseKid(e,i);s&&this.kids.push(s)}}parseKid(e,n){if(Number.isInteger(n))return this.tree.pageDict.objId!==e?null:new ay({type:za.PAGE_CONTENT,mcid:n,pageObjId:e});if(!(n instanceof J))return null;const i=n.getRaw("Pg");i instanceof Be&&(e=i.toString());const s=n.get("Type")instanceof le?n.get("Type").name:null;if(s==="MCR"){if(this.tree.pageDict.objId!==e)return null;const r=n.getRaw("Stm");return new ay({type:za.STREAM_CONTENT,refObjId:r instanceof Be?r.toString():null,pageObjId:e,mcid:n.get("MCID")})}if(s==="OBJR"){if(this.tree.pageDict.objId!==e)return null;const r=n.getRaw("Obj");return new ay({type:za.OBJECT,refObjId:r instanceof Be?r.toString():null,pageObjId:e})}return new ay({type:za.ELEMENT,dict:n})}}class ay{constructor({type:e,dict:n=null,mcid:i=null,pageObjId:s=null,refObjId:r=null}){this.type=e,this.dict=n,this.mcid=i,this.pageObjId=s,this.refObjId=r,this.parentNode=null}}class vB{constructor(e,n){this.root=e,this.xref=(e==null?void 0:e.xref)??null,this.rootDict=(e==null?void 0:e.dict)??null,this.pageDict=n,this.nodes=[]}collectObjects(e){var a;if(!this.root||!this.rootDict||!(e instanceof Be))return null;const n=this.rootDict.get("ParentTree");if(!n)return null;const i=(a=this.root.structParentIds)==null?void 0:a.get(e);if(!i)return null;const s=new Map,r=new r8(n,this.xref);for(const[o]of i){const l=r.getRaw(o);l instanceof Be&&s.set(o,l)}return s}parse(e){var o,l;if(!this.root||!this.rootDict||!(e instanceof Be))return;const n=this.rootDict.get("ParentTree");if(!n)return;const i=this.pageDict.get("StructParents"),s=(o=this.root.structParentIds)==null?void 0:o.get(e);if(!Number.isInteger(i)&&!s)return;const r=new Map,a=new r8(n,this.xref);if(Number.isInteger(i)){const c=a.get(i);if(Array.isArray(c))for(const u of c)u instanceof Be&&this.addNode(this.xref.fetch(u),r)}if(s)for(const[c,u]of s){const d=a.get(c);if(d){const p=this.addNode(this.xref.fetchIfRef(d),r);((l=p==null?void 0:p.kids)==null?void 0:l.length)===1&&p.kids[0].type===za.OBJECT&&(p.kids[0].type=u)}}}addNode(e,n,i=0){if(i>KN)return W("StructTree MAX_DEPTH reached."),null;if(!(e instanceof J))return null;if(n.has(e))return n.get(e);const s=new Nae(this,e);n.set(e,s);const r=e.get("P");if(!r||ti(r.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(e,s)||n.delete(e),s;const a=this.addNode(r,n,i+1);if(!a)return s;let o=!1;for(const l of a.kids)l.type===za.ELEMENT&&l.dict===e&&(l.parentNode=s,o=!0);return o||n.delete(e),s}addTopLevelNode(e,n){const i=this.rootDict.get("K");if(!i)return!1;if(i instanceof J)return i.objId!==e.objId?!1:(this.nodes[0]=n,!0);if(!Array.isArray(i))return!0;let s=!1;for(let r=0;r<i.length;r++){const a=i[r];(a==null?void 0:a.toString())===e.objId&&(this.nodes[r]=n,s=!0)}return s}get serializable(){function e(i,s,r=0){if(r>KN){W("StructTree too deep to be fully serialized.");return}const a=Object.create(null);a.role=i.role,a.children=[],s.children.push(a);let o=i.dict.get("Alt");typeof o!="string"&&(o=i.dict.get("ActualText")),typeof o=="string"&&(a.alt=Wt(o));const l=i.dict.get("A");if(l instanceof J){const u=Tl(l.getArray("BBox"),null);if(u)a.bbox=u;else{const d=l.get("Width"),p=l.get("Height");typeof d=="number"&&d>0&&typeof p=="number"&&p>0&&(a.bbox=[0,0,d,p])}}const c=i.dict.get("Lang");typeof c=="string"&&(a.lang=Wt(c));for(const u of i.kids){const d=u.type===za.ELEMENT?u.parentNode:null;if(d){e(d,a,r+1);continue}else u.type===za.PAGE_CONTENT||u.type===za.STREAM_CONTENT?a.children.push({type:"content",id:`p${u.pageObjId}_mc${u.mcid}`}):u.type===za.OBJECT?a.children.push({type:"object",id:u.refObjId}):u.type===za.ANNOTATION&&a.children.push({type:"annotation",id:`${bne}${u.refObjId}`})}}const n=Object.create(null);n.children=[],n.role="Root";for(const i of this.nodes)i&&e(i,n);return n}}const Rae=t=>t instanceof Be,hC=yne.bind(null,Rae,ti);function qw(t){return t instanceof J&&(t=t.get("D")),hC(t)?t:null}function YN(t){let e=t.get("D");if(e){if(e instanceof le&&(e=e.name),typeof e=="string")return Wt(e);if(hC(e))return JSON.stringify(e)}return null}var $o,SB,AB,kB,OA;const W8=class W8{constructor(e,n){L(this,$o);if(this.pdfManager=e,this.xref=n,this._catDict=n.getCatalogObj(),!(this._catDict instanceof J))throw new me("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new Nr,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalColorSpaceCache=new sae,this.globalImageCache=new IA,this.pageKidsCountCache=new Nr,this.pageIndexCache=new Nr,this.pageDictCache=new Nr,this.nonBlendModesSet=new Bi,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const e=this._catDict.get("Version");if(e instanceof le){if(yO.test(e.name))return Fe(this,"version",e.name);W(`Invalid PDF catalog version: ${e.name}`)}return Fe(this,"version",null)}get lang(){const e=this._catDict.get("Lang");return Fe(this,"lang",e&&typeof e=="string"?Wt(e):null)}get needsRendering(){const e=this._catDict.get("NeedsRendering");return Fe(this,"needsRendering",typeof e=="boolean"?e:!1)}get collection(){let e=null;try{const n=this._catDict.get("Collection");n instanceof J&&n.size>0&&(e=n)}catch(n){if(n instanceof En)throw n;Pt("Cannot fetch Collection entry; assuming no collection is present.")}return Fe(this,"collection",e)}get acroForm(){let e=null;try{const n=this._catDict.get("AcroForm");n instanceof J&&n.size>0&&(e=n)}catch(n){if(n instanceof En)throw n;Pt("Cannot fetch AcroForm entry; assuming no forms are present.")}return Fe(this,"acroForm",e)}get acroFormRef(){const e=this._catDict.getRaw("AcroForm");return Fe(this,"acroFormRef",e instanceof Be?e:null)}get metadata(){var i;const e=this._catDict.getRaw("Metadata");if(!(e instanceof Be))return Fe(this,"metadata",null);let n=null;try{const s=this.xref.fetch(e,!((i=this.xref.encrypt)!=null&&i.encryptMetadata));if(s instanceof _t&&s.dict instanceof J){const r=s.dict.get("Type"),a=s.dict.get("Subtype");if(ti(r,"Metadata")&&ti(a,"XML")){const o=$x(s.getString());o&&(n=new Pae(o).serializable)}}}catch(s){if(s instanceof En)throw s;Pt(`Skipping invalid Metadata: "${s}".`)}return Fe(this,"metadata",n)}get markInfo(){let e=null;try{e=this._readMarkInfo()}catch(n){if(n instanceof En)throw n;W("Unable to read mark info.")}return Fe(this,"markInfo",e)}_readMarkInfo(){const e=this._catDict.get("MarkInfo");if(!(e instanceof J))return null;const n={Marked:!1,UserProperties:!1,Suspects:!1};for(const i in n){const s=e.get(i);typeof s=="boolean"&&(n[i]=s)}return n}get structTreeRoot(){let e=null;try{e=M(this,$o,SB).call(this)}catch(n){if(n instanceof En)throw n;W("Unable read to structTreeRoot info.")}return Fe(this,"structTreeRoot",e)}get toplevelPagesDict(){const e=this._catDict.get("Pages");if(!(e instanceof J))throw new me("Invalid top-level pages dictionary.");return Fe(this,"toplevelPagesDict",e)}get documentOutline(){let e=null;try{e=this._readDocumentOutline()}catch(n){if(n instanceof En)throw n;W("Unable to read document outline.")}return Fe(this,"documentOutline",e)}_readDocumentOutline(){let e=this._catDict.get("Outlines");if(!(e instanceof J)||(e=e.getRaw("First"),!(e instanceof Be)))return null;const n={items:[]},i=[{obj:e,parent:n}],s=new Bi;s.put(e);const r=this.xref,a=new Uint8ClampedArray(3);for(;i.length>0;){const o=i.shift(),l=r.fetchIfRef(o.obj);if(l===null)continue;l.has("Title")||W("Invalid outline item encountered.");const c={url:null,dest:null,action:null};W8.parseDestDictionary({destDict:l,resultObj:c,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const u=l.get("Title"),d=l.get("F")||0,p=l.getArray("C"),g=l.get("Count");let m=a;lr(p,3)&&(p[0]!==0||p[1]!==0||p[2]!==0)&&(m=Gt.rgb.getRgb(p,0));const b={action:c.action,attachment:c.attachment,dest:c.dest,url:c.url,unsafeUrl:c.unsafeUrl,newWindow:c.newWindow,setOCGState:c.setOCGState,title:typeof u=="string"?Wt(u):"",color:m,count:Number.isInteger(g)?g:void 0,bold:!!(d&2),italic:!!(d&1),items:[]};o.parent.items.push(b),e=l.getRaw("First"),e instanceof Be&&!s.has(e)&&(i.push({obj:e,parent:b}),s.put(e)),e=l.getRaw("Next"),e instanceof Be&&!s.has(e)&&(i.push({obj:e,parent:o.parent}),s.put(e))}return n.items.length>0?n.items:null}get permissions(){let e=null;try{e=this._readPermissions()}catch(n){if(n instanceof En)throw n;W("Unable to read permissions.")}return Fe(this,"permissions",e)}_readPermissions(){const e=this.xref.trailer.get("Encrypt");if(!(e instanceof J))return null;let n=e.get("P");if(typeof n!="number")return null;n+=2**32;const i=[];for(const s in $P){const r=$P[s];n&r&&i.push(r)}return i}get optionalContentConfig(){let e=null;try{const n=this._catDict.get("OCProperties");if(!n)return Fe(this,"optionalContentConfig",null);const i=n.get("D");if(!i)return Fe(this,"optionalContentConfig",null);const s=n.get("OCGs");if(!Array.isArray(s))return Fe(this,"optionalContentConfig",null);const r=new Nr;for(const a of s)!(a instanceof Be)||r.has(a)||r.put(a,M(this,$o,AB).call(this,a));e=M(this,$o,kB).call(this,i,r)}catch(n){if(n instanceof En)throw n;W(`Unable to read optional content config: ${n}`)}return Fe(this,"optionalContentConfig",e)}setActualNumPages(e=null){this._actualNumPages=e}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const e=this.toplevelPagesDict.get("Count");if(!Number.isInteger(e))throw new me("Page count in top-level pages dictionary is not an integer.");return Fe(this,"_pagesCount",e)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const e=M(this,$o,OA).call(this),n=Object.create(null);for(const i of e)if(i instanceof mh)for(const[s,r]of i.getAll()){const a=qw(r);a&&(n[Wt(s)]=a)}else if(i instanceof J)for(const[s,r]of i){const a=qw(r);a&&(n[s]||(n[s]=a))}return Fe(this,"destinations",n)}getDestination(e){const n=M(this,$o,OA).call(this);for(const i of n)if(i instanceof mh||i instanceof J){const s=qw(i.get(e));if(s)return s}if(n[0]instanceof mh){const i=this.destinations[e];if(i)return W(`Found "${e}" at an incorrect position in the NameTree.`),i}return null}get pageLabels(){let e=null;try{e=this._readPageLabels()}catch(n){if(n instanceof En)throw n;W("Unable to read page labels.")}return Fe(this,"pageLabels",e)}_readPageLabels(){const e=this._catDict.getRaw("PageLabels");if(!e)return null;const n=new Array(this.numPages);let i=null,s="";const a=new r8(e,this.xref).getAll();let o="",l=1;for(let c=0,u=this.numPages;c<u;c++){const d=a.get(c);if(d!==void 0){if(!(d instanceof J))throw new me("PageLabel is not a dictionary.");if(d.has("Type")&&!ti(d.get("Type"),"PageLabel"))throw new me("Invalid type in PageLabel dictionary.");if(d.has("S")){const p=d.get("S");if(!(p instanceof le))throw new me("Invalid style in PageLabel dictionary.");i=p.name}else i=null;if(d.has("P")){const p=d.get("P");if(typeof p!="string")throw new me("Invalid prefix in PageLabel dictionary.");s=Wt(p)}else s="";if(d.has("St")){const p=d.get("St");if(!(Number.isInteger(p)&&p>=1))throw new me("Invalid start in PageLabel dictionary.");l=p}else l=1}switch(i){case"D":o=l;break;case"R":case"r":o=Cne(l,i==="r");break;case"A":case"a":const p=26,b=i==="a"?97:65,v=l-1;o=String.fromCharCode(b+v%p).repeat(Math.floor(v/p)+1);break;default:if(i)throw new me(`Invalid style "${i}" in PageLabel dictionary.`);o=""}n[c]=s+o,l++}return n}get pageLayout(){const e=this._catDict.get("PageLayout");let n="";if(e instanceof le)switch(e.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":n=e.name}return Fe(this,"pageLayout",n)}get pageMode(){const e=this._catDict.get("PageMode");let n="UseNone";if(e instanceof le)switch(e.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":n=e.name}return Fe(this,"pageMode",n)}get viewerPreferences(){const e=this._catDict.get("ViewerPreferences");if(!(e instanceof J))return Fe(this,"viewerPreferences",null);let n=null;for(const[i,s]of e){let r;switch(i){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof s=="boolean"&&(r=s);break;case"NonFullScreenPageMode":if(s instanceof le)switch(s.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":r=s.name;break;default:r="UseNone"}break;case"Direction":if(s instanceof le)switch(s.name){case"L2R":case"R2L":r=s.name;break;default:r="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(s instanceof le)switch(s.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":r=s.name;break;default:r="CropBox"}break;case"PrintScaling":if(s instanceof le)switch(s.name){case"None":case"AppDefault":r=s.name;break;default:r="AppDefault"}break;case"Duplex":if(s instanceof le)switch(s.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":r=s.name;break;default:r="None"}break;case"PrintPageRange":Array.isArray(s)&&s.length%2===0&&s.every((o,l,c)=>Number.isInteger(o)&&o>0&&(l===0||o>=c[l-1])&&o<=this.numPages)&&(r=s);break;case"NumCopies":Number.isInteger(s)&&s>0&&(r=s);break;default:W(`Ignoring non-standard key in ViewerPreferences: ${i}.`);continue}if(r===void 0){W(`Bad value, for key "${i}", in ViewerPreferences: ${s}.`);continue}n||(n=Object.create(null)),n[i]=r}return Fe(this,"viewerPreferences",n)}get openAction(){const e=this._catDict.get("OpenAction"),n=Object.create(null);if(e instanceof J){const i=new J(this.xref);i.set("A",e);const s={url:null,dest:null,action:null};W8.parseDestDictionary({destDict:i,resultObj:s}),Array.isArray(s.dest)?n.dest=s.dest:s.action&&(n.action=s.action)}else Array.isArray(e)&&(n.dest=e);return Fe(this,"openAction",Wk(n)>0?n:null)}get attachments(){const e=this._catDict.get("Names");let n=null;if(e instanceof J&&e.has("EmbeddedFiles")){const i=new mh(e.getRaw("EmbeddedFiles"),this.xref);for(const[s,r]of i.getAll()){const a=new MA(r,this.xref);n||(n=Object.create(null)),n[Wt(s)]=a.serializable}}return Fe(this,"attachments",n)}get xfaImages(){const e=this._catDict.get("Names");let n=null;if(e instanceof J&&e.has("XFAImages")){const i=new mh(e.getRaw("XFAImages"),this.xref);for(const[s,r]of i.getAll())n||(n=new J(this.xref)),n.set(Wt(s),r)}return Fe(this,"xfaImages",n)}_collectJavaScript(){const e=this._catDict.get("Names");let n=null;function i(r,a){if(!(a instanceof J)||!ti(a.get("S"),"JavaScript"))return;let o=a.get("JS");if(o instanceof _t)o=o.getString();else if(typeof o!="string")return;o=Wt(o).replaceAll("\0",""),o&&(n||(n=new Map)).set(r,o)}if(e instanceof J&&e.has("JavaScript")){const r=new mh(e.getRaw("JavaScript"),this.xref);for(const[a,o]of r.getAll())i(Wt(a),o)}const s=this._catDict.get("OpenAction");return s&&i("OpenAction",s),n}get jsActions(){const e=this._collectJavaScript();let n=P6(this.xref,this._catDict,cne);if(e){n||(n=Object.create(null));for(const[i,s]of e)i in n?n[i].push(s):n[i]=[s]}return Fe(this,"jsActions",n)}async cleanup(e=!1){uC(),this.globalColorSpaceCache.clear(),this.globalImageCache.clear(e),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.pageDictCache.clear(),this.nonBlendModesSet.clear();for(const{dict:n}of await Promise.all(this.fontCache))delete n.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(e){const n=[this.toplevelPagesDict],i=new Bi,s=this._catDict.getRaw("Pages");s instanceof Be&&i.put(s);const r=this.xref,a=this.pageKidsCountCache,o=this.pageIndexCache,l=this.pageDictCache;let c=0;for(;n.length;){const u=n.pop();if(u instanceof Be){const m=a.get(u);if(m>=0&&c+m<=e){c+=m;continue}if(i.has(u))throw new me("Pages tree contains circular reference.");i.put(u);const b=await(l.get(u)||r.fetchAsync(u));if(b instanceof J){let v=b.getRaw("Type");if(v instanceof Be&&(v=await r.fetchAsync(v)),ti(v,"Page")||!b.has("Kids")){if(a.has(u)||a.put(u,1),o.has(u)||o.put(u,c),c===e)return[b,u];c++;continue}}n.push(b);continue}if(!(u instanceof J))throw new me("Page dictionary kid reference points to wrong type of object.");const{objId:d}=u;let p=u.getRaw("Count");if(p instanceof Be&&(p=await r.fetchAsync(p)),Number.isInteger(p)&&p>=0&&(d&&!a.has(d)&&a.put(d,p),c+p<=e)){c+=p;continue}let g=u.getRaw("Kids");if(g instanceof Be&&(g=await r.fetchAsync(g)),!Array.isArray(g)){let m=u.getRaw("Type");if(m instanceof Be&&(m=await r.fetchAsync(m)),ti(m,"Page")||!u.has("Kids")){if(c===e)return[u,null];c++;continue}throw new me("Page dictionary kids object is not an array.")}for(let m=g.length-1;m>=0;m--){const b=g[m];n.push(b),u===this.toplevelPagesDict&&b instanceof Be&&!l.has(b)&&l.put(b,r.fetchAsync(b))}}throw new Error(`Page index ${e} not found.`)}async getAllPageDicts(e=!1){const{ignoreErrors:n}=this.pdfManager.evaluatorOptions,i=[{currentNode:this.toplevelPagesDict,posInKids:0}],s=new Bi,r=this._catDict.getRaw("Pages");r instanceof Be&&s.put(r);const a=new Map,o=this.xref,l=this.pageIndexCache;let c=0;function u(p,g){g&&!l.has(g)&&l.put(g,c),a.set(c++,[p,g])}function d(p){if(p instanceof wu&&!e)throw p;e&&n&&c===0&&(W(`getAllPageDicts - Skipping invalid first page: "${p}".`),p=J.empty),a.set(c++,[p,null])}for(;i.length>0;){const p=i.at(-1),{currentNode:g,posInKids:m}=p;let b=g.getRaw("Kids");if(b instanceof Be)try{b=await o.fetchAsync(b)}catch(E){d(E);break}if(!Array.isArray(b)){d(new me("Page dictionary kids object is not an array."));break}if(m>=b.length){i.pop();continue}const v=b[m];let S;if(v instanceof Be){if(s.has(v)){d(new me("Pages tree contains circular reference."));break}s.put(v);try{S=await o.fetchAsync(v)}catch(E){d(E);break}}else S=v;if(!(S instanceof J)){d(new me("Page dictionary kid reference points to wrong type of object."));break}let C=S.getRaw("Type");if(C instanceof Be)try{C=await o.fetchAsync(C)}catch(E){d(E);break}ti(C,"Page")||!S.has("Kids")?u(S,v instanceof Be?v:null):i.push({currentNode:S,posInKids:0}),p.posInKids++}return a}getPageIndex(e){const n=this.pageIndexCache.get(e);if(n!==void 0)return Promise.resolve(n);const i=this.xref;function s(o){let l=0,c;return i.fetchAsync(o).then(function(u){if(J5(o,e)&&!bO(u,"Page")&&!(u instanceof J&&!u.has("Type")&&u.has("Contents")))throw new me("The reference does not point to a /Page dictionary.");if(!u)return null;if(!(u instanceof J))throw new me("Node must be a dictionary.");return c=u.getRaw("Parent"),u.getAsync("Parent")}).then(function(u){if(!u)return null;if(!(u instanceof J))throw new me("Parent must be a dictionary.");return u.getAsync("Kids")}).then(function(u){if(!u)return null;const d=[];let p=!1;for(const g of u){if(!(g instanceof Be))throw new me("Kid must be a reference.");if(J5(g,o)){p=!0;break}d.push(i.fetchAsync(g).then(function(m){if(!(m instanceof J))throw new me("Kid node must be a dictionary.");m.has("Count")?l+=m.get("Count"):l++}))}if(!p)throw new me("Kid reference not found in parent's kids.");return Promise.all(d).then(()=>[l,c])})}let r=0;const a=o=>s(o).then(l=>{if(!l)return this.pageIndexCache.put(e,r),r;const[c,u]=l;return r+=c,a(u)});return a(e)}get baseUrl(){const e=this._catDict.get("URI");if(e instanceof J){const n=e.get("Base");if(typeof n=="string"){const i=Z5(n,null,{tryConvertEncoding:!0});if(i)return Fe(this,"baseUrl",i.href)}}return Fe(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:e,resultObj:n,docBaseUrl:i=null,docAttachments:s=null}){if(!(e instanceof J)){W("parseDestDictionary: `destDict` must be a dictionary.");return}let r=e.get("A"),a,o;if(r instanceof J||(e.has("Dest")?r=e.get("Dest"):(r=e.get("AA"),r instanceof J&&(r.has("D")?r=r.get("D"):r.has("U")&&(r=r.get("U"))))),r instanceof J){const l=r.get("S");if(!(l instanceof le)){W("parseDestDictionary: Invalid type in Action dictionary.");return}const c=l.name;switch(c){case"ResetForm":const u=r.get("Flags"),d=((typeof u=="number"?u:0)&1)===0,p=[],g=[];for(const O of r.get("Fields")||[])O instanceof Be?g.push(O.toString()):typeof O=="string"&&p.push(Wt(O));n.resetForm={fields:p,refs:g,include:d};break;case"URI":a=r.get("URI"),a instanceof le&&(a="/"+a.name);break;case"GoTo":o=r.get("D");break;case"Launch":case"GoToR":const m=r.get("F");if(m instanceof J){const O=new MA(m,null,!0),{rawFilename:B}=O.serializable;a=B}else typeof m=="string"&&(a=m);const b=YN(r);b&&typeof a=="string"&&(a=a.split("#",1)[0]+"#"+b);const v=r.get("NewWindow");typeof v=="boolean"&&(n.newWindow=v);break;case"GoToE":const S=r.get("T");let C;if(s&&S instanceof J){const O=S.get("R"),B=S.get("N");ti(O,"C")&&typeof B=="string"&&(C=s[Wt(B)])}if(C){n.attachment=C;const O=YN(r);O&&(n.attachmentDest=O)}else W('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const E=r.get("N");E instanceof le&&(n.action=E.name);break;case"SetOCGState":const w=r.get("State"),A=r.get("PreserveRB");if(!Array.isArray(w)||w.length===0)break;const T=[];for(const O of w)if(O instanceof le)switch(O.name){case"ON":case"OFF":case"Toggle":T.push(O.name);break}else O instanceof Be&&T.push(O.toString());if(T.length!==w.length)break;n.setOCGState={state:T,preserveRB:typeof A=="boolean"?A:!0};break;case"JavaScript":const P=r.get("JS");let R;P instanceof _t?R=P.getString():typeof P=="string"&&(R=P);const D=R&&SO(Wt(R));if(D){a=D.url,n.newWindow=D.newWindow;break}default:if(c==="JavaScript"||c==="SubmitForm")break;W(`parseDestDictionary - unsupported action: "${c}".`);break}}else e.has("Dest")&&(o=e.get("Dest"));if(typeof a=="string"){const l=Z5(a,i,{addDefaultProtocol:!0,tryConvertEncoding:!0});l&&(n.url=l.href),n.unsafeUrl=a}o&&(o instanceof le&&(o=o.name),typeof o=="string"?n.dest=Wt(o):hC(o)&&(n.dest=o))}};$o=new WeakSet,SB=function(){const e=this._catDict.getRaw("StructTreeRoot"),n=this.xref.fetchIfRef(e);if(!(n instanceof J))return null;const i=new Yx(this.xref,n,e);return i.init(),i},AB=function(e){const n=this.xref.fetch(e),i={id:e.toString(),name:null,intent:null,usage:{print:null,view:null},rbGroups:[]},s=n.get("Name");typeof s=="string"&&(i.name=Wt(s));let r=n.getArray("Intent");Array.isArray(r)||(r=[r]),r.every(u=>u instanceof le)&&(i.intent=r.map(u=>u.name));const a=n.get("Usage");if(!(a instanceof J))return i;const o=i.usage,l=a.get("Print");if(l instanceof J){const u=l.get("PrintState");if(u instanceof le)switch(u.name){case"ON":case"OFF":o.print={printState:u.name}}}const c=a.get("View");if(c instanceof J){const u=c.get("ViewState");if(u instanceof le)switch(u.name){case"ON":case"OFF":o.view={viewState:u.name}}}return i},kB=function(e,n){function i(u){const d=[];if(Array.isArray(u))for(const p of u)p instanceof Be&&n.has(p)&&d.push(p.toString());return d}function s(u,d=0){if(!Array.isArray(u))return null;const p=[];for(const m of u){if(m instanceof Be&&n.has(m)){l.put(m),p.push(m.toString());continue}const b=r(m,d);b&&p.push(b)}if(d>0)return p;const g=[];for(const[m]of n.items())l.has(m)||g.push(m.toString());return g.length&&p.push({name:null,order:g}),p}function r(u,d){if(++d>c)return W("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const p=o.fetchIfRef(u);if(!Array.isArray(p))return null;const g=o.fetchIfRef(p[0]);if(typeof g!="string")return null;const m=s(p.slice(1),d);return m!=null&&m.length?{name:Wt(g),order:m}:null}function a(u){if(Array.isArray(u))for(const d of u){const p=o.fetchIfRef(d);if(!Array.isArray(p)||!p.length)continue;const g=new Set;for(const m of p)m instanceof Be&&n.has(m)&&!g.has(m.toString())&&(g.add(m.toString()),n.get(m).rbGroups.push(g))}}const o=this.xref,l=new Bi,c=10;return a(e.get("RBGroups")),{name:typeof e.get("Name")=="string"?Wt(e.get("Name")):null,creator:typeof e.get("Creator")=="string"?Wt(e.get("Creator")):null,baseState:e.get("BaseState")instanceof le?e.get("BaseState").name:null,on:i(e.get("ON")),off:i(e.get("OFF")),order:s(e.get("Order")),groups:[...n]}},OA=function(){const e=this._catDict.get("Names"),n=[];return e!=null&&e.has("Dests")&&n.push(new mh(e.getRaw("Dests"),this.xref)),this._catDict.has("Dests")&&n.push(this._catDict.get("Dests")),n};let Zx=W8;function Fae(t){return t instanceof Be||t instanceof J||t instanceof _t||Array.isArray(t)}function Mae(t,e){if(t instanceof J)t=t.getRawValues();else if(t instanceof _t)t=t.dict.getRawValues();else if(!Array.isArray(t))return;for(const n of t)Fae(n)&&e.push(n)}class a8{constructor(e,n,i){this.dict=e,this.keys=n,this.xref=i,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:e,dict:n}=this;this.refSet=new Bi;const i=[];for(const s of e){const r=n.getRaw(s);r!==void 0&&i.push(r)}return this._walk(i)}async _walk(e){const n=[],i=[];for(;e.length;){let s=e.pop();if(s instanceof Be){if(this.refSet.has(s))continue;try{this.refSet.put(s),s=this.xref.fetch(s)}catch(r){if(!(r instanceof En)){W(`ObjectLoader._walk - requesting all data: "${r}".`),this.refSet=null;const{manager:a}=this.xref.stream;return a.requestAllChunks()}n.push(s),i.push({begin:r.begin,end:r.end})}}if(s instanceof _t){const r=s.getBaseStreams();if(r){let a=!1;for(const o of r)o.isDataLoaded||(a=!0,i.push({begin:o.start,end:o.end}));a&&n.push(s)}}Mae(s,e)}if(i.length){await this.xref.stream.manager.requestRanges(i);for(const s of n)s instanceof Be&&this.refSet.remove(s);return this._walk(n)}this.refSet=null}}const L6=Symbol(),ef=Symbol(),Gn=Symbol(),Lu=Symbol(),Ja=Symbol(),A1=Symbol(),w5=Symbol(),Po=Symbol(),Al=Symbol(),Se=Symbol("content"),Va=Symbol("data"),fg=Symbol(),ue=Symbol("extra"),hn=Symbol(),r3=Symbol(),BA=Symbol(),CB=Symbol(),tf=Symbol(),O6=Symbol(),Jx=Symbol(),yx=Symbol(),dC=Symbol(),ys=Symbol(),wx=Symbol(),Qi=Symbol(),pg=Symbol(),lc=Symbol(),oi=Symbol(),yt=Symbol(),ri=Symbol(),on=Symbol(),Qx=Symbol(),y1=Symbol(),jA=Symbol(),v5=Symbol(),fC=Symbol(),Ef=Symbol(),k1=Symbol(),R0=Symbol(),vx=Symbol(),Hc=Symbol(),Jc=Symbol(),e2=Symbol(),t2=Symbol(),Dae=Symbol(),ai=Symbol("namespaceId"),Vt=Symbol("nodeName"),Cu=Symbol(),Il=Symbol(),$A=Symbol(),qc=Symbol(),Dl=Symbol(),Fr=Symbol(),kg=Symbol(),Eu=Symbol(),EB=Symbol("root"),ax=Symbol(),jc=Symbol(),UA=Symbol(),_B=Symbol(),Or=Symbol(),_o=Symbol(),Ti=Symbol(),TB=Symbol(),ht=Symbol(),Sx=Symbol(),zt=Symbol(),tn=Symbol("uid"),Uo=Symbol(),ci={config:{id:0,check:t=>t.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:t=>t==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:t=>t==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:t=>t==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:t=>t.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:t=>t==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:t=>t==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:t=>t==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:t=>t==="http://ns.adobe.com/xmpmeta/"}},Lae={pt:t=>t,cm:t=>t/2.54*72,mm:t=>t/(10*2.54)*72,in:t=>t*72,px:t=>t},Oae=/([+-]?\d+\.?\d*)(.*)/;function B6(t){return t.startsWith("'")||t.startsWith('"')?t.slice(1,-1):t}function xt({data:t,defaultValue:e,validate:n}){if(!t)return e;t=t.trim();const i=parseInt(t,10);return!isNaN(i)&&n(i)?i:e}function o8({data:t,defaultValue:e,validate:n}){if(!t)return e;t=t.trim();const i=parseFloat(t);return!isNaN(i)&&n(i)?i:e}function j6({data:t,defaultValue:e,validate:n}){return t?(t=t.trim(),n(t)?t:e):e}function ke(t,e){return j6({data:t,defaultValue:e[0],validate:n=>e.includes(n)})}function Ge(t,e="0"){if(e||(e="0"),!t)return Ge(e);const n=t.trim().match(Oae);if(!n)return Ge(e);const[,i,s]=n,r=parseFloat(i);if(isNaN(r))return Ge(e);if(r===0)return 0;const a=Lae[s];return a?a(r):r}function ZN(t){if(!t)return{num:1,den:1};const e=t.split(":",2).map(s=>parseFloat(s.trim())).filter(s=>!isNaN(s));if(e.length===1&&e.push(1),e.length===0)return{num:1,den:1};const[n,i]=e;return{num:n,den:i}}function zo(t){return t?t.trim().split(/\s+/).map(e=>({excluded:e[0]==="-",viewname:e.substring(1)})):[]}function Bae(t,e=[0,0,0]){let[n,i,s]=e;if(!t)return{r:n,g:i,b:s};const r=t.split(",",3).map(a=>js(parseInt(a.trim(),10),0,255)).map(a=>isNaN(a)?0:a);return r.length<3?{r:n,g:i,b:s}:([n,i,s]=r,{r:n,g:i,b:s})}function jae(t){if(!t)return{x:-1,y:-1,width:-1,height:-1};const n=t.split(",",4).map(o=>Ge(o.trim(),"-1"));if(n.length<4||n[2]<0||n[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[i,s,r,a]=n;return{x:i,y:s,width:r,height:a}}class et{static get FAILURE(){return Fe(this,"FAILURE",new et(!1,null,null,null))}static get EMPTY(){return Fe(this,"EMPTY",new et(!0,null,null,null))}constructor(e,n,i,s){this.success=e,this.html=n,this.bbox=i,this.breakNode=s}isBreak(){return!!this.breakNode}static breakNode(e){return new et(!1,null,null,e)}static success(e,n=null){return new et(!0,e,n,null)}}class $ae{constructor(e){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(e)}add(e,n=null){for(const s of e)this.addPdfFont(s);for(const s of this.fonts.values())s.regular||(s.regular=s.italic||s.bold||s.bolditalic);if(!n||n.size===0)return;const i=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const s of n)this.fonts.set(s,i)}addPdfFont(e){var o,l,c;const n=e.cssFontInfo,i=n.fontFamily;let s=this.fonts.get(i);s||(s=Object.create(null),this.fonts.set(i,s),this.defaultFont||(this.defaultFont=s));let r="";const a=parseFloat(n.fontWeight);parseFloat(n.italicAngle)!==0?r=a>=700?"bolditalic":"italic":a>=700&&(r="bold"),r||((e.name.includes("Bold")||(o=e.psName)!=null&&o.includes("Bold"))&&(r="bold"),(e.name.includes("Italic")||e.name.endsWith("It")||(l=e.psName)!=null&&l.includes("Italic")||(c=e.psName)!=null&&c.endsWith("It"))&&(r+="italic")),r||(r="regular"),s[r]=e}getDefault(){return this.defaultFont}find(e,n=!0){var o,l;let i=this.fonts.get(e)||this.cache.get(e);if(i)return i;const s=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let r=e.replaceAll(s,"");if(i=this.fonts.get(r),i)return this.cache.set(e,i),i;r=r.toLowerCase();const a=[];for(const[c,u]of this.fonts.entries())c.replaceAll(s,"").toLowerCase().startsWith(r)&&a.push(u);if(a.length===0)for(const[,c]of this.fonts.entries())(o=c.regular.name)!=null&&o.replaceAll(s,"").toLowerCase().startsWith(r)&&a.push(c);if(a.length===0){r=r.replaceAll(/psmt|mt/gi,"");for(const[c,u]of this.fonts.entries())c.replaceAll(s,"").toLowerCase().startsWith(r)&&a.push(u)}if(a.length===0)for(const c of this.fonts.values())(l=c.regular.name)!=null&&l.replaceAll(s,"").toLowerCase().startsWith(r)&&a.push(c);return a.length>=1?(a.length!==1&&n&&W(`XFA - Too many choices to guess the correct font: ${e}`),this.cache.set(e,a[0]),a[0]):(n&&!this.warned.has(e)&&(this.warned.add(e),W(`XFA - Cannot find the font: ${e}`)),null)}}function pC(t,e){return t.posture==="italic"?t.weight==="bold"?e.bolditalic:e.italic:t.weight==="bold"?e.bold:e.regular}function Uae(t,e=!1){let n=null;if(t){const a=B6(t.typeface),o=t[on].fontFinder.find(a);n=pC(t,o)}if(!n)return{lineHeight:12,lineGap:2,lineNoGap:10};const i=t.size||10,s=n.lineHeight?Math.max(e?0:1.2,n.lineHeight):1.2,r=n.lineGap===void 0?.2:n.lineGap;return{lineHeight:s*i,lineGap:r*i,lineNoGap:Math.max(1,s-r)*i}}const zae=1.02;class JN{constructor(e,n,i,s){if(this.lineHeight=i,this.paraMargin=n||{top:0,bottom:0,left:0,right:0},!e){[this.pdfFont,this.xfaFont]=this.defaultFont(s);return}this.xfaFont={typeface:e.typeface,posture:e.posture,weight:e.weight,size:e.size,letterSpacing:e.letterSpacing};const r=s.find(e.typeface);if(!r){[this.pdfFont,this.xfaFont]=this.defaultFont(s);return}this.pdfFont=pC(e,r),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(s))}defaultFont(e){const n=e.find("Helvetica",!1)||e.find("Myriad Pro",!1)||e.find("Arial",!1)||e.getDefault();if(n!=null&&n.regular){const s=n.regular,a={typeface:s.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[s,a]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class Hae{constructor(e,n,i,s){this.fontFinder=s,this.stack=[new JN(e,n,i,s)]}pushData(e,n,i){const s=this.stack.at(-1);for(const a of["typeface","posture","weight","size","letterSpacing"])e[a]||(e[a]=s.xfaFont[a]);for(const a of["top","bottom","left","right"])isNaN(n[a])&&(n[a]=s.paraMargin[a]);const r=new JN(e,n,i||s.lineHeight,this.fontFinder);r.pdfFont||(r.pdfFont=s.pdfFont),this.stack.push(r)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class qae{constructor(e,n,i,s){this.glyphs=[],this.fontSelector=new Hae(e,n,i,s),this.extraHeight=0}pushData(e,n,i){this.fontSelector.pushData(e,n,i)}popFont(e){return this.fontSelector.popFont()}addPara(){const e=this.fontSelector.topFont();this.extraHeight+=e.paraMargin.top+e.paraMargin.bottom}addString(e){if(!e)return;const n=this.fontSelector.topFont(),i=n.xfaFont.size;if(n.pdfFont){const s=n.xfaFont.letterSpacing,r=n.pdfFont,a=r.lineHeight||1.2,o=n.lineHeight||Math.max(1.2,a)*i,l=r.lineGap===void 0?.2:r.lineGap,c=a-l,u=Math.max(1,c)*i,d=i/1e3,p=r.defaultWidth||r.charsToGlyphs(" ")[0].width;for(const g of e.split(/[\u2029\n]/)){const m=r.encodeString(g).join(""),b=r.charsToGlyphs(m);for(const v of b){const S=v.width||p;this.glyphs.push([S*d+s,o,u,v.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const s of e.split(/[\u2029\n]/)){for(const r of s.split(""))this.glyphs.push([i,1.2*i,i,r,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(e){let n=-1,i=0,s=0,r=0,a=0,o=0,l=!1,c=!0;for(let u=0,d=this.glyphs.length;u<d;u++){const[p,g,m,b,v]=this.glyphs[u],S=b===" ",C=c?m:g;if(v){s=Math.max(s,a),a=0,r+=o,o=C,n=-1,i=0,c=!1;continue}if(S){a+p>e?(s=Math.max(s,a),a=0,r+=o,o=C,n=-1,i=0,l=!0,c=!1):(o=Math.max(C,o),i=a,a+=p,n=u);continue}if(a+p>e){r+=o,o=C,n!==-1?(u=n,s=Math.max(s,i),a=0,n=-1,i=0):(s=Math.max(s,a),a=p),l=!0,c=!1;continue}a+=p,o=Math.max(C,o)}return s=Math.max(s,a),r+=o+this.extraHeight,{width:zae*s,height:r,isBroken:l}}}const QN=/^[^.[]+/,Gae=/^[^\]]+/,ha={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},IB=new Map([["$data",(t,e)=>t.datasets?t.datasets.data:t],["$record",(t,e)=>(t.datasets?t.datasets.data:t)[Qi]()[0]],["$template",(t,e)=>t.template],["$connectionSet",(t,e)=>t.connectionSet],["$form",(t,e)=>t.form],["$layout",(t,e)=>t.layout],["$host",(t,e)=>t.host],["$dataWindow",(t,e)=>t.dataWindow],["$event",(t,e)=>t.event],["!",(t,e)=>t.datasets],["$xfa",(t,e)=>t],["xfa",(t,e)=>t],["$",(t,e)=>e]]),eR=new WeakMap;function Wae(t){return t=t.trim(),t==="*"?1/0:parseInt(t,10)||0}function PB(t,e,n=!0){let i=t.match(QN);if(!i)return null;let[s]=i;const r=[{name:s,cacheName:"."+s,index:0,js:null,formCalc:null,operator:ha.dot}];let a=s.length;for(;a<t.length;){const o=a;if(t.charAt(a++)==="["){if(i=t.slice(a).match(Gae),!i)return W("XFA - Invalid index in SOM expression"),null;r.at(-1).index=Wae(i[0]),a+=i[0].length+1;continue}let c;switch(t.charAt(a)){case".":if(!e)return null;a++,c=ha.dotDot;break;case"#":a++,c=ha.dotHash;break;case"[":if(n)return W("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;c=ha.dotBracket;break;case"(":if(n)return W("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;c=ha.dotParen;break;default:c=ha.dot;break}if(i=t.slice(a).match(QN),!i)break;[s]=i,a+=s.length,r.push({name:s,cacheName:t.slice(o,a),operator:c,index:0,js:null,formCalc:null})}return r}function _0(t,e,n,i=!0,s=!0){const r=PB(n,i);if(!r)return null;const a=IB.get(r[0].name);let o=0,l;a?(l=!0,t=[a(t,e)],o=1):(l=e===null,t=[e||t]);for(let c=r.length;o<c;o++){const{name:u,cacheName:d,operator:p,index:g}=r[o],m=[];for(const b of t){if(!b.isXFAObject)continue;let v,S;if(s&&(S=eR.get(b),S||(S=new Map,eR.set(b,S)),v=S.get(d)),!v){switch(p){case ha.dot:v=b[Jx](u,!1);break;case ha.dotDot:v=b[Jx](u,!0);break;case ha.dotHash:v=b[O6](u),v=v.isXFAObjectArray?v.children:[v];break}s&&S.set(d,v)}v.length>0&&m.push(v)}if(m.length===0&&!l&&o===0){if(e=e[yt](),!e)return null;o=-1,t=[e];continue}t=isFinite(g)?m.filter(b=>g<b.length).map(b=>b[g]):m.flat()}return t.length===0?null:t}function Vae(t,e,n){const i=PB(n);if(!i||i.some(a=>a.operator===ha.dotDot))return null;const s=IB.get(i[0].name);let r=0;s?(t=s(t,e),r=1):t=e||t;for(let a=i.length;r<a;r++){const{name:o,operator:l,index:c}=i[r];if(!isFinite(c))return i[r].index=0,t.createNodes(i.slice(r));let u;switch(l){case ha.dot:u=t[Jx](o,!1);break;case ha.dotDot:u=t[Jx](o,!0);break;case ha.dotHash:u=t[O6](o),u=u.isXFAObjectArray?u.children:[u];break}if(u.length===0)return t.createNodes(i.slice(r));if(c<u.length){const d=u[c];if(!d.isXFAObject)return W("XFA - Cannot create a node."),null;t=d}else return i[r].index=c-u.length,t.createNodes(i.slice(r))}return null}const oy=Symbol(),xh=Symbol(),r1=Symbol(),Tt=Symbol("_children"),Gw=Symbol(),S0=Symbol(),Ww=Symbol(),tR=Symbol(),Vw=Symbol(),nR=Symbol(),Xw=Symbol(),ox=Symbol(),ly=Symbol(),Ua=Symbol("parent"),Nm=Symbol(),Rm=Symbol(),Kw=Symbol();let zA=0;const NB=ci.datasets.id;class fe{constructor(e,n,i=!1){this[ai]=e,this[Vt]=n,this[Xw]=i,this[Ua]=null,this[Tt]=[],this[tn]=`${n}${zA++}`,this[on]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(e){let n=this,i=null;for(const{name:s,index:r}of e){for(let a=0,o=isFinite(r)?r:0;a<=o;a++){const l=n[ai]===NB?-1:n[ai];i=new Pl(l,s),n[Gn](i)}n=i}return i}[Il](e){if(!this[Xw]||!this[$A](e))return!1;const n=e[Vt],i=this[n];if(i instanceof q){if(i.push(e))return this[Gn](e),!0}else return i!==null&&this[Eu](i),this[n]=e,this[Gn](e),!0;let s="";return this.id?s=` (id: ${this.id})`:this.name&&(s=` (name: ${this.name} ${this.h.value})`),W(`XFA - node "${this[Vt]}"${s} has already enough "${n}"!`),!1}[$A](e){return this.hasOwnProperty(e[Vt])&&e[ai]===this[ai]}[vx](){return!1}[L6](){return!1}[fC](){return!1}[Ef](){return!1}[Fr](){this.para&&this[ri]()[ue].paraStack.pop()}[kg](){this[ri]()[ue].paraStack.push(this.para)}[UA](e){this.id&&this[ai]===ci.template.id&&e.set(this.id,this)}[ri](){return this[on].template}[Hc](){return!1}[Jc](){return!1}[Gn](e){e[Ua]=this,this[Tt].push(e),!e[on]&&this[on]&&(e[on]=this[on])}[Eu](e){const n=this[Tt].indexOf(e);this[Tt].splice(n,1)}[Qx](){return this.hasOwnProperty("value")}[Or](e){}[qc](e){}[hn](){}[Ja](e){delete this[Xw],this[w5]&&(e.clean(this[w5]),delete this[w5])}[jA](e){return this[Tt].indexOf(e)}[v5](e,n){n[Ua]=this,this[Tt].splice(e,0,n),!n[on]&&this[on]&&(n[on]=this[on])}[e2](){return!this.name}[Dae](){return""}[Ti](){return this[Tt].length===0?this[Se]:this[Tt].map(e=>e[Ti]()).join("")}get[r1](){const e=Object.getPrototypeOf(this);if(!e._attributes){const n=e._attributes=new Set;for(const i of Object.getOwnPropertyNames(this)){if(this[i]===null||this[i]instanceof fe||this[i]instanceof q)break;n.add(i)}}return Fe(this,r1,e._attributes)}[R0](e){let n=this;for(;n;){if(n===e)return!0;n=n[yt]()}return!1}[yt](){return this[Ua]}[oi](){return this[yt]()}[Qi](e=null){return e?this[e]:this[Tt]}[fg](){const e=Object.create(null);this[Se]&&(e.$content=this[Se]);for(const n of Object.getOwnPropertyNames(this)){const i=this[n];i!==null&&(i instanceof fe?e[n]=i[fg]():i instanceof q?i.isEmpty()||(e[n]=i.dump()):e[n]=i)}return e}[zt](){return null}[ht](){return et.EMPTY}*[pg](){for(const e of this[Qi]())yield e}*[tR](e,n){for(const i of this[pg]())if(!e||n===e.has(i[Vt])){const s=this[tf](),r=i[ht](s);r.success||(this[ue].failingNode=i),yield r}}[r3](){return null}[ef](e,n){this[ue].children.push(e)}[tf](){}[Lu]({filter:e=null,include:n=!0}){if(!this[ue].generator)this[ue].generator=this[tR](e,n);else{const i=this[tf](),s=this[ue].failingNode[ht](i);if(!s.success)return s;s.html&&this[ef](s.html,s.bbox),delete this[ue].failingNode}for(;;){const i=this[ue].generator.next();if(i.done)break;const s=i.value;if(!s.success)return s;s.html&&this[ef](s.html,s.bbox)}return this[ue].generator=null,et.EMPTY}[_B](e){this[Rm]=new Set(Object.keys(e))}[nR](e){const n=this[r1],i=this[Rm];return[...e].filter(s=>n.has(s)&&!i.has(s))}[ax](e,n=new Set){for(const i of this[Tt])i[Nm](e,n)}[Nm](e,n){const i=this[Vw](e,n);i?this[oy](i,e,n):this[ax](e,n)}[Vw](e,n){const{use:i,usehref:s}=this;if(!i&&!s)return null;let r=null,a=null,o=null,l=i;if(s?(l=s,s.startsWith("#som(")&&s.endsWith(")")?a=s.slice(5,-1):s.startsWith(".#som(")&&s.endsWith(")")?a=s.slice(6,-1):s.startsWith("#")?o=s.slice(1):s.startsWith(".#")&&(o=s.slice(2))):i.startsWith("#")?o=i.slice(1):a=i,this.use=this.usehref="",o?r=e.get(o):(r=_0(e.get(EB),this,a,!0,!1),r&&(r=r[0])),!r)return W(`XFA - Invalid prototype reference: ${l}.`),null;if(r[Vt]!==this[Vt])return W(`XFA - Incompatible prototype: ${r[Vt]} !== ${this[Vt]}.`),null;if(n.has(r))return W("XFA - Cycle detected in prototypes use."),null;n.add(r);const c=r[Vw](e,n);return c&&r[oy](c,e,n),r[ax](e,n),n.delete(r),r}[oy](e,n,i){if(i.has(e)){W("XFA - Cycle detected in prototypes use.");return}!this[Se]&&e[Se]&&(this[Se]=e[Se]),new Set(i).add(e);for(const r of this[nR](e[Rm]))this[r]=e[r],this[Rm]&&this[Rm].add(r);for(const r of Object.getOwnPropertyNames(this)){if(this[r1].has(r))continue;const a=this[r],o=e[r];if(a instanceof q){for(const l of a[Tt])l[Nm](n,i);for(let l=a[Tt].length,c=o[Tt].length;l<c;l++){const u=e[Tt][l][Po]();if(a.push(u))u[Ua]=this,this[Tt].push(u),u[Nm](n,i);else break}continue}if(a!==null){a[ax](n,i),o&&a[oy](o,n,i);continue}if(o!==null){const l=o[Po]();l[Ua]=this,this[r]=l,this[Tt].push(l),l[Nm](n,i)}}}static[Gw](e){return Array.isArray(e)?e.map(n=>fe[Gw](n)):typeof e=="object"&&e!==null?Object.assign({},e):e}[Po](){const e=Object.create(Object.getPrototypeOf(this));for(const n of Object.getOwnPropertySymbols(this))try{e[n]=this[n]}catch{Fe(e,n,this[n])}e[tn]=`${e[Vt]}${zA++}`,e[Tt]=[];for(const n of Object.getOwnPropertyNames(this)){if(this[r1].has(n)){e[n]=fe[Gw](this[n]);continue}const i=this[n];e[n]=i instanceof q?new q(i[ox]):null}for(const n of this[Tt]){const i=n[Vt],s=n[Po]();e[Tt].push(s),s[Ua]=e,e[i]===null?e[i]=s:e[i][Tt].push(s)}return e}[Qi](e=null){return e?this[Tt].filter(n=>n[Vt]===e):this[Tt]}[O6](e){return this[e]}[Jx](e,n,i=!0){return Array.from(this[yx](e,n,i))}*[yx](e,n,i=!0){if(e==="parent"){yield this[Ua];return}for(const s of this[Tt])s[Vt]===e&&(yield s),s.name===e&&(yield s),(n||s[e2]())&&(yield*s[yx](e,n,!1));i&&this[r1].has(e)&&(yield new gC(this,e,this[e]))}}class q{constructor(e=1/0){this[ox]=e,this[Tt]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(e){return this[Tt].length<=this[ox]?(this[Tt].push(e),!0):(W(`XFA - node "${e[Vt]}" accepts no more than ${this[ox]} children`),!1)}isEmpty(){return this[Tt].length===0}dump(){return this[Tt].length===1?this[Tt][0][fg]():this[Tt].map(e=>e[fg]())}[Po](){const e=new q(this[ox]);return e[Tt]=this[Tt].map(n=>n[Po]()),e}get children(){return this[Tt]}clear(){this[Tt].length=0}}class gC{constructor(e,n,i){this[Ua]=e,this[Vt]=n,this[Se]=i,this[Al]=!1,this[tn]=`attribute${zA++}`}[yt](){return this[Ua]}[k1](){return!0}[dC](){return this[Se].trim()}[Or](e){e=e.value||"",this[Se]=e.toString()}[Ti](){return this[Se]}[R0](e){return this[Ua]===e||this[Ua][R0](e)}}class Pl extends fe{constructor(e,n,i={}){if(super(e,n),this[Se]="",this[S0]=null,n!=="#text"){const s=new Map;this[xh]=s;for(const[r,a]of Object.entries(i))s.set(r,new gC(this,r,a));if(i.hasOwnProperty(Cu)){const r=i[Cu].xfa.dataNode;r!==void 0&&(r==="dataGroup"?this[S0]=!1:r==="dataValue"&&(this[S0]=!0))}}this[Al]=!1}[Sx](e){const n=this[Vt];if(n==="#text"){e.push(D1(this[Se]));return}const i=iA(n),s=this[ai]===NB?"xfa:":"";e.push(`<${s}${i}`);for(const[r,a]of this[xh].entries()){const o=iA(r);e.push(` ${o}="${D1(a[Se])}"`)}if(this[S0]!==null&&(this[S0]?e.push(' xfa:dataNode="dataValue"'):e.push(' xfa:dataNode="dataGroup"')),!this[Se]&&this[Tt].length===0){e.push("/>");return}if(e.push(">"),this[Se])typeof this[Se]=="string"?e.push(D1(this[Se])):this[Se][Sx](e);else for(const r of this[Tt])r[Sx](e);e.push(`</${s}${i}>`)}[Il](e){if(this[Se]){const n=new Pl(this[ai],"#text");this[Gn](n),n[Se]=this[Se],this[Se]=""}return this[Gn](e),!0}[qc](e){this[Se]+=e}[hn](){if(this[Se]&&this[Tt].length>0){const e=new Pl(this[ai],"#text");this[Gn](e),e[Se]=this[Se],delete this[Se]}}[ht](){return this[Vt]==="#text"?et.success({name:"#text",value:this[Se]}):et.EMPTY}[Qi](e=null){return e?this[Tt].filter(n=>n[Vt]===e):this[Tt]}[CB](){return this[xh]}[O6](e){const n=this[xh].get(e);return n!==void 0?n:this[Qi](e)}*[yx](e,n){const i=this[xh].get(e);i&&(yield i);for(const s of this[Tt])s[Vt]===e&&(yield s),n&&(yield*s[yx](e,n))}*[BA](e,n){const i=this[xh].get(e);i&&(!n||!i[Al])&&(yield i);for(const s of this[Tt])yield*s[BA](e,n)}*[wx](e,n,i){for(const s of this[Tt])s[Vt]===e&&(!i||!s[Al])&&(yield s),n&&(yield*s[wx](e,n,i))}[k1](){return this[S0]===null?this[Tt].length===0||this[Tt][0][ai]===ci.xhtml.id:this[S0]}[dC](){return this[S0]===null?this[Tt].length===0?this[Se].trim():this[Tt][0][ai]===ci.xhtml.id?this[Tt][0][Ti]().trim():null:this[Se].trim()}[Or](e){e=e.value||"",this[Se]=e.toString()}[fg](e=!1){const n=Object.create(null);e&&(n.$ns=this[ai]),this[Se]&&(n.$content=this[Se]),n.$name=this[Vt],n.children=[];for(const i of this[Tt])n.children.push(i[fg](e));n.attributes=Object.create(null);for(const[i,s]of this[xh])n.attributes[i]=s[Se];return n}}class Kn extends fe{constructor(e,n){super(e,n),this[Se]=""}[qc](e){this[Se]+=e}[hn](){}}class nn extends Kn{constructor(e,n,i){super(e,n),this[ly]=i}[hn](){this[Se]=j6({data:this[Se],defaultValue:this[ly][0],validate:e=>this[ly].includes(e)})}[Ja](e){super[Ja](e),delete this[ly]}}class Rt extends Kn{[hn](){this[Se]=this[Se].trim()}}class Ho extends Kn{constructor(e,n,i,s){super(e,n),this[Ww]=i,this[Kw]=s}[hn](){this[Se]=xt({data:this[Se],defaultValue:this[Ww],validate:this[Kw]})}[Ja](e){super[Ja](e),delete this[Ww],delete this[Kw]}}class Pi extends Ho{constructor(e,n){super(e,n,0,i=>i===1)}}class RB extends Ho{constructor(e,n){super(e,n,1,i=>i===0)}}function mt(t){return typeof t=="string"?"0px":Number.isInteger(t)?`${t}px`:`${t.toFixed(2)}px`}const iR={anchorType(t,e){const n=t[oi]();if(!(!n||n.layout&&n.layout!=="position"))switch("transform"in e||(e.transform=""),t.anchorType){case"bottomCenter":e.transform+="translate(-50%, -100%)";break;case"bottomLeft":e.transform+="translate(0,-100%)";break;case"bottomRight":e.transform+="translate(-100%,-100%)";break;case"middleCenter":e.transform+="translate(-50%,-50%)";break;case"middleLeft":e.transform+="translate(0,-50%)";break;case"middleRight":e.transform+="translate(-100%,-50%)";break;case"topCenter":e.transform+="translate(-50%,0)";break;case"topRight":e.transform+="translate(-100%,0)";break}},dimensions(t,e){var r;const n=t[oi]();let i=t.w;const s=t.h;if((r=n.layout)!=null&&r.includes("row")){const a=n[ue],o=t.colSpan;let l;o===-1?(l=Math.sumPrecise(a.columnWidths.slice(a.currentColumn)),a.currentColumn=0):(l=Math.sumPrecise(a.columnWidths.slice(a.currentColumn,a.currentColumn+o)),a.currentColumn=(a.currentColumn+t.colSpan)%a.columnWidths.length),isNaN(l)||(i=t.w=l)}e.width=i!==""?mt(i):"auto",e.height=s!==""?mt(s):"auto"},position(t,e){const n=t[oi]();n!=null&&n.layout&&n.layout!=="position"||(e.position="absolute",e.left=mt(t.x),e.top=mt(t.y))},rotate(t,e){t.rotate&&("transform"in e||(e.transform=""),e.transform+=`rotate(-${t.rotate}deg)`,e.transformOrigin="top left")},presence(t,e){switch(t.presence){case"invisible":e.visibility="hidden";break;case"hidden":case"inactive":e.display="none";break}},hAlign(t,e){if(t[Vt]==="para")switch(t.hAlign){case"justifyAll":e.textAlign="justify-all";break;case"radix":e.textAlign="left";break;default:e.textAlign=t.hAlign}else switch(t.hAlign){case"left":e.alignSelf="start";break;case"center":e.alignSelf="center";break;case"right":e.alignSelf="end";break}},margin(t,e){t.margin&&(e.margin=t.margin[zt]().margin)}};function FB(t,e){t[oi]().layout==="position"&&(t.minW>0&&(e.minWidth=mt(t.minW)),t.maxW>0&&(e.maxWidth=mt(t.maxW)),t.minH>0&&(e.minHeight=mt(t.minH)),t.maxH>0&&(e.maxHeight=mt(t.maxH)))}function sR(t,e,n,i,s,r){const a=new qae(e,n,i,s);return typeof t=="string"?a.addString(t):t[Dl](a),a.compute(r)}function mC(t,e){let n=null,i=null,s=!1;if((!t.w||!t.h)&&t.value){let r=0,a=0;t.margin&&(r=t.margin.leftInset+t.margin.rightInset,a=t.margin.topInset+t.margin.bottomInset);let o=null,l=null;t.para&&(l=Object.create(null),o=t.para.lineHeight===""?null:t.para.lineHeight,l.top=t.para.spaceAbove===""?0:t.para.spaceAbove,l.bottom=t.para.spaceBelow===""?0:t.para.spaceBelow,l.left=t.para.marginLeft===""?0:t.para.marginLeft,l.right=t.para.marginRight===""?0:t.para.marginRight);let c=t.font;if(!c){const p=t[ri]();let g=t[yt]();for(;g&&g!==p;){if(g.font){c=g.font;break}g=g[yt]()}}const u=(t.w||e.width)-r,d=t[on].fontFinder;if(t.value.exData&&t.value.exData[Se]&&t.value.exData.contentType==="text/html"){const p=sR(t.value.exData[Se],c,l,o,d,u);i=p.width,n=p.height,s=p.isBroken}else{const p=t.value[Ti]();if(p){const g=sR(p,c,l,o,d,u);i=g.width,n=g.height,s=g.isBroken}}i!==null&&!t.w&&(i+=r),n!==null&&!t.h&&(n+=a)}return{w:i,h:n,isBroken:s}}function MB(t,e,n){let i;if(t.w!==""&&t.h!=="")i=[t.x,t.y,t.w,t.h];else{if(!n)return null;let s=t.w;if(s===""){if(t.maxW===0){const a=t[oi]();s=a.layout==="position"&&a.w!==""?0:t.minW}else s=Math.min(t.maxW,n.width);e.attributes.style.width=mt(s)}let r=t.h;if(r===""){if(t.maxH===0){const a=t[oi]();r=a.layout==="position"&&a.h!==""?0:t.minH}else r=Math.min(t.maxH,n.height);e.attributes.style.height=mt(r)}i=[t.x,t.y,s,r]}return i}function $6(t){var n;const e=t[oi]();if((n=e.layout)!=null&&n.includes("row")){const i=e[ue],s=t.colSpan;let r;s===-1?r=Math.sumPrecise(i.columnWidths.slice(i.currentColumn)):r=Math.sumPrecise(i.columnWidths.slice(i.currentColumn,i.currentColumn+s)),isNaN(r)||(t.w=r)}e.layout&&e.layout!=="position"&&(t.x=t.y=0),t.layout==="table"&&t.w===""&&Array.isArray(t.columnWidths)&&(t.w=Math.sumPrecise(t.columnWidths))}function DB(t){switch(t.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function pr(t,...e){const n=Object.create(null);for(const i of e){const s=t[i];if(s!==null){if(iR.hasOwnProperty(i)){iR[i](t,n);continue}if(s instanceof fe){const r=s[zt]();r?Object.assign(n,r):W(`(DEBUG) - XFA - style for ${i} not implemented yet`)}}}return n}function nf(t,e){const{attributes:n}=e,{style:i}=n,s={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(n.class.push("xfaWrapped"),t.border){const{widths:r,insets:a}=t.border[ue];let o,l,c=a[0],u=a[3];const d=a[0]+a[2],p=a[1]+a[3];switch(t.border.hand){case"even":c-=r[0]/2,u-=r[3]/2,o=`calc(100% + ${(r[1]+r[3])/2-p}px)`,l=`calc(100% + ${(r[0]+r[2])/2-d}px)`;break;case"left":c-=r[0],u-=r[3],o=`calc(100% + ${r[1]+r[3]-p}px)`,l=`calc(100% + ${r[0]+r[2]-d}px)`;break;case"right":o=p?`calc(100% - ${p}px)`:"100%",l=d?`calc(100% - ${d}px)`:"100%";break}const g=["xfaBorder"];Cg(t.border)&&g.push("xfaPrintOnly");const m={name:"div",attributes:{class:g,style:{top:`${c}px`,left:`${u}px`,width:o,height:l}},children:[]};for(const b of["border","borderWidth","borderColor","borderRadius","borderStyle"])i[b]!==void 0&&(m.attributes.style[b]=i[b],delete i[b]);s.children.push(m,e)}else s.children.push(e);for(const r of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])i[r]!==void 0&&(s.attributes.style[r]=i[r],delete i[r]);return s.attributes.style.position=i.position==="absolute"?"absolute":"relative",delete i.position,i.alignSelf&&(s.attributes.style.alignSelf=i.alignSelf,delete i.alignSelf),s}function LB(t){const e=Ge(t.textIndent,"0px");if(e>=0)return;const i="padding"+((t.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),s=Ge(t[i],"0px");t[i]=`${s-e}px`}function xC(t,e){switch(t.access){case"nonInteractive":e.push("xfaNonInteractive");break;case"readOnly":e.push("xfaReadOnly");break;case"protected":e.push("xfaDisabled");break}}function Cg(t){return t.relevant.length>0&&!t.relevant[0].excluded&&t.relevant[0].viewname==="print"}function OB(t){const e=t[ri]()[ue].paraStack;return e.length?e.at(-1):null}function BB(t,e,n){var i;if((i=n.attributes.class)!=null&&i.includes("xfaRich")){e&&(t.h===""&&(e.height="auto"),t.w===""&&(e.width="auto"));const s=OB(t);if(s){const r=n.attributes.style;switch(r.display="flex",r.flexDirection="column",s.vAlign){case"top":r.justifyContent="start";break;case"bottom":r.justifyContent="end";break;case"middle":r.justifyContent="center";break}const a=s[zt]();for(const[o,l]of Object.entries(a))o in r||(r[o]=l)}}}function jB(t,e,n,i){if(!n){delete i.fontFamily;return}const s=B6(t.typeface);i.fontFamily=`"${s}"`;const r=n.find(s);if(r){const{fontFamily:a}=r.regular.cssFontInfo;a!==s&&(i.fontFamily=`"${a}"`);const o=OB(e);if(o&&o.lineHeight!==""||i.lineHeight)return;const l=pC(t,r);l&&(i.lineHeight=Math.max(1.2,l.lineHeight))}}function $B(t){const e=Z5(t,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return e?e.href:null}function UB(t,e){return{name:"div",attributes:{class:[t.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:e}}function zB(t){if(!t[ue])return null;const n={name:"div",attributes:t[ue].attributes,children:t[ue].children};if(t[ue].failingNode){const i=t[ue].failingNode[r3]();i&&(t.layout.endsWith("-tb")?n.children.push(UB(t,[i])):n.children.push(i))}return n.children.length===0?null:n}function HB(t,e,n){const i=t[ue],s=i.availableSpace,[r,a,o,l]=n;switch(t.layout){case"position":{i.width=Math.max(i.width,r+o),i.height=Math.max(i.height,a+l),i.children.push(e);break}case"lr-tb":case"rl-tb":(!i.line||i.attempt===1)&&(i.line=UB(t,[]),i.children.push(i.line),i.numberInLine=0),i.numberInLine+=1,i.line.children.push(e),i.attempt===0?(i.currentWidth+=o,i.height=Math.max(i.height,i.prevHeight+l)):(i.currentWidth=o,i.prevHeight=i.height,i.height+=l,i.attempt=0),i.width=Math.max(i.width,i.currentWidth);break;case"rl-row":case"row":{i.children.push(e),i.width+=o,i.height=Math.max(i.height,l);const c=mt(i.height);for(const u of i.children)u.attributes.style.height=c;break}case"table":{i.width=js(o,i.width,s.width),i.height+=l,i.children.push(e);break}case"tb":{i.width=js(o,i.width,s.width),i.height+=l,i.children.push(e);break}}}function qB(t){const e=t[ue].availableSpace,n=t.margin?t.margin.topInset+t.margin.bottomInset:0,i=t.margin?t.margin.leftInset+t.margin.rightInset:0;switch(t.layout){case"lr-tb":case"rl-tb":return t[ue].attempt===0?{width:e.width-i-t[ue].currentWidth,height:e.height-n-t[ue].prevHeight}:{width:e.width-i,height:e.height-n-t[ue].height};case"rl-row":case"row":return{width:Math.sumPrecise(t[ue].columnWidths.slice(t[ue].currentColumn)),height:e.height-i};case"table":case"tb":return{width:e.width-i,height:e.height-n-t[ue].height};case"position":default:return e}}function Xae(t){let e=t.w===""?NaN:t.w,n=t.h===""?NaN:t.h,[i,s]=[0,0];switch(t.anchorType||""){case"bottomCenter":[i,s]=[e/2,n];break;case"bottomLeft":[i,s]=[0,n];break;case"bottomRight":[i,s]=[e,n];break;case"middleCenter":[i,s]=[e/2,n/2];break;case"middleLeft":[i,s]=[0,n/2];break;case"middleRight":[i,s]=[e,n/2];break;case"topCenter":[i,s]=[e/2,0];break;case"topRight":[i,s]=[e,0];break}let r,a;switch(t.rotate||0){case 0:[r,a]=[-i,-s];break;case 90:[r,a]=[-s,i],[e,n]=[n,-e];break;case 180:[r,a]=[i,s],[e,n]=[-e,-n];break;case 270:[r,a]=[s,-i],[e,n]=[-n,e];break}return[t.x+r+Math.min(0,e),t.y+a+Math.min(0,n),Math.abs(e),Math.abs(n)]}function U6(t,e){var l;if(t[ri]()[ue].firstUnsplittable===null||t.w===0||t.h===0)return!0;const n=2,i=t[oi](),s=((l=i[ue])==null?void 0:l.attempt)||0,[,r,a,o]=Xae(t);switch(i.layout){case"lr-tb":case"rl-tb":return s===0?t[ri]()[ue].noLayoutFailure?t.w!==""?Math.round(a-e.width)<=n:e.width>n:t.h!==""&&Math.round(o-e.height)>n?!1:t.w!==""?Math.round(a-e.width)<=n?!0:i[ue].numberInLine===0?e.height>n:!1:e.width>n:t[ri]()[ue].noLayoutFailure?!0:t.h!==""&&Math.round(o-e.height)>n?!1:t.w===""||Math.round(a-e.width)<=n?e.height>n:i[Jc]()?!1:e.height>n;case"table":case"tb":return t[ri]()[ue].noLayoutFailure?!0:t.h!==""&&!t[Hc]()?Math.round(o-e.height)<=n:t.w===""||Math.round(a-e.width)<=n?e.height>n:i[Jc]()?!1:e.height>n;case"position":if(t[ri]()[ue].noLayoutFailure||t.h===""||Math.round(o+r-e.height)<=n)return!0;const c=t[ri]()[ue].currentContentArea;return o+r>c.h;case"rl-row":case"row":return t[ri]()[ue].noLayoutFailure?!0:t.h!==""?Math.round(o-e.height)<=n:!0;default:return!0}}const De=ci.template.id,sf="http://www.w3.org/2000/svg",l8=2,Kae=3,Yae=5e3,Zae=/^H(\d+)$/,Jae=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),Qae=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function rR(t){if(!t||!t.border)return{w:0,h:0};const e=t.border[ys]();return e?{w:e.widths[0]+e.widths[2]+e.insets[0]+e.insets[2],h:e.widths[1]+e.widths[3]+e.insets[1]+e.insets[3]}:{w:0,h:0}}function bC(t){return t.margin&&(t.margin.topInset||t.margin.rightInset||t.margin.bottomInset||t.margin.leftInset)}function yC(t,e){if(!t.value){const n=new EC({});t[Gn](n),t.value=n}t.value[Or](e)}function*wC(t){for(const e of t[Qi]()){if(e instanceof AC){yield*e[pg]();continue}yield e}}function a3(t){var e;return((e=t.validate)==null?void 0:e.nullTest)==="error"}function z6(t){for(;t;){if(!t.traversal){t[_o]=t[yt]()[_o];return}if(t[_o])return;let e=null;for(const s of t.traversal[Qi]())if(s.operation==="next"){e=s;break}if(!e||!e.ref){t[_o]=t[yt]()[_o];return}const n=t[ri]();t[_o]=++n[_o];const i=n[jc](e.ref,t);if(!i)return;t=i[0]}}function H6(t,e){var i;const n=t.assist;if(n){const s=n[ht]();s&&(e.title=s);const a=n.role.match(Zae);if(a){const o="heading",l=a[1];e.role=o,e["aria-level"]=l}}if(t.layout==="table")e.role="table";else if(t.layout==="row")e.role="row";else{const s=t[yt]();s.layout==="row"&&(e.role=((i=s.assist)==null?void 0:i.role)==="TH"?"columnheader":"cell")}}function pf(t){if(!t.assist)return null;const e=t.assist;return e.speak&&e.speak[Se]!==""?e.speak[Se]:e.toolTip?e.toolTip[Se]:null}function Xu(t){return et.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:t}]})}function q6(t){const e=t[ri]();e[ue].firstUnsplittable===null&&(e[ue].firstUnsplittable=t,e[ue].noLayoutFailure=!0)}function G6(t){const e=t[ri]();e[ue].firstUnsplittable===t&&(e[ue].noLayoutFailure=!1)}function aR(t){if(t[ue]||(t[ue]=Object.create(null),t.targetType==="auto"))return!1;const e=t[ri]();let n=null;if(t.target){if(n=e[jc](t.target,t[yt]()),!n)return!1;n=n[0]}const{currentPageArea:i,currentContentArea:s}=e[ue];if(t.targetType==="pageArea")return n instanceof gg||(n=null),t.startNew?(t[ue].target=n||i,!0):n&&n!==i?(t[ue].target=n,!0):!1;n instanceof vC||(n=null);const r=n&&n[yt]();let a,o=r;if(t.startNew)if(n){const l=r.contentArea.children,c=l.indexOf(s),u=l.indexOf(n);c!==-1&&c<u&&(o=null),a=u-1}else a=i.contentArea.children.indexOf(s);else if(n&&n!==s)a=r.contentArea.children.indexOf(n)-1,o=r===i?null:r;else return!1;return t[ue].target=o,t[ue].index=a,!0}function oR(t,e,n){const i=t[ri](),s=i[ue].noLayoutFailure,r=e[oi];e[oi]=()=>t,i[ue].noLayoutFailure=!0;const a=e[ht](n);t[ef](a.html,a.bbox),i[ue].noLayoutFailure=s,e[oi]=r}class eoe extends Rt{constructor(e){super(De,"appearanceFilter"),this.id=e.id||"",this.type=ke(e.type,["optional","required"]),this.use=e.use||"",this.usehref=e.usehref||""}}class GB extends fe{constructor(e){super(De,"arc",!0),this.circular=xt({data:e.circular,defaultValue:0,validate:n=>n===1}),this.hand=ke(e.hand,["even","left","right"]),this.id=e.id||"",this.startAngle=o8({data:e.startAngle,defaultValue:0,validate:n=>!0}),this.sweepAngle=o8({data:e.sweepAngle,defaultValue:360,validate:n=>!0}),this.use=e.use||"",this.usehref=e.usehref||"",this.edge=null,this.fill=null}[ht](){var l;const e=this.edge||new o3({}),n=e[zt](),i=Object.create(null);((l=this.fill)==null?void 0:l.presence)==="visible"?Object.assign(i,this.fill[zt]()):i.fill="transparent",i.strokeWidth=mt(e.presence==="visible"?e.thickness:0),i.stroke=n.color;let s;const r={xmlns:sf,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)s={name:"ellipse",attributes:{xmlns:sf,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:i}};else{const c=this.startAngle*Math.PI/180,u=this.sweepAngle*Math.PI/180,d=this.sweepAngle>180?1:0,[p,g,m,b]=[50*(1+Math.cos(c)),50*(1-Math.sin(c)),50*(1+Math.cos(c+u)),50*(1-Math.sin(c+u))];s={name:"path",attributes:{xmlns:sf,d:`M ${p} ${g} A 50 50 0 ${d} 0 ${m} ${b}`,vectorEffect:"non-scaling-stroke",style:i}},Object.assign(r,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const a={name:"svg",children:[s],attributes:r},o=this[yt]()[yt]();return bC(o)?et.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[a]}):(a.attributes.style.position="absolute",et.success(a))}}class toe extends fe{constructor(e){super(De,"area",!0),this.colSpan=xt({data:e.colSpan,defaultValue:1,validate:n=>n>=1||n===-1}),this.id=e.id||"",this.name=e.name||"",this.relevant=zo(e.relevant),this.use=e.use||"",this.usehref=e.usehref||"",this.x=Ge(e.x,"0pt"),this.y=Ge(e.y,"0pt"),this.desc=null,this.extras=null,this.area=new q,this.draw=new q,this.exObject=new q,this.exclGroup=new q,this.field=new q,this.subform=new q,this.subformSet=new q}*[pg](){yield*wC(this)}[e2](){return!0}[Ef](){return!0}[ef](e,n){const[i,s,r,a]=n;this[ue].width=Math.max(this[ue].width,i+r),this[ue].height=Math.max(this[ue].height,s+a),this[ue].children.push(e)}[tf](){return this[ue].availableSpace}[ht](e){const n=pr(this,"position"),i={style:n,id:this[tn],class:["xfaArea"]};Cg(this)&&i.class.push("xfaPrintOnly"),this.name&&(i.xfaName=this.name);const s=[];this[ue]={children:s,width:0,height:0,availableSpace:e};const r=this[Lu]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!r.success)return r.isBreak()?r:(delete this[ue],et.FAILURE);n.width=mt(this[ue].width),n.height=mt(this[ue].height);const a={name:"div",attributes:i,children:s},o=[this.x,this.y,this[ue].width,this[ue].height];return delete this[ue],et.success(a,o)}}class noe extends fe{constructor(e){super(De,"assist",!0),this.id=e.id||"",this.role=e.role||"",this.use=e.use||"",this.usehref=e.usehref||"",this.speak=null,this.toolTip=null}[ht](){var e;return((e=this.toolTip)==null?void 0:e[Se])||null}}class ioe extends fe{constructor(e){super(De,"barcode",!0),this.charEncoding=j6({data:e.charEncoding?e.charEncoding.toLowerCase():"",defaultValue:"",validate:n=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(n)||n.match(/iso-8859-\d{2}/)}),this.checksum=ke(e.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=xt({data:e.dataColumnCount,defaultValue:-1,validate:n=>n>=0}),this.dataLength=xt({data:e.dataLength,defaultValue:-1,validate:n=>n>=0}),this.dataPrep=ke(e.dataPrep,["none","flateCompress"]),this.dataRowCount=xt({data:e.dataRowCount,defaultValue:-1,validate:n=>n>=0}),this.endChar=e.endChar||"",this.errorCorrectionLevel=xt({data:e.errorCorrectionLevel,defaultValue:-1,validate:n=>n>=0&&n<=8}),this.id=e.id||"",this.moduleHeight=Ge(e.moduleHeight,"5mm"),this.moduleWidth=Ge(e.moduleWidth,"0.25mm"),this.printCheckDigit=xt({data:e.printCheckDigit,defaultValue:0,validate:n=>n===1}),this.rowColumnRatio=ZN(e.rowColumnRatio),this.startChar=e.startChar||"",this.textLocation=ke(e.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=xt({data:e.truncate,defaultValue:0,validate:n=>n===1}),this.type=ke(e.type?e.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=ke(e.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=e.use||"",this.usehref=e.usehref||"",this.wideNarrowRatio=ZN(e.wideNarrowRatio),this.encrypt=null,this.extras=null}}class soe extends fe{constructor(e){super(De,"bind",!0),this.match=ke(e.match,["once","dataRef","global","none"]),this.ref=e.ref||"",this.picture=null}}class HA extends fe{constructor(e){super(De,"bindItems"),this.connection=e.connection||"",this.labelRef=e.labelRef||"",this.ref=e.ref||"",this.valueRef=e.valueRef||""}}class roe extends fe{constructor(e){super(De,"bookend"),this.id=e.id||"",this.leader=e.leader||"",this.trailer=e.trailer||"",this.use=e.use||"",this.usehref=e.usehref||""}}class aoe extends Pi{constructor(e){super(De,"boolean"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}[ht](e){return Xu(this[Se]===1?"1":"0")}}class WB extends fe{constructor(e){super(De,"border",!0),this.break=ke(e.break,["close","open"]),this.hand=ke(e.hand,["even","left","right"]),this.id=e.id||"",this.presence=ke(e.presence,["visible","hidden","inactive","invisible"]),this.relevant=zo(e.relevant),this.use=e.use||"",this.usehref=e.usehref||"",this.corner=new q(4),this.edge=new q(4),this.extras=null,this.fill=null,this.margin=null}[ys](){if(!this[ue]){const e=this.edge.children.slice();if(e.length<4){const s=e.at(-1)||new o3({});for(let r=e.length;r<4;r++)e.push(s)}const n=e.map(s=>s.thickness),i=[0,0,0,0];this.margin&&(i[0]=this.margin.topInset,i[1]=this.margin.rightInset,i[2]=this.margin.bottomInset,i[3]=this.margin.leftInset),this[ue]={widths:n,insets:i,edges:e}}return this[ue]}[zt](){var s;const{edges:e}=this[ys](),n=e.map(r=>{const a=r[zt]();return a.color||(a.color="#000000"),a}),i=Object.create(null);if(this.margin&&Object.assign(i,this.margin[zt]()),((s=this.fill)==null?void 0:s.presence)==="visible"&&Object.assign(i,this.fill[zt]()),this.corner.children.some(r=>r.radius!==0)){const r=this.corner.children.map(a=>a[zt]());if(r.length===2||r.length===3){const a=r.at(-1);for(let o=r.length;o<4;o++)r.push(a)}i.borderRadius=r.map(a=>a.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":i.borderStyle="";break;case"inactive":i.borderStyle="none";break;default:i.borderStyle=n.map(r=>r.style).join(" ");break}return i.borderWidth=n.map(r=>r.width).join(" "),i.borderColor=n.map(r=>r.color).join(" "),i}}class ooe extends fe{constructor(e){super(De,"break",!0),this.after=ke(e.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=e.afterTarget||"",this.before=ke(e.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=e.beforeTarget||"",this.bookendLeader=e.bookendLeader||"",this.bookendTrailer=e.bookendTrailer||"",this.id=e.id||"",this.overflowLeader=e.overflowLeader||"",this.overflowTarget=e.overflowTarget||"",this.overflowTrailer=e.overflowTrailer||"",this.startNew=xt({data:e.startNew,defaultValue:0,validate:n=>n===1}),this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null}}class VB extends fe{constructor(e){super(De,"breakAfter",!0),this.id=e.id||"",this.leader=e.leader||"",this.startNew=xt({data:e.startNew,defaultValue:0,validate:n=>n===1}),this.target=e.target||"",this.targetType=ke(e.targetType,["auto","contentArea","pageArea"]),this.trailer=e.trailer||"",this.use=e.use||"",this.usehref=e.usehref||"",this.script=null}}class XB extends fe{constructor(e){super(De,"breakBefore",!0),this.id=e.id||"",this.leader=e.leader||"",this.startNew=xt({data:e.startNew,defaultValue:0,validate:n=>n===1}),this.target=e.target||"",this.targetType=ke(e.targetType,["auto","contentArea","pageArea"]),this.trailer=e.trailer||"",this.use=e.use||"",this.usehref=e.usehref||"",this.script=null}[ht](e){return this[ue]={},et.FAILURE}}class loe extends fe{constructor(e){super(De,"button",!0),this.highlight=ke(e.highlight,["inverted","none","outline","push"]),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null}[ht](e){const i=this[yt]()[yt](),s={name:"button",attributes:{id:this[tn],class:["xfaButton"],style:{}},children:[]};for(const r of i.event.children){if(r.activity!=="click"||!r.script)continue;const a=SO(r.script[Se]);if(!a)continue;const o=$B(a.url);o&&s.children.push({name:"a",attributes:{id:"link"+this[tn],href:o,newWindow:a.newWindow,class:["xfaLink"],style:{}},children:[]})}return et.success(s)}}class coe extends fe{constructor(e){super(De,"calculate",!0),this.id=e.id||"",this.override=ke(e.override,["disabled","error","ignore","warning"]),this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null,this.message=null,this.script=null}}class uoe extends fe{constructor(e){super(De,"caption",!0),this.id=e.id||"",this.placement=ke(e.placement,["left","bottom","inline","right","top"]),this.presence=ke(e.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil(Ge(e.reserve)),this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[Or](e){yC(this,e)}[ys](e){if(!this[ue]){let{width:n,height:i}=e;switch(this.placement){case"left":case"right":case"inline":n=this.reserve<=0?n:this.reserve;break;case"top":case"bottom":i=this.reserve<=0?i:this.reserve;break}this[ue]=mC(this,{width:n})}return this[ue]}[ht](e){if(!this.value)return et.EMPTY;this[kg]();const n=this.value[ht](e).html;if(!n)return this[Fr](),et.EMPTY;const i=this.reserve;if(this.reserve<=0){const{w:a,h:o}=this[ys](e);switch(this.placement){case"left":case"right":case"inline":this.reserve=a;break;case"top":case"bottom":this.reserve=o;break}}const s=[];typeof n=="string"?s.push({name:"#text",value:n}):s.push(n);const r=pr(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(r.width=mt(this.reserve));break;case"top":case"bottom":this.reserve>0&&(r.height=mt(this.reserve));break}return BB(this,null,n),this[Fr](),this.reserve=i,et.success({name:"div",attributes:{style:r,class:["xfaCaption"]},children:s})}}class hoe extends Rt{constructor(e){super(De,"certificate"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}}class doe extends fe{constructor(e){super(De,"certificates",!0),this.credentialServerPolicy=ke(e.credentialServerPolicy,["optional","required"]),this.id=e.id||"",this.url=e.url||"",this.urlPolicy=e.urlPolicy||"",this.use=e.use||"",this.usehref=e.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class KB extends fe{constructor(e){super(De,"checkButton",!0),this.id=e.id||"",this.mark=ke(e.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=ke(e.shape,["square","round"]),this.size=Ge(e.size,"10pt"),this.use=e.use||"",this.usehref=e.usehref||"",this.border=null,this.extras=null,this.margin=null}[ht](e){var v,S,C;const n=pr("margin"),i=mt(this.size);n.width=n.height=i;let s,r,a;const o=this[yt]()[yt](),l=o.items.children.length&&o.items.children[0][ht]().html||[],c={on:(l[0]!==void 0?l[0]:"on").toString(),off:(l[1]!==void 0?l[1]:"off").toString()},d=(((v=o.value)==null?void 0:v[Ti]())||"off")===c.on||void 0,p=o[oi](),g=o[tn];let m;p instanceof QB?(a=p[tn],s="radio",r="xfaRadio",m=((S=p[Va])==null?void 0:S[tn])||p[tn]):(s="checkbox",r="xfaCheckbox",m=((C=o[Va])==null?void 0:C[tn])||o[tn]);const b={name:"input",attributes:{class:[r],style:n,fieldId:g,dataId:m,type:s,checked:d,xfaOn:c.on,xfaOff:c.off,"aria-label":pf(o),"aria-required":!1}};return a&&(b.attributes.name=a),a3(o)&&(b.attributes["aria-required"]=!0,b.attributes.required=!0),et.success({name:"label",attributes:{class:["xfaLabel"]},children:[b]})}}class YB extends fe{constructor(e){super(De,"choiceList",!0),this.commitOn=ke(e.commitOn,["select","exit"]),this.id=e.id||"",this.open=ke(e.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=xt({data:e.textEntry,defaultValue:0,validate:n=>n===1}),this.use=e.use||"",this.usehref=e.usehref||"",this.border=null,this.extras=null,this.margin=null}[ht](e){var c,u,d;const n=pr(this,"border","margin"),s=this[yt]()[yt](),a={fontSize:`calc(${((c=s.font)==null?void 0:c.size)||10}px * var(--total-scale-factor))`},o=[];if(s.items.children.length>0){const p=s.items;let g=0,m=0;p.children.length===2&&(g=p.children[0].save,m=1-g);const b=p.children[g][ht]().html,v=p.children[m][ht]().html;let S=!1;const C=((u=s.value)==null?void 0:u[Ti]())||"";for(let E=0,w=b.length;E<w;E++){const A={name:"option",attributes:{value:v[E]||b[E],style:a},value:b[E]};v[E]===C&&(A.attributes.selected=S=!0),o.push(A)}S||o.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const l={class:["xfaSelect"],fieldId:s[tn],dataId:((d=s[Va])==null?void 0:d[tn])||s[tn],style:n,"aria-label":pf(s),"aria-required":!1};return a3(s)&&(l["aria-required"]=!0,l.required=!0),this.open==="multiSelect"&&(l.multiple=!0),et.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:o,attributes:l}]})}}class foe extends fe{constructor(e){super(De,"color",!0),this.cSpace=ke(e.cSpace,["SRGB"]),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||"",this.value=e.value?Bae(e.value):"",this.extras=null}[Qx](){return!1}[zt](){return this.value?rn.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class poe extends fe{constructor(e){super(De,"comb"),this.id=e.id||"",this.numberOfCells=xt({data:e.numberOfCells,defaultValue:0,validate:n=>n>=0}),this.use=e.use||"",this.usehref=e.usehref||""}}class goe extends fe{constructor(e){super(De,"connect",!0),this.connection=e.connection||"",this.id=e.id||"",this.ref=e.ref||"",this.usage=ke(e.usage,["exportAndImport","exportOnly","importOnly"]),this.use=e.use||"",this.usehref=e.usehref||"",this.picture=null}}class vC extends fe{constructor(e){super(De,"contentArea",!0),this.h=Ge(e.h),this.id=e.id||"",this.name=e.name||"",this.relevant=zo(e.relevant),this.use=e.use||"",this.usehref=e.usehref||"",this.w=Ge(e.w),this.x=Ge(e.x,"0pt"),this.y=Ge(e.y,"0pt"),this.desc=null,this.extras=null}[ht](e){const n=mt(this.x),i=mt(this.y),s={left:n,top:i,width:mt(this.w),height:mt(this.h)},r=["xfaContentarea"];return Cg(this)&&r.push("xfaPrintOnly"),et.success({name:"div",children:[],attributes:{style:s,class:r,id:this[tn]}})}}class ZB extends fe{constructor(e){super(De,"corner",!0),this.id=e.id||"",this.inverted=xt({data:e.inverted,defaultValue:0,validate:n=>n===1}),this.join=ke(e.join,["square","round"]),this.presence=ke(e.presence,["visible","hidden","inactive","invisible"]),this.radius=Ge(e.radius),this.stroke=ke(e.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=Ge(e.thickness,"0.5pt"),this.use=e.use||"",this.usehref=e.usehref||"",this.color=null,this.extras=null}[zt](){const e=pr(this,"visibility");return e.radius=mt(this.join==="square"?0:this.radius),e}}class moe extends Kn{constructor(e){super(De,"date"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}[hn](){const e=this[Se].trim();this[Se]=e?new Date(e):null}[ht](e){return Xu(this[Se]?this[Se].toString():"")}}class xoe extends Kn{constructor(e){super(De,"dateTime"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}[hn](){const e=this[Se].trim();this[Se]=e?new Date(e):null}[ht](e){return Xu(this[Se]?this[Se].toString():"")}}class boe extends fe{constructor(e){super(De,"dateTimeEdit",!0),this.hScrollPolicy=ke(e.hScrollPolicy,["auto","off","on"]),this.id=e.id||"",this.picker=ke(e.picker,["host","none"]),this.use=e.use||"",this.usehref=e.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[ht](e){var r;const n=pr(this,"border","font","margin"),i=this[yt]()[yt](),s={name:"input",attributes:{type:"text",fieldId:i[tn],dataId:((r=i[Va])==null?void 0:r[tn])||i[tn],class:["xfaTextfield"],style:n,"aria-label":pf(i),"aria-required":!1}};return a3(i)&&(s.attributes["aria-required"]=!0,s.attributes.required=!0),et.success({name:"label",attributes:{class:["xfaLabel"]},children:[s]})}}class yoe extends Kn{constructor(e){super(De,"decimal"),this.fracDigits=xt({data:e.fracDigits,defaultValue:2,validate:n=>!0}),this.id=e.id||"",this.leadDigits=xt({data:e.leadDigits,defaultValue:-1,validate:n=>!0}),this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}[hn](){const e=parseFloat(this[Se].trim());this[Se]=isNaN(e)?null:e}[ht](e){return Xu(this[Se]!==null?this[Se].toString():"")}}class woe extends fe{constructor(e){super(De,"defaultUi",!0),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null}}class voe extends fe{constructor(e){super(De,"desc",!0),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||"",this.boolean=new q,this.date=new q,this.dateTime=new q,this.decimal=new q,this.exData=new q,this.float=new q,this.image=new q,this.integer=new q,this.text=new q,this.time=new q}}class Soe extends nn{constructor(e){super(De,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||""}}class Aoe extends fe{constructor(e){super(De,"digestMethods",!0),this.id=e.id||"",this.type=ke(e.type,["optional","required"]),this.use=e.use||"",this.usehref=e.usehref||"",this.digestMethod=new q}}class JB extends fe{constructor(e){super(De,"draw",!0),this.anchorType=ke(e.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=xt({data:e.colSpan,defaultValue:1,validate:n=>n>=1||n===-1}),this.h=e.h?Ge(e.h):"",this.hAlign=ke(e.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=e.id||"",this.locale=e.locale||"",this.maxH=Ge(e.maxH,"0pt"),this.maxW=Ge(e.maxW,"0pt"),this.minH=Ge(e.minH,"0pt"),this.minW=Ge(e.minW,"0pt"),this.name=e.name||"",this.presence=ke(e.presence,["visible","hidden","inactive","invisible"]),this.relevant=zo(e.relevant),this.rotate=xt({data:e.rotate,defaultValue:0,validate:n=>n%90===0}),this.use=e.use||"",this.usehref=e.usehref||"",this.w=e.w?Ge(e.w):"",this.x=Ge(e.x,"0pt"),this.y=Ge(e.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new q}[Or](e){yC(this,e)}[ht](e){if(z6(this),this.presence==="hidden"||this.presence==="inactive")return et.EMPTY;$6(this),this[kg]();const n=this.w,i=this.h,{w:s,h:r,isBroken:a}=mC(this,e);if(s&&this.w===""){if(a&&this[oi]()[Jc]())return this[Fr](),et.FAILURE;this.w=s}if(r&&this.h===""&&(this.h=r),q6(this),!U6(this,e))return this.w=n,this.h=i,this[Fr](),et.FAILURE;G6(this);const o=pr(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");FB(this,o),o.margin&&(o.padding=o.margin,delete o.margin);const l=["xfaDraw"];this.font&&l.push("xfaFont"),Cg(this)&&l.push("xfaPrintOnly");const c={style:o,id:this[tn],class:l};this.name&&(c.xfaName=this.name);const u={name:"div",attributes:c,children:[]};H6(this,c);const d=MB(this,u,e),p=this.value?this.value[ht](e).html:null;return p===null?(this.w=n,this.h=i,this[Fr](),et.success(nf(this,u),d)):(u.children.push(p),BB(this,o,p),this.w=n,this.h=i,this[Fr](),et.success(nf(this,u),d))}}class o3 extends fe{constructor(e){super(De,"edge",!0),this.cap=ke(e.cap,["square","butt","round"]),this.id=e.id||"",this.presence=ke(e.presence,["visible","hidden","inactive","invisible"]),this.stroke=ke(e.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=Ge(e.thickness,"0.5pt"),this.use=e.use||"",this.usehref=e.usehref||"",this.color=null,this.extras=null}[zt](){const e=pr(this,"visibility");if(Object.assign(e,{linecap:this.cap,width:mt(this.thickness),color:this.color?this.color[zt]():"#000000",style:""}),this.presence!=="visible")e.style="none";else switch(this.stroke){case"solid":e.style="solid";break;case"dashDot":e.style="dashed";break;case"dashDotDot":e.style="dashed";break;case"dashed":e.style="dashed";break;case"dotted":e.style="dotted";break;case"embossed":e.style="ridge";break;case"etched":e.style="groove";break;case"lowered":e.style="inset";break;case"raised":e.style="outset";break}return e}}class koe extends nn{constructor(e){super(De,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||""}}class Coe extends fe{constructor(e){super(De,"encodings",!0),this.id=e.id||"",this.type=ke(e.type,["optional","required"]),this.use=e.use||"",this.usehref=e.usehref||"",this.encoding=new q}}class Eoe extends fe{constructor(e){super(De,"encrypt",!0),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||"",this.certificate=null}}class _oe extends fe{constructor(e){super(De,"encryptData",!0),this.id=e.id||"",this.operation=ke(e.operation,["encrypt","decrypt"]),this.target=e.target||"",this.use=e.use||"",this.usehref=e.usehref||"",this.filter=null,this.manifest=null}}class Toe extends fe{constructor(e){super(De,"encryption",!0),this.id=e.id||"",this.type=ke(e.type,["optional","required"]),this.use=e.use||"",this.usehref=e.usehref||"",this.certificate=new q}}class Ioe extends nn{constructor(e){super(De,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||""}}class Poe extends fe{constructor(e){super(De,"encryptionMethods",!0),this.id=e.id||"",this.type=ke(e.type,["optional","required"]),this.use=e.use||"",this.usehref=e.usehref||"",this.encryptionMethod=new q}}let Noe=class extends fe{constructor(e){super(De,"event",!0),this.activity=ke(e.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=e.id||"",this.listen=ke(e.listen,["refOnly","refAndDescendents"]),this.name=e.name||"",this.ref=e.ref||"",this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}};class Roe extends Kn{constructor(e){super(De,"exData"),this.contentType=e.contentType||"",this.href=e.href||"",this.id=e.id||"",this.maxLength=xt({data:e.maxLength,defaultValue:-1,validate:n=>n>=-1}),this.name=e.name||"",this.rid=e.rid||"",this.transferEncoding=ke(e.transferEncoding,["none","base64","package"]),this.use=e.use||"",this.usehref=e.usehref||""}[fC](){return this.contentType==="text/html"}[Il](e){return this.contentType==="text/html"&&e[ai]===ci.xhtml.id?(this[Se]=e,!0):this.contentType==="text/xml"?(this[Se]=e,!0):!1}[ht](e){return this.contentType!=="text/html"||!this[Se]?et.EMPTY:this[Se][ht](e)}}class Foe extends fe{constructor(e){super(De,"exObject",!0),this.archive=e.archive||"",this.classId=e.classId||"",this.codeBase=e.codeBase||"",this.codeType=e.codeType||"",this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null,this.boolean=new q,this.date=new q,this.dateTime=new q,this.decimal=new q,this.exData=new q,this.exObject=new q,this.float=new q,this.image=new q,this.integer=new q,this.text=new q,this.time=new q}}class QB extends fe{constructor(e){super(De,"exclGroup",!0),this.access=ke(e.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=e.accessKey||"",this.anchorType=ke(e.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=xt({data:e.colSpan,defaultValue:1,validate:n=>n>=1||n===-1}),this.h=e.h?Ge(e.h):"",this.hAlign=ke(e.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=e.id||"",this.layout=ke(e.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=Ge(e.maxH,"0pt"),this.maxW=Ge(e.maxW,"0pt"),this.minH=Ge(e.minH,"0pt"),this.minW=Ge(e.minW,"0pt"),this.name=e.name||"",this.presence=ke(e.presence,["visible","hidden","inactive","invisible"]),this.relevant=zo(e.relevant),this.use=e.use||"",this.usehref=e.usehref||"",this.w=e.w?Ge(e.w):"",this.x=Ge(e.x,"0pt"),this.y=Ge(e.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new q,this.event=new q,this.field=new q,this.setProperty=new q}[Ef](){return!0}[Qx](){return!0}[Or](e){for(const n of this.field.children){if(!n.value){const i=new EC({});n[Gn](i),n.value=i}n.value[Or](e)}}[Jc](){return this.layout.endsWith("-tb")&&this[ue].attempt===0&&this[ue].numberInLine>0||this[yt]()[Jc]()}[Hc](){var n;const e=this[oi]();return e[Hc]()?this[ue]._isSplittable!==void 0?this[ue]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[ue]._isSplittable=!1,!1):(n=e.layout)!=null&&n.endsWith("-tb")&&e[ue].numberInLine!==0?!1:(this[ue]._isSplittable=!0,!0):!1}[r3](){return zB(this)}[ef](e,n){HB(this,e,n)}[tf](){return qB(this)}[ht](e){if(z6(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return et.EMPTY;$6(this);const n=[],i={id:this[tn],class:[]};xC(this,i.class),this[ue]||(this[ue]=Object.create(null)),Object.assign(this[ue],{children:n,attributes:i,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,e.width),height:Math.min(this.h||1/0,e.height)},width:0,height:0,prevHeight:0,currentWidth:0});const s=this[Hc]();if(s||q6(this),!U6(this,e))return et.FAILURE;const r=new Set(["field"]);if(this.layout.includes("row")){const S=this[oi]().columnWidths;Array.isArray(S)&&S.length>0&&(this[ue].columnWidths=S,this[ue].currentColumn=0)}const a=pr(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),o=["xfaExclgroup"],l=DB(this);l&&o.push(l),Cg(this)&&o.push("xfaPrintOnly"),i.style=a,i.class=o,this.name&&(i.xfaName=this.name),this[kg]();const c=this.layout==="lr-tb"||this.layout==="rl-tb",u=c?l8:1;for(;this[ue].attempt<u;this[ue].attempt++){c&&this[ue].attempt===l8-1&&(this[ue].numberInLine=0);const S=this[Lu]({filter:r,include:!0});if(S.success)break;if(S.isBreak())return this[Fr](),S;if(c&&this[ue].attempt===0&&this[ue].numberInLine===0&&!this[ri]()[ue].noLayoutFailure){this[ue].attempt=u;break}}if(this[Fr](),s||G6(this),this[ue].attempt===u)return s||delete this[ue],et.FAILURE;let d=0,p=0;this.margin&&(d=this.margin.leftInset+this.margin.rightInset,p=this.margin.topInset+this.margin.bottomInset);const g=Math.max(this[ue].width+d,this.w||0),m=Math.max(this[ue].height+p,this.h||0),b=[this.x,this.y,g,m];this.w===""&&(a.width=mt(g)),this.h===""&&(a.height=mt(m));const v={name:"div",attributes:i,children:n};return H6(this,i),delete this[ue],et.success(nf(this,v),b)}}class Moe extends fe{constructor(e){super(De,"execute"),this.connection=e.connection||"",this.executeType=ke(e.executeType,["import","remerge"]),this.id=e.id||"",this.runAt=ke(e.runAt,["client","both","server"]),this.use=e.use||"",this.usehref=e.usehref||""}}class Doe extends fe{constructor(e){super(De,"extras",!0),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||"",this.boolean=new q,this.date=new q,this.dateTime=new q,this.decimal=new q,this.exData=new q,this.extras=new q,this.float=new q,this.image=new q,this.integer=new q,this.text=new q,this.time=new q}}class SC extends fe{constructor(e){super(De,"field",!0),this.access=ke(e.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=e.accessKey||"",this.anchorType=ke(e.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=xt({data:e.colSpan,defaultValue:1,validate:n=>n>=1||n===-1}),this.h=e.h?Ge(e.h):"",this.hAlign=ke(e.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=e.id||"",this.locale=e.locale||"",this.maxH=Ge(e.maxH,"0pt"),this.maxW=Ge(e.maxW,"0pt"),this.minH=Ge(e.minH,"0pt"),this.minW=Ge(e.minW,"0pt"),this.name=e.name||"",this.presence=ke(e.presence,["visible","hidden","inactive","invisible"]),this.relevant=zo(e.relevant),this.rotate=xt({data:e.rotate,defaultValue:0,validate:n=>n%90===0}),this.use=e.use||"",this.usehref=e.usehref||"",this.w=e.w?Ge(e.w):"",this.x=Ge(e.x,"0pt"),this.y=Ge(e.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new q(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new q,this.connect=new q,this.event=new q,this.setProperty=new q}[Ef](){return!0}[Or](e){yC(this,e)}[ht](e){var S,C,E;if(z6(this),!this.ui){this.ui=new CC({}),this.ui[on]=this[on],this[Gn](this.ui);let w;switch(this.items.children.length){case 0:w=new rj({}),this.ui.textEdit=w;break;case 1:w=new KB({}),this.ui.checkButton=w;break;case 2:w=new YB({}),this.ui.choiceList=w;break}this.ui[Gn](w)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return et.EMPTY;this.caption&&delete this.caption[ue],this[kg]();const n=this.caption?this.caption[ht](e).html:null,i=this.w,s=this.h;let r=0,a=0;this.margin&&(r=this.margin.leftInset+this.margin.rightInset,a=this.margin.topInset+this.margin.bottomInset);let o=null;if(this.w===""||this.h===""){let w=null,A=null,T=0,P=0;if(this.ui.checkButton)T=P=this.ui.checkButton.size;else{const{w:R,h:D}=mC(this,e);R!==null?(T=R,P=D):P=Uae(this.font,!0).lineNoGap}if(o=rR(this.ui[ys]()),T+=o.w,P+=o.h,this.caption){const{w:R,h:D,isBroken:O}=this.caption[ys](e);if(O&&this[oi]()[Jc]())return this[Fr](),et.FAILURE;switch(w=R,A=D,this.caption.placement){case"left":case"right":case"inline":w+=T;break;case"top":case"bottom":A+=P;break}}else w=T,A=P;w&&this.w===""&&(w+=r,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<w?w:this.minW)),A&&this.h===""&&(A+=a,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<A?A:this.minH))}if(this[Fr](),$6(this),q6(this),!U6(this,e))return this.w=i,this.h=s,this[Fr](),et.FAILURE;G6(this);const l=pr(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");FB(this,l);const c=["xfaField"];this.font&&c.push("xfaFont"),Cg(this)&&c.push("xfaPrintOnly");const u={style:l,id:this[tn],class:c};l.margin&&(l.padding=l.margin,delete l.margin),xC(this,c),this.name&&(u.xfaName=this.name);const d=[],p={name:"div",attributes:u,children:d};H6(this,u);const g=this.border?this.border[zt]():null,m=MB(this,p,e),b=this.ui[ht]().html;if(!b)return Object.assign(l,g),et.success(nf(this,p),m);this[_o]&&((S=b.children)!=null&&S[0]?b.children[0].attributes.tabindex=this[_o]:b.attributes.tabindex=this[_o]),b.attributes.style||(b.attributes.style=Object.create(null));let v=null;if(this.ui.button?(b.children.length===1&&([v]=b.children.splice(0,1)),Object.assign(b.attributes.style,g)):Object.assign(l,g),d.push(b),this.value){if(this.ui.imageEdit)b.children.push(this.value[ht]().html);else if(!this.ui.button){let w="";if(this.value.exData)w=this.value.exData[Ti]();else if(this.value.text)w=this.value.text[ys]();else{const A=this.value[ht]().html;A!==null&&(w=A.children[0].value)}this.ui.textEdit&&((C=this.value.text)!=null&&C.maxChars)&&(b.children[0].attributes.maxLength=this.value.text.maxChars),w&&(this.ui.numericEdit&&(w=parseFloat(w),w=isNaN(w)?"":w.toString()),b.children[0].name==="textarea"?b.children[0].attributes.textContent=w:b.children[0].attributes.value=w)}}if(!this.ui.imageEdit&&((E=b.children)!=null&&E[0])&&this.h){o=o||rR(this.ui[ys]());let w=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){w=this.caption.reserve,w<=0&&(w=this.caption[ys](e).h);const A=this.h-w-a-o.h;b.children[0].attributes.style.height=mt(A)}else b.children[0].attributes.style.height="100%"}if(v&&b.children.push(v),!n)return b.attributes.class&&b.attributes.class.push("xfaLeft"),this.w=i,this.h=s,et.success(nf(this,p),m);if(this.ui.button)return l.padding&&delete l.padding,n.name==="div"&&(n.name="span"),b.children.push(n),et.success(p,m);switch(this.ui.checkButton&&(n.attributes.class[0]="xfaCaptionForCheckButton"),b.attributes.class||(b.attributes.class=[]),b.children.splice(0,0,n),this.caption.placement){case"left":b.attributes.class.push("xfaLeft");break;case"right":b.attributes.class.push("xfaRight");break;case"top":b.attributes.class.push("xfaTop");break;case"bottom":b.attributes.class.push("xfaBottom");break;case"inline":b.attributes.class.push("xfaLeft");break}return this.w=i,this.h=s,et.success(nf(this,p),m)}}class Loe extends fe{constructor(e){super(De,"fill",!0),this.id=e.id||"",this.presence=ke(e.presence,["visible","hidden","inactive","invisible"]),this.use=e.use||"",this.usehref=e.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[zt](){var o;const e=this[yt](),i=e[yt]()[yt](),s=Object.create(null);let r="color",a=r;e instanceof WB&&(r="background-color",a="background",i instanceof CC&&(s.backgroundColor="white")),(e instanceof nj||e instanceof GB)&&(r=a="fill",s.fill="white");for(const l of Object.getOwnPropertyNames(this)){if(l==="extras"||l==="color")continue;const c=this[l];if(!(c instanceof fe))continue;const u=c[zt](this.color);return u&&(s[u.startsWith("#")?r:a]=u),s}if((o=this.color)!=null&&o.value){const l=this.color[zt]();s[l.startsWith("#")?r:a]=l}return s}}class Ooe extends fe{constructor(e){super(De,"filter",!0),this.addRevocationInfo=ke(e.addRevocationInfo,["","required","optional","none"]),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||"",this.version=xt({data:this.version,defaultValue:5,validate:n=>n>=1&&n<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Boe extends Kn{constructor(e){super(De,"float"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}[hn](){const e=parseFloat(this[Se].trim());this[Se]=isNaN(e)?null:e}[ht](e){return Xu(this[Se]!==null?this[Se].toString():"")}}class joe extends fe{constructor(e){super(De,"font",!0),this.baselineShift=Ge(e.baselineShift),this.fontHorizontalScale=o8({data:e.fontHorizontalScale,defaultValue:100,validate:n=>n>=0}),this.fontVerticalScale=o8({data:e.fontVerticalScale,defaultValue:100,validate:n=>n>=0}),this.id=e.id||"",this.kerningMode=ke(e.kerningMode,["none","pair"]),this.letterSpacing=Ge(e.letterSpacing,"0"),this.lineThrough=xt({data:e.lineThrough,defaultValue:0,validate:n=>n===1||n===2}),this.lineThroughPeriod=ke(e.lineThroughPeriod,["all","word"]),this.overline=xt({data:e.overline,defaultValue:0,validate:n=>n===1||n===2}),this.overlinePeriod=ke(e.overlinePeriod,["all","word"]),this.posture=ke(e.posture,["normal","italic"]),this.size=Ge(e.size,"10pt"),this.typeface=e.typeface||"Courier",this.underline=xt({data:e.underline,defaultValue:0,validate:n=>n===1||n===2}),this.underlinePeriod=ke(e.underlinePeriod,["all","word"]),this.use=e.use||"",this.usehref=e.usehref||"",this.weight=ke(e.weight,["normal","bold"]),this.extras=null,this.fill=null}[Ja](e){super[Ja](e),this[on].usedTypefaces.add(this.typeface)}[zt](){const e=pr(this,"fill"),n=e.color;return n&&(n==="#000000"?delete e.color:n.startsWith("#")||(e.background=n,e.backgroundClip="text",e.color="transparent")),this.baselineShift&&(e.verticalAlign=mt(this.baselineShift)),e.fontKerning=this.kerningMode==="none"?"none":"normal",e.letterSpacing=mt(this.letterSpacing),this.lineThrough!==0&&(e.textDecoration="line-through",this.lineThrough===2&&(e.textDecorationStyle="double")),this.overline!==0&&(e.textDecoration="overline",this.overline===2&&(e.textDecorationStyle="double")),e.fontStyle=this.posture,e.fontSize=mt(.99*this.size),jB(this,this,this[on].fontFinder,e),this.underline!==0&&(e.textDecoration="underline",this.underline===2&&(e.textDecorationStyle="double")),e.fontWeight=this.weight,e}}class $oe extends fe{constructor(e){super(De,"format",!0),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null,this.picture=null}}class Uoe extends Rt{constructor(e){super(De,"handler"),this.id=e.id||"",this.type=ke(e.type,["optional","required"]),this.use=e.use||"",this.usehref=e.usehref||""}}class zoe extends fe{constructor(e){super(De,"hyphenation"),this.excludeAllCaps=xt({data:e.excludeAllCaps,defaultValue:0,validate:n=>n===1}),this.excludeInitialCap=xt({data:e.excludeInitialCap,defaultValue:0,validate:n=>n===1}),this.hyphenate=xt({data:e.hyphenate,defaultValue:0,validate:n=>n===1}),this.id=e.id||"",this.pushCharacterCount=xt({data:e.pushCharacterCount,defaultValue:3,validate:n=>n>=0}),this.remainCharacterCount=xt({data:e.remainCharacterCount,defaultValue:3,validate:n=>n>=0}),this.use=e.use||"",this.usehref=e.usehref||"",this.wordCharacterCount=xt({data:e.wordCharacterCount,defaultValue:7,validate:n=>n>=0})}}let ej=class extends Rt{constructor(e){super(De,"image"),this.aspect=ke(e.aspect,["fit","actual","height","none","width"]),this.contentType=e.contentType||"",this.href=e.href||"",this.id=e.id||"",this.name=e.name||"",this.transferEncoding=ke(e.transferEncoding,["base64","none","package"]),this.use=e.use||"",this.usehref=e.usehref||""}[ht](){if(this.contentType&&!Jae.has(this.contentType.toLowerCase()))return et.EMPTY;let e=this[on].images&&this[on].images.get(this.href);if(!e&&(this.href||!this[Se])||(!e&&this.transferEncoding==="base64"&&(e=wne(this[Se])),!e))return et.EMPTY;if(!this.contentType){for(const[r,a]of Qae)if(e.length>r.length&&r.every((o,l)=>o===e[l])){this.contentType=a;break}if(!this.contentType)return et.EMPTY}const n=new Blob([e],{type:this.contentType});let i;switch(this.aspect){case"fit":case"actual":break;case"height":i={height:"100%",objectFit:"fill"};break;case"none":i={width:"100%",height:"100%",objectFit:"fill"};break;case"width":i={width:"100%",objectFit:"fill"};break}const s=this[yt]();return et.success({name:"img",attributes:{class:["xfaImage"],style:i,src:URL.createObjectURL(n),alt:s?pf(s[yt]()):null}})}};class Hoe extends fe{constructor(e){super(De,"imageEdit",!0),this.data=ke(e.data,["link","embed"]),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||"",this.border=null,this.extras=null,this.margin=null}[ht](e){return this.data==="embed"?et.success({name:"div",children:[],attributes:{}}):et.EMPTY}}class qoe extends Kn{constructor(e){super(De,"integer"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}[hn](){const e=parseInt(this[Se].trim(),10);this[Se]=isNaN(e)?null:e}[ht](e){return Xu(this[Se]!==null?this[Se].toString():"")}}class Goe extends fe{constructor(e){super(De,"issuers",!0),this.id=e.id||"",this.type=ke(e.type,["optional","required"]),this.use=e.use||"",this.usehref=e.usehref||"",this.certificate=new q}}class qA extends fe{constructor(e){super(De,"items",!0),this.id=e.id||"",this.name=e.name||"",this.presence=ke(e.presence,["visible","hidden","inactive","invisible"]),this.ref=e.ref||"",this.save=xt({data:e.save,defaultValue:0,validate:n=>n===1}),this.use=e.use||"",this.usehref=e.usehref||"",this.boolean=new q,this.date=new q,this.dateTime=new q,this.decimal=new q,this.exData=new q,this.float=new q,this.image=new q,this.integer=new q,this.text=new q,this.time=new q}[ht](){const e=[];for(const n of this[Qi]())e.push(n[Ti]());return et.success(e)}}class Woe extends fe{constructor(e){super(De,"keep",!0),this.id=e.id||"";const n=["none","contentArea","pageArea"];this.intact=ke(e.intact,n),this.next=ke(e.next,n),this.previous=ke(e.previous,n),this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null}}class Voe extends fe{constructor(e){super(De,"keyUsage");const n=["","yes","no"];this.crlSign=ke(e.crlSign,n),this.dataEncipherment=ke(e.dataEncipherment,n),this.decipherOnly=ke(e.decipherOnly,n),this.digitalSignature=ke(e.digitalSignature,n),this.encipherOnly=ke(e.encipherOnly,n),this.id=e.id||"",this.keyAgreement=ke(e.keyAgreement,n),this.keyCertSign=ke(e.keyCertSign,n),this.keyEncipherment=ke(e.keyEncipherment,n),this.nonRepudiation=ke(e.nonRepudiation,n),this.type=ke(e.type,["optional","required"]),this.use=e.use||"",this.usehref=e.usehref||""}}class Xoe extends fe{constructor(e){super(De,"line",!0),this.hand=ke(e.hand,["even","left","right"]),this.id=e.id||"",this.slope=ke(e.slope,["\\","/"]),this.use=e.use||"",this.usehref=e.usehref||"",this.edge=null}[ht](){const e=this[yt]()[yt](),n=this.edge||new o3({}),i=n[zt](),s=Object.create(null),r=n.presence==="visible"?n.thickness:0;s.strokeWidth=mt(r),s.stroke=i.color;let a,o,l,c,u="100%",d="100%";e.w<=r?([a,o,l,c]=["50%",0,"50%","100%"],u=s.strokeWidth):e.h<=r?([a,o,l,c]=[0,"50%","100%","50%"],d=s.strokeWidth):this.slope==="\\"?[a,o,l,c]=[0,0,"100%","100%"]:[a,o,l,c]=[0,"100%","100%",0];const g={name:"svg",children:[{name:"line",attributes:{xmlns:sf,x1:a,y1:o,x2:l,y2:c,style:s}}],attributes:{xmlns:sf,width:u,height:d,style:{overflow:"visible"}}};return bC(e)?et.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[g]}):(g.attributes.style.position="absolute",et.success(g))}}class Koe extends fe{constructor(e){super(De,"linear",!0),this.id=e.id||"",this.type=ke(e.type,["toRight","toBottom","toLeft","toTop"]),this.use=e.use||"",this.usehref=e.usehref||"",this.color=null,this.extras=null}[zt](e){e=e?e[zt]():"#FFFFFF";const n=this.type.replace(/([RBLT])/," $1").toLowerCase(),i=this.color?this.color[zt]():"#000000";return`linear-gradient(${n}, ${e}, ${i})`}}class Yoe extends Kn{constructor(e){super(De,"lockDocument"),this.id=e.id||"",this.type=ke(e.type,["optional","required"]),this.use=e.use||"",this.usehref=e.usehref||""}[hn](){this[Se]=ke(this[Se],["auto","0","1"])}}class Zoe extends fe{constructor(e){super(De,"manifest",!0),this.action=ke(e.action,["include","all","exclude"]),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null,this.ref=new q}}class Joe extends fe{constructor(e){super(De,"margin",!0),this.bottomInset=Ge(e.bottomInset,"0"),this.id=e.id||"",this.leftInset=Ge(e.leftInset,"0"),this.rightInset=Ge(e.rightInset,"0"),this.topInset=Ge(e.topInset,"0"),this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null}[zt](){return{margin:mt(this.topInset)+" "+mt(this.rightInset)+" "+mt(this.bottomInset)+" "+mt(this.leftInset)}}}class Qoe extends fe{constructor(e){super(De,"mdp"),this.id=e.id||"",this.permissions=xt({data:e.permissions,defaultValue:2,validate:n=>n===1||n===3}),this.signatureType=ke(e.signatureType,["filler","author"]),this.use=e.use||"",this.usehref=e.usehref||""}}class ele extends fe{constructor(e){super(De,"medium"),this.id=e.id||"",this.imagingBBox=jae(e.imagingBBox),this.long=Ge(e.long),this.orientation=ke(e.orientation,["portrait","landscape"]),this.short=Ge(e.short),this.stock=e.stock||"",this.trayIn=ke(e.trayIn,["auto","delegate","pageFront"]),this.trayOut=ke(e.trayOut,["auto","delegate"]),this.use=e.use||"",this.usehref=e.usehref||""}}class tle extends fe{constructor(e){super(De,"message",!0),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||"",this.text=new q}}class nle extends fe{constructor(e){super(De,"numericEdit",!0),this.hScrollPolicy=ke(e.hScrollPolicy,["auto","off","on"]),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[ht](e){var r;const n=pr(this,"border","font","margin"),i=this[yt]()[yt](),s={name:"input",attributes:{type:"text",fieldId:i[tn],dataId:((r=i[Va])==null?void 0:r[tn])||i[tn],class:["xfaTextfield"],style:n,"aria-label":pf(i),"aria-required":!1}};return a3(i)&&(s.attributes["aria-required"]=!0,s.attributes.required=!0),et.success({name:"label",attributes:{class:["xfaLabel"]},children:[s]})}}class ile extends fe{constructor(e){super(De,"occur",!0),this.id=e.id||"",this.initial=e.initial!==""?xt({data:e.initial,defaultValue:"",validate:n=>!0}):"",this.max=e.max!==""?xt({data:e.max,defaultValue:1,validate:n=>!0}):"",this.min=e.min!==""?xt({data:e.min,defaultValue:1,validate:n=>!0}):"",this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null}[Ja](){const e=this[yt](),n=this.min;this.min===""&&(this.min=e instanceof gg||e instanceof n2?0:1),this.max===""&&(n===""?this.max=e instanceof gg||e instanceof n2?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=e instanceof kC?1:this.min)}}class sle extends Rt{constructor(e){super(De,"oid"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}}class rle extends fe{constructor(e){super(De,"oids",!0),this.id=e.id||"",this.type=ke(e.type,["optional","required"]),this.use=e.use||"",this.usehref=e.usehref||"",this.oid=new q}}class tj extends fe{constructor(e){super(De,"overflow"),this.id=e.id||"",this.leader=e.leader||"",this.target=e.target||"",this.trailer=e.trailer||"",this.use=e.use||"",this.usehref=e.usehref||""}[ys](){if(!this[ue]){const e=this[yt](),n=this[ri](),i=n[jc](this.target,e),s=n[jc](this.leader,e),r=n[jc](this.trailer,e);this[ue]={target:(i==null?void 0:i[0])||null,leader:(s==null?void 0:s[0])||null,trailer:(r==null?void 0:r[0])||null,addLeader:!1,addTrailer:!1}}return this[ue]}}class gg extends fe{constructor(e){super(De,"pageArea",!0),this.blankOrNotBlank=ke(e.blankOrNotBlank,["any","blank","notBlank"]),this.id=e.id||"",this.initialNumber=xt({data:e.initialNumber,defaultValue:1,validate:n=>!0}),this.name=e.name||"",this.numbered=xt({data:e.numbered,defaultValue:1,validate:n=>!0}),this.oddOrEven=ke(e.oddOrEven,["any","even","odd"]),this.pagePosition=ke(e.pagePosition,["any","first","last","only","rest"]),this.relevant=zo(e.relevant),this.use=e.use||"",this.usehref=e.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new q,this.contentArea=new q,this.draw=new q,this.exclGroup=new q,this.field=new q,this.subform=new q}[t2](){return this[ue]?!this.occur||this.occur.max===-1||this[ue].numberOfUse<this.occur.max:(this[ue]={numberOfUse:0},!0)}[A1](){delete this[ue]}[lc](){this[ue]||(this[ue]={numberOfUse:0});const e=this[yt]();return e.relation==="orderedOccurrence"&&this[t2]()?(this[ue].numberOfUse+=1,this):e[lc]()}[tf](){return this[ue].space||{width:0,height:0}}[ht](){this[ue]||(this[ue]={numberOfUse:1});const e=[];this[ue].children=e;const n=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(n.width=mt(this.medium.short),n.height=mt(this.medium.long),this[ue].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const i=n.width;n.width=n.height,n.height=i,this[ue].space={width:this.medium.long,height:this.medium.short}}}else W("XFA - No medium specified in pageArea: please file a bug.");return this[Lu]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[Lu]({filter:new Set(["contentArea"]),include:!0}),et.success({name:"div",children:e,attributes:{class:["xfaPage"],id:this[tn],style:n,xfaName:this.name}})}}class n2 extends fe{constructor(e){super(De,"pageSet",!0),this.duplexImposition=ke(e.duplexImposition,["longEdge","shortEdge"]),this.id=e.id||"",this.name=e.name||"",this.relation=ke(e.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=zo(e.relevant),this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null,this.occur=null,this.pageArea=new q,this.pageSet=new q}[A1](){for(const e of this.pageArea.children)e[A1]();for(const e of this.pageSet.children)e[A1]()}[t2](){return!this.occur||this.occur.max===-1||this[ue].numberOfUse<this.occur.max}[lc](){if(this[ue]||(this[ue]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[ue].pageIndex+1<this.pageArea.children.length)return this[ue].pageIndex+=1,this.pageArea.children[this[ue].pageIndex][lc]();if(this[ue].pageSetIndex+1<this.pageSet.children.length)return this[ue].pageSetIndex+=1,this.pageSet.children[this[ue].pageSetIndex][lc]();if(this[t2]())return this[ue].numberOfUse+=1,this[ue].pageIndex=-1,this[ue].pageSetIndex=-1,this[lc]();const r=this[yt]();return r instanceof n2?r[lc]():(this[A1](),this[lc]())}const e=this[ri]()[ue].pageNumber,n=e%2===0?"even":"odd",i=e===0?"first":"rest";let s=this.pageArea.children.find(r=>r.oddOrEven===n&&r.pagePosition===i);return s||(s=this.pageArea.children.find(r=>r.oddOrEven==="any"&&r.pagePosition===i),s)||(s=this.pageArea.children.find(r=>r.oddOrEven==="any"&&r.pagePosition==="any"),s)?s:this.pageArea.children[0]}}class ale extends fe{constructor(e){super(De,"para",!0),this.hAlign=ke(e.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=e.id||"",this.lineHeight=e.lineHeight?Ge(e.lineHeight,"0pt"):"",this.marginLeft=e.marginLeft?Ge(e.marginLeft,"0pt"):"",this.marginRight=e.marginRight?Ge(e.marginRight,"0pt"):"",this.orphans=xt({data:e.orphans,defaultValue:0,validate:n=>n>=0}),this.preserve=e.preserve||"",this.radixOffset=e.radixOffset?Ge(e.radixOffset,"0pt"):"",this.spaceAbove=e.spaceAbove?Ge(e.spaceAbove,"0pt"):"",this.spaceBelow=e.spaceBelow?Ge(e.spaceBelow,"0pt"):"",this.tabDefault=e.tabDefault?Ge(this.tabDefault):"",this.tabStops=(e.tabStops||"").trim().split(/\s+/).map((n,i)=>i%2===1?Ge(n):n),this.textIndent=e.textIndent?Ge(e.textIndent,"0pt"):"",this.use=e.use||"",this.usehref=e.usehref||"",this.vAlign=ke(e.vAlign,["top","bottom","middle"]),this.widows=xt({data:e.widows,defaultValue:0,validate:n=>n>=0}),this.hyphenation=null}[zt](){const e=pr(this,"hAlign");return this.marginLeft!==""&&(e.paddingLeft=mt(this.marginLeft)),this.marginRight!==""&&(e.paddingRight=mt(this.marginRight)),this.spaceAbove!==""&&(e.paddingTop=mt(this.spaceAbove)),this.spaceBelow!==""&&(e.paddingBottom=mt(this.spaceBelow)),this.textIndent!==""&&(e.textIndent=mt(this.textIndent),LB(e)),this.lineHeight>0&&(e.lineHeight=mt(this.lineHeight)),this.tabDefault!==""&&(e.tabSize=mt(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(e,this.hyphenatation[zt]()),e}}class ole extends fe{constructor(e){super(De,"passwordEdit",!0),this.hScrollPolicy=ke(e.hScrollPolicy,["auto","off","on"]),this.id=e.id||"",this.passwordChar=e.passwordChar||"*",this.use=e.use||"",this.usehref=e.usehref||"",this.border=null,this.extras=null,this.margin=null}}class lle extends fe{constructor(e){super(De,"pattern",!0),this.id=e.id||"",this.type=ke(e.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=e.use||"",this.usehref=e.usehref||"",this.color=null,this.extras=null}[zt](e){e=e?e[zt]():"#FFFFFF";const n=this.color?this.color[zt]():"#000000",i=5,s="repeating-linear-gradient",r=`${e},${e} ${i}px,${n} ${i}px,${n} ${2*i}px`;switch(this.type){case"crossHatch":return`${s}(to top,${r}) ${s}(to right,${r})`;case"crossDiagonal":return`${s}(45deg,${r}) ${s}(-45deg,${r})`;case"diagonalLeft":return`${s}(45deg,${r})`;case"diagonalRight":return`${s}(-45deg,${r})`;case"horizontal":return`${s}(to top,${r})`;case"vertical":return`${s}(to right,${r})`}return""}}class cle extends Rt{constructor(e){super(De,"picture"),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||""}}class ule extends fe{constructor(e){super(De,"proto",!0),this.appearanceFilter=new q,this.arc=new q,this.area=new q,this.assist=new q,this.barcode=new q,this.bindItems=new q,this.bookend=new q,this.boolean=new q,this.border=new q,this.break=new q,this.breakAfter=new q,this.breakBefore=new q,this.button=new q,this.calculate=new q,this.caption=new q,this.certificate=new q,this.certificates=new q,this.checkButton=new q,this.choiceList=new q,this.color=new q,this.comb=new q,this.connect=new q,this.contentArea=new q,this.corner=new q,this.date=new q,this.dateTime=new q,this.dateTimeEdit=new q,this.decimal=new q,this.defaultUi=new q,this.desc=new q,this.digestMethod=new q,this.digestMethods=new q,this.draw=new q,this.edge=new q,this.encoding=new q,this.encodings=new q,this.encrypt=new q,this.encryptData=new q,this.encryption=new q,this.encryptionMethod=new q,this.encryptionMethods=new q,this.event=new q,this.exData=new q,this.exObject=new q,this.exclGroup=new q,this.execute=new q,this.extras=new q,this.field=new q,this.fill=new q,this.filter=new q,this.float=new q,this.font=new q,this.format=new q,this.handler=new q,this.hyphenation=new q,this.image=new q,this.imageEdit=new q,this.integer=new q,this.issuers=new q,this.items=new q,this.keep=new q,this.keyUsage=new q,this.line=new q,this.linear=new q,this.lockDocument=new q,this.manifest=new q,this.margin=new q,this.mdp=new q,this.medium=new q,this.message=new q,this.numericEdit=new q,this.occur=new q,this.oid=new q,this.oids=new q,this.overflow=new q,this.pageArea=new q,this.pageSet=new q,this.para=new q,this.passwordEdit=new q,this.pattern=new q,this.picture=new q,this.radial=new q,this.reason=new q,this.reasons=new q,this.rectangle=new q,this.ref=new q,this.script=new q,this.setProperty=new q,this.signData=new q,this.signature=new q,this.signing=new q,this.solid=new q,this.speak=new q,this.stipple=new q,this.subform=new q,this.subformSet=new q,this.subjectDN=new q,this.subjectDNs=new q,this.submit=new q,this.text=new q,this.textEdit=new q,this.time=new q,this.timeStamp=new q,this.toolTip=new q,this.traversal=new q,this.traverse=new q,this.ui=new q,this.validate=new q,this.value=new q,this.variables=new q}}class hle extends fe{constructor(e){super(De,"radial",!0),this.id=e.id||"",this.type=ke(e.type,["toEdge","toCenter"]),this.use=e.use||"",this.usehref=e.usehref||"",this.color=null,this.extras=null}[zt](e){e=e?e[zt]():"#FFFFFF";const n=this.color?this.color[zt]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${e},${n}`:`${n},${e}`})`}}class dle extends Rt{constructor(e){super(De,"reason"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}}class fle extends fe{constructor(e){super(De,"reasons",!0),this.id=e.id||"",this.type=ke(e.type,["optional","required"]),this.use=e.use||"",this.usehref=e.usehref||"",this.reason=new q}}class nj extends fe{constructor(e){super(De,"rectangle",!0),this.hand=ke(e.hand,["even","left","right"]),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||"",this.corner=new q(4),this.edge=new q(4),this.fill=null}[ht](){var c;const e=this.edge.children.length?this.edge.children[0]:new o3({}),n=e[zt](),i=Object.create(null);((c=this.fill)==null?void 0:c.presence)==="visible"?Object.assign(i,this.fill[zt]()):i.fill="transparent",i.strokeWidth=mt(e.presence==="visible"?e.thickness:0),i.stroke=n.color;const r=(this.corner.children.length?this.corner.children[0]:new ZB({}))[zt](),o={name:"svg",children:[{name:"rect",attributes:{xmlns:sf,width:"100%",height:"100%",x:0,y:0,rx:r.radius,ry:r.radius,style:i}}],attributes:{xmlns:sf,style:{overflow:"visible"},width:"100%",height:"100%"}},l=this[yt]()[yt]();return bC(l)?et.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[o]}):(o.attributes.style.position="absolute",et.success(o))}}class ple extends Rt{constructor(e){super(De,"ref"),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||""}}class gle extends Rt{constructor(e){super(De,"script"),this.binding=e.binding||"",this.contentType=e.contentType||"",this.id=e.id||"",this.name=e.name||"",this.runAt=ke(e.runAt,["client","both","server"]),this.use=e.use||"",this.usehref=e.usehref||""}}class GA extends fe{constructor(e){super(De,"setProperty"),this.connection=e.connection||"",this.ref=e.ref||"",this.target=e.target||""}}class mle extends fe{constructor(e){super(De,"signData",!0),this.id=e.id||"",this.operation=ke(e.operation,["sign","clear","verify"]),this.ref=e.ref||"",this.target=e.target||"",this.use=e.use||"",this.usehref=e.usehref||"",this.filter=null,this.manifest=null}}class xle extends fe{constructor(e){super(De,"signature",!0),this.id=e.id||"",this.type=ke(e.type,["PDF1.3","PDF1.6"]),this.use=e.use||"",this.usehref=e.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class ble extends fe{constructor(e){super(De,"signing",!0),this.id=e.id||"",this.type=ke(e.type,["optional","required"]),this.use=e.use||"",this.usehref=e.usehref||"",this.certificate=new q}}class yle extends fe{constructor(e){super(De,"solid",!0),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null}[zt](e){return e?e[zt]():"#FFFFFF"}}class wle extends Rt{constructor(e){super(De,"speak"),this.disable=xt({data:e.disable,defaultValue:0,validate:n=>n===1}),this.id=e.id||"",this.priority=ke(e.priority,["custom","caption","name","toolTip"]),this.rid=e.rid||"",this.use=e.use||"",this.usehref=e.usehref||""}}class vle extends fe{constructor(e){super(De,"stipple",!0),this.id=e.id||"",this.rate=xt({data:e.rate,defaultValue:50,validate:n=>n>=0&&n<=100}),this.use=e.use||"",this.usehref=e.usehref||"",this.color=null,this.extras=null}[zt](e){const n=this.rate/100;return rn.makeHexColor(Math.round(e.value.r*(1-n)+this.value.r*n),Math.round(e.value.g*(1-n)+this.value.g*n),Math.round(e.value.b*(1-n)+this.value.b*n))}}class ij extends fe{constructor(e){super(De,"subform",!0),this.access=ke(e.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=xt({data:e.allowMacro,defaultValue:0,validate:n=>n===1}),this.anchorType=ke(e.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=xt({data:e.colSpan,defaultValue:1,validate:n=>n>=1||n===-1}),this.columnWidths=(e.columnWidths||"").trim().split(/\s+/).map(n=>n==="-1"?-1:Ge(n)),this.h=e.h?Ge(e.h):"",this.hAlign=ke(e.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=e.id||"",this.layout=ke(e.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=e.locale||"",this.maxH=Ge(e.maxH,"0pt"),this.maxW=Ge(e.maxW,"0pt"),this.mergeMode=ke(e.mergeMode,["consumeData","matchTemplate"]),this.minH=Ge(e.minH,"0pt"),this.minW=Ge(e.minW,"0pt"),this.name=e.name||"",this.presence=ke(e.presence,["visible","hidden","inactive","invisible"]),this.relevant=zo(e.relevant),this.restoreState=ke(e.restoreState,["manual","auto"]),this.scope=ke(e.scope,["name","none"]),this.use=e.use||"",this.usehref=e.usehref||"",this.w=e.w?Ge(e.w):"",this.x=Ge(e.x,"0pt"),this.y=Ge(e.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new q,this.breakAfter=new q,this.breakBefore=new q,this.connect=new q,this.draw=new q,this.event=new q,this.exObject=new q,this.exclGroup=new q,this.field=new q,this.proto=new q,this.setProperty=new q,this.subform=new q,this.subformSet=new q}[oi](){const e=this[yt]();return e instanceof AC?e[oi]():e}[Ef](){return!0}[Jc](){return this.layout.endsWith("-tb")&&this[ue].attempt===0&&this[ue].numberInLine>0||this[yt]()[Jc]()}*[pg](){yield*wC(this)}[r3](){return zB(this)}[ef](e,n){HB(this,e,n)}[tf](){return qB(this)}[Hc](){var n;const e=this[oi]();return e[Hc]()?this[ue]._isSplittable!==void 0?this[ue]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[ue]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[ue]._isSplittable=!1,!1):(n=e.layout)!=null&&n.endsWith("-tb")&&e[ue].numberInLine!==0?!1:(this[ue]._isSplittable=!0,!0):!1}[ht](e){var w;if(z6(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const A=new VB({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});A[on]=this[on],this[Gn](A),this.breakAfter.push(A)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const A=new XB({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});A[on]=this[on],this[Gn](A),this.breakBefore.push(A)}if(this.break.overflowTarget!==""){const A=new tj({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});A[on]=this[on],this[Gn](A),this.overflow.push(A)}this[Eu](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return et.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&W("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const A=this.breakBefore.children[0];if(aR(A))return et.breakNode(A)}if((w=this[ue])!=null&&w.afterBreakAfter)return et.EMPTY;$6(this);const n=[],i={id:this[tn],class:[]};xC(this,i.class),this[ue]||(this[ue]=Object.create(null)),Object.assign(this[ue],{children:n,line:null,attributes:i,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,e.width),height:Math.min(this.h||1/0,e.height)},width:0,height:0,prevHeight:0,currentWidth:0});const s=this[ri](),r=s[ue].noLayoutFailure,a=this[Hc]();if(a||q6(this),!U6(this,e))return et.FAILURE;const o=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const A=this[oi]().columnWidths;Array.isArray(A)&&A.length>0&&(this[ue].columnWidths=A,this[ue].currentColumn=0)}const l=pr(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),c=["xfaSubform"],u=DB(this);if(u&&c.push(u),i.style=l,i.class=c,this.name&&(i.xfaName=this.name),this.overflow){const A=this.overflow[ys]();A.addLeader&&(A.addLeader=!1,oR(this,A.leader,e))}this[kg]();const d=this.layout==="lr-tb"||this.layout==="rl-tb",p=d?l8:1;for(;this[ue].attempt<p;this[ue].attempt++){d&&this[ue].attempt===l8-1&&(this[ue].numberInLine=0);const A=this[Lu]({filter:o,include:!0});if(A.success)break;if(A.isBreak())return this[Fr](),A;if(d&&this[ue].attempt===0&&this[ue].numberInLine===0&&!s[ue].noLayoutFailure){this[ue].attempt=p;break}}if(this[Fr](),a||G6(this),s[ue].noLayoutFailure=r,this[ue].attempt===p)return this.overflow&&(this[ri]()[ue].overflowNode=this.overflow),a||delete this[ue],et.FAILURE;if(this.overflow){const A=this.overflow[ys]();A.addTrailer&&(A.addTrailer=!1,oR(this,A.trailer,e))}let g=0,m=0;this.margin&&(g=this.margin.leftInset+this.margin.rightInset,m=this.margin.topInset+this.margin.bottomInset);const b=Math.max(this[ue].width+g,this.w||0),v=Math.max(this[ue].height+m,this.h||0),S=[this.x,this.y,b,v];if(this.w===""&&(l.width=mt(b)),this.h===""&&(l.height=mt(v)),(l.width==="0px"||l.height==="0px")&&n.length===0)return et.EMPTY;const C={name:"div",attributes:i,children:n};H6(this,i);const E=et.success(nf(this,C),S);if(this.breakAfter.children.length>=1){const A=this.breakAfter.children[0];if(aR(A))return this[ue].afterBreakAfter=E,et.breakNode(A)}return delete this[ue],E}}class AC extends fe{constructor(e){super(De,"subformSet",!0),this.id=e.id||"",this.name=e.name||"",this.relation=ke(e.relation,["ordered","choice","unordered"]),this.relevant=zo(e.relevant),this.use=e.use||"",this.usehref=e.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new q,this.breakBefore=new q,this.subform=new q,this.subformSet=new q}*[pg](){yield*wC(this)}[oi](){let e=this[yt]();for(;!(e instanceof ij);)e=e[yt]();return e}[Ef](){return!0}}class Sle extends Kn{constructor(e){super(De,"subjectDN"),this.delimiter=e.delimiter||",",this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}[hn](){this[Se]=new Map(this[Se].split(this.delimiter).map(e=>(e=e.split("=",2),e[0]=e[0].trim(),e)))}}class Ale extends fe{constructor(e){super(De,"subjectDNs",!0),this.id=e.id||"",this.type=ke(e.type,["optional","required"]),this.use=e.use||"",this.usehref=e.usehref||"",this.subjectDN=new q}}class kle extends fe{constructor(e){super(De,"submit",!0),this.embedPDF=xt({data:e.embedPDF,defaultValue:0,validate:n=>n===1}),this.format=ke(e.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=e.id||"",this.target=e.target||"",this.textEncoding=j6({data:e.textEncoding?e.textEncoding.toLowerCase():"",defaultValue:"",validate:n=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(n)||n.match(/iso-8859-\d{2}/)}),this.use=e.use||"",this.usehref=e.usehref||"",this.xdpContent=e.xdpContent||"",this.encrypt=null,this.encryptData=new q,this.signData=new q}}class kC extends fe{constructor(e){super(De,"template",!0),this.baseProfile=ke(e.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new q}[hn](){this.subform.children.length===0&&W("XFA - No subforms in template node."),this.subform.children.length>=2&&W("XFA - Several subforms in template node: please file a bug."),this[_o]=Yae}[Hc](){return!0}[jc](e,n){return e.startsWith("#")?[this[y1].get(e.slice(1))]:_0(this,n,e,!0,!0)}*[TB](){var m,b,v;if(!this.subform.children.length)return et.success({name:"div",children:[]});this[ue]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const e=this.subform.children[0];e.pageSet[A1]();const n=e.pageSet.pageArea.children,i={name:"div",children:[]};let s=null,r=null,a=null;if(e.breakBefore.children.length>=1?(r=e.breakBefore.children[0],a=r.target):e.subform.children.length>=1&&e.subform.children[0].breakBefore.children.length>=1?(r=e.subform.children[0].breakBefore.children[0],a=r.target):(m=e.break)!=null&&m.beforeTarget?(r=e.break,a=r.beforeTarget):e.subform.children.length>=1&&((b=e.subform.children[0].break)!=null&&b.beforeTarget)&&(r=e.subform.children[0].break,a=r.beforeTarget),r){const S=this[jc](a,r[yt]());S instanceof gg&&(s=S,r[ue]={})}s||(s=n[0]),s[ue]={numberOfUse:1};const o=s[yt]();o[ue]={numberOfUse:1,pageIndex:o.pageArea.children.indexOf(s),pageSetIndex:0};let l,c=null,u=null,d=!0,p=0,g=0;for(;;){if(d)p=0;else if(i.children.pop(),++p===Kae)return W("XFA - Something goes wrong: please file a bug."),i;l=null,this[ue].currentPageArea=s;const S=s[ht]().html;i.children.push(S),c&&(this[ue].noLayoutFailure=!0,S.children.push(c[ht](s[ue].space).html),c=null),u&&(this[ue].noLayoutFailure=!0,S.children.push(u[ht](s[ue].space).html),u=null);const C=s.contentArea.children,E=S.children.filter(A=>A.attributes.class.includes("xfaContentarea"));d=!1,this[ue].firstUnsplittable=null,this[ue].noLayoutFailure=!1;const w=A=>{var P;const T=e[r3]();T&&(d||(d=((P=T.children)==null?void 0:P.length)>0),E[A].children.push(T))};for(let A=g,T=C.length;A<T;A++){const P=this[ue].currentContentArea=C[A],R={width:P.w,height:P.h};g=0,c&&(E[A].children.push(c[ht](R).html),c=null),u&&(E[A].children.push(u[ht](R).html),u=null);const D=e[ht](R);if(D.success)return D.html?(d||(d=((v=D.html.children)==null?void 0:v.length)>0),E[A].children.push(D.html)):!d&&i.children.length>1&&i.children.pop(),i;if(D.isBreak()){const O=D.breakNode;if(w(A),O.targetType==="auto")continue;O.leader&&(c=this[jc](O.leader,O[yt]()),c=c?c[0]:null),O.trailer&&(u=this[jc](O.trailer,O[yt]()),u=u?u[0]:null),O.targetType==="pageArea"?(l=O[ue].target,A=1/0):O[ue].target?(l=O[ue].target,g=O[ue].index+1,A=1/0):A=O[ue].index;continue}if(this[ue].overflowNode){const O=this[ue].overflowNode;this[ue].overflowNode=null;const B=O[ys](),U=B.target;B.addLeader=B.leader!==null,B.addTrailer=B.trailer!==null,w(A);const V=A;if(A=1/0,U instanceof gg)l=U;else if(U instanceof vC){const ee=C.indexOf(U);ee!==-1?ee>V?A=ee-1:g=ee:(l=U[yt](),g=l.contentArea.children.indexOf(U))}continue}w(A)}this[ue].pageNumber+=1,l&&(l[t2]()?l[ue].numberOfUse+=1:l=null),s=l||s[lc](),yield null}}}class sj extends Kn{constructor(e){super(De,"text"),this.id=e.id||"",this.maxChars=xt({data:e.maxChars,defaultValue:0,validate:n=>n>=0}),this.name=e.name||"",this.rid=e.rid||"",this.use=e.use||"",this.usehref=e.usehref||""}[L6](){return!0}[Il](e){return e[ai]===ci.xhtml.id?(this[Se]=e,!0):(W(`XFA - Invalid content in Text: ${e[Vt]}.`),!1)}[qc](e){this[Se]instanceof fe||super[qc](e)}[hn](){typeof this[Se]=="string"&&(this[Se]=this[Se].replaceAll(`\r
`,`
`))}[ys](){return typeof this[Se]=="string"?this[Se].split(/[\u2029\u2028\n]/).filter(e=>!!e).join(`
`):this[Se][Ti]()}[ht](e){if(typeof this[Se]=="string"){const n=Xu(this[Se]).html;return this[Se].includes("\u2029")?(n.name="div",n.children=[],this[Se].split("\u2029").map(i=>i.split(/[\u2028\n]/).flatMap(s=>[{name:"span",value:s},{name:"br"}])).forEach(i=>{n.children.push({name:"p",children:i})})):/[\u2028\n]/.test(this[Se])&&(n.name="div",n.children=[],this[Se].split(/[\u2028\n]/).forEach(i=>{n.children.push({name:"span",value:i},{name:"br"})})),et.success(n)}return this[Se][ht](e)}}class rj extends fe{constructor(e){super(De,"textEdit",!0),this.allowRichText=xt({data:e.allowRichText,defaultValue:0,validate:n=>n===1}),this.hScrollPolicy=ke(e.hScrollPolicy,["auto","off","on"]),this.id=e.id||"",this.multiLine=xt({data:e.multiLine,defaultValue:"",validate:n=>n===0||n===1}),this.use=e.use||"",this.usehref=e.usehref||"",this.vScrollPolicy=ke(e.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[ht](e){var r,a;const n=pr(this,"border","font","margin");let i;const s=this[yt]()[yt]();return this.multiLine===""&&(this.multiLine=s instanceof JB?1:0),this.multiLine===1?i={name:"textarea",attributes:{dataId:((r=s[Va])==null?void 0:r[tn])||s[tn],fieldId:s[tn],class:["xfaTextfield"],style:n,"aria-label":pf(s),"aria-required":!1}}:i={name:"input",attributes:{type:"text",dataId:((a=s[Va])==null?void 0:a[tn])||s[tn],fieldId:s[tn],class:["xfaTextfield"],style:n,"aria-label":pf(s),"aria-required":!1}},a3(s)&&(i.attributes["aria-required"]=!0,i.attributes.required=!0),et.success({name:"label",attributes:{class:["xfaLabel"]},children:[i]})}}class Cle extends Rt{constructor(e){super(De,"time"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}[hn](){const e=this[Se].trim();this[Se]=e?new Date(e):null}[ht](e){return Xu(this[Se]?this[Se].toString():"")}}class Ele extends fe{constructor(e){super(De,"timeStamp"),this.id=e.id||"",this.server=e.server||"",this.type=ke(e.type,["optional","required"]),this.use=e.use||"",this.usehref=e.usehref||""}}class _le extends Rt{constructor(e){super(De,"toolTip"),this.id=e.id||"",this.rid=e.rid||"",this.use=e.use||"",this.usehref=e.usehref||""}}class Tle extends fe{constructor(e){super(De,"traversal",!0),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null,this.traverse=new q}}class Ile extends fe{constructor(e){super(De,"traverse",!0),this.id=e.id||"",this.operation=ke(e.operation,["next","back","down","first","left","right","up"]),this.ref=e.ref||"",this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[e2](){return!1}}class CC extends fe{constructor(e){super(De,"ui",!0),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[ys](){if(this[ue]===void 0){for(const e of Object.getOwnPropertyNames(this)){if(e==="extras"||e==="picture")continue;const n=this[e];if(n instanceof fe)return this[ue]=n,n}this[ue]=null}return this[ue]}[ht](e){const n=this[ys]();return n?n[ht](e):et.EMPTY}}class Ple extends fe{constructor(e){super(De,"validate",!0),this.formatTest=ke(e.formatTest,["warning","disabled","error"]),this.id=e.id||"",this.nullTest=ke(e.nullTest,["disabled","error","warning"]),this.scriptTest=ke(e.scriptTest,["error","disabled","warning"]),this.use=e.use||"",this.usehref=e.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class EC extends fe{constructor(e){super(De,"value",!0),this.id=e.id||"",this.override=xt({data:e.override,defaultValue:0,validate:n=>n===1}),this.relevant=zo(e.relevant),this.use=e.use||"",this.usehref=e.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[Or](e){var s;const n=this[yt]();if(n instanceof SC&&(s=n.ui)!=null&&s.imageEdit){this.image||(this.image=new ej({}),this[Gn](this.image)),this.image[Se]=e[Se];return}const i=e[Vt];if(this[i]!==null){this[i][Se]=e[Se];return}for(const r of Object.getOwnPropertyNames(this)){const a=this[r];a instanceof fe&&(this[r]=null,this[Eu](a))}this[e[Vt]]=e,this[Gn](e)}[Ti](){if(this.exData)return typeof this.exData[Se]=="string"?this.exData[Se].trim():this.exData[Se][Ti]().trim();for(const e of Object.getOwnPropertyNames(this)){if(e==="image")continue;const n=this[e];if(n instanceof fe)return(n[Se]||"").toString().trim()}return null}[ht](e){for(const n of Object.getOwnPropertyNames(this)){const i=this[n];if(i instanceof fe)return i[ht](e)}return et.EMPTY}}class Nle extends fe{constructor(e){super(De,"variables",!0),this.id=e.id||"",this.use=e.use||"",this.usehref=e.usehref||"",this.boolean=new q,this.date=new q,this.dateTime=new q,this.decimal=new q,this.exData=new q,this.float=new q,this.image=new q,this.integer=new q,this.manifest=new q,this.script=new q,this.text=new q,this.time=new q}[e2](){return!0}}class c8{static[Uo](e,n){if(c8.hasOwnProperty(e)){const i=c8[e](n);return i[_B](n),i}}static appearanceFilter(e){return new eoe(e)}static arc(e){return new GB(e)}static area(e){return new toe(e)}static assist(e){return new noe(e)}static barcode(e){return new ioe(e)}static bind(e){return new soe(e)}static bindItems(e){return new HA(e)}static bookend(e){return new roe(e)}static boolean(e){return new aoe(e)}static border(e){return new WB(e)}static break(e){return new ooe(e)}static breakAfter(e){return new VB(e)}static breakBefore(e){return new XB(e)}static button(e){return new loe(e)}static calculate(e){return new coe(e)}static caption(e){return new uoe(e)}static certificate(e){return new hoe(e)}static certificates(e){return new doe(e)}static checkButton(e){return new KB(e)}static choiceList(e){return new YB(e)}static color(e){return new foe(e)}static comb(e){return new poe(e)}static connect(e){return new goe(e)}static contentArea(e){return new vC(e)}static corner(e){return new ZB(e)}static date(e){return new moe(e)}static dateTime(e){return new xoe(e)}static dateTimeEdit(e){return new boe(e)}static decimal(e){return new yoe(e)}static defaultUi(e){return new woe(e)}static desc(e){return new voe(e)}static digestMethod(e){return new Soe(e)}static digestMethods(e){return new Aoe(e)}static draw(e){return new JB(e)}static edge(e){return new o3(e)}static encoding(e){return new koe(e)}static encodings(e){return new Coe(e)}static encrypt(e){return new Eoe(e)}static encryptData(e){return new _oe(e)}static encryption(e){return new Toe(e)}static encryptionMethod(e){return new Ioe(e)}static encryptionMethods(e){return new Poe(e)}static event(e){return new Noe(e)}static exData(e){return new Roe(e)}static exObject(e){return new Foe(e)}static exclGroup(e){return new QB(e)}static execute(e){return new Moe(e)}static extras(e){return new Doe(e)}static field(e){return new SC(e)}static fill(e){return new Loe(e)}static filter(e){return new Ooe(e)}static float(e){return new Boe(e)}static font(e){return new joe(e)}static format(e){return new $oe(e)}static handler(e){return new Uoe(e)}static hyphenation(e){return new zoe(e)}static image(e){return new ej(e)}static imageEdit(e){return new Hoe(e)}static integer(e){return new qoe(e)}static issuers(e){return new Goe(e)}static items(e){return new qA(e)}static keep(e){return new Woe(e)}static keyUsage(e){return new Voe(e)}static line(e){return new Xoe(e)}static linear(e){return new Koe(e)}static lockDocument(e){return new Yoe(e)}static manifest(e){return new Zoe(e)}static margin(e){return new Joe(e)}static mdp(e){return new Qoe(e)}static medium(e){return new ele(e)}static message(e){return new tle(e)}static numericEdit(e){return new nle(e)}static occur(e){return new ile(e)}static oid(e){return new sle(e)}static oids(e){return new rle(e)}static overflow(e){return new tj(e)}static pageArea(e){return new gg(e)}static pageSet(e){return new n2(e)}static para(e){return new ale(e)}static passwordEdit(e){return new ole(e)}static pattern(e){return new lle(e)}static picture(e){return new cle(e)}static proto(e){return new ule(e)}static radial(e){return new hle(e)}static reason(e){return new dle(e)}static reasons(e){return new fle(e)}static rectangle(e){return new nj(e)}static ref(e){return new ple(e)}static script(e){return new gle(e)}static setProperty(e){return new GA(e)}static signData(e){return new mle(e)}static signature(e){return new xle(e)}static signing(e){return new ble(e)}static solid(e){return new yle(e)}static speak(e){return new wle(e)}static stipple(e){return new vle(e)}static subform(e){return new ij(e)}static subformSet(e){return new AC(e)}static subjectDN(e){return new Sle(e)}static subjectDNs(e){return new Ale(e)}static submit(e){return new kle(e)}static template(e){return new kC(e)}static text(e){return new sj(e)}static textEdit(e){return new rj(e)}static time(e){return new Cle(e)}static timeStamp(e){return new Ele(e)}static toolTip(e){return new _le(e)}static traversal(e){return new Tle(e)}static traverse(e){return new Ile(e)}static ui(e){return new CC(e)}static validate(e){return new Ple(e)}static value(e){return new EC(e)}static variables(e){return new Nle(e)}}const lR=ci.datasets.id;function cy(t){const e=new sj({});return e[Se]=t,e}class Rle{constructor(e){var n;this.root=e,this.datasets=e.datasets,this.data=((n=e.datasets)==null?void 0:n.data)||new Pl(ci.datasets.id,"data"),this.emptyMerge=this.data[Qi]().length===0,this.root.form=this.form=e.template[Po]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(e,n,i){var s,r;if(e[Va]=n,e[Qx]())if(n[k1]()){const a=n[dC]();e[Or](cy(a))}else if(e instanceof SC&&((r=(s=e.ui)==null?void 0:s.choiceList)==null?void 0:r.open)==="multiSelect"){const a=n[Qi]().map(o=>o[Se].trim()).join(`
`);e[Or](cy(a))}else this._isConsumeData()&&W("XFA - Nodes haven't the same type.");else!n[k1]()||this._isMatchTemplate()?this._bindElement(e,n):W("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(e,n,i,s){if(!e)return null;let r,a;for(let o=0;o<3;o++){for(r=i[wx](e,!1,!0);a=r.next().value,!!a;)if(n===a[k1]())return a;if(i[ai]===ci.datasets.id&&i[Vt]==="data")break;i=i[yt]()}return s?(r=this.data[wx](e,!0,!1),a=r.next().value,a||(r=this.data[BA](e,!0),a=r.next().value,a!=null&&a[k1]())?a:null):null}_setProperties(e,n){if(e.hasOwnProperty("setProperty"))for(const{ref:i,target:s,connection:r}of e.setProperty.children){if(r||!i)continue;const a=_0(this.root,n,i,!1,!1);if(!a){W(`XFA - Invalid reference: ${i}.`);continue}const[o]=a;if(!o[R0](this.data)){W("XFA - Invalid node: must be a data node.");continue}const l=_0(this.root,e,s,!1,!1);if(!l){W(`XFA - Invalid target: ${s}.`);continue}const[c]=l;if(!c[R0](e)){W("XFA - Invalid target: must be a property or subproperty.");continue}const u=c[yt]();if(c instanceof GA||u instanceof GA){W("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(c instanceof HA||u instanceof HA){W("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const d=o[Ti](),p=c[Vt];if(c instanceof gC){const g=Object.create(null);g[p]=d;const m=Reflect.construct(Object.getPrototypeOf(u).constructor,[g]);u[p]=m[p];continue}if(!c.hasOwnProperty(Se)){W("XFA - Invalid node to use in setProperty");continue}c[Va]=o,c[Se]=d,c[hn]()}}_bindItems(e,n){if(!e.hasOwnProperty("items")||!e.hasOwnProperty("bindItems")||e.bindItems.isEmpty())return;for(const r of e.items.children)e[Eu](r);e.items.clear();const i=new qA({}),s=new qA({});e[Gn](i),e.items.push(i),e[Gn](s),e.items.push(s);for(const{ref:r,labelRef:a,valueRef:o,connection:l}of e.bindItems.children){if(l||!r)continue;const c=_0(this.root,n,r,!1,!1);if(!c){W(`XFA - Invalid reference: ${r}.`);continue}for(const u of c){if(!u[R0](this.datasets)){W(`XFA - Invalid ref (${r}): must be a datasets child.`);continue}const d=_0(this.root,u,a,!0,!1);if(!d){W(`XFA - Invalid label: ${a}.`);continue}const[p]=d;if(!p[R0](this.datasets)){W("XFA - Invalid label: must be a datasets child.");continue}const g=_0(this.root,u,o,!0,!1);if(!g){W(`XFA - Invalid value: ${o}.`);continue}const[m]=g;if(!m[R0](this.datasets)){W("XFA - Invalid value: must be a datasets child.");continue}const b=cy(p[Ti]()),v=cy(m[Ti]());i[Gn](b),i.text.push(b),s[Gn](v),s.text.push(v)}}}_bindOccurrences(e,n,i){let s;if(n.length>1&&(s=e[Po](),s[Eu](s.occur),s.occur=null),this._bindValue(e,n[0],i),this._setProperties(e,n[0]),this._bindItems(e,n[0]),n.length===1)return;const r=e[yt](),a=e[Vt],o=r[jA](e);for(let l=1,c=n.length;l<c;l++){const u=n[l],d=s[Po]();r[a].push(d),r[v5](o+l,d),this._bindValue(d,u,i),this._setProperties(d,u),this._bindItems(d,u)}}_createOccurrences(e){if(!this.emptyMerge)return;const{occur:n}=e;if(!n||n.initial<=1)return;const i=e[yt](),s=e[Vt];if(!(i[s]instanceof q))return;let r;e.name?r=i[s].children.filter(l=>l.name===e.name).length:r=i[s].children.length;const a=i[jA](e)+1,o=n.initial-r;if(o){const l=e[Po]();l[Eu](l.occur),l.occur=null,i[s].push(l),i[v5](a,l);for(let c=1;c<o;c++){const u=l[Po]();i[s].push(u),i[v5](a+c,u)}}}_getOccurInfo(e){const{name:n,occur:i}=e;if(!i||!n)return[1,1];const s=i.max===-1?1/0:i.max;return[i.min,s]}_setAndBind(e,n){this._setProperties(e,n),this._bindItems(e,n),this._bindElement(e,n)}_bindElement(e,n){const i=[];this._createOccurrences(e);for(const s of e[Qi]()){if(s[Va])continue;if(this._mergeMode===void 0&&s[Vt]==="subform"){this._mergeMode=s.mergeMode==="consumeData";const d=n[Qi]();if(d.length>0)this._bindOccurrences(s,[d[0]],null);else if(this.emptyMerge){const p=n[ai]===lR?-1:n[ai],g=s[Va]=new Pl(p,s.name||"root");n[Gn](g),this._bindElement(s,g)}continue}if(!s[Ef]())continue;let r=!1,a=null,o=null,l=null;if(s.bind){switch(s.bind.match){case"none":this._setAndBind(s,n);continue;case"global":r=!0;break;case"dataRef":if(!s.bind.ref){W(`XFA - ref is empty in node ${s[Vt]}.`),this._setAndBind(s,n);continue}o=s.bind.ref;break}s.bind.picture&&(a=s.bind.picture[Se])}const[c,u]=this._getOccurInfo(s);if(o)if(l=_0(this.root,n,o,!0,!1),l===null){if(l=Vae(this.data,n,o),!l)continue;this._isConsumeData()&&(l[Al]=!0),this._setAndBind(s,l);continue}else this._isConsumeData()&&(l=l.filter(d=>!d[Al])),l.length>u?l=l.slice(0,u):l.length===0&&(l=null),l&&this._isConsumeData()&&l.forEach(d=>{d[Al]=!0});else{if(!s.name){this._setAndBind(s,n);continue}if(this._isConsumeData()){const d=[];for(;d.length<u;){const p=this._findDataByNameToConsume(s.name,s[Qx](),n,r);if(!p)break;p[Al]=!0,d.push(p)}l=d.length>0?d:null}else{if(l=n[wx](s.name,!1,this.emptyMerge).next().value,!l){if(c===0){i.push(s);continue}const d=n[ai]===lR?-1:n[ai];l=s[Va]=new Pl(d,s.name),this.emptyMerge&&(l[Al]=!0),n[Gn](l),this._setAndBind(s,l);continue}this.emptyMerge&&(l[Al]=!0),l=[l]}}l?this._bindOccurrences(s,l,a):c>0?this._setAndBind(s,n):i.push(s)}i.forEach(s=>s[yt]()[Eu](s))}}class Fle{constructor(e,n){this.data=n,this.dataset=e.datasets||null}serialize(e){const n=[[-1,this.data[Qi]()]];for(;n.length>0;){const s=n.at(-1),[r,a]=s;if(r+1===a.length){n.pop();continue}const o=a[++s[0]],l=e.get(o[tn]);if(l)o[Or](l);else{const u=o[CB]();for(const d of u.values()){const p=e.get(d[tn]);if(p){d[Or](p);break}}}const c=o[Qi]();c.length>0&&n.push([-1,c])}const i=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const s of this.dataset[Qi]())s[Vt]!=="data"&&s[Sx](i);return this.data[Sx](i),i.push("</xfa:datasets>"),i.join("")}}const _e=ci.config.id;class Mle extends fe{constructor(e){super(_e,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new q}}class Dle extends fe{constructor(e){super(_e,"acrobat7",!0),this.dynamicRender=null}}class Lle extends nn{constructor(e){super(_e,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class Ole extends nn{constructor(e){super(_e,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class Ble extends Pi{constructor(e){super(_e,"addSilentPrint")}}class jle extends Pi{constructor(e){super(_e,"addViewerPreferences")}}class $le extends RB{constructor(e){super(_e,"adjustData")}}class Ule extends Ho{constructor(e){super(_e,"adobeExtensionLevel",0,n=>n>=1&&n<=8)}}class zle extends fe{constructor(e){super(_e,"agent",!0),this.name=e.name?e.name.trim():"",this.common=new q}}class Hle extends Kn{constructor(e){super(_e,"alwaysEmbed")}}class qle extends Rt{constructor(e){super(_e,"amd")}}class Gle extends fe{constructor(e){super(_e,"area"),this.level=xt({data:e.level,defaultValue:0,validate:n=>n>=1&&n<=3}),this.name=ke(e.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class Wle extends nn{constructor(e){super(_e,"attributes",["preserve","delegate","ignore"])}}class Vle extends nn{constructor(e){super(_e,"autoSave",["disabled","enabled"])}}class Xle extends Rt{constructor(e){super(_e,"base")}}class Kle extends fe{constructor(e){super(_e,"batchOutput"),this.format=ke(e.format,["none","concat","zip","zipCompress"])}}class Yle extends Kn{constructor(e){super(_e,"behaviorOverride")}[hn](){this[Se]=new Map(this[Se].trim().split(/\s+/).filter(e=>e.includes(":")).map(e=>e.split(":",2)))}}class Zle extends fe{constructor(e){super(_e,"cache",!0),this.templateCache=null}}class Jle extends Pi{constructor(e){super(_e,"change")}}class Qle extends fe{constructor(e){super(_e,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new q}}class ece extends fe{constructor(e){super(_e,"compress"),this.scope=ke(e.scope,["imageOnly","document"])}}class tce extends Pi{constructor(e){super(_e,"compressLogicalStructure")}}class nce extends RB{constructor(e){super(_e,"compressObjectStream")}}class ice extends fe{constructor(e){super(_e,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class sce extends fe{constructor(e){super(_e,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new q}}class rce extends nn{constructor(e){super(_e,"conformance",["A","B"])}}class ace extends Pi{constructor(e){super(_e,"contentCopy")}}class oce extends Ho{constructor(e){super(_e,"copies",1,n=>n>=1)}}class lce extends Rt{constructor(e){super(_e,"creator")}}class cce extends Ho{constructor(e){super(_e,"currentPage",0,n=>n>=0)}}class uce extends fe{constructor(e){super(_e,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new q,this.transform=new q}}class hce extends fe{constructor(e){super(_e,"debug",!0),this.uri=null}}class dce extends Kn{constructor(e){super(_e,"defaultTypeface"),this.writingScript=ke(e.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class fce extends nn{constructor(e){super(_e,"destination",["pdf","pcl","ps","webClient","zpl"])}}class pce extends Pi{constructor(e){super(_e,"documentAssembly")}}class gce extends fe{constructor(e){super(_e,"driver",!0),this.name=e.name?e.name.trim():"",this.fontInfo=null,this.xdc=null}}class mce extends nn{constructor(e){super(_e,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class xce extends nn{constructor(e){super(_e,"dynamicRender",["forbidden","required"])}}class bce extends Pi{constructor(e){super(_e,"embed")}}class yce extends Pi{constructor(e){super(_e,"encrypt")}}class wce extends fe{constructor(e){super(_e,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class vce extends nn{constructor(e){super(_e,"encryptionLevel",["40bit","128bit"])}}class Sce extends Rt{constructor(e){super(_e,"enforce")}}class Ace extends fe{constructor(e){super(_e,"equate"),this.force=xt({data:e.force,defaultValue:1,validate:n=>n===0}),this.from=e.from||"",this.to=e.to||""}}class kce extends fe{constructor(e){super(_e,"equateRange"),this.from=e.from||"",this.to=e.to||"",this._unicodeRange=e.unicodeRange||""}get unicodeRange(){const e=[],n=/U\+([0-9a-fA-F]+)/,i=this._unicodeRange;for(let s of i.split(",").map(r=>r.trim()).filter(r=>!!r))s=s.split("-",2).map(r=>{const a=r.match(n);return a?parseInt(a[1],16):0}),s.length===1&&s.push(s[0]),e.push(s);return Fe(this,"unicodeRange",e)}}class Cce extends Kn{constructor(e){super(_e,"exclude")}[hn](){this[Se]=this[Se].trim().split(/\s+/).filter(e=>e&&["calculate","close","enter","exit","initialize","ready","validate"].includes(e))}}class Ece extends Rt{constructor(e){super(_e,"excludeNS")}}class _ce extends nn{constructor(e){super(_e,"flipLabel",["usePrinterSetting","on","off"])}}class Tce extends fe{constructor(e){super(_e,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new q,this.defaultTypeface=new q,this.neverEmbed=new q}}class Ice extends Pi{constructor(e){super(_e,"formFieldFilling")}}class Pce extends Rt{constructor(e){super(_e,"groupParent")}}class Nce extends nn{constructor(e){super(_e,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class Rce extends Rt{constructor(e){super(_e,"includeXDPContent")}}class Fce extends nn{constructor(e){super(_e,"incrementalLoad",["none","forwardOnly"])}}class Mce extends Pi{constructor(e){super(_e,"incrementalMerge")}}class Dce extends Pi{constructor(e){super(_e,"interactive")}}class Lce extends nn{constructor(e){super(_e,"jog",["usePrinterSetting","none","pageSet"])}}class Oce extends fe{constructor(e){super(_e,"labelPrinter",!0),this.name=ke(e.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Bce extends nn{constructor(e){super(_e,"layout",["paginate","panel"])}}class jce extends Ho{constructor(e){super(_e,"level",0,n=>n>0)}}class $ce extends Pi{constructor(e){super(_e,"linearized")}}class Uce extends Rt{constructor(e){super(_e,"locale")}}class zce extends Rt{constructor(e){super(_e,"localeSet")}}class Hce extends fe{constructor(e){super(_e,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class qce extends fe{constructor(e){super(_e,"map",!0),this.equate=new q,this.equateRange=new q}}class Gce extends fe{constructor(e){super(_e,"mediumInfo",!0),this.map=null}}class Wce extends fe{constructor(e){super(_e,"message",!0),this.msgId=null,this.severity=null}}class Vce extends fe{constructor(e){super(_e,"messaging",!0),this.message=new q}}class Xce extends nn{constructor(e){super(_e,"mode",["append","overwrite"])}}class Kce extends Pi{constructor(e){super(_e,"modifyAnnots")}}class Yce extends Ho{constructor(e){super(_e,"msgId",1,n=>n>=1)}}class Zce extends Rt{constructor(e){super(_e,"nameAttr")}}class Jce extends Kn{constructor(e){super(_e,"neverEmbed")}}class Qce extends Ho{constructor(e){super(_e,"numberOfCopies",null,n=>n>=2&&n<=5)}}class e0e extends fe{constructor(e){super(_e,"openAction",!0),this.destination=null}}class t0e extends fe{constructor(e){super(_e,"output",!0),this.to=null,this.type=null,this.uri=null}}class n0e extends Rt{constructor(e){super(_e,"outputBin")}}class i0e extends fe{constructor(e){super(_e,"outputXSL",!0),this.uri=null}}class s0e extends nn{constructor(e){super(_e,"overprint",["none","both","draw","field"])}}class r0e extends Rt{constructor(e){super(_e,"packets")}[hn](){this[Se]!=="*"&&(this[Se]=this[Se].trim().split(/\s+/).filter(e=>["config","datasets","template","xfdf","xslt"].includes(e)))}}class a0e extends fe{constructor(e){super(_e,"pageOffset"),this.x=xt({data:e.x,defaultValue:"useXDCSetting",validate:n=>!0}),this.y=xt({data:e.y,defaultValue:"useXDCSetting",validate:n=>!0})}}class o0e extends Rt{constructor(e){super(_e,"pageRange")}[hn](){const e=this[Se].trim().split(/\s+/).map(i=>parseInt(i,10)),n=[];for(let i=0,s=e.length;i<s;i+=2)n.push(e.slice(i,i+2));this[Se]=n}}class l0e extends nn{constructor(e){super(_e,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class c0e extends nn{constructor(e){super(_e,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class u0e extends Ho{constructor(e){super(_e,"part",1,n=>!1)}}class h0e extends fe{constructor(e){super(_e,"pcl",!0),this.name=e.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class d0e extends fe{constructor(e){super(_e,"pdf",!0),this.name=e.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class f0e extends fe{constructor(e){super(_e,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class p0e extends fe{constructor(e){super(_e,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class g0e extends Pi{constructor(e){super(_e,"pickTrayByPDFSize")}}class m0e extends Rt{constructor(e){super(_e,"picture")}}class x0e extends Pi{constructor(e){super(_e,"plaintextMetadata")}}class b0e extends nn{constructor(e){super(_e,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class y0e extends fe{constructor(e){super(_e,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new q,this.labelPrinter=new q,this.pcl=new q,this.pdf=new q,this.ps=new q,this.submitUrl=new q,this.webClient=new q,this.zpl=new q}}class w0e extends Pi{constructor(e){super(_e,"print")}}class v0e extends Pi{constructor(e){super(_e,"printHighQuality")}}class S0e extends nn{constructor(e){super(_e,"printScaling",["appdefault","noScaling"])}}class A0e extends Rt{constructor(e){super(_e,"printerName")}}class k0e extends Rt{constructor(e){super(_e,"producer")}}class C0e extends fe{constructor(e){super(_e,"ps",!0),this.name=e.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}let E0e=class extends Kn{constructor(e){super(_e,"range")}[hn](){this[Se]=this[Se].split(",",2).map(e=>e.split("-").map(n=>parseInt(n.trim(),10))).filter(e=>e.every(n=>!isNaN(n))).map(e=>(e.length===1&&e.push(e[0]),e))}};class _0e extends Kn{constructor(e){super(_e,"record")}[hn](){this[Se]=this[Se].trim();const e=parseInt(this[Se],10);!isNaN(e)&&e>=0&&(this[Se]=e)}}class T0e extends Kn{constructor(e){super(_e,"relevant")}[hn](){this[Se]=this[Se].trim().split(/\s+/)}}class I0e extends Kn{constructor(e){super(_e,"rename")}[hn](){this[Se]=this[Se].trim(),(this[Se].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[Se]))&&W("XFA - Rename: invalid XFA name")}}class P0e extends nn{constructor(e){super(_e,"renderPolicy",["server","client"])}}class N0e extends nn{constructor(e){super(_e,"runScripts",["both","client","none","server"])}}class R0e extends fe{constructor(e){super(_e,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class F0e extends nn{constructor(e){super(_e,"scriptModel",["XFA","none"])}}class M0e extends nn{constructor(e){super(_e,"severity",["ignore","error","information","trace","warning"])}}class D0e extends fe{constructor(e){super(_e,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class L0e extends fe{constructor(e){super(_e,"staple"),this.mode=ke(e.mode,["usePrinterSetting","on","off"])}}class O0e extends Rt{constructor(e){super(_e,"startNode")}}class B0e extends Ho{constructor(e){super(_e,"startPage",0,n=>!0)}}class j0e extends nn{constructor(e){super(_e,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class $0e extends Rt{constructor(e){super(_e,"submitUrl")}}class U0e extends Ho{constructor(e){super(_e,"subsetBelow",100,n=>n>=0&&n<=100)}}class z0e extends Pi{constructor(e){super(_e,"suppressBanner")}}class H0e extends Pi{constructor(e){super(_e,"tagged")}}class q0e extends fe{constructor(e){super(_e,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class G0e extends nn{constructor(e){super(_e,"threshold",["trace","error","information","warning"])}}class W0e extends nn{constructor(e){super(_e,"to",["null","memory","stderr","stdout","system","uri"])}}class V0e extends fe{constructor(e){super(_e,"templateCache"),this.maxEntries=xt({data:e.maxEntries,defaultValue:5,validate:n=>n>=0})}}class X0e extends fe{constructor(e){super(_e,"trace",!0),this.area=new q}}class K0e extends fe{constructor(e){super(_e,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Y0e extends nn{constructor(e){super(_e,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Z0e extends Rt{constructor(e){super(_e,"uri")}}class J0e extends nn{constructor(e){super(_e,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class Q0e extends Kn{constructor(e){super(_e,"validateApprovalSignatures")}[hn](){this[Se]=this[Se].trim().split(/\s+/).filter(e=>["docReady","postSign"].includes(e))}}class eue extends nn{constructor(e){super(_e,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class tue extends nn{constructor(e){super(_e,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class nue extends fe{constructor(e){super(_e,"VersionControl"),this.outputBelow=ke(e.outputBelow,["warn","error","update"]),this.sourceAbove=ke(e.sourceAbove,["warn","error"]),this.sourceBelow=ke(e.sourceBelow,["update","maintain"])}}class iue extends fe{constructor(e){super(_e,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class sue extends fe{constructor(e){super(_e,"webClient",!0),this.name=e.name?e.name.trim():"",this.fontInfo=null,this.xdc=null}}class rue extends nn{constructor(e){super(_e,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class aue extends Kn{constructor(e){super(_e,"window")}[hn](){const e=this[Se].split(",",2).map(n=>parseInt(n.trim(),10));if(e.some(n=>isNaN(n))){this[Se]=[0,0];return}e.length===1&&e.push(e[0]),this[Se]=e}}class oue extends fe{constructor(e){super(_e,"xdc",!0),this.uri=new q,this.xsl=new q}}class lue extends fe{constructor(e){super(_e,"xdp",!0),this.packets=null}}class cue extends fe{constructor(e){super(_e,"xsl",!0),this.debug=null,this.uri=null}}class uue extends fe{constructor(e){super(_e,"zpl",!0),this.name=e.name?e.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class u8{static[Uo](e,n){if(u8.hasOwnProperty(e))return u8[e](n)}static acrobat(e){return new Mle(e)}static acrobat7(e){return new Dle(e)}static ADBE_JSConsole(e){return new Lle(e)}static ADBE_JSDebugger(e){return new Ole(e)}static addSilentPrint(e){return new Ble(e)}static addViewerPreferences(e){return new jle(e)}static adjustData(e){return new $le(e)}static adobeExtensionLevel(e){return new Ule(e)}static agent(e){return new zle(e)}static alwaysEmbed(e){return new Hle(e)}static amd(e){return new qle(e)}static area(e){return new Gle(e)}static attributes(e){return new Wle(e)}static autoSave(e){return new Vle(e)}static base(e){return new Xle(e)}static batchOutput(e){return new Kle(e)}static behaviorOverride(e){return new Yle(e)}static cache(e){return new Zle(e)}static change(e){return new Jle(e)}static common(e){return new Qle(e)}static compress(e){return new ece(e)}static compressLogicalStructure(e){return new tce(e)}static compressObjectStream(e){return new nce(e)}static compression(e){return new ice(e)}static config(e){return new sce(e)}static conformance(e){return new rce(e)}static contentCopy(e){return new ace(e)}static copies(e){return new oce(e)}static creator(e){return new lce(e)}static currentPage(e){return new cce(e)}static data(e){return new uce(e)}static debug(e){return new hce(e)}static defaultTypeface(e){return new dce(e)}static destination(e){return new fce(e)}static documentAssembly(e){return new pce(e)}static driver(e){return new gce(e)}static duplexOption(e){return new mce(e)}static dynamicRender(e){return new xce(e)}static embed(e){return new bce(e)}static encrypt(e){return new yce(e)}static encryption(e){return new wce(e)}static encryptionLevel(e){return new vce(e)}static enforce(e){return new Sce(e)}static equate(e){return new Ace(e)}static equateRange(e){return new kce(e)}static exclude(e){return new Cce(e)}static excludeNS(e){return new Ece(e)}static flipLabel(e){return new _ce(e)}static fontInfo(e){return new Tce(e)}static formFieldFilling(e){return new Ice(e)}static groupParent(e){return new Pce(e)}static ifEmpty(e){return new Nce(e)}static includeXDPContent(e){return new Rce(e)}static incrementalLoad(e){return new Fce(e)}static incrementalMerge(e){return new Mce(e)}static interactive(e){return new Dce(e)}static jog(e){return new Lce(e)}static labelPrinter(e){return new Oce(e)}static layout(e){return new Bce(e)}static level(e){return new jce(e)}static linearized(e){return new $ce(e)}static locale(e){return new Uce(e)}static localeSet(e){return new zce(e)}static log(e){return new Hce(e)}static map(e){return new qce(e)}static mediumInfo(e){return new Gce(e)}static message(e){return new Wce(e)}static messaging(e){return new Vce(e)}static mode(e){return new Xce(e)}static modifyAnnots(e){return new Kce(e)}static msgId(e){return new Yce(e)}static nameAttr(e){return new Zce(e)}static neverEmbed(e){return new Jce(e)}static numberOfCopies(e){return new Qce(e)}static openAction(e){return new e0e(e)}static output(e){return new t0e(e)}static outputBin(e){return new n0e(e)}static outputXSL(e){return new i0e(e)}static overprint(e){return new s0e(e)}static packets(e){return new r0e(e)}static pageOffset(e){return new a0e(e)}static pageRange(e){return new o0e(e)}static pagination(e){return new l0e(e)}static paginationOverride(e){return new c0e(e)}static part(e){return new u0e(e)}static pcl(e){return new h0e(e)}static pdf(e){return new d0e(e)}static pdfa(e){return new f0e(e)}static permissions(e){return new p0e(e)}static pickTrayByPDFSize(e){return new g0e(e)}static picture(e){return new m0e(e)}static plaintextMetadata(e){return new x0e(e)}static presence(e){return new b0e(e)}static present(e){return new y0e(e)}static print(e){return new w0e(e)}static printHighQuality(e){return new v0e(e)}static printScaling(e){return new S0e(e)}static printerName(e){return new A0e(e)}static producer(e){return new k0e(e)}static ps(e){return new C0e(e)}static range(e){return new E0e(e)}static record(e){return new _0e(e)}static relevant(e){return new T0e(e)}static rename(e){return new I0e(e)}static renderPolicy(e){return new P0e(e)}static runScripts(e){return new N0e(e)}static script(e){return new R0e(e)}static scriptModel(e){return new F0e(e)}static severity(e){return new M0e(e)}static silentPrint(e){return new D0e(e)}static staple(e){return new L0e(e)}static startNode(e){return new O0e(e)}static startPage(e){return new B0e(e)}static submitFormat(e){return new j0e(e)}static submitUrl(e){return new $0e(e)}static subsetBelow(e){return new U0e(e)}static suppressBanner(e){return new z0e(e)}static tagged(e){return new H0e(e)}static template(e){return new q0e(e)}static templateCache(e){return new V0e(e)}static threshold(e){return new G0e(e)}static to(e){return new W0e(e)}static trace(e){return new X0e(e)}static transform(e){return new K0e(e)}static type(e){return new Y0e(e)}static uri(e){return new Z0e(e)}static validate(e){return new J0e(e)}static validateApprovalSignatures(e){return new Q0e(e)}static validationMessaging(e){return new eue(e)}static version(e){return new tue(e)}static versionControl(e){return new nue(e)}static viewerPreferences(e){return new iue(e)}static webClient(e){return new sue(e)}static whitespace(e){return new rue(e)}static window(e){return new aue(e)}static xdc(e){return new oue(e)}static xdp(e){return new lue(e)}static xsl(e){return new cue(e)}static zpl(e){return new uue(e)}}const eo=ci.connectionSet.id;class hue extends fe{constructor(e){super(eo,"connectionSet",!0),this.wsdlConnection=new q,this.xmlConnection=new q,this.xsdConnection=new q}}class due extends fe{constructor(e){super(eo,"effectiveInputPolicy"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}}class fue extends fe{constructor(e){super(eo,"effectiveOutputPolicy"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}}class pue extends Rt{constructor(e){super(eo,"operation"),this.id=e.id||"",this.input=e.input||"",this.name=e.name||"",this.output=e.output||"",this.use=e.use||"",this.usehref=e.usehref||""}}class gue extends Rt{constructor(e){super(eo,"rootElement"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}}class mue extends Rt{constructor(e){super(eo,"soapAction"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}}class xue extends Rt{constructor(e){super(eo,"soapAddress"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}}class bue extends Rt{constructor(e){super(eo,"uri"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}}class yue extends Rt{constructor(e){super(eo,"wsdlAddress"),this.id=e.id||"",this.name=e.name||"",this.use=e.use||"",this.usehref=e.usehref||""}}class wue extends fe{constructor(e){super(eo,"wsdlConnection",!0),this.dataDescription=e.dataDescription||"",this.name=e.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class vue extends fe{constructor(e){super(eo,"xmlConnection",!0),this.dataDescription=e.dataDescription||"",this.name=e.name||"",this.uri=null}}class Sue extends fe{constructor(e){super(eo,"xsdConnection",!0),this.dataDescription=e.dataDescription||"",this.name=e.name||"",this.rootElement=null,this.uri=null}}class h8{static[Uo](e,n){if(h8.hasOwnProperty(e))return h8[e](n)}static connectionSet(e){return new hue(e)}static effectiveInputPolicy(e){return new due(e)}static effectiveOutputPolicy(e){return new fue(e)}static operation(e){return new pue(e)}static rootElement(e){return new gue(e)}static soapAction(e){return new mue(e)}static soapAddress(e){return new xue(e)}static uri(e){return new bue(e)}static wsdlAddress(e){return new yue(e)}static wsdlConnection(e){return new wue(e)}static xmlConnection(e){return new vue(e)}static xsdConnection(e){return new Sue(e)}}const WA=ci.datasets.id;class Aue extends Pl{constructor(e){super(WA,"data",e)}[vx](){return!0}}class kue extends fe{constructor(e){super(WA,"datasets",!0),this.data=null,this.Signature=null}[Il](e){const n=e[Vt];(n==="data"&&e[ai]===WA||n==="Signature"&&e[ai]===ci.signature.id)&&(this[n]=e),this[Gn](e)}}class d8{static[Uo](e,n){if(d8.hasOwnProperty(e))return d8[e](n)}static datasets(e){return new kue(e)}static data(e){return new Aue(e)}}const Yn=ci.localeSet.id;class Cue extends fe{constructor(e){super(Yn,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new q(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new q(2)}}class Eue extends Rt{constructor(e){super(Yn,"currencySymbol"),this.name=ke(e.name,["symbol","isoname","decimal"])}}class _ue extends fe{constructor(e){super(Yn,"currencySymbols",!0),this.currencySymbol=new q(3)}}class Tue extends Rt{constructor(e){super(Yn,"datePattern"),this.name=ke(e.name,["full","long","med","short"])}}class Iue extends fe{constructor(e){super(Yn,"datePatterns",!0),this.datePattern=new q(4)}}class Pue extends Kn{constructor(e){super(Yn,"dateTimeSymbols")}}class Nue extends Rt{constructor(e){super(Yn,"day")}}class Rue extends fe{constructor(e){super(Yn,"dayNames",!0),this.abbr=xt({data:e.abbr,defaultValue:0,validate:n=>n===1}),this.day=new q(7)}}class Fue extends Rt{constructor(e){super(Yn,"era")}}class Mue extends fe{constructor(e){super(Yn,"eraNames",!0),this.era=new q(2)}}class Due extends fe{constructor(e){super(Yn,"locale",!0),this.desc=e.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class Lue extends fe{constructor(e){super(Yn,"localeSet",!0),this.locale=new q}}class Oue extends Rt{constructor(e){super(Yn,"meridiem")}}class Bue extends fe{constructor(e){super(Yn,"meridiemNames",!0),this.meridiem=new q(2)}}class jue extends Rt{constructor(e){super(Yn,"month")}}class $ue extends fe{constructor(e){super(Yn,"monthNames",!0),this.abbr=xt({data:e.abbr,defaultValue:0,validate:n=>n===1}),this.month=new q(12)}}class Uue extends Rt{constructor(e){super(Yn,"numberPattern"),this.name=ke(e.name,["full","long","med","short"])}}class zue extends fe{constructor(e){super(Yn,"numberPatterns",!0),this.numberPattern=new q(4)}}class Hue extends Rt{constructor(e){super(Yn,"numberSymbol"),this.name=ke(e.name,["decimal","grouping","percent","minus","zero"])}}class que extends fe{constructor(e){super(Yn,"numberSymbols",!0),this.numberSymbol=new q(5)}}class Gue extends Rt{constructor(e){super(Yn,"timePattern"),this.name=ke(e.name,["full","long","med","short"])}}class Wue extends fe{constructor(e){super(Yn,"timePatterns",!0),this.timePattern=new q(4)}}class Vue extends fe{constructor(e){super(Yn,"typeFace",!0),this.name=e.name|""}}class Xue extends fe{constructor(e){super(Yn,"typeFaces",!0),this.typeFace=new q}}class f8{static[Uo](e,n){if(f8.hasOwnProperty(e))return f8[e](n)}static calendarSymbols(e){return new Cue(e)}static currencySymbol(e){return new Eue(e)}static currencySymbols(e){return new _ue(e)}static datePattern(e){return new Tue(e)}static datePatterns(e){return new Iue(e)}static dateTimeSymbols(e){return new Pue(e)}static day(e){return new Nue(e)}static dayNames(e){return new Rue(e)}static era(e){return new Fue(e)}static eraNames(e){return new Mue(e)}static locale(e){return new Due(e)}static localeSet(e){return new Lue(e)}static meridiem(e){return new Oue(e)}static meridiemNames(e){return new Bue(e)}static month(e){return new jue(e)}static monthNames(e){return new $ue(e)}static numberPattern(e){return new Uue(e)}static numberPatterns(e){return new zue(e)}static numberSymbol(e){return new Hue(e)}static numberSymbols(e){return new que(e)}static timePattern(e){return new Gue(e)}static timePatterns(e){return new Wue(e)}static typeFace(e){return new Vue(e)}static typeFaces(e){return new Xue(e)}}const Kue=ci.signature.id;class Yue extends fe{constructor(e){super(Kue,"signature",!0)}}class p8{static[Uo](e,n){if(p8.hasOwnProperty(e))return p8[e](n)}static signature(e){return new Yue(e)}}const Zue=ci.stylesheet.id;class Jue extends fe{constructor(e){super(Zue,"stylesheet",!0)}}class g8{static[Uo](e,n){if(g8.hasOwnProperty(e))return g8[e](n)}static stylesheet(e){return new Jue(e)}}const Que=ci.xdp.id;class ehe extends fe{constructor(e){super(Que,"xdp",!0),this.uuid=e.uuid||"",this.timeStamp=e.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new q,this.template=null}[$A](e){const n=ci[e[Vt]];return n&&e[ai]===n.id}}class m8{static[Uo](e,n){if(m8.hasOwnProperty(e))return m8[e](n)}static xdp(e){return new ehe(e)}}const the=ci.xhtml.id,uy=Symbol(),nhe=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),ihe=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",t=>t==="none"?"none":"normal"],["xfa-font-horizontal-scale",t=>`scaleX(${Math.max(0,parseInt(t)/100).toFixed(2)})`],["xfa-font-vertical-scale",t=>`scaleY(${Math.max(0,parseInt(t)/100).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(t,e)=>(t=e.fontSize=Math.abs(Ge(t)),mt(.99*t))],["letter-spacing",t=>mt(Ge(t))],["line-height",t=>mt(Ge(t))],["margin",t=>mt(Ge(t))],["margin-bottom",t=>mt(Ge(t))],["margin-left",t=>mt(Ge(t))],["margin-right",t=>mt(Ge(t))],["margin-top",t=>mt(Ge(t))],["text-indent",t=>mt(Ge(t))],["font-family",t=>t],["vertical-align",t=>mt(Ge(t))]]),she=/\s+/g,rhe=/[\r\n]+/g,ahe=/\r\n?/g;function ohe(t,e,n){const i=Object.create(null);if(!t)return i;const s=Object.create(null);for(const[r,a]of t.split(";").map(o=>o.split(":",2))){const o=ihe.get(r);if(o==="")continue;let l=a;o&&(l=typeof o=="string"?o:o(a,s)),r.endsWith("scale")?i.transform=i.transform?`${i[r]} ${l}`:l:i[r.replaceAll(/-([a-zA-Z])/g,(c,u)=>u.toUpperCase())]=l}if(i.fontFamily&&jB({typeface:i.fontFamily,weight:i.fontWeight||"normal",posture:i.fontStyle||"normal",size:s.fontSize||0},e,e[on].fontFinder,i),n&&i.verticalAlign&&i.verticalAlign!=="0px"&&i.fontSize){const o=Ge(i.fontSize);i.fontSize=mt(o*.583),i.verticalAlign=mt(Math.sign(Ge(i.verticalAlign))*o*.333)}return n&&i.fontSize&&(i.fontSize=`calc(${i.fontSize} * var(--total-scale-factor))`),LB(i),i}function lhe(t){return t.style?t.style.split(";").filter(e=>!!e.trim()).map(e=>e.split(":",2).map(n=>n.trim())).filter(([e,n])=>(e==="font-family"&&t[on].usedTypefaces.add(n),nhe.has(e))).map(e=>e.join(":")).join(";"):""}const che=new Set(["body","html"]);class ya extends Pl{constructor(e,n){super(the,n),this[uy]=!1,this.style=e.style||""}[Ja](e){super[Ja](e),this.style=lhe(this)}[L6](){return!che.has(this[Vt])}[qc](e,n=!1){n?this[uy]=!0:(e=e.replaceAll(rhe,""),this.style.includes("xfa-spacerun:yes")||(e=e.replaceAll(she," "))),e&&(this[Se]+=e)}[Dl](e,n=!0){const i=Object.create(null),s={top:NaN,bottom:NaN,left:NaN,right:NaN};let r=null;for(const[a,o]of this.style.split(";").map(l=>l.split(":",2)))switch(a){case"font-family":i.typeface=B6(o);break;case"font-size":i.size=Ge(o);break;case"font-weight":i.weight=o;break;case"font-style":i.posture=o;break;case"letter-spacing":i.letterSpacing=Ge(o);break;case"margin":const l=o.split(/ \t/).map(c=>Ge(c));switch(l.length){case 1:s.top=s.bottom=s.left=s.right=l[0];break;case 2:s.top=s.bottom=l[0],s.left=s.right=l[1];break;case 3:s.top=l[0],s.bottom=l[2],s.left=s.right=l[1];break;case 4:s.top=l[0],s.left=l[1],s.bottom=l[2],s.right=l[3];break}break;case"margin-top":s.top=Ge(o);break;case"margin-bottom":s.bottom=Ge(o);break;case"margin-left":s.left=Ge(o);break;case"margin-right":s.right=Ge(o);break;case"line-height":r=Ge(o);break}if(e.pushData(i,s,r),this[Se])e.addString(this[Se]);else for(const a of this[Qi]()){if(a[Vt]==="#text"){e.addString(a[Se]);continue}a[Dl](e)}n&&e.popFont()}[ht](e){const n=[];if(this[ue]={children:n},this[Lu]({}),n.length===0&&!this[Se])return et.EMPTY;let i;return this[uy]?i=this[Se]?this[Se].replaceAll(ahe,`
`):void 0:i=this[Se]||void 0,et.success({name:this[Vt],attributes:{href:this.href,style:ohe(this.style,this,this[uy])},children:n,value:i})}}class uhe extends ya{constructor(e){super(e,"a"),this.href=$B(e.href)||""}}class hhe extends ya{constructor(e){super(e,"b")}[Dl](e){e.pushFont({weight:"bold"}),super[Dl](e),e.popFont()}}class dhe extends ya{constructor(e){super(e,"body")}[ht](e){const n=super[ht](e),{html:i}=n;return i?(i.name="div",i.attributes.class=["xfaRich"],n):et.EMPTY}}class fhe extends ya{constructor(e){super(e,"br")}[Ti](){return`
`}[Dl](e){e.addString(`
`)}[ht](e){return et.success({name:"br"})}}class phe extends ya{constructor(e){super(e,"html")}[ht](e){var i;const n=[];if(this[ue]={children:n},this[Lu]({}),n.length===0)return et.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[Se]||""});if(n.length===1){const s=n[0];if((i=s.attributes)!=null&&i.class.includes("xfaRich"))return et.success(s)}return et.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:n})}}class ghe extends ya{constructor(e){super(e,"i")}[Dl](e){e.pushFont({posture:"italic"}),super[Dl](e),e.popFont()}}class mhe extends ya{constructor(e){super(e,"li")}}class xhe extends ya{constructor(e){super(e,"ol")}}class bhe extends ya{constructor(e){super(e,"p")}[Dl](e){super[Dl](e,!1),e.addString(`
`),e.addPara(),e.popFont()}[Ti](){return this[yt]()[Qi]().at(-1)===this?super[Ti]():super[Ti]()+`
`}}class yhe extends ya{constructor(e){super(e,"span")}}class whe extends ya{constructor(e){super(e,"sub")}}class vhe extends ya{constructor(e){super(e,"sup")}}class She extends ya{constructor(e){super(e,"ul")}}class mg{static[Uo](e,n){if(mg.hasOwnProperty(e))return mg[e](n)}static a(e){return new uhe(e)}static b(e){return new hhe(e)}static body(e){return new dhe(e)}static br(e){return new fhe(e)}static html(e){return new phe(e)}static i(e){return new ghe(e)}static li(e){return new mhe(e)}static ol(e){return new xhe(e)}static p(e){return new bhe(e)}static span(e){return new yhe(e)}static sub(e){return new whe(e)}static sup(e){return new vhe(e)}static ul(e){return new She(e)}}const cR={config:u8,connection:h8,datasets:d8,localeSet:f8,signature:p8,stylesheet:g8,template:c8,xdp:m8,xhtml:mg};class uR{constructor(e){this.namespaceId=e}[Uo](e,n){return new Pl(this.namespaceId,e,n)}}class Ahe extends fe{constructor(e){super(-1,"root",Object.create(null)),this.element=null,this[y1]=e}[Il](e){return this.element=e,!0}[hn](){super[hn](),this.element.template instanceof kC&&(this[y1].set(EB,this.element),this.element.template[ax](this[y1]),this.element.template[y1]=this[y1])}}class khe extends fe{constructor(){super(-1,"",Object.create(null))}[Il](e){return!1}}class Che{constructor(e=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(ci).map(({id:n})=>n)),this._currentNamespace=e||new uR(++this._nextNsId)}buildRoot(e){return new Ahe(e)}build({nsPrefix:e,name:n,attributes:i,namespace:s,prefixes:r}){const a=s!==null;if(a&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(s)),r&&this._addNamespacePrefix(r),i.hasOwnProperty(Cu)){const c=cR.datasets,u=i[Cu];let d=null;for(const[p,g]of Object.entries(u))if(this._getNamespaceToUse(p)===c){d={xfa:g};break}d?i[Cu]=d:delete i[Cu]}const o=this._getNamespaceToUse(e),l=(o==null?void 0:o[Uo](n,i))||new khe;return l[vx]()&&this._nsAgnosticLevel++,(a||r||l[vx]())&&(l[w5]={hasNamespace:a,prefixes:r,nsAgnostic:l[vx]()}),l}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(e){let n=this._namespaces.get(e);if(n)return n;for(const[i,{check:s}]of Object.entries(ci))if(s(e)){if(n=cR[i],n)return this._namespaces.set(e,n),n;break}return n=new uR(++this._nextNsId),this._namespaces.set(e,n),n}_addNamespacePrefix(e){for(const{prefix:n,value:i}of e){const s=this._searchNamespace(i);let r=this._namespacePrefixes.get(n);r||(r=[],this._namespacePrefixes.set(n,r)),r.push(s)}}_getNamespaceToUse(e){if(!e)return this._currentNamespace;const n=this._namespacePrefixes.get(e);return(n==null?void 0:n.length)>0?n.at(-1):(W(`Unknown namespace prefix: ${e}.`),null)}clean(e){const{hasNamespace:n,prefixes:i,nsAgnostic:s}=e;n&&(this._currentNamespace=this._namespaceStack.pop()),i&&i.forEach(({prefix:r})=>{this._namespacePrefixes.get(r).pop()}),s&&this._nsAgnosticLevel--}}class x8 extends xB{constructor(e=null,n=!1){super(),this._builder=new Che(e),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=Ir.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=n}parse(e){if(this.parseXml(e),this._errorCode===Ir.NoError)return this._current[hn](),this._current.element}onText(e){if(e=e.replace(this._nbsps,n=>n.slice(1)+" "),this._richText||this._current[L6]()){this._current[qc](e,this._richText);return}this._whiteRegex.test(e)||this._current[qc](e.trim())}onCdata(e){this._current[qc](e)}_mkAttributes(e,n){let i=null,s=null;const r=Object.create({});for(const{name:a,value:o}of e)if(a==="xmlns")i?W(`XFA - multiple namespace definition in <${n}>`):i=o;else if(a.startsWith("xmlns:")){const l=a.substring(6);s||(s=[]),s.push({prefix:l,value:o})}else{const l=a.indexOf(":");if(l===-1)r[a]=o;else{let c=r[Cu];c||(c=r[Cu]=Object.create(null));const[u,d]=[a.slice(0,l),a.slice(l+1)],p=c[u]||(c[u]=Object.create(null));p[d]=o}}return[i,s,r]}_getNameAndPrefix(e,n){const i=e.indexOf(":");return i===-1?[e,null]:[e.substring(i+1),n?"":e.substring(0,i)]}onBeginElement(e,n,i){const[s,r,a]=this._mkAttributes(n,e),[o,l]=this._getNameAndPrefix(e,this._builder.isNsAgnostic()),c=this._builder.build({nsPrefix:l,name:o,attributes:a,namespace:s,prefixes:r});if(c[on]=this._globalData,i){c[hn](),this._current[Il](c)&&c[UA](this._ids),c[Ja](this._builder);return}this._stack.push(this._current),this._current=c}onEndElement(e){const n=this._current;if(n[fC]()&&typeof n[Se]=="string"){const i=new x8;i._globalData=this._globalData;const s=i.parse(n[Se]);n[Se]=null,n[Il](s)}n[hn](),this._current=this._stack.pop(),this._current[Il](n)&&n[UA](this._ids),n[Ja](this._builder)}onError(e){this._errorCode=e}}class l3{constructor(e){try{this.root=new x8().parse(l3._createDocument(e));const n=new Rle(this.root);this.form=n.bind(),this.dataHandler=new Fle(this.root,n.getData()),this.form[on].template=this.form}catch(n){W(`XFA - an error occurred during parsing and binding: ${n}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const e=this.form[TB]();return new Promise((n,i)=>{const s=()=>{try{const r=e.next();r.done?n(r.value):setTimeout(s,0)}catch(r){i(r)}};setTimeout(s,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(e=>{const{width:n,height:i}=e.attributes.style;return[0,0,parseInt(n),parseInt(i)]})}catch(e){W(`XFA - an error occurred during layout: ${e}`)}}getBoundingBox(e){return this.dims[e]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(e){this.form[on].images=e}setFonts(e){this.form[on].fontFinder=new $ae(e);const n=[];for(let i of this.form[on].usedTypefaces)i=B6(i),this.form[on].fontFinder.find(i)||n.push(i);return n.length>0?n:null}appendFonts(e,n){this.form[on].fontFinder.add(e,n)}async getPages(){this.pages||await this._createPages();const e=this.pages;return this.pages=null,e}serializeData(e){return this.dataHandler.serialize(e)}static _createDocument(e){return e["/xdp:xdp"]?Object.values(e).join(""):e["xdp:xdp"]}static getRichTextAsHtml(e){if(!e||typeof e!="string")return null;try{let n=new x8(mg,!0).parse(e);if(!["body","xhtml"].includes(n[Vt])){const a=mg.body({});a[Gn](n),n=a}const i=n[ht]();if(!i.success)return null;const{html:s}=i,{attributes:r}=s;return r&&(r.class&&(r.class=r.class.filter(a=>!a.startsWith("xfa"))),r.dir="auto"),{html:s,str:n[Ti]()}}catch(n){W(`XFA - an error occurred during parsing of rich text: ${n}`)}return null}}class F0{static createGlobals(e){return Promise.all([e.ensureCatalog("acroForm"),e.ensureDoc("xfaDatasets"),e.ensureCatalog("structTreeRoot"),e.ensureCatalog("baseUrl"),e.ensureCatalog("attachments"),e.ensureCatalog("globalColorSpaceCache")]).then(([n,i,s,r,a,o])=>({pdfManager:e,acroForm:n instanceof J?n:J.empty,xfaDatasets:i,structTreeRoot:s,baseUrl:r,attachments:a,globalColorSpaceCache:o}),n=>(W(`createGlobals: "${n}".`),null))}static async create(e,n,i,s,r,a,o){const l=r?await this._getPageIndex(e,n,i.pdfManager):null;return i.pdfManager.ensure(this,"_create",[e,n,i,s,r,a,l,o])}static _create(e,n,i,s,r=!1,a=null,o=null,l=null){const c=e.fetchIfRef(n);if(!(c instanceof J))return;const{acroForm:u,pdfManager:d}=i,p=n instanceof Be?n.toString():`annot_${s.createObjId()}`;let g=c.get("Subtype");g=g instanceof le?g.name:null;const m={xref:e,ref:n,dict:c,subtype:g,id:p,annotationGlobals:i,collectFields:r,orphanFields:a,needAppearances:!r&&u.get("NeedAppearances")===!0,pageIndex:o,evaluatorOptions:d.evaluatorOptions,pageRef:l};switch(g){case"Link":return new Nhe(m);case"Text":return new Phe(m);case"Widget":let b=Ga({dict:c,key:"FT"});switch(b=b instanceof le?b.name:null,b){case"Tx":return new _he(m);case"Btn":return new The(m);case"Ch":return new Ihe(m);case"Sig":return new aj(m)}return W(`Unimplemented widget field type "${b}", falling back to base field type.`),new Bo(m);case"Popup":return new oj(m);case"FreeText":return new Yw(m);case"Line":return new Rhe(m);case"Square":return new Fhe(m);case"Circle":return new Mhe(m);case"PolyLine":return new lj(m);case"Polygon":return new cj(m);case"Caret":return new Dhe(m);case"Ink":return new Fm(m);case"Highlight":return new Zw(m);case"Underline":return new Lhe(m);case"Squiggly":return new Ohe(m);case"StrikeOut":return new Bhe(m);case"Stamp":return new Eh(m);case"FileAttachment":return new jhe(m);default:return r||W(g?`Unimplemented annotation type "${g}", falling back to base annotation.`:"Annotation is missing the required /Subtype."),new u3(m)}}static async _getPageIndex(e,n,i){try{const s=await e.fetchIfRefAsync(n);if(!(s instanceof J))return-1;const r=s.getRaw("P");if(r instanceof Be)try{return await i.ensureCatalog("getPageIndex",[r])}catch(o){Pt(`_getPageIndex -- not a valid page reference: "${o}".`)}if(s.has("Kids"))return-1;const a=await i.ensureDoc("numPages");for(let o=0;o<a;o++){const l=await i.getPage(o),c=await i.ensure(l,"annotations");for(const u of c)if(u instanceof Be&&J5(u,n))return o}}catch(s){W(`_getPageIndex: "${s}".`)}return-1}static generateImages(e,n,i){if(!i)return W("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let s;for(const{bitmapId:r,bitmap:a}of e)a&&(s||(s=new Map),s.set(r,Eh.createImage(a,n)));return s}static async saveNewAnnotations(e,n,i,s,r){const a=e.xref;let o;const l=[],{isOffscreenCanvasSupported:c}=e.options;for(const u of i)if(!u.deleted)switch(u.annotationType){case Zo.FREETEXT:if(!o){const p=new J(a);p.set("BaseFont",le.get("Helvetica")),p.set("Type",le.get("Font")),p.set("Subtype",le.get("Type1")),p.set("Encoding",le.get("WinAnsiEncoding")),o=a.getNewTemporaryRef(),r.put(o,{data:p})}l.push(Yw.createNewAnnotation(a,u,r,{evaluator:e,task:n,baseFontRef:o}));break;case Zo.HIGHLIGHT:u.quadPoints?l.push(Zw.createNewAnnotation(a,u,r)):l.push(Fm.createNewAnnotation(a,u,r));break;case Zo.INK:l.push(Fm.createNewAnnotation(a,u,r));break;case Zo.STAMP:const d=c?await(s==null?void 0:s.get(u.bitmapId)):null;if(d!=null&&d.imageStream){const{imageStream:p,smaskStream:g}=d;if(g){const b=a.getNewTemporaryRef();r.put(b,{data:g}),p.dict.set("SMask",b)}const m=d.imageRef=a.getNewTemporaryRef();r.put(m,{data:p}),d.imageStream=d.smaskStream=null}l.push(Eh.createNewAnnotation(a,u,r,{image:d}));break;case Zo.SIGNATURE:l.push(Eh.createNewAnnotation(a,u,r,{}));break}return{annotations:await Promise.all(l)}}static async printNewAnnotations(e,n,i,s,r){if(!s)return null;const{options:a,xref:o}=n,l=[];for(const c of s)if(!c.deleted)switch(c.annotationType){case Zo.FREETEXT:l.push(Yw.createNewPrintAnnotation(e,o,c,{evaluator:n,task:i,evaluatorOptions:a}));break;case Zo.HIGHLIGHT:c.quadPoints?l.push(Zw.createNewPrintAnnotation(e,o,c,{evaluatorOptions:a})):l.push(Fm.createNewPrintAnnotation(e,o,c,{evaluatorOptions:a}));break;case Zo.INK:l.push(Fm.createNewPrintAnnotation(e,o,c,{evaluatorOptions:a}));break;case Zo.STAMP:const u=a.isOffscreenCanvasSupported?await(r==null?void 0:r.get(c.bitmapId)):null;if(u!=null&&u.imageStream){const{imageStream:d,smaskStream:p}=u;p&&d.dict.set("SMask",p),u.imageRef=new cg(d,d.length),u.imageStream=u.smaskStream=null}l.push(Eh.createNewPrintAnnotation(e,o,c,{image:u,evaluatorOptions:a}));break;case Zo.SIGNATURE:l.push(Eh.createNewPrintAnnotation(e,o,c,{evaluatorOptions:a}));break}return Promise.all(l)}}function j1(t,e=new Uint8ClampedArray(3)){if(!Array.isArray(t))return e;const n=e||new Uint8ClampedArray(3);switch(t.length){case 0:return null;case 1:return Gt.gray.getRgbItem(t,0,n,0),n;case 3:return Gt.rgb.getRgbItem(t,0,n,0),n;case 4:return Gt.cmyk.getRgbItem(t,0,n,0),n;default:return e}}function Hs(t){return Array.from(t,e=>e/255)}function c3(t,e){const n=t.getArray("QuadPoints");if(!lr(n,null)||n.length===0||n.length%8>0)return null;const i=new Float32Array(n.length);for(let s=0,r=n.length;s<r;s+=8){const[a,o,l,c,u,d,p,g]=n.slice(s,s+8),m=Math.min(a,l,u,p),b=Math.max(a,l,u,p),v=Math.min(o,c,d,g),S=Math.max(o,c,d,g);if(e!==null&&(m<e[0]||b>e[2]||v<e[1]||S>e[3]))return null;i.set([m,S,b,S,m,v,b,v],s)}return i}function VA(t,e,n){const[i,s,r,a]=rn.getAxialAlignedBoundingBox(e,n);if(i===r||s===a)return[1,0,0,1,t[0],t[1]];const o=(t[2]-t[0])/(r-i),l=(t[3]-t[1])/(a-s);return[o,0,0,l,t[0]-i*o,t[1]-s*l]}class u3{constructor(e){const{dict:n,xref:i,annotationGlobals:s,ref:r,orphanFields:a}=e,o=a==null?void 0:a.get(r);o&&n.set("Parent",o),this.setTitle(n.get("T")),this.setContents(n.get("Contents")),this.setModificationDate(n.get("M")),this.setFlags(n.get("F")),this.setRectangle(n.getArray("Rect")),this.setColor(n.getArray("C")),this.setBorderStyle(n),this.setAppearance(n),this.setOptionalContent(n);const l=n.get("MK");this.setBorderAndBackgroundColors(l),this.setRotation(l,n),this.ref=e.ref instanceof Be?e.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const c=!!(this.flags&Ai.LOCKED),u=!!(this.flags&Ai.LOCKEDCONTENTS);if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:e.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:e.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&Ai.NOROTATE),noHTML:c&&u,isEditable:!1,structParent:-1},s.structTreeRoot){let p=n.get("StructParent");this.data.structParent=p=Number.isInteger(p)&&p>=0?p:-1,s.structTreeRoot.addAnnotationIdToPage(e.pageRef,p)}if(e.collectFields){const p=n.get("Kids");if(Array.isArray(p)){const g=[];for(const m of p)m instanceof Be&&g.push(m.toString());g.length!==0&&(this.data.kidIds=g)}this.data.actions=P6(i,n,mO),this.data.fieldName=this._constructFieldName(n),this.data.pageIndex=e.pageIndex}const d=n.get("IT");d instanceof le&&(this.data.it=d.name),this._isOffscreenCanvasSupported=e.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(e,n){return!!(e&n)}_buildFlags(e,n){let{flags:i}=this;return e===void 0?n===void 0?void 0:n?i&-5:i&-3|Ai.PRINT:e?(i|=Ai.PRINT,n?i&-33|Ai.HIDDEN:i&-3|Ai.NOVIEW):(i&=-35,n?i&-5:i|Ai.PRINT)}_isViewable(e){return!this._hasFlag(e,Ai.INVISIBLE)&&!this._hasFlag(e,Ai.NOVIEW)}_isPrintable(e){return this._hasFlag(e,Ai.PRINT)&&!this._hasFlag(e,Ai.HIDDEN)&&!this._hasFlag(e,Ai.INVISIBLE)}mustBeViewed(e,n){var s;const i=(s=e==null?void 0:e.get(this.data.id))==null?void 0:s.noView;return i!==void 0?!i:this.viewable&&!this._hasFlag(this.flags,Ai.HIDDEN)}mustBePrinted(e){var i;const n=(i=e==null?void 0:e.get(this.data.id))==null?void 0:i.noPrint;return n!==void 0?!n:this.printable}mustBeViewedWhenEditing(e,n=null){return e?!this.data.isEditable:!(n!=null&&n.has(this.data.id))}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(e){const n=typeof e=="string"?Wt(e):"",i=n&&uB(n).dir==="rtl"?"rtl":"ltr";return{str:n,dir:i}}setDefaultAppearance(e){const{dict:n,annotationGlobals:i}=e,s=Ga({dict:n,key:"DA"})||i.acroForm.get("DA");this._defaultAppearance=typeof s=="string"?s:"",this.data.defaultAppearanceData=cC(this._defaultAppearance)}setTitle(e){this._title=this._parseStringHelper(e)}setContents(e){this._contents=this._parseStringHelper(e)}setModificationDate(e){this.modificationDate=typeof e=="string"?e:null}setFlags(e){this.flags=Number.isInteger(e)&&e>0?e:0,this.flags&Ai.INVISIBLE&&this.constructor.name!=="Annotation"&&(this.flags^=Ai.INVISIBLE)}hasFlag(e){return this._hasFlag(this.flags,e)}setRectangle(e){this.rectangle=Tl(e,[0,0,0,0])}setColor(e){this.color=j1(e)}setLineEndings(e){if(this.lineEndings=["None","None"],Array.isArray(e)&&e.length===2)for(let n=0;n<2;n++){const i=e[n];if(i instanceof le)switch(i.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[n]=i.name;continue}W(`Ignoring invalid lineEnding: ${i}`)}}setRotation(e,n){this.rotation=0;let i=e instanceof J?e.get("R")||0:n.get("Rotate")||0;Number.isInteger(i)&&i!==0&&(i%=360,i<0&&(i+=360),i%90===0&&(this.rotation=i))}setBorderAndBackgroundColors(e){e instanceof J?(this.borderColor=j1(e.getArray("BC"),null),this.backgroundColor=j1(e.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(e){if(this.borderStyle=new Ehe,e instanceof J)if(e.has("BS")){const n=e.get("BS");if(n instanceof J){const i=n.get("Type");(!i||ti(i,"Border"))&&(this.borderStyle.setWidth(n.get("W"),this.rectangle),this.borderStyle.setStyle(n.get("S")),this.borderStyle.setDashArray(n.getArray("D")))}}else if(e.has("Border")){const n=e.getArray("Border");Array.isArray(n)&&n.length>=3&&(this.borderStyle.setHorizontalCornerRadius(n[0]),this.borderStyle.setVerticalCornerRadius(n[1]),this.borderStyle.setWidth(n[2],this.rectangle),n.length===4&&this.borderStyle.setDashArray(n[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(e){this.appearance=null;const n=e.get("AP");if(!(n instanceof J))return;const i=n.get("N");if(i instanceof _t){this.appearance=i;return}if(!(i instanceof J))return;const s=e.get("AS");if(!(s instanceof le)||!i.has(s.name))return;const r=i.get(s.name);r instanceof _t&&(this.appearance=r)}setOptionalContent(e){this.oc=null;const n=e.get("OC");n instanceof le?W("setOptionalContent: Support for /Name-entry is not implemented."):n instanceof J&&(this.oc=n)}loadResources(e,n){return n.dict.getAsync("Resources").then(i=>i?new a8(i,e,i.xref).load().then(()=>i):void 0)}async getOperatorList(e,n,i,s){const{hasOwnCanvas:r,id:a,rect:o}=this.data;let l=this.appearance;const c=!!(r&&i&nr.DISPLAY);if(c&&(this.width===0||this.height===0))return this.data.hasOwnCanvas=!1,{opList:new Dr,separateForm:!1,separateCanvas:!1};if(!l){if(!c)return{opList:new Dr,separateForm:!1,separateCanvas:!1};l=new hr(""),l.dict=new J}const u=l.dict,d=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],l),p=oA(u.getArray("BBox"),[0,0,1,1]),g=vu(u.getArray("Matrix"),Do),m=VA(o,p,g),b=new Dr;let v;return this.oc&&(v=await e.parseMarkedContentProps(this.oc,null)),v!==void 0&&b.addOp(z.beginMarkedContentProps,["OC",v]),b.addOp(z.beginAnnotation,[a,o,m,g,c]),await e.getOperatorList({stream:l,task:n,resources:d,operatorList:b,fallbackFontDict:this._fallbackFontDict}),b.addOp(z.endAnnotation,[]),v!==void 0&&b.addOp(z.endMarkedContent,[]),this.reset(),{opList:b,separateForm:!1,separateCanvas:c}}async save(e,n,i,s){return null}get hasTextContent(){return!1}async extractTextContent(e,n,i){if(!this.appearance)return;const s=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),r=[],a=[];let o=null;const l={desiredSize:Math.Infinity,ready:!0,enqueue(c,u){for(const d of c.items)d.str!==void 0&&(o||(o=d.transform.slice(-2)),a.push(d.str),d.hasEOL&&(r.push(a.join("").trimEnd()),a.length=0))}};if(await e.getTextContent({stream:this.appearance,task:n,resources:s,includeMarkedContent:!0,keepWhiteSpace:!0,sink:l,viewBox:i}),this.reset(),a.length&&r.push(a.join("").trimEnd()),r.length>1||r[0]){const c=this.appearance.dict,u=oA(c.getArray("BBox"),null),d=vu(c.getArray("Matrix"),null);this.data.textPosition=this._transformPoint(o,u,d),this.data.textContent=r}}_transformPoint(e,n,i){const{rect:s}=this.data;n||(n=[0,0,1,1]),i||(i=[1,0,0,1,0,0]);const r=VA(s,n,i);return r[4]-=s[0],r[5]-=s[1],e=rn.applyTransform(e,r),rn.applyTransform(e,i)}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const e of this._streams)e.reset()}_constructFieldName(e){if(!e.has("T")&&!e.has("Parent"))return W("Unknown field name, falling back to empty field name."),"";if(!e.has("Parent"))return Wt(e.get("T"));const n=[];e.has("T")&&n.unshift(Wt(e.get("T")));let i=e;const s=new Bi;for(e.objId&&s.put(e.objId);i.has("Parent")&&(i=i.get("Parent"),!(!(i instanceof J)||i.objId&&s.has(i.objId)));)i.objId&&s.put(i.objId),i.has("T")&&n.unshift(Wt(i.get("T")));return n.join(".")}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Ehe{constructor(){this.width=1,this.rawWidth=1,this.style=e1.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(e,n=[0,0,0,0]){if(e instanceof le){this.width=0;return}if(typeof e=="number"){if(e>0){this.rawWidth=e;const i=(n[2]-n[0])/2,s=(n[3]-n[1])/2;i>0&&s>0&&(e>i||e>s)&&(W(`AnnotationBorderStyle.setWidth - ignoring width: ${e}`),e=1)}this.width=e}}setStyle(e){if(e instanceof le)switch(e.name){case"S":this.style=e1.SOLID;break;case"D":this.style=e1.DASHED;break;case"B":this.style=e1.BEVELED;break;case"I":this.style=e1.INSET;break;case"U":this.style=e1.UNDERLINE;break}}setDashArray(e,n=!1){if(Array.isArray(e)){let i=!0,s=!0;for(const r of e)if(+r>=0)r>0&&(s=!1);else{i=!1;break}e.length===0||i&&!s?(this.dashArray=e,n&&this.setStyle(le.get("D"))):this.width=0}else e&&(this.width=0)}setHorizontalCornerRadius(e){Number.isInteger(e)&&(this.horizontalCornerRadius=e)}setVerticalCornerRadius(e){Number.isInteger(e)&&(this.verticalCornerRadius=e)}}class Br extends u3{constructor(e){super(e);const{dict:n}=e;if(n.has("IRT")){const s=n.getRaw("IRT");this.data.inReplyTo=s instanceof Be?s.toString():null;const r=n.get("RT");this.data.replyType=r instanceof le?r.name:tA.REPLY}let i=null;if(this.data.replyType===tA.GROUP){const s=n.get("IRT");this.setTitle(s.get("T")),this.data.titleObj=this._title,this.setContents(s.get("Contents")),this.data.contentsObj=this._contents,s.has("CreationDate")?(this.setCreationDate(s.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,s.has("M")?(this.setModificationDate(s.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,i=s.getRaw("Popup"),s.has("C")?(this.setColor(s.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(n.get("CreationDate")),this.data.creationDate=this.creationDate,i=n.getRaw("Popup"),n.has("C")||(this.data.color=null);this.data.popupRef=i instanceof Be?i.toString():null,n.has("RC")&&(this.data.richText=l3.getRichTextAsHtml(n.get("RC")))}setCreationDate(e){this.creationDate=typeof e=="string"?e:null}_setDefaultAppearance({xref:e,extra:n,strokeColor:i,fillColor:s,blendMode:r,strokeAlpha:a,fillAlpha:o,pointsCallback:l}){const c=this.data.rect=[1/0,1/0,-1/0,-1/0],u=["q"];n&&u.push(n),i&&u.push(`${i[0]} ${i[1]} ${i[2]} RG`),s&&u.push(`${s[0]} ${s[1]} ${s[2]} rg`);const d=this.data.quadPoints||Float32Array.from([this.rectangle[0],this.rectangle[3],this.rectangle[2],this.rectangle[3],this.rectangle[0],this.rectangle[1],this.rectangle[2],this.rectangle[1]]);for(let E=0,w=d.length;E<w;E+=8){const A=l(u,d.subarray(E,E+8));rn.rectBoundingBox(...A,c)}u.push("Q");const p=new J(e),g=new J(e);g.set("Subtype",le.get("Form"));const m=new hr(u.join(" "));m.dict=g,p.set("Fm0",m);const b=new J(e);r&&b.set("BM",le.get(r)),typeof a=="number"&&b.set("CA",a),typeof o=="number"&&b.set("ca",o);const v=new J(e);v.set("GS0",b);const S=new J(e);S.set("ExtGState",v),S.set("XObject",p);const C=new J(e);C.set("Resources",S),C.set("BBox",c),this.appearance=new hr("/GS0 gs /Fm0 Do"),this.appearance.dict=C,this._streams.push(this.appearance,m)}static async createNewAnnotation(e,n,i,s){const r=n.ref||(n.ref=e.getNewTemporaryRef()),a=await this.createNewAppearanceStream(n,e,s);let o;if(a){const l=e.getNewTemporaryRef();o=this.createNewDict(n,e,{apRef:l}),i.put(l,{data:a})}else o=this.createNewDict(n,e,{});return Number.isInteger(n.parentTreeId)&&o.set("StructParent",n.parentTreeId),i.put(r,{data:o}),{ref:r}}static async createNewPrintAnnotation(e,n,i,s){const r=await this.createNewAppearanceStream(i,n,s),a=this.createNewDict(i,n,r?{ap:r}:{}),o=new this.prototype.constructor({dict:a,xref:n,annotationGlobals:e,evaluatorOptions:s.evaluatorOptions});return i.ref&&(o.ref=o.refToReplace=i.ref),o}}class Bo extends u3{constructor(e){var p;super(e);const{dict:n,xref:i,annotationGlobals:s}=e,r=this.data;this._needAppearances=e.needAppearances,r.annotationType=es.WIDGET,r.fieldName===void 0&&(r.fieldName=this._constructFieldName(n)),r.actions===void 0&&(r.actions=P6(i,n,mO));let a=Ga({dict:n,key:"V",getArray:!0});r.fieldValue=this._decodeFormValue(a);const o=Ga({dict:n,key:"DV",getArray:!0});if(r.defaultFieldValue=this._decodeFormValue(o),a===void 0&&s.xfaDatasets){const g=this._title.str;g&&(this._hasValueFromXFA=!0,r.fieldValue=a=s.xfaDatasets.getValue(g))}a===void 0&&r.defaultFieldValue!==null&&(r.fieldValue=r.defaultFieldValue),r.alternativeText=Wt(n.get("TU")||""),this.setDefaultAppearance(e),r.hasAppearance||(r.hasAppearance=this._needAppearances&&r.fieldValue!==void 0&&r.fieldValue!==null);const l=Ga({dict:n,key:"FT"});r.fieldType=l instanceof le?l.name:null;const c=Ga({dict:n,key:"DR"}),u=s.acroForm.get("DR"),d=(p=this.appearance)==null?void 0:p.dict.get("Resources");this._fieldResources={localResources:c,acroFormResources:u,appearanceResources:d,mergedResources:J.merge({xref:i,dictArray:[c,d,u],mergeSubDicts:!0})},r.fieldFlags=Ga({dict:n,key:"Ff"}),(!Number.isInteger(r.fieldFlags)||r.fieldFlags<0)&&(r.fieldFlags=0),r.password=this.hasFieldFlag(No.PASSWORD),r.readOnly=this.hasFieldFlag(No.READONLY),r.required=this.hasFieldFlag(No.REQUIRED),r.hidden=this._hasFlag(r.annotationFlags,Ai.HIDDEN)||this._hasFlag(r.annotationFlags,Ai.NOVIEW)}_decodeFormValue(e){return Array.isArray(e)?e.filter(n=>typeof n=="string").map(n=>Wt(n)):e instanceof le?Wt(e.name):typeof e=="string"?Wt(e):null}hasFieldFlag(e){return!!(this.data.fieldFlags&e)}_isViewable(e){return!0}mustBeViewed(e,n){return n?this.viewable:super.mustBeViewed(e,n)&&!this._hasFlag(this.flags,Ai.NOVIEW)}getRotationMatrix(e){var i;let n=(i=e==null?void 0:e.get(this.data.id))==null?void 0:i.rotation;return n===void 0&&(n=this.rotation),n===0?Do:e8(n,this.width,this.height)}getBorderAndBackgroundAppearances(e){var r;let n=(r=e==null?void 0:e.get(this.data.id))==null?void 0:r.rotation;if(n===void 0&&(n=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const i=n===0||n===180?`0 0 ${this.width} ${this.height} re`:`0 0 ${this.height} ${this.width} re`;let s="";if(this.backgroundColor&&(s=`${Ml(this.backgroundColor,!0)} ${i} f `),this.borderColor){const a=this.borderStyle.width||1;s+=`${a} w ${Ml(this.borderColor,!1)} ${i} S `}return s}async getOperatorList(e,n,i,s){if(i&nr.ANNOTATIONS_FORMS&&!(this instanceof aj)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new Dr,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(e,n,i,s);const r=await this._getAppearance(e,n,i,s);if(this.appearance&&r===null)return super.getOperatorList(e,n,i,s);const a=new Dr;if(!this._defaultAppearance||r===null)return{opList:a,separateForm:!1,separateCanvas:!1};const o=!!(this.data.hasOwnCanvas&&i&nr.DISPLAY),l=[1,0,0,1,0,0],c=[0,0,this.width,this.height],u=VA(this.data.rect,c,l);let d;this.oc&&(d=await e.parseMarkedContentProps(this.oc,null)),d!==void 0&&a.addOp(z.beginMarkedContentProps,["OC",d]),a.addOp(z.beginAnnotation,[this.data.id,this.data.rect,u,this.getRotationMatrix(s),o]);const p=new hr(r);return await e.getOperatorList({stream:p,task:n,resources:this._fieldResources.mergedResources,operatorList:a}),a.addOp(z.endAnnotation,[]),d!==void 0&&a.addOp(z.endMarkedContent,[]),{opList:a,separateForm:!1,separateCanvas:o}}_getMKDict(e){const n=new J(null);return e&&n.set("R",e),this.borderColor&&n.set("BC",Hs(this.borderColor)),this.backgroundColor&&n.set("BG",Hs(this.backgroundColor)),n.size>0?n:null}amendSavedDict(e,n){}setValue(e,n,i,s){const{dict:r,ref:a}=kne(e,this.ref,i);if(!r)e.set("V",n);else if(!s.has(a)){const o=r.clone();return o.set("V",n),s.put(a,{data:o}),o}return null}async save(e,n,i,s){const r=i==null?void 0:i.get(this.data.id),a=this._buildFlags(r==null?void 0:r.noView,r==null?void 0:r.noPrint);let o=r==null?void 0:r.value,l=r==null?void 0:r.rotation;if(o===this.data.fieldValue||o===void 0){if(!this._hasValueFromXFA&&l===void 0&&a===void 0)return;o||(o=this.data.fieldValue)}if(l===void 0&&!this._hasValueFromXFA&&Array.isArray(o)&&Array.isArray(this.data.fieldValue)&&Ux(o,this.data.fieldValue)&&a===void 0)return;l===void 0&&(l=this.rotation);let c=null;if(!this._needAppearances&&(c=await this._getAppearance(e,n,nr.SAVE,i),c===null&&a===void 0))return;let u=!1;c!=null&&c.needAppearances&&(u=!0,c=null);const{xref:d}=e,p=d.fetchIfRef(this.ref);if(!(p instanceof J))return;const g=new J(d);for(const S of p.getKeys())S!=="AP"&&g.set(S,p.getRaw(S));if(a!==void 0&&(g.set("F",a),c===null&&!u)){const S=p.getRaw("AP");S&&g.set("AP",S)}const m={path:this.data.fieldName,value:o},b=this.setValue(g,Array.isArray(o)?o.map(Wa):Wa(o),d,s);this.amendSavedDict(i,b||g);const v=this._getMKDict(l);if(v&&g.set("MK",v),s.put(this.ref,{data:g,xfa:m,needAppearances:u}),c!==null){const S=d.getNewTemporaryRef(),C=new J(d);g.set("AP",C),C.set("N",S);const E=this._getSaveFieldResources(d),w=new hr(c),A=w.dict=new J(d);A.set("Subtype",le.get("Form")),A.set("Resources",E),A.set("BBox",[0,0,this.width,this.height]);const T=this.getRotationMatrix(i);T!==Do&&A.set("Matrix",T),s.put(S,{data:w,xfa:null,needAppearances:!1})}g.set("M",`D:${Zc()}`)}async _getAppearance(e,n,i,s){if(this.data.password)return null;const r=s==null?void 0:s.get(this.data.id);let a,o;if(r&&(a=r.formattedValue||r.value,o=r.rotation),o===void 0&&a===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const l=this.getBorderAndBackgroundAppearances(s);if(a===void 0&&(a=this.data.fieldValue,!a))return`/Tx BMC q ${l}Q EMC`;if(Array.isArray(a)&&a.length===1&&(a=a[0]),bs(typeof a=="string","Expected `value` to be a string."),a=a.trimEnd(),this.data.combo){const B=this.data.options.find(({exportValue:U})=>a===U);a=(B==null?void 0:B.displayValue)||a}if(a==="")return`/Tx BMC q ${l}Q EMC`;o===void 0&&(o=this.rotation);let c=-1,u;this.data.multiLine?(u=a.split(/\r\n?|\n/).map(B=>B.normalize("NFC")),c=u.length):u=[a.replace(/\r\n?|\n/,"").normalize("NFC")];const d=1,p=2;let{width:g,height:m}=this;(o===90||o===270)&&([g,m]=[m,g]),this._defaultAppearance||(this.data.defaultAppearanceData=cC(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let b=await Bo._getFontData(e,n,this.data.defaultAppearanceData,this._fieldResources.mergedResources),v,S,C;const E=[];let w=!1;for(const B of u){const U=b.encodeString(B);U.length>1&&(w=!0),E.push(U.join(""))}if(w&&i&nr.SAVE)return{needAppearances:!0};if(w&&this._isOffscreenCanvasSupported){const B=this.data.comb?"monospace":"sans-serif",U=new Sl(e.xref,B),V=U.createFontResources(u.join("")),ee=V.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const $=this._fieldResources.mergedResources.get("Font");for(const ie of ee.getKeys())$.set(ie,ee.getRaw(ie))}else this._fieldResources.mergedResources.set("Font",ee);const Q=U.fontName.name;b=await Bo._getFontData(e,n,{fontName:Q,fontSize:0},V);for(let $=0,ie=E.length;$<ie;$++)E[$]=kO(u[$]);const G=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=Q,[v,S,C]=this._computeFontSize(m-2*d,g-2*p,a,b,c),this.data.defaultAppearanceData=G}else this._isOffscreenCanvasSupported||W("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[v,S,C]=this._computeFontSize(m-2*d,g-2*p,a,b,c);let A=b.descent;isNaN(A)?A=jP*C:A=Math.max(jP*C,Math.abs(A)*S);const T=Math.min(Math.floor((m-S)/2),d),P=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(v,E,b,S,g,m,P,p,T,A,C,s);if(this.data.comb)return this._getCombAppearance(v,b,E[0],S,g,m,p,T,A,C,s);const R=T+A;if(P===0||P>2)return`/Tx BMC q ${l}BT `+v+` 1 0 0 1 ${Lt(p)} ${Lt(R)} Tm (${lg(E[0])}) Tj ET Q EMC`;const D={shift:0},O=this._renderText(E[0],b,S,g,P,D,p,R);return`/Tx BMC q ${l}BT `+v+` 1 0 0 1 0 0 Tm ${O} ET Q EMC`}static async _getFontData(e,n,i,s){const r=new Dr,a={font:null,clone(){return this}},{fontName:o,fontSize:l}=i;return await e.handleSetFont(s,[o&&le.get(o),l],null,r,n,a,null),a.font}_getTextWidth(e,n){return Math.sumPrecise(n.charsToGlyphs(e).map(i=>i.width))/1e3}_computeFontSize(e,n,i,s,r){let{fontSize:a}=this.data.defaultAppearanceData,o=(a||12)*Uc,l=Math.round(e/o);if(!a){const c=p=>Math.floor(p*100)/100;if(r===-1){const p=this._getTextWidth(i,s);a=c(Math.min(e/Uc,n/p)),l=1}else{const p=i.split(/\r\n?|\n/),g=[];for(const b of p){const v=s.encodeString(b).join(""),S=s.charsToGlyphs(v),C=s.getCharPositions(v);g.push({line:v,glyphs:S,positions:C})}const m=b=>{let v=0;for(const S of g){const C=this._splitLine(null,s,b,n,S);if(v+=C.length*b,v>e)return!0}return!1};for(l=Math.max(l,r);;){if(o=e/l,a=c(o/Uc),m(a)){l++;continue}break}}const{fontName:u,fontColor:d}=this.data.defaultAppearanceData;this._defaultAppearance=_ae({fontSize:a,fontName:u,fontColor:d})}return[this._defaultAppearance,a,e/l]}_renderText(e,n,i,s,r,a,o,l){let c;if(r===1){const d=this._getTextWidth(e,n)*i;c=(s-d)/2}else if(r===2){const d=this._getTextWidth(e,n)*i;c=s-d-o}else c=o;const u=Lt(c-a.shift);return a.shift=c,l=Lt(l),`${u} ${l} Td (${lg(e)}) Tj`}_getSaveFieldResources(e){var a;const{localResources:n,appearanceResources:i,acroFormResources:s}=this._fieldResources,r=(a=this.data.defaultAppearanceData)==null?void 0:a.fontName;if(!r)return n||J.empty;for(const o of[n,i])if(o instanceof J){const l=o.get("Font");if(l instanceof J&&l.has(r))return o}if(s instanceof J){const o=s.get("Font");if(o instanceof J&&o.has(r)){const l=new J(e);l.set(r,o.getRaw(r));const c=new J(e);return c.set("Font",l),J.merge({xref:e,dictArray:[c,n],mergeSubDicts:!0})}}return n||J.empty}getFieldObject(){return null}}class _he extends Bo{constructor(e){super(e);const{dict:n}=e;n.has("PMD")&&(this.flags|=Ai.HIDDEN,this.data.hidden=!0,W("Barcodes are not supported")),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0,typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let i=Ga({dict:n,key:"Q"});(!Number.isInteger(i)||i<0||i>2)&&(i=null),this.data.textAlignment=i;let s=Ga({dict:n,key:"MaxLen"});(!Number.isInteger(s)||s<0)&&(s=0),this.data.maxLen=s,this.data.multiLine=this.hasFieldFlag(No.MULTILINE),this.data.comb=this.hasFieldFlag(No.COMB)&&!this.data.multiLine&&!this.data.password&&!this.hasFieldFlag(No.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(No.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(e,n,i,s,r,a,o,l,c,u,d){const p=r/this.data.maxLen,g=this.getBorderAndBackgroundAppearances(d),m=[],b=n.getCharPositions(i);for(const[S,C]of b)m.push(`(${lg(i.substring(S,C))}) Tj`);const v=m.join(` ${Lt(p)} 0 Td `);return`/Tx BMC q ${g}BT `+e+` 1 0 0 1 ${Lt(o)} ${Lt(l+c)} Tm ${v} ET Q EMC`}_getMultilineAppearance(e,n,i,s,r,a,o,l,c,u,d,p){const g=[],m=r-2*l,b={shift:0};for(let C=0,E=n.length;C<E;C++){const w=n[C],A=this._splitLine(w,i,s,m);for(let T=0,P=A.length;T<P;T++){const R=A[T],D=C===0&&T===0?-c-(d-u):-d;g.push(this._renderText(R,i,s,r,o,b,l,D))}}const v=this.getBorderAndBackgroundAppearances(p),S=g.join(`
`);return`/Tx BMC q ${v}BT `+e+` 1 0 0 1 0 ${Lt(a)} Tm ${S} ET Q EMC`}_splitLine(e,n,i,s,r={}){e=r.line||e;const a=r.glyphs||n.charsToGlyphs(e);if(a.length<=1)return[e];const o=r.positions||n.getCharPositions(e),l=i/1e3,c=[];let u=-1,d=-1,p=-1,g=0,m=0;for(let b=0,v=a.length;b<v;b++){const[S,C]=o[b],E=a[b],w=E.width*l;E.unicode===" "?m+w>s?(c.push(e.substring(g,S)),g=S,m=w,u=-1,p=-1):(m+=w,u=S,d=C,p=b):m+w>s?u!==-1?(c.push(e.substring(g,d)),g=d,b=p+1,u=-1,m=0):(c.push(e.substring(g,S)),g=S,m=w):m+=w}return g<e.length&&c.push(e.substring(g,e.length)),c}async extractTextContent(e,n,i){await super.extractTextContent(e,n,i);const s=this.data.textContent;if(!s)return;const r=s.join(`
`);if(r===this.data.fieldValue)return;const a=r.replaceAll(/([.*+?^${}()|[\]\\])|(\s+)/g,(o,l)=>l?`\\${l}`:"\\s+");new RegExp(`^\\s*${a}\\s*$`).test(this.data.fieldValue)&&(this.data.textContent=this.data.fieldValue.split(`
`))}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.data.password,charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class The extends Bo{constructor(e){super(e),this.checkedAppearance=null,this.uncheckedAppearance=null;const n=this.hasFieldFlag(No.RADIO),i=this.hasFieldFlag(No.PUSHBUTTON);this.data.checkBox=!n&&!i,this.data.radioButton=n&&!i,this.data.pushButton=i,this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(e):this.data.radioButton?this._processRadioButton(e):this.data.pushButton?(this.data.hasOwnCanvas=!0,this.data.noHTML=!1,this._processPushButton(e)):W("Invalid field flags for button widget annotation")}async getOperatorList(e,n,i,s){if(this.data.pushButton)return super.getOperatorList(e,n,i,!1,s);let r=null,a=null;if(s){const l=s.get(this.data.id);r=l?l.value:null,a=l?l.rotation:null}if(r===null&&this.appearance)return super.getOperatorList(e,n,i,s);r==null&&(r=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const o=r?this.checkedAppearance:this.uncheckedAppearance;if(o){const l=this.appearance,c=vu(o.dict.getArray("Matrix"),Do);a&&o.dict.set("Matrix",this.getRotationMatrix(s)),this.appearance=o;const u=super.getOperatorList(e,n,i,s);return this.appearance=l,o.dict.set("Matrix",c),u}return{opList:new Dr,separateForm:!1,separateCanvas:!1}}async save(e,n,i,s){if(this.data.checkBox){this._saveCheckbox(e,n,i,s);return}this.data.radioButton&&this._saveRadioButton(e,n,i,s)}async _saveCheckbox(e,n,i,s){if(!i)return;const r=i.get(this.data.id),a=this._buildFlags(r==null?void 0:r.noView,r==null?void 0:r.noPrint);let o=r==null?void 0:r.rotation,l=r==null?void 0:r.value;if(o===void 0&&a===void 0&&(l===void 0||this.data.fieldValue===this.data.exportValue===l))return;let c=e.xref.fetchIfRef(this.ref);if(!(c instanceof J))return;c=c.clone(),o===void 0&&(o=this.rotation),l===void 0&&(l=this.data.fieldValue===this.data.exportValue);const u={path:this.data.fieldName,value:l?this.data.exportValue:""},d=le.get(l?this.data.exportValue:"Off");this.setValue(c,d,e.xref,s),c.set("AS",d),c.set("M",`D:${Zc()}`),a!==void 0&&c.set("F",a);const p=this._getMKDict(o);p&&c.set("MK",p),s.put(this.ref,{data:c,xfa:u,needAppearances:!1})}async _saveRadioButton(e,n,i,s){if(!i)return;const r=i.get(this.data.id),a=this._buildFlags(r==null?void 0:r.noView,r==null?void 0:r.noPrint);let o=r==null?void 0:r.rotation,l=r==null?void 0:r.value;if(o===void 0&&a===void 0&&(l===void 0||this.data.fieldValue===this.data.buttonValue===l))return;let c=e.xref.fetchIfRef(this.ref);if(!(c instanceof J))return;c=c.clone(),l===void 0&&(l=this.data.fieldValue===this.data.buttonValue),o===void 0&&(o=this.rotation);const u={path:this.data.fieldName,value:l?this.data.buttonValue:""},d=le.get(l?this.data.buttonValue:"Off");l&&this.setValue(c,d,e.xref,s),c.set("AS",d),c.set("M",`D:${Zc()}`),a!==void 0&&c.set("F",a);const p=this._getMKDict(o);p&&c.set("MK",p),s.put(this.ref,{data:c,xfa:u,needAppearances:!1})}_getDefaultCheckedAppearance(e,n){const{width:i,height:s}=this,r=[0,0,i,s],o=Math.min(i,s)*.8;let l,c;n==="check"?(l={width:.755*o,height:.705*o},c="3"):n==="disc"?(l={width:.791*o,height:.705*o},c="l"):Ot(`_getDefaultCheckedAppearance - unsupported type: ${n}`);const u=Lt((i-l.width)/2),d=Lt((s-l.height)/2),p=`q BT /PdfJsZaDb ${o} Tf 0 g ${u} ${d} Td (${c}) Tj ET Q`,g=new J(e.xref);g.set("FormType",1),g.set("Subtype",le.get("Form")),g.set("Type",le.get("XObject")),g.set("BBox",r),g.set("Matrix",[1,0,0,1,0,0]),g.set("Length",p.length);const m=new J(e.xref),b=new J(e.xref);b.set("PdfJsZaDb",this.fallbackFontDict),m.set("Font",b),g.set("Resources",m),this.checkedAppearance=new hr(p),this.checkedAppearance.dict=g,this._streams.push(this.checkedAppearance)}_processCheckBox(e){const n=e.dict.get("AP");if(!(n instanceof J))return;const i=n.get("N");if(!(i instanceof J))return;const s=this._decodeFormValue(e.dict.get("AS"));typeof s=="string"&&(this.data.fieldValue=s);const r=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",a=i.getKeys();if(a.length===0)a.push("Off",r);else if(a.length===1)a[0]==="Off"?a.push(r):a.unshift("Off");else if(a.includes(r))a.length=0,a.push("Off",r);else{const c=a.find(u=>u!=="Off");a.length=0,a.push("Off",c)}a.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=a[1];const o=i.get(this.data.exportValue);this.checkedAppearance=o instanceof _t?o:null;const l=i.get("Off");this.uncheckedAppearance=l instanceof _t?l:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(e,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(e){this.data.buttonValue=null;const n=e.dict.get("Parent");if(n instanceof J){this.parent=e.dict.getRaw("Parent");const o=n.get("V");o instanceof le&&(this.data.fieldValue=this._decodeFormValue(o))}const i=e.dict.get("AP");if(!(i instanceof J))return;const s=i.get("N");if(!(s instanceof J))return;for(const o of s.getKeys())if(o!=="Off"){this.data.buttonValue=this._decodeFormValue(o);break}const r=s.get(this.data.buttonValue);this.checkedAppearance=r instanceof _t?r:null;const a=s.get("Off");this.uncheckedAppearance=a instanceof _t?a:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(e,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(e){const{dict:n,annotationGlobals:i}=e;if(!n.has("A")&&!n.has("AA")&&!this.data.alternativeText){W("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!n.has("A")&&!n.has("AA"),Zx.parseDestDictionary({destDict:n,resultObj:this.data,docBaseUrl:i.baseUrl,docAttachments:i.attachments})}getFieldObject(){let e="button",n;return this.data.checkBox?(e="checkbox",n=this.data.exportValue):this.data.radioButton&&(e="radiobutton",n=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:n,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:e}}get fallbackFontDict(){const e=new J;return e.set("BaseFont",le.get("ZapfDingbats")),e.set("Type",le.get("FallbackType")),e.set("Subtype",le.get("FallbackType")),e.set("Encoding",le.get("ZapfDingbatsEncoding")),Fe(this,"fallbackFontDict",e)}}class Ihe extends Bo{constructor(e){super(e);const{dict:n,xref:i}=e;this.indices=n.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const s=Ga({dict:n,key:"Opt"});if(Array.isArray(s))for(let r=0,a=s.length;r<a;r++){const o=i.fetchIfRef(s[r]),l=Array.isArray(o);this.data.options[r]={exportValue:this._decodeFormValue(l?i.fetchIfRef(o[0]):o),displayValue:this._decodeFormValue(l?i.fetchIfRef(o[1]):o)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const r=this.data.options.length;for(const a of this.indices)Number.isInteger(a)&&a>=0&&a<r&&this.data.fieldValue.push(this.data.options[a].exportValue)}this.data.options.length===0&&this.data.fieldValue.length>0&&(this.data.options=this.data.fieldValue.map(r=>({exportValue:r,displayValue:r}))),this.data.combo=this.hasFieldFlag(No.COMBO),this.data.multiSelect=this.hasFieldFlag(No.MULTISELECT),this._hasText=!0}getFieldObject(){const e=this.data.combo?"combobox":"listbox",n=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:n,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:e}}amendSavedDict(e,n){var a;if(!this.hasIndices)return;let i=(a=e==null?void 0:e.get(this.data.id))==null?void 0:a.value;Array.isArray(i)||(i=[i]);const s=[],{options:r}=this.data;for(let o=0,l=0,c=r.length;o<c;o++)r[o].exportValue===i[l]&&(s.push(o),l+=1);n.set("I",s)}async _getAppearance(e,n,i,s){if(this.data.combo)return super._getAppearance(e,n,i,s);let r,a;const o=s==null?void 0:s.get(this.data.id);if(o&&(a=o.rotation,r=o.value),a===void 0&&r===void 0&&!this._needAppearances)return null;r===void 0?r=this.data.fieldValue:Array.isArray(r)||(r=[r]);const l=1,c=2;let{width:u,height:d}=this;(a===90||a===270)&&([u,d]=[d,u]);const p=this.data.options.length,g=[];for(let R=0;R<p;R++){const{exportValue:D}=this.data.options[R];r.includes(D)&&g.push(R)}this._defaultAppearance||(this.data.defaultAppearanceData=cC(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const m=await Bo._getFontData(e,n,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let b,{fontSize:v}=this.data.defaultAppearanceData;if(v)b=this._defaultAppearance;else{const R=(d-l)/p;let D=-1,O;for(const{displayValue:B}of this.data.options){const U=this._getTextWidth(B,m);U>D&&(D=U,O=B)}[b,v]=this._computeFontSize(R,u-2*c,O,m,-1)}const S=v*Uc,C=(S-v)/2,E=Math.floor(d/S);let w=0;if(g.length>0){const R=Math.min(...g),D=Math.max(...g);w=Math.max(0,D-E+1),w>R&&(w=R)}const A=Math.min(w+E+1,p),T=["/Tx BMC q",`1 1 ${u} ${d} re W n`];if(g.length){T.push("0.600006 0.756866 0.854904 rg");for(const R of g)w<=R&&R<A&&T.push(`1 ${d-(R-w+1)*S} ${u} ${S} re f`)}T.push("BT",b,`1 0 0 1 0 ${d} Tm`);const P={shift:0};for(let R=w;R<A;R++){const{displayValue:D}=this.data.options[R],O=R===w?C:0;T.push(this._renderText(D,m,v,u,0,P,c,-S+O))}return T.push("ET Q EMC"),T.join(`
`)}}class aj extends Bo{constructor(e){super(e),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!this.data.hasOwnCanvas}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class Phe extends Br{constructor(e){super(e),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const{dict:i}=e;this.data.annotationType=es.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=i.has("Name")?i.get("Name").name:"Note"),i.has("State")?(this.data.state=i.get("State")||null,this.data.stateModel=i.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class Nhe extends u3{constructor(e){var r;super(e);const{dict:n,annotationGlobals:i}=e;this.data.annotationType=es.LINK,this.data.noHTML=!1;const s=c3(n,this.rectangle);s&&(this.data.quadPoints=s),(r=this.data).borderColor||(r.borderColor=this.data.color),Zx.parseDestDictionary({destDict:n,resultObj:this.data,docBaseUrl:i.baseUrl,docAttachments:i.attachments})}}class oj extends u3{constructor(e){super(e);const{dict:n}=e;this.data.annotationType=es.POPUP,this.data.noHTML=!1,(this.width===0||this.height===0)&&(this.data.rect=null);let i=n.get("Parent");if(!i){W("Popup annotation has a missing or invalid parent annotation.");return}this.data.parentRect=Tl(i.getArray("Rect"),null);const s=i.get("RT");if(ti(s,tA.GROUP)&&(i=i.get("IRT")),i.has("M")?(this.setModificationDate(i.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,i.has("C")?(this.setColor(i.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const r=i.get("F");this._isViewable(r)&&this.setFlags(r)}this.setTitle(i.get("T")),this.data.titleObj=this._title,this.setContents(i.get("Contents")),this.data.contentsObj=this._contents,i.has("RC")&&(this.data.richText=l3.getRichTextAsHtml(i.get("RC"))),this.data.open=!!n.get("Open")}}class Yw extends Br{constructor(e){var r;super(e),this.data.hasOwnCanvas=this.data.noRotate,this.data.isEditable=!this.data.noHTML,this.data.noHTML=!1;const{annotationGlobals:n,evaluatorOptions:i,xref:s}=e;if(this.data.annotationType=es.FREETEXT,this.setDefaultAppearance(e),this._hasAppearance=!!this.appearance,this._hasAppearance){const{fontColor:a,fontSize:o}=Eae(this.appearance,i,s,n.globalColorSpaceCache);this.data.defaultAppearanceData.fontColor=a,this.data.defaultAppearanceData.fontSize=o||10}else{(r=this.data.defaultAppearanceData).fontSize||(r.fontSize=10);const{fontColor:a,fontSize:o}=this.data.defaultAppearanceData;if(this._contents.str){this.data.textContent=this._contents.str.split(/\r\n?|\n/).map(d=>d.trimEnd());const{coords:l,bbox:c,matrix:u}=Sl.getFirstPositionInfo(this.rectangle,this.rotation,o);this.data.textPosition=this._transformPoint(l,c,u)}if(this._isOffscreenCanvasSupported){const l=e.dict.get("CA"),c=new Sl(s,"sans-serif");this.appearance=c.createAppearance(this._contents.str,this.rectangle,this.rotation,o,a,l),this._streams.push(this.appearance)}else W("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}}get hasTextContent(){return this._hasAppearance}static createNewDict(e,n,{apRef:i,ap:s}){const{color:r,fontSize:a,oldAnnotation:o,rect:l,rotation:c,user:u,value:d}=e,p=o||new J(n);p.set("Type",le.get("Annot")),p.set("Subtype",le.get("FreeText")),o?(p.set("M",`D:${Zc()}`),p.delete("RC")):p.set("CreationDate",`D:${Zc()}`),p.set("Rect",l);const g=`/Helv ${a} Tf ${Ml(r,!0)}`;if(p.set("DA",g),p.set("Contents",Wa(d)),p.set("F",4),p.set("Border",[0,0,0]),p.set("Rotate",c),u&&p.set("T",Wa(u)),i||s){const m=new J(n);p.set("AP",m),i?m.set("N",i):m.set("N",s)}return p}static async createNewAppearanceStream(e,n,i){const{baseFontRef:s,evaluator:r,task:a}=i,{color:o,fontSize:l,rect:c,rotation:u,value:d}=e,p=new J(n),g=new J(n);if(s)g.set("Helv",s);else{const Ee=new J(n);Ee.set("BaseFont",le.get("Helvetica")),Ee.set("Type",le.get("Font")),Ee.set("Subtype",le.get("Type1")),Ee.set("Encoding",le.get("WinAnsiEncoding")),g.set("Helv",Ee)}p.set("Font",g);const m=await Bo._getFontData(r,a,{fontName:"Helv",fontSize:l},p),[b,v,S,C]=c;let E=S-b,w=C-v;u%180!==0&&([E,w]=[w,E]);const A=d.split(`
`),T=l/1e3;let P=-1/0;const R=[];for(let Ee of A){const Re=m.encodeString(Ee);if(Re.length>1)return null;Ee=Re.join(""),R.push(Ee);let we=0;const K=m.charsToGlyphs(Ee);for(const Z of K)we+=Z.width*T;P=Math.max(P,we)}let D=1;P>E&&(D=E/P);let O=1;const B=Uc*l,U=(Uc-Y5)*l,V=B*A.length;V>w&&(O=w/V);const ee=Math.min(D,O),Q=l*ee;let G,$,ie;switch(u){case 0:ie=[1,0,0,1],$=[c[0],c[1],E,w],G=[c[0],c[3]-U];break;case 90:ie=[0,1,-1,0],$=[c[1],-c[2],E,w],G=[c[1],-c[0]-U];break;case 180:ie=[-1,0,0,-1],$=[-c[2],-c[3],E,w],G=[-c[2],-c[1]-U];break;case 270:ie=[0,-1,1,0],$=[-c[3],c[0],E,w],G=[-c[3],c[2]-U];break}const he=["q",`${ie.join(" ")} 0 0 cm`,`${$.join(" ")} re W n`,"BT",`${Ml(o,!0)}`,`0 Tc /Helv ${Lt(Q)} Tf`];he.push(`${G.join(" ")} Td (${lg(R[0])}) Tj`);const pe=Lt(B);for(let Ee=1,Re=R.length;Ee<Re;Ee++){const we=R[Ee];he.push(`0 -${pe} Td (${lg(we)}) Tj`)}he.push("ET","Q");const X=he.join(`
`),te=new J(n);te.set("FormType",1),te.set("Subtype",le.get("Form")),te.set("Type",le.get("XObject")),te.set("BBox",c),te.set("Resources",p),te.set("Matrix",[1,0,0,1,-c[0],-c[1]]);const re=new hr(X);return re.dict=te,re}}class Rhe extends Br{constructor(e){super(e);const{dict:n,xref:i}=e;this.data.annotationType=es.LINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const s=oA(n.getArray("L"),[0,0,0,0]);if(this.data.lineCoordinates=rn.normalizeRect(s),this.setLineEndings(n.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const r=this.color?Hs(this.color):[0,0,0],a=n.get("CA"),o=j1(n.getArray("IC"),null),l=o?Hs(o):null,c=l?a:null,u=this.borderStyle.width||1,d=2*u,p=[this.data.lineCoordinates[0]-d,this.data.lineCoordinates[1]-d,this.data.lineCoordinates[2]+d,this.data.lineCoordinates[3]+d];rn.intersect(this.rectangle,p)||(this.rectangle=p),this._setDefaultAppearance({xref:i,extra:`${u} w`,strokeColor:r,fillColor:l,strokeAlpha:a,fillAlpha:c,pointsCallback:(g,m)=>(g.push(`${s[0]} ${s[1]} m`,`${s[2]} ${s[3]} l`,"S"),[m[0]-u,m[7]-u,m[2]+u,m[3]+u])})}}}class Fhe extends Br{constructor(e){super(e);const{dict:n,xref:i}=e;if(this.data.annotationType=es.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,!this.appearance){const s=this.color?Hs(this.color):[0,0,0],r=n.get("CA"),a=j1(n.getArray("IC"),null),o=a?Hs(a):null,l=o?r:null;if(this.borderStyle.width===0&&!o)return;this._setDefaultAppearance({xref:i,extra:`${this.borderStyle.width} w`,strokeColor:s,fillColor:o,strokeAlpha:r,fillAlpha:l,pointsCallback:(c,u)=>{const d=u[4]+this.borderStyle.width/2,p=u[5]+this.borderStyle.width/2,g=u[6]-u[4]-this.borderStyle.width,m=u[3]-u[7]-this.borderStyle.width;return c.push(`${d} ${p} ${g} ${m} re`),o?c.push("B"):c.push("S"),[u[0],u[7],u[2],u[3]]}})}}}class Mhe extends Br{constructor(e){super(e);const{dict:n,xref:i}=e;if(this.data.annotationType=es.CIRCLE,!this.appearance){const s=this.color?Hs(this.color):[0,0,0],r=n.get("CA"),a=j1(n.getArray("IC"),null),o=a?Hs(a):null,l=o?r:null;if(this.borderStyle.width===0&&!o)return;const c=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:i,extra:`${this.borderStyle.width} w`,strokeColor:s,fillColor:o,strokeAlpha:r,fillAlpha:l,pointsCallback:(u,d)=>{const p=d[0]+this.borderStyle.width/2,g=d[1]-this.borderStyle.width/2,m=d[6]-this.borderStyle.width/2,b=d[7]+this.borderStyle.width/2,v=p+(m-p)/2,S=g+(b-g)/2,C=(m-p)/2*c,E=(b-g)/2*c;return u.push(`${v} ${b} m`,`${v+C} ${b} ${m} ${S+E} ${m} ${S} c`,`${m} ${S-E} ${v+C} ${g} ${v} ${g} c`,`${v-C} ${g} ${p} ${S-E} ${p} ${S} c`,`${p} ${S+E} ${v-C} ${b} ${v} ${b} c`,"h"),o?u.push("B"):u.push("S"),[d[0],d[7],d[2],d[3]]}})}}}class lj extends Br{constructor(e){super(e);const{dict:n,xref:i}=e;this.data.annotationType=es.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,this.data.vertices=null,this instanceof cj||(this.setLineEndings(n.getArray("LE")),this.data.lineEndings=this.lineEndings);const s=n.getArray("Vertices");if(!lr(s,null))return;const r=this.data.vertices=Float32Array.from(s);if(!this.appearance){const a=this.color?Hs(this.color):[0,0,0],o=n.get("CA"),l=this.borderStyle.width||1,c=2*l,u=[1/0,1/0,-1/0,-1/0];for(let d=0,p=r.length;d<p;d+=2)rn.rectBoundingBox(r[d]-c,r[d+1]-c,r[d]+c,r[d+1]+c,u);rn.intersect(this.rectangle,u)||(this.rectangle=u),this._setDefaultAppearance({xref:i,extra:`${l} w`,strokeColor:a,strokeAlpha:o,pointsCallback:(d,p)=>{for(let g=0,m=r.length;g<m;g+=2)d.push(`${r[g]} ${r[g+1]} ${g===0?"m":"l"}`);return d.push("S"),[p[0],p[7],p[2],p[3]]}})}}}class cj extends lj{constructor(e){super(e),this.data.annotationType=es.POLYGON}}class Dhe extends Br{constructor(e){super(e),this.data.annotationType=es.CARET}}class Fm extends Br{constructor(e){super(e),this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const{dict:n,xref:i}=e;this.data.annotationType=es.INK,this.data.inkLists=[],this.data.isEditable=!this.data.noHTML,this.data.noHTML=!1,this.data.opacity=n.get("CA")||1;const s=n.getArray("InkList");if(Array.isArray(s)){for(let r=0,a=s.length;r<a;++r){if(!Array.isArray(s[r]))continue;const o=new Float32Array(s[r].length);this.data.inkLists.push(o);for(let l=0,c=s[r].length;l<c;l+=2){const u=i.fetchIfRef(s[r][l]),d=i.fetchIfRef(s[r][l+1]);typeof u=="number"&&typeof d=="number"&&(o[l]=u,o[l+1]=d)}}if(!this.appearance){const r=this.color?Hs(this.color):[0,0,0],a=n.get("CA"),o=this.borderStyle.width||1,l=2*o,c=[1/0,1/0,-1/0,-1/0];for(const u of this.data.inkLists)for(let d=0,p=u.length;d<p;d+=2)rn.rectBoundingBox(u[d]-l,u[d+1]-l,u[d]+l,u[d+1]+l,c);rn.intersect(this.rectangle,c)||(this.rectangle=c),this._setDefaultAppearance({xref:i,extra:`${o} w`,strokeColor:r,strokeAlpha:a,pointsCallback:(u,d)=>{for(const p of this.data.inkLists){for(let g=0,m=p.length;g<m;g+=2)u.push(`${p[g]} ${p[g+1]} ${g===0?"m":"l"}`);u.push("S")}return[d[0],d[7],d[2],d[3]]}})}}}static createNewDict(e,n,{apRef:i,ap:s}){const{oldAnnotation:r,color:a,opacity:o,paths:l,outlines:c,rect:u,rotation:d,thickness:p,user:g}=e,m=r||new J(n);m.set("Type",le.get("Annot")),m.set("Subtype",le.get("Ink")),m.set(r?"M":"CreationDate",`D:${Zc()}`),m.set("Rect",u),m.set("InkList",(c==null?void 0:c.points)||l.points),m.set("F",4),m.set("Rotate",d),g&&m.set("T",Wa(g)),c&&m.set("IT",le.get("InkHighlight"));const b=new J(n);m.set("BS",b),b.set("W",p),m.set("C",Hs(a)),m.set("CA",o);const v=new J(n);return m.set("AP",v),i?v.set("N",i):v.set("N",s),m}static async createNewAppearanceStream(e,n,i){if(e.outlines)return this.createNewAppearanceStreamForHighlight(e,n,i);const{color:s,rect:r,paths:a,thickness:o,opacity:l}=e,c=[`${o} w 1 J 1 j`,`${Ml(s,!1)}`];l!==1&&c.push("/R0 gs");for(const g of a.lines){c.push(`${Lt(g[4])} ${Lt(g[5])} m`);for(let m=6,b=g.length;m<b;m+=6)if(isNaN(g[m]))c.push(`${Lt(g[m+4])} ${Lt(g[m+5])} l`);else{const[v,S,C,E,w,A]=g.slice(m,m+6);c.push([v,S,C,E,w,A].map(Lt).join(" ")+" c")}g.length===6&&c.push(`${Lt(g[4])} ${Lt(g[5])} l`)}c.push("S");const u=c.join(`
`),d=new J(n);if(d.set("FormType",1),d.set("Subtype",le.get("Form")),d.set("Type",le.get("XObject")),d.set("BBox",r),d.set("Length",u.length),l!==1){const g=new J(n),m=new J(n),b=new J(n);b.set("CA",l),b.set("Type",le.get("ExtGState")),m.set("R0",b),g.set("ExtGState",m),d.set("Resources",g)}const p=new hr(u);return p.dict=d,p}static async createNewAppearanceStreamForHighlight(e,n,i){const{color:s,rect:r,outlines:{outline:a},opacity:o}=e,l=[`${Ml(s,!0)}`,"/R0 gs"];l.push(`${Lt(a[4])} ${Lt(a[5])} m`);for(let b=6,v=a.length;b<v;b+=6)if(isNaN(a[b]))l.push(`${Lt(a[b+4])} ${Lt(a[b+5])} l`);else{const[S,C,E,w,A,T]=a.slice(b,b+6);l.push([S,C,E,w,A,T].map(Lt).join(" ")+" c")}l.push("h f");const c=l.join(`
`),u=new J(n);u.set("FormType",1),u.set("Subtype",le.get("Form")),u.set("Type",le.get("XObject")),u.set("BBox",r),u.set("Length",c.length);const d=new J(n),p=new J(n);d.set("ExtGState",p),u.set("Resources",d);const g=new J(n);p.set("R0",g),g.set("BM",le.get("Multiply")),o!==1&&(g.set("ca",o),g.set("Type",le.get("ExtGState")));const m=new hr(c);return m.dict=u,m}}class Zw extends Br{constructor(e){var r;super(e);const{dict:n,xref:i}=e;if(this.data.annotationType=es.HIGHLIGHT,this.data.isEditable=!this.data.noHTML,this.data.noHTML=!1,this.data.opacity=n.get("CA")||1,this.data.quadPoints=c3(n,null)){const a=(r=this.appearance)==null?void 0:r.dict.get("Resources");if(!this.appearance||!(a!=null&&a.has("ExtGState"))){this.appearance&&W("HighlightAnnotation - ignoring built-in appearance stream.");const o=this.color?Hs(this.color):[1,1,0],l=n.get("CA");this._setDefaultAppearance({xref:i,fillColor:o,blendMode:"Multiply",fillAlpha:l,pointsCallback:(c,u)=>(c.push(`${u[0]} ${u[1]} m`,`${u[2]} ${u[3]} l`,`${u[6]} ${u[7]} l`,`${u[4]} ${u[5]} l`,"f"),[u[0],u[7],u[2],u[3]])})}}else this.data.popupRef=null}static createNewDict(e,n,{apRef:i,ap:s}){const{color:r,oldAnnotation:a,opacity:o,rect:l,rotation:c,user:u,quadPoints:d}=e,p=a||new J(n);if(p.set("Type",le.get("Annot")),p.set("Subtype",le.get("Highlight")),p.set(a?"M":"CreationDate",`D:${Zc()}`),p.set("CreationDate",`D:${Zc()}`),p.set("Rect",l),p.set("F",4),p.set("Border",[0,0,0]),p.set("Rotate",c),p.set("QuadPoints",d),p.set("C",Hs(r)),p.set("CA",o),u&&p.set("T",Wa(u)),i||s){const g=new J(n);p.set("AP",g),g.set("N",i||s)}return p}static async createNewAppearanceStream(e,n,i){const{color:s,rect:r,outlines:a,opacity:o}=e,l=[`${Ml(s,!0)}`,"/R0 gs"],c=[];for(const v of a){c.length=0,c.push(`${Lt(v[0])} ${Lt(v[1])} m`);for(let S=2,C=v.length;S<C;S+=2)c.push(`${Lt(v[S])} ${Lt(v[S+1])} l`);c.push("h"),l.push(c.join(`
`))}l.push("f*");const u=l.join(`
`),d=new J(n);d.set("FormType",1),d.set("Subtype",le.get("Form")),d.set("Type",le.get("XObject")),d.set("BBox",r),d.set("Length",u.length);const p=new J(n),g=new J(n);p.set("ExtGState",g),d.set("Resources",p);const m=new J(n);g.set("R0",m),m.set("BM",le.get("Multiply")),o!==1&&(m.set("ca",o),m.set("Type",le.get("ExtGState")));const b=new hr(u);return b.dict=d,b}}class Lhe extends Br{constructor(e){super(e);const{dict:n,xref:i}=e;if(this.data.annotationType=es.UNDERLINE,this.data.quadPoints=c3(n,null)){if(!this.appearance){const r=this.color?Hs(this.color):[0,0,0],a=n.get("CA");this._setDefaultAppearance({xref:i,extra:"[] 0 d 0.571 w",strokeColor:r,strokeAlpha:a,pointsCallback:(o,l)=>(o.push(`${l[4]} ${l[5]+1.3} m`,`${l[6]} ${l[7]+1.3} l`,"S"),[l[0],l[7],l[2],l[3]])})}}else this.data.popupRef=null}}class Ohe extends Br{constructor(e){super(e);const{dict:n,xref:i}=e;if(this.data.annotationType=es.SQUIGGLY,this.data.quadPoints=c3(n,null)){if(!this.appearance){const r=this.color?Hs(this.color):[0,0,0],a=n.get("CA");this._setDefaultAppearance({xref:i,extra:"[] 0 d 1 w",strokeColor:r,strokeAlpha:a,pointsCallback:(o,l)=>{const c=(l[1]-l[5])/6;let u=c,d=l[4];const p=l[5],g=l[6];o.push(`${d} ${p+u} m`);do d+=2,u=u===0?c:0,o.push(`${d} ${p+u} l`);while(d<g);return o.push("S"),[l[4],p-2*c,g,p+2*c]}})}}else this.data.popupRef=null}}class Bhe extends Br{constructor(e){super(e);const{dict:n,xref:i}=e;if(this.data.annotationType=es.STRIKEOUT,this.data.quadPoints=c3(n,null)){if(!this.appearance){const r=this.color?Hs(this.color):[0,0,0],a=n.get("CA");this._setDefaultAppearance({xref:i,extra:"[] 0 d 1 w",strokeColor:r,strokeAlpha:a,pointsCallback:(o,l)=>(o.push(`${(l[0]+l[4])/2} ${(l[1]+l[5])/2} m`,`${(l[2]+l[6])/2} ${(l[3]+l[7])/2} l`,"S"),[l[0],l[7],l[2],l[3]])})}}else this.data.popupRef=null}}var Vd,V8,uj;class Eh extends Br{constructor(n){super(n);L(this,Vd,null);this.data.annotationType=es.STAMP,this.data.hasOwnCanvas=this.data.noRotate,this.data.isEditable=!this.data.noHTML,this.data.noHTML=!1}mustBeViewedWhenEditing(n,i=null){return n?(this.data.isEditable&&(x(this,Vd)??F(this,Vd,this.data.hasOwnCanvas),this.data.hasOwnCanvas=!0),!0):(x(this,Vd)!==null&&(this.data.hasOwnCanvas=x(this,Vd),F(this,Vd,null)),!(i!=null&&i.has(this.data.id)))}static async createImage(n,i){const{width:s,height:r}=n,a=new OffscreenCanvas(s,r),o=a.getContext("2d",{alpha:!0});o.drawImage(n,0,0);const l=o.getImageData(0,0,s,r).data,c=new Uint32Array(l.buffer),u=c.some(Lr.isLittleEndian?S=>S>>>24!==255:S=>(S&255)!==255);u&&(o.fillStyle="white",o.fillRect(0,0,s,r),o.drawImage(n,0,0));const d=a.convertToBlob({type:"image/jpeg",quality:1}).then(S=>S.arrayBuffer()),p=le.get("XObject"),g=le.get("Image"),m=new J(i);m.set("Type",p),m.set("Subtype",g),m.set("BitsPerComponent",8),m.set("ColorSpace",le.get("DeviceRGB")),m.set("Filter",le.get("DCTDecode")),m.set("BBox",[0,0,s,r]),m.set("Width",s),m.set("Height",r);let b=null;if(u){const S=new Uint8Array(c.length);if(Lr.isLittleEndian)for(let E=0,w=c.length;E<w;E++)S[E]=c[E]>>>24;else for(let E=0,w=c.length;E<w;E++)S[E]=c[E]&255;const C=new J(i);C.set("Type",p),C.set("Subtype",g),C.set("BitsPerComponent",8),C.set("ColorSpace",le.get("DeviceGray")),C.set("Width",s),C.set("Height",r),b=new Vn(S,0,0,C)}return{imageStream:new Vn(await d,0,0,m),smaskStream:b,width:s,height:r}}static createNewDict(n,i,{apRef:s,ap:r}){const{oldAnnotation:a,rect:o,rotation:l,user:c}=n,u=a||new J(i);if(u.set("Type",le.get("Annot")),u.set("Subtype",le.get("Stamp")),u.set(a?"M":"CreationDate",`D:${Zc()}`),u.set("Rect",o),u.set("F",4),u.set("Border",[0,0,0]),u.set("Rotate",l),c&&u.set("T",Wa(c)),s||r){const d=new J(i);u.set("AP",d),s?d.set("N",s):d.set("N",r)}return u}static async createNewAppearanceStream(n,i,s){if(n.oldAnnotation)return null;if(n.isSignature)return M(this,V8,uj).call(this,n,i);const{rotation:r}=n,{imageRef:a,width:o,height:l}=s.image,c=new J(i),u=new J(i);c.set("XObject",u),u.set("Im0",a);const d=`q ${o} 0 0 ${l} 0 0 cm /Im0 Do Q`,p=new J(i);if(p.set("FormType",1),p.set("Subtype",le.get("Form")),p.set("Type",le.get("XObject")),p.set("BBox",[0,0,o,l]),p.set("Resources",c),r){const m=e8(r,o,l);p.set("Matrix",m)}const g=new hr(d);return g.dict=p,g}}Vd=new WeakMap,V8=new WeakSet,uj=async function(n,i){const{areContours:s,color:r,rect:a,lines:o,thickness:l}=n,c=[`${l} w 1 J 1 j`,`${Ml(r,s)}`];for(const g of o){c.push(`${Lt(g[4])} ${Lt(g[5])} m`);for(let m=6,b=g.length;m<b;m+=6)if(isNaN(g[m]))c.push(`${Lt(g[m+4])} ${Lt(g[m+5])} l`);else{const[v,S,C,E,w,A]=g.slice(m,m+6);c.push([v,S,C,E,w,A].map(Lt).join(" ")+" c")}g.length===6&&c.push(`${Lt(g[4])} ${Lt(g[5])} l`)}c.push(s?"F":"S");const u=c.join(`
`),d=new J(i);d.set("FormType",1),d.set("Subtype",le.get("Form")),d.set("Type",le.get("XObject")),d.set("BBox",a),d.set("Length",u.length);const p=new hr(u);return p.dict=d,p},L(Eh,V8);class jhe extends Br{constructor(e){super(e);const{dict:n,xref:i}=e,s=new MA(n.get("FS"),i);this.data.annotationType=es.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,this.data.file=s.serializable;const r=n.get("Name");this.data.name=r instanceof le?Wt(r.name):"PushPin";const a=n.get("ca");this.data.fillAlpha=typeof a=="number"&&a>=0&&a<=1?a:null}}const $he={get r(){return Fe(this,"r",new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]))},get k(){return Fe(this,"k",new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]))}};function T0(t,e,n){let i=1732584193,s=-271733879,r=-1732584194,a=271733878;const o=n+72&-64,l=new Uint8Array(o);let c,u;for(c=0;c<n;++c)l[c]=t[e++];l[c++]=128;const d=o-8;c<d&&(c=d),l[c++]=n<<3&255,l[c++]=n>>5&255,l[c++]=n>>13&255,l[c++]=n>>21&255,l[c++]=n>>>29&255,c+=3;const p=new Int32Array(16),{k:g,r:m}=$he;for(c=0;c<o;){for(u=0;u<16;++u,c+=4)p[u]=l[c]|l[c+1]<<8|l[c+2]<<16|l[c+3]<<24;let b=i,v=s,S=r,C=a,E,w;for(u=0;u<64;++u){u<16?(E=v&S|~v&C,w=u):u<32?(E=C&v|~C&S,w=5*u+1&15):u<48?(E=v^S^C,w=3*u+5&15):(E=S^(v|~C),w=7*u&15);const A=C,T=b+E+g[u]+p[w]|0,P=m[u];C=S,S=v,v=v+(T<<P|T>>>32-P)|0,b=A}i=i+b|0,s=s+v|0,r=r+S|0,a=a+C|0}return new Uint8Array([i&255,i>>8&255,i>>16&255,i>>>24&255,s&255,s>>8&255,s>>16&255,s>>>24&255,r&255,r>>8&255,r>>16&255,r>>>24&255,a&255,a>>8&255,a>>16&255,a>>>24&255])}function hR(t){try{return $x(t)}catch(e){return W(`UTF-8 decoding failed: "${e}".`),t}}class Uhe extends D6{constructor(e){super(e),this.node=null}onEndElement(e){const n=super.onEndElement(e);if(n&&e==="xfa:datasets")throw this.node=n,new Error("Aborting DatasetXMLParser.")}}class zhe{constructor(e){if(e.datasets)this.node=new D6({hasAttributes:!0}).parseFromString(e.datasets).documentElement;else{const n=new Uhe({hasAttributes:!0});try{n.parseFromString(e["xdp:xdp"])}catch{}this.node=n.node}}getValue(e){if(!this.node||!e)return"";const n=this.node.searchNode(vO(e),0);if(!n)return"";const i=n.firstChild;return(i==null?void 0:i.nodeName)==="value"?n.children.map(s=>hR(s.textContent)):hR(n.textContent)}}class Oe{constructor(e,n){this.high=e|0,this.low=n|0}and(e){this.high&=e.high,this.low&=e.low}xor(e){this.high^=e.high,this.low^=e.low}shiftRight(e){e>=32?(this.low=this.high>>>e-32|0,this.high=0):(this.low=this.low>>>e|this.high<<32-e,this.high=this.high>>>e|0)}rotateRight(e){let n,i;e&32?(i=this.low,n=this.high):(n=this.low,i=this.high),e&=31,this.low=n>>>e|i<<32-e,this.high=i>>>e|n<<32-e}not(){this.high=~this.high,this.low=~this.low}add(e){const n=(this.low>>>0)+(e.low>>>0);let i=(this.high>>>0)+(e.high>>>0);n>4294967295&&(i+=1),this.low=n|0,this.high=i|0}copyTo(e,n){e[n]=this.high>>>24&255,e[n+1]=this.high>>16&255,e[n+2]=this.high>>8&255,e[n+3]=this.high&255,e[n+4]=this.low>>>24&255,e[n+5]=this.low>>16&255,e[n+6]=this.low>>8&255,e[n+7]=this.low&255}assign(e){this.high=e.high,this.low=e.low}}const Hhe={get k(){return Fe(this,"k",[new Oe(1116352408,3609767458),new Oe(1899447441,602891725),new Oe(3049323471,3964484399),new Oe(3921009573,2173295548),new Oe(961987163,4081628472),new Oe(1508970993,3053834265),new Oe(2453635748,2937671579),new Oe(2870763221,3664609560),new Oe(3624381080,2734883394),new Oe(310598401,1164996542),new Oe(607225278,1323610764),new Oe(1426881987,3590304994),new Oe(1925078388,4068182383),new Oe(2162078206,991336113),new Oe(2614888103,633803317),new Oe(3248222580,3479774868),new Oe(3835390401,2666613458),new Oe(4022224774,944711139),new Oe(264347078,2341262773),new Oe(604807628,2007800933),new Oe(770255983,1495990901),new Oe(1249150122,1856431235),new Oe(1555081692,3175218132),new Oe(1996064986,2198950837),new Oe(2554220882,3999719339),new Oe(2821834349,766784016),new Oe(2952996808,2566594879),new Oe(3210313671,3203337956),new Oe(3336571891,1034457026),new Oe(3584528711,2466948901),new Oe(113926993,3758326383),new Oe(338241895,168717936),new Oe(666307205,1188179964),new Oe(773529912,1546045734),new Oe(1294757372,1522805485),new Oe(1396182291,2643833823),new Oe(1695183700,2343527390),new Oe(1986661051,1014477480),new Oe(2177026350,1206759142),new Oe(2456956037,344077627),new Oe(2730485921,1290863460),new Oe(2820302411,3158454273),new Oe(3259730800,3505952657),new Oe(3345764771,106217008),new Oe(3516065817,3606008344),new Oe(3600352804,1432725776),new Oe(4094571909,1467031594),new Oe(275423344,851169720),new Oe(430227734,3100823752),new Oe(506948616,1363258195),new Oe(659060556,3750685593),new Oe(883997877,3785050280),new Oe(958139571,3318307427),new Oe(1322822218,3812723403),new Oe(1537002063,2003034995),new Oe(1747873779,3602036899),new Oe(1955562222,1575990012),new Oe(2024104815,1125592928),new Oe(2227730452,2716904306),new Oe(2361852424,442776044),new Oe(2428436474,593698344),new Oe(2756734187,3733110249),new Oe(3204031479,2999351573),new Oe(3329325298,3815920427),new Oe(3391569614,3928383900),new Oe(3515267271,566280711),new Oe(3940187606,3454069534),new Oe(4118630271,4000239992),new Oe(116418474,1914138554),new Oe(174292421,2731055270),new Oe(289380356,3203993006),new Oe(460393269,320620315),new Oe(685471733,587496836),new Oe(852142971,1086792851),new Oe(1017036298,365543100),new Oe(1126000580,2618297676),new Oe(1288033470,3409855158),new Oe(1501505948,4234509866),new Oe(1607167915,987167468),new Oe(1816402316,1246189591)])}};function qhe(t,e,n,i,s){t.assign(e),t.and(n),s.assign(e),s.not(),s.and(i),t.xor(s)}function Ghe(t,e,n,i,s){t.assign(e),t.and(n),s.assign(e),s.and(i),t.xor(s),s.assign(n),s.and(i),t.xor(s)}function Whe(t,e,n){t.assign(e),t.rotateRight(28),n.assign(e),n.rotateRight(34),t.xor(n),n.assign(e),n.rotateRight(39),t.xor(n)}function Vhe(t,e,n){t.assign(e),t.rotateRight(14),n.assign(e),n.rotateRight(18),t.xor(n),n.assign(e),n.rotateRight(41),t.xor(n)}function Xhe(t,e,n){t.assign(e),t.rotateRight(1),n.assign(e),n.rotateRight(8),t.xor(n),n.assign(e),n.shiftRight(7),t.xor(n)}function Khe(t,e,n){t.assign(e),t.rotateRight(19),n.assign(e),n.rotateRight(61),t.xor(n),n.assign(e),n.shiftRight(6),t.xor(n)}function hj(t,e,n,i=!1){let s,r,a,o,l,c,u,d;i?(s=new Oe(3418070365,3238371032),r=new Oe(1654270250,914150663),a=new Oe(2438529370,812702999),o=new Oe(355462360,4144912697),l=new Oe(1731405415,4290775857),c=new Oe(2394180231,1750603025),u=new Oe(3675008525,1694076839),d=new Oe(1203062813,3204075428)):(s=new Oe(1779033703,4089235720),r=new Oe(3144134277,2227873595),a=new Oe(1013904242,4271175723),o=new Oe(2773480762,1595750129),l=new Oe(1359893119,2917565137),c=new Oe(2600822924,725511199),u=new Oe(528734635,4215389547),d=new Oe(1541459225,327033209));const p=Math.ceil((n+17)/128)*128,g=new Uint8Array(p);let m,b;for(m=0;m<n;++m)g[m]=t[e++];g[m++]=128;const v=p-16;m<v&&(m=v),m+=11,g[m++]=n>>>29&255,g[m++]=n>>21&255,g[m++]=n>>13&255,g[m++]=n>>5&255,g[m++]=n<<3&255;const S=new Array(80);for(m=0;m<80;m++)S[m]=new Oe(0,0);const{k:C}=Hhe;let E=new Oe(0,0),w=new Oe(0,0),A=new Oe(0,0),T=new Oe(0,0),P=new Oe(0,0),R=new Oe(0,0),D=new Oe(0,0),O=new Oe(0,0);const B=new Oe(0,0),U=new Oe(0,0),V=new Oe(0,0),ee=new Oe(0,0);let Q;for(m=0;m<p;){for(b=0;b<16;++b)S[b].high=g[m]<<24|g[m+1]<<16|g[m+2]<<8|g[m+3],S[b].low=g[m+4]<<24|g[m+5]<<16|g[m+6]<<8|g[m+7],m+=8;for(b=16;b<80;++b)Q=S[b],Khe(Q,S[b-2],ee),Q.add(S[b-7]),Xhe(V,S[b-15],ee),Q.add(V),Q.add(S[b-16]);for(E.assign(s),w.assign(r),A.assign(a),T.assign(o),P.assign(l),R.assign(c),D.assign(u),O.assign(d),b=0;b<80;++b)B.assign(O),Vhe(V,P,ee),B.add(V),qhe(V,P,R,D,ee),B.add(V),B.add(C[b]),B.add(S[b]),Whe(U,E,ee),Ghe(V,E,w,A,ee),U.add(V),Q=O,O=D,D=R,R=P,T.add(B),P=T,T=A,A=w,w=E,Q.assign(B),Q.add(U),E=Q;s.add(E),r.add(w),a.add(A),o.add(T),l.add(P),c.add(R),u.add(D),d.add(O)}let G;return i?(G=new Uint8Array(48),s.copyTo(G,0),r.copyTo(G,8),a.copyTo(G,16),o.copyTo(G,24),l.copyTo(G,32),c.copyTo(G,40)):(G=new Uint8Array(64),s.copyTo(G,0),r.copyTo(G,8),a.copyTo(G,16),o.copyTo(G,24),l.copyTo(G,32),c.copyTo(G,40),u.copyTo(G,48),d.copyTo(G,56)),G}function Yhe(t,e,n){return hj(t,e,n,!0)}const Zhe={get k(){return Fe(this,"k",[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298])}};function Nl(t,e){return t>>>e|t<<32-e}function Jhe(t,e,n){return t&e^~t&n}function Qhe(t,e,n){return t&e^t&n^e&n}function ede(t){return Nl(t,2)^Nl(t,13)^Nl(t,22)}function tde(t){return Nl(t,6)^Nl(t,11)^Nl(t,25)}function nde(t){return Nl(t,7)^Nl(t,18)^t>>>3}function ide(t){return Nl(t,17)^Nl(t,19)^t>>>10}function XA(t,e,n){let i=1779033703,s=3144134277,r=1013904242,a=2773480762,o=1359893119,l=2600822924,c=528734635,u=1541459225;const d=Math.ceil((n+9)/64)*64,p=new Uint8Array(d);let g,m;for(g=0;g<n;++g)p[g]=t[e++];p[g++]=128;const b=d-8;g<b&&(g=b),g+=3,p[g++]=n>>>29&255,p[g++]=n>>21&255,p[g++]=n>>13&255,p[g++]=n>>5&255,p[g++]=n<<3&255;const v=new Uint32Array(64),{k:S}=Zhe;for(g=0;g<d;){for(m=0;m<16;++m)v[m]=p[g]<<24|p[g+1]<<16|p[g+2]<<8|p[g+3],g+=4;for(m=16;m<64;++m)v[m]=ide(v[m-2])+v[m-7]+nde(v[m-15])+v[m-16]|0;let C=i,E=s,w=r,A=a,T=o,P=l,R=c,D=u,O,B;for(m=0;m<64;++m)O=D+tde(T)+Jhe(T,P,R)+S[m]+v[m],B=ede(C)+Qhe(C,E,w),D=R,R=P,P=T,T=A+O|0,A=w,w=E,E=C,C=O+B|0;i=i+C|0,s=s+E|0,r=r+w|0,a=a+A|0,o=o+T|0,l=l+P|0,c=c+R|0,u=u+D|0}return new Uint8Array([i>>24&255,i>>16&255,i>>8&255,i&255,s>>24&255,s>>16&255,s>>8&255,s&255,r>>24&255,r>>16&255,r>>8&255,r&255,a>>24&255,a>>16&255,a>>8&255,a&255,o>>24&255,o>>16&255,o>>8&255,o&255,l>>24&255,l>>16&255,l>>8&255,l&255,c>>24&255,c>>16&255,c>>8&255,c&255,u>>24&255,u>>16&255,u>>8&255,u&255])}const dR=512;class sde extends zs{constructor(e,n,i){super(n),this.str=e,this.dict=e.dict,this.decrypt=i,this.nextChunk=null,this.initialized=!1}readBlock(){var o;let e;if(this.initialized?e=this.nextChunk:(e=this.str.getBytes(dR),this.initialized=!0),!(e!=null&&e.length)){this.eof=!0;return}this.nextChunk=this.str.getBytes(dR);const n=((o=this.nextChunk)==null?void 0:o.length)>0,i=this.decrypt;e=i(e,!n);const s=this.bufferLength,r=s+e.length;this.ensureBuffer(r).set(e,s),this.bufferLength=r}}class bh{constructor(e){this.a=0,this.b=0;const n=new Uint8Array(256),i=e.length;for(let s=0;s<256;++s)n[s]=s;for(let s=0,r=0;s<256;++s){const a=n[s];r=r+a+e[s%i]&255,n[s]=n[r],n[r]=a}this.s=n}encryptBlock(e){let n=this.a,i=this.b;const s=this.s,r=e.length,a=new Uint8Array(r);for(let o=0;o<r;++o){n=n+1&255;const l=s[n];i=i+l&255;const c=s[i];s[n]=c,s[i]=l,a[o]=e[o]^s[l+c&255]}return this.a=n,this.b=i,a}decryptBlock(e){return this.encryptBlock(e)}encrypt(e){return this.encryptBlock(e)}}class rde{decryptBlock(e){return e}encrypt(e){return e}}class _C{constructor(){qe(this,"_s",new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]));qe(this,"_inv_s",new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]));qe(this,"_mix",new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]));qe(this,"_mixCol",new Uint8Array(256).map((e,n)=>n<128?n<<1:n<<1^27));this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(e){Ot("Cannot call `_expandKey` on the base class")}_decrypt(e,n){let i,s,r;const a=new Uint8Array(16);a.set(e);for(let o=0,l=this._keySize;o<16;++o,++l)a[o]^=n[l];for(let o=this._cyclesOfRepetition-1;o>=1;--o){i=a[13],a[13]=a[9],a[9]=a[5],a[5]=a[1],a[1]=i,i=a[14],s=a[10],a[14]=a[6],a[10]=a[2],a[6]=i,a[2]=s,i=a[15],s=a[11],r=a[7],a[15]=a[3],a[11]=i,a[7]=s,a[3]=r;for(let l=0;l<16;++l)a[l]=this._inv_s[a[l]];for(let l=0,c=o*16;l<16;++l,++c)a[l]^=n[c];for(let l=0;l<16;l+=4){const c=this._mix[a[l]],u=this._mix[a[l+1]],d=this._mix[a[l+2]],p=this._mix[a[l+3]];i=c^u>>>8^u<<24^d>>>16^d<<16^p>>>24^p<<8,a[l]=i>>>24&255,a[l+1]=i>>16&255,a[l+2]=i>>8&255,a[l+3]=i&255}}i=a[13],a[13]=a[9],a[9]=a[5],a[5]=a[1],a[1]=i,i=a[14],s=a[10],a[14]=a[6],a[10]=a[2],a[6]=i,a[2]=s,i=a[15],s=a[11],r=a[7],a[15]=a[3],a[11]=i,a[7]=s,a[3]=r;for(let o=0;o<16;++o)a[o]=this._inv_s[a[o]],a[o]^=n[o];return a}_encrypt(e,n){const i=this._s;let s,r,a;const o=new Uint8Array(16);o.set(e);for(let l=0;l<16;++l)o[l]^=n[l];for(let l=1;l<this._cyclesOfRepetition;l++){for(let c=0;c<16;++c)o[c]=i[o[c]];a=o[1],o[1]=o[5],o[5]=o[9],o[9]=o[13],o[13]=a,a=o[2],r=o[6],o[2]=o[10],o[6]=o[14],o[10]=a,o[14]=r,a=o[3],r=o[7],s=o[11],o[3]=o[15],o[7]=a,o[11]=r,o[15]=s;for(let c=0;c<16;c+=4){const u=o[c],d=o[c+1],p=o[c+2],g=o[c+3];s=u^d^p^g,o[c]^=s^this._mixCol[u^d],o[c+1]^=s^this._mixCol[d^p],o[c+2]^=s^this._mixCol[p^g],o[c+3]^=s^this._mixCol[g^u]}for(let c=0,u=l*16;c<16;++c,++u)o[c]^=n[u]}for(let l=0;l<16;++l)o[l]=i[o[l]];a=o[1],o[1]=o[5],o[5]=o[9],o[9]=o[13],o[13]=a,a=o[2],r=o[6],o[2]=o[10],o[6]=o[14],o[10]=a,o[14]=r,a=o[3],r=o[7],s=o[11],o[3]=o[15],o[7]=a,o[11]=r,o[15]=s;for(let l=0,c=this._keySize;l<16;++l,++c)o[l]^=n[c];return o}_decryptBlock2(e,n){const i=e.length;let s=this.buffer,r=this.bufferPosition;const a=[];let o=this.iv;for(let u=0;u<i;++u){if(s[r]=e[u],++r,r<16)continue;const d=this._decrypt(s,this._key);for(let p=0;p<16;++p)d[p]^=o[p];o=s,a.push(d),s=new Uint8Array(16),r=0}if(this.buffer=s,this.bufferLength=r,this.iv=o,a.length===0)return new Uint8Array(0);let l=16*a.length;if(n){const u=a.at(-1);let d=u[15];if(d<=16){for(let p=15,g=16-d;p>=g;--p)if(u[p]!==d){d=0;break}l-=d,a[a.length-1]=u.subarray(0,16-d)}}const c=new Uint8Array(l);for(let u=0,d=0,p=a.length;u<p;++u,d+=16)c.set(a[u],d);return c}decryptBlock(e,n,i=null){const s=e.length,r=this.buffer;let a=this.bufferPosition;if(i)this.iv=i;else{for(let o=0;a<16&&o<s;++o,++a)r[a]=e[o];if(a<16)return this.bufferLength=a,new Uint8Array(0);this.iv=r,e=e.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(e,n)}encrypt(e,n){const i=e.length;let s=this.buffer,r=this.bufferPosition;const a=[];n||(n=new Uint8Array(16));for(let c=0;c<i;++c){if(s[r]=e[c],++r,r<16)continue;for(let d=0;d<16;++d)s[d]^=n[d];const u=this._encrypt(s,this._key);n=u,a.push(u),s=new Uint8Array(16),r=0}if(this.buffer=s,this.bufferLength=r,this.iv=n,a.length===0)return new Uint8Array(0);const o=16*a.length,l=new Uint8Array(o);for(let c=0,u=0,d=a.length;c<d;++c,u+=16)l.set(a[c],u);return l}}class dj extends _C{constructor(n){super();qe(this,"_rcon",new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]));this._cyclesOfRepetition=10,this._keySize=160,this._key=this._expandKey(n)}_expandKey(n){const s=this._s,r=this._rcon,a=new Uint8Array(176);a.set(n);for(let o=16,l=1;o<176;++l){let c=a[o-3],u=a[o-2],d=a[o-1],p=a[o-4];c=s[c],u=s[u],d=s[d],p=s[p],c^=r[l];for(let g=0;g<4;++g)a[o]=c^=a[o-16],o++,a[o]=u^=a[o-16],o++,a[o]=d^=a[o-16],o++,a[o]=p^=a[o-16],o++}return a}}class KA extends _C{constructor(e){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(e)}_expandKey(e){const i=this._s,s=new Uint8Array(240);s.set(e);let r=1,a,o,l,c;for(let u=32,d=1;u<240;++d){u%32===16?(a=i[a],o=i[o],l=i[l],c=i[c]):u%32===0&&(a=s[u-3],o=s[u-2],l=s[u-1],c=s[u-4],a=i[a],o=i[o],l=i[l],c=i[c],a^=r,(r<<=1)>=256&&(r=(r^27)&255));for(let p=0;p<4;++p)s[u]=a^=s[u-32],u++,s[u]=o^=s[u-32],u++,s[u]=l^=s[u-32],u++,s[u]=c^=s[u-32],u++}return s}}class fj{_hash(e,n,i){Ot("Abstract method `_hash` called")}checkOwnerPassword(e,n,i,s){const r=new Uint8Array(e.length+56);r.set(e,0),r.set(n,e.length),r.set(i,e.length+n.length);const a=this._hash(e,r,i);return Ux(a,s)}checkUserPassword(e,n,i){const s=new Uint8Array(e.length+8);s.set(e,0),s.set(n,e.length);const r=this._hash(e,s,[]);return Ux(r,i)}getOwnerKey(e,n,i,s){const r=new Uint8Array(e.length+56);r.set(e,0),r.set(n,e.length),r.set(i,e.length+n.length);const a=this._hash(e,r,i);return new KA(a).decryptBlock(s,!1,new Uint8Array(16))}getUserKey(e,n,i){const s=new Uint8Array(e.length+8);s.set(e,0),s.set(n,e.length);const r=this._hash(e,s,[]);return new KA(r).decryptBlock(i,!1,new Uint8Array(16))}}class ade extends fj{_hash(e,n,i){return XA(n,0,n.length)}}class ode extends fj{_hash(e,n,i){let s=XA(n,0,n.length).subarray(0,32),r=[0],a=0;for(;a<64||r.at(-1)>a-32;){const o=e.length+s.length+i.length,l=new Uint8Array(o);let c=0;l.set(e,c),c+=e.length,l.set(s,c),c+=s.length,l.set(i,c);const u=new Uint8Array(o*64);for(let g=0,m=0;g<64;g++,m+=o)u.set(l,m);r=new dj(s.subarray(0,16)).encrypt(u,s.subarray(16,32));const p=Math.sumPrecise(r.slice(0,16))%3;p===0?s=XA(r,0,r.length):p===1?s=Yhe(r,0,r.length):p===2&&(s=hj(r,0,r.length)),a++}return s.subarray(0,32)}}class fR{constructor(e,n){this.StringCipherConstructor=e,this.StreamCipherConstructor=n}createStream(e,n){const i=new this.StreamCipherConstructor;return new sde(e,n,function(r,a){return i.decryptBlock(r,a)})}decryptString(e){const n=new this.StringCipherConstructor;let i=xs(e);return i=n.decryptBlock(i,!0),Mr(i)}encryptString(e){const n=new this.StringCipherConstructor;if(n instanceof _C){const r=16-e.length%16;e+=String.fromCharCode(r).repeat(r);const a=new Uint8Array(16);crypto.getRandomValues(a);let o=xs(e);o=n.encrypt(o,a);const l=new Uint8Array(16+o.length);return l.set(a),l.set(o,16),Mr(l)}let i=xs(e);return i=n.encrypt(i),Mr(i)}}var $s,pj,ZA,gj,S5,JA;const P1=class P1{constructor(e,n,i){L(this,$s);const s=e.get("Filter");if(!ti(s,"Standard"))throw new me("unknown encryption method");this.filterName=s.name,this.dict=e;const r=e.get("V");if(!Number.isInteger(r)||r!==1&&r!==2&&r!==4&&r!==5)throw new me("unsupported encryption algorithm");this.algorithm=r;let a=e.get("Length");if(!a)if(r<=3)a=40;else{const S=e.get("CF"),C=e.get("StmF");if(S instanceof J&&C instanceof le){S.suppressEncryption=!0;const E=S.get(C.name);a=(E==null?void 0:E.get("Length"))||128,a<40&&(a<<=3)}}if(!Number.isInteger(a)||a<40||a%8!==0)throw new me("invalid key length");const o=xs(e.get("O")),l=xs(e.get("U")),c=o.subarray(0,32),u=l.subarray(0,32),d=e.get("P"),p=e.get("R"),g=(r===4||r===5)&&e.get("EncryptMetadata")!==!1;this.encryptMetadata=g;const m=xs(n);let b;if(i){if(p===6)try{i=iA(i)}catch{W("CipherTransformFactory: Unable to convert UTF8 encoded password.")}b=xs(i)}let v;if(r!==5)v=M(this,$s,ZA).call(this,m,b,c,u,d,p,a,g);else{const S=o.subarray(32,40),C=o.subarray(40,48),E=l.subarray(0,48),w=l.subarray(32,40),A=l.subarray(40,48),T=xs(e.get("OE")),P=xs(e.get("UE")),R=xs(e.get("Perms"));v=M(this,$s,pj).call(this,p,b,c,S,C,E,u,w,A,T,P,R)}if(!v){if(!i)throw new Bx("No password given",UP.NEED_PASSWORD);const S=M(this,$s,gj).call(this,b,c,p,a);v=M(this,$s,ZA).call(this,m,S,c,u,d,p,a,g)}if(!v)throw new Bx("Incorrect Password",UP.INCORRECT_PASSWORD);if(r===4&&v.length<16?(this.encryptionKey=new Uint8Array(16),this.encryptionKey.set(v)):this.encryptionKey=v,r>=4){const S=e.get("CF");S instanceof J&&(S.suppressEncryption=!0),this.cf=S,this.stmf=e.get("StmF")||le.get("Identity"),this.strf=e.get("StrF")||le.get("Identity"),this.eff=e.get("EFF")||this.stmf}}static get _defaultPasswordBytes(){return Fe(this,"_defaultPasswordBytes",new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]))}createCipherTransform(e,n){if(this.algorithm===4||this.algorithm===5)return new fR(M(this,$s,JA).call(this,this.cf,this.strf,e,n,this.encryptionKey),M(this,$s,JA).call(this,this.cf,this.stmf,e,n,this.encryptionKey));const i=M(this,$s,S5).call(this,e,n,this.encryptionKey,!1),s=function(){return new bh(i)};return new fR(s,s)}};$s=new WeakSet,pj=function(e,n,i,s,r,a,o,l,c,u,d,p){if(n){const m=Math.min(127,n.length);n=n.subarray(0,m)}else n=[];const g=e===6?new ode:new ade;return g.checkUserPassword(n,l,o)?g.getUserKey(n,c,d):n.length&&g.checkOwnerPassword(n,s,a,i)?g.getOwnerKey(n,r,a,u):null},ZA=function(e,n,i,s,r,a,o,l){const c=40+i.length+e.length,u=new Uint8Array(c);let d=0,p,g;if(n)for(g=Math.min(32,n.length);d<g;++d)u[d]=n[d];for(p=0;d<32;)u[d++]=P1._defaultPasswordBytes[p++];u.set(i,d),d+=i.length,u[d++]=r&255,u[d++]=r>>8&255,u[d++]=r>>16&255,u[d++]=r>>>24&255,u.set(e,d),d+=e.length,a>=4&&!l&&(u.fill(255,d,d+4),d+=4);let m=T0(u,0,d);const b=o>>3;if(a>=3)for(p=0;p<50;++p)m=T0(m,0,b);const v=m.subarray(0,b);let S,C;if(a>=3){d=0,u.set(P1._defaultPasswordBytes,d),d+=32,u.set(e,d),d+=e.length,S=new bh(v),C=S.encryptBlock(T0(u,0,d)),g=v.length;const E=new Uint8Array(g);for(p=1;p<=19;++p){for(let w=0;w<g;++w)E[w]=v[w]^p;S=new bh(E),C=S.encryptBlock(C)}}else S=new bh(v),C=S.encryptBlock(P1._defaultPasswordBytes);return C.every((E,w)=>s[w]===E)?v:null},gj=function(e,n,i,s){const r=new Uint8Array(32);let a=0;const o=Math.min(32,e.length);for(;a<o;++a)r[a]=e[a];let l=0;for(;a<32;)r[a++]=P1._defaultPasswordBytes[l++];let c=T0(r,0,a);const u=s>>3;if(i>=3)for(l=0;l<50;++l)c=T0(c,0,c.length);let d,p;if(i>=3){p=n;const g=new Uint8Array(u);for(l=19;l>=0;l--){for(let m=0;m<u;++m)g[m]=c[m]^l;d=new bh(g),p=d.encryptBlock(p)}}else d=new bh(c.subarray(0,u)),p=d.encryptBlock(n);return p},S5=function(e,n,i,s=!1){const r=i.length,a=new Uint8Array(r+9);a.set(i);let o=r;return a[o++]=e&255,a[o++]=e>>8&255,a[o++]=e>>16&255,a[o++]=n&255,a[o++]=n>>8&255,s&&(a[o++]=115,a[o++]=65,a[o++]=108,a[o++]=84),T0(a,0,o).subarray(0,Math.min(r+5,16))},JA=function(e,n,i,s,r){if(!(n instanceof le))throw new me("Invalid crypt filter name.");const a=this,o=e.get(n.name),l=o==null?void 0:o.get("CFM");if(!l||l.name==="None")return function(){return new rde};if(l.name==="V2")return function(){var c;return new bh(M(c=a,$s,S5).call(c,i,s,r,!1))};if(l.name==="AESV2")return function(){var c;return new dj(M(c=a,$s,S5).call(c,i,s,r,!0))};if(l.name==="AESV3")return function(){return new KA(r)};throw new me("Unknown crypto method")};let YA=P1;var $9;class lde{constructor(e,n){L(this,$9,null);this.stream=e,this.pdfManager=n,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new Bi,this._newPersistentRefNum=null,this._newTemporaryRefNum=null,this._persistentRefsCache=null}getNewPersistentRef(e){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const n=this._newPersistentRefNum++;return this._cacheMap.set(n,e),Be.get(n,0)}getNewTemporaryRef(){if(this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1,this._newPersistentRefNum)){this._persistentRefsCache=new Map;for(let e=this._newTemporaryRefNum;e<this._newPersistentRefNum;e++)this._persistentRefsCache.set(e,this._cacheMap.get(e)),this._cacheMap.delete(e)}return Be.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){if(this._newTemporaryRefNum=null,this._persistentRefsCache)for(const[e,n]of this._persistentRefsCache)this._cacheMap.set(e,n);this._persistentRefsCache=null}setStartXRef(e){this.startXRefQueue=[e]}parse(e=!1){let n;e?(W("Indexing all PDF objects"),n=this.indexObjects()):n=this.readXRef(),n.assignXref(this),this.trailer=n;let i;try{i=n.get("Encrypt")}catch(r){if(r instanceof En)throw r;W(`XRef.parse - Invalid "Encrypt" reference: "${r}".`)}if(i instanceof J){const r=n.get("ID"),a=r!=null&&r.length?r[0]:"";i.suppressEncryption=!0,this.encrypt=new YA(i,a,this.pdfManager.password)}let s;try{s=n.get("Root")}catch(r){if(r instanceof En)throw r;W(`XRef.parse - Invalid "Root" reference: "${r}".`)}if(s instanceof J)try{if(s.get("Pages")instanceof J){this.root=s;return}}catch(r){if(r instanceof En)throw r;W(`XRef.parse - Invalid "Pages" reference: "${r}".`)}throw e?new jx("Invalid Root reference."):new M1}processXRefTable(e){"tableState"in this||(this.tableState={entryNum:0,streamPos:e.lexer.stream.pos,parserBuf1:e.buf1,parserBuf2:e.buf2});const n=this.readXRefTable(e);if(!Oi(n,"trailer"))throw new me("Invalid XRef table: could not find trailer dictionary");let i=e.getObj();if(!(i instanceof J)&&i.dict&&(i=i.dict),!(i instanceof J))throw new me("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,i}readXRefTable(e){const n=e.lexer.stream,i=this.tableState;n.pos=i.streamPos,e.buf1=i.parserBuf1,e.buf2=i.parserBuf2;let s;for(;;){if(!("firstEntryNum"in i)||!("entryCount"in i)){if(Oi(s=e.getObj(),"trailer"))break;i.firstEntryNum=s,i.entryCount=e.getObj()}let r=i.firstEntryNum;const a=i.entryCount;if(!Number.isInteger(r)||!Number.isInteger(a))throw new me("Invalid XRef table: wrong types in subsection header");for(let o=i.entryNum;o<a;o++){i.streamPos=n.pos,i.entryNum=o,i.parserBuf1=e.buf1,i.parserBuf2=e.buf2;const l={};l.offset=e.getObj(),l.gen=e.getObj();const c=e.getObj();if(c instanceof gi)switch(c.cmd){case"f":l.free=!0;break;case"n":l.uncompressed=!0;break}if(!Number.isInteger(l.offset)||!Number.isInteger(l.gen)||!(l.free||l.uncompressed))throw new me(`Invalid entry in XRef subsection: ${r}, ${a}`);o===0&&l.free&&r===1&&(r=0),this.entries[o+r]||(this.entries[o+r]=l)}i.entryNum=0,i.streamPos=n.pos,i.parserBuf1=e.buf1,i.parserBuf2=e.buf2,delete i.firstEntryNum,delete i.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new me("Invalid XRef table: unexpected first object");return s}processXRefStream(e){if(!("streamState"in this)){const{dict:n,pos:i}=e,s=n.get("W"),r=n.get("Index")||[0,n.get("Size")];this.streamState={entryRanges:r,byteWidths:s,entryNum:0,streamPos:i}}return this.readXRefStream(e),delete this.streamState,e.dict}readXRefStream(e){const n=this.streamState;e.pos=n.streamPos;const[i,s,r]=n.byteWidths,a=n.entryRanges;for(;a.length>0;){const[o,l]=a;if(!Number.isInteger(o)||!Number.isInteger(l))throw new me(`Invalid XRef range fields: ${o}, ${l}`);if(!Number.isInteger(i)||!Number.isInteger(s)||!Number.isInteger(r))throw new me(`Invalid XRef entry fields length: ${o}, ${l}`);for(let c=n.entryNum;c<l;++c){n.entryNum=c,n.streamPos=e.pos;let u=0,d=0,p=0;for(let m=0;m<i;++m){const b=e.getByte();if(b===-1)throw new me("Invalid XRef byteWidths 'type'.");u=u<<8|b}i===0&&(u=1);for(let m=0;m<s;++m){const b=e.getByte();if(b===-1)throw new me("Invalid XRef byteWidths 'offset'.");d=d<<8|b}for(let m=0;m<r;++m){const b=e.getByte();if(b===-1)throw new me("Invalid XRef byteWidths 'generation'.");p=p<<8|b}const g={};switch(g.offset=d,g.gen=p,u){case 0:g.free=!0;break;case 1:g.uncompressed=!0;break;case 2:break;default:throw new me(`Invalid XRef entry type: ${u}`)}this.entries[o+c]||(this.entries[o+c]=g)}n.entryNum=0,n.streamPos=e.pos,a.splice(0,2)}}indexObjects(){function o(O,B){let U="",V=O[B];for(;V!==10&&V!==13&&V!==60&&!(++B>=O.length);)U+=String.fromCharCode(V),V=O[B];return U}function l(O,B,U){const V=U.length,ee=O.length;let Q=0;for(;B<ee;){let G=0;for(;G<V&&O[B+G]===U[G];)++G;if(G>=V)break;B++,Q++}return Q}const c=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,u=/\b(startxref|\d+\s+\d+\s+obj)\b/g,d=/^(\d+)\s+(\d+)\s+obj\b/,p=new Uint8Array([116,114,97,105,108,101,114]),g=new Uint8Array([115,116,97,114,116,120,114,101,102]),m=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const b=this.stream;b.pos=0;const v=b.getBytes(),S=Mr(v),C=v.length;let E=b.start;const w=[],A=[];for(;E<C;){let O=v[E];if(O===9||O===10||O===13||O===32){++E;continue}if(O===37){do{if(++E,E>=C)break;O=v[E]}while(O!==10&&O!==13);continue}const B=o(v,E);let U;if(B.startsWith("xref")&&(B.length===4||/\s/.test(B[4])))E+=l(v,E,p),w.push(E),E+=l(v,E,g);else if(U=d.exec(B)){const V=U[1]|0,ee=U[2]|0,Q=E+B.length;let G,$=!1;if(!this.entries[V])$=!0;else if(this.entries[V].gen===ee)try{new E0({lexer:new To(b.makeSubStream(Q))}).getObj(),$=!0}catch(X){X instanceof rA?W(`indexObjects -- checking object (${B}): "${X}".`):$=!0}$&&(this.entries[V]={offset:E-b.start,gen:ee,uncompressed:!0}),c.lastIndex=Q;const ie=c.exec(S);ie?(G=c.lastIndex+1-E,ie[1]!=="endobj"&&(W(`indexObjects: Found "${ie[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),G-=ie[1].length+1)):G=C-E;const he=v.subarray(E,E+G),pe=l(he,0,m);pe<G&&he[pe+5]<64&&(A.push(E-b.start),this._xrefStms.add(E-b.start)),E+=G}else if(B.startsWith("trailer")&&(B.length===7||/\s/.test(B[7]))){w.push(E);const V=E+B.length;let ee;u.lastIndex=V;const Q=u.exec(S);Q?(ee=u.lastIndex+1-E,Q[1]!=="startxref"&&(W(`indexObjects: Found "${Q[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),ee-=Q[1].length+1)):ee=C-E,E+=ee}else E+=B.length+1}for(const O of A)this.startXRefQueue.push(O),this.readXRef(!0);const T=[];let P=!1;for(const O of w){b.pos=O;const B=new E0({lexer:new To(b),xref:this,allowStreams:!0,recoveryMode:!0}),U=B.getObj();if(!Oi(U,"trailer"))continue;const V=B.getObj();V instanceof J&&(T.push(V),V.has("Encrypt")&&(P=!0))}let R,D;for(const O of[...T,"genFallback",...T]){if(O==="genFallback"){if(!D)break;this._generationFallback=!0;continue}let B=!1;try{const U=O.get("Root");if(!(U instanceof J))continue;const V=U.get("Pages");if(!(V instanceof J))continue;const ee=V.get("Count");Number.isInteger(ee)&&(B=!0)}catch(U){D=U;continue}if(B&&(!P||O.has("Encrypt"))&&O.has("ID"))return O;R=O}if(R)return R;if(this.topDict)return this.topDict;if(!T.length)for(const[O,B]of this.entries.entries()){if(!B)continue;const U=Be.get(O,B.gen);let V;try{V=this.fetch(U)}catch{continue}if(V instanceof _t&&(V=V.dict),V instanceof J&&V.has("Root"))return V}throw new jx("Invalid PDF structure.")}readXRef(e=!1){const n=this.stream,i=new Set;for(;this.startXRefQueue.length;){try{const s=this.startXRefQueue[0];if(i.has(s)){W("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}i.add(s),n.pos=s+n.start;const r=new E0({lexer:new To(n),xref:this,allowStreams:!0});let a=r.getObj(),o;if(Oi(a,"xref"))o=this.processXRefTable(r),this.topDict||(this.topDict=o),a=o.get("XRefStm"),Number.isInteger(a)&&!this._xrefStms.has(a)&&(this._xrefStms.add(a),this.startXRefQueue.push(a),x(this,$9)??F(this,$9,a));else if(Number.isInteger(a)){if(!Number.isInteger(r.getObj())||!Oi(r.getObj(),"obj")||!((a=r.getObj())instanceof _t))throw new me("Invalid XRef stream");if(o=this.processXRefStream(a),this.topDict||(this.topDict=o),!o)throw new me("Failed to read XRef stream")}else throw new me("Invalid XRef stream header");a=o.get("Prev"),Number.isInteger(a)?this.startXRefQueue.push(a):a instanceof Be&&this.startXRefQueue.push(a.num)}catch(s){if(s instanceof En)throw s;Pt("(while reading XRef): "+s)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!e)throw new M1}get lastXRefStreamPos(){return x(this,$9)??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry(e){const n=this.entries[e];return n&&!n.free&&n.offset?n:null}fetchIfRef(e,n=!1){return e instanceof Be?this.fetch(e,n):e}fetch(e,n=!1){if(!(e instanceof Be))throw new Error("ref object is not a reference");const i=e.num,s=this._cacheMap.get(i);if(s!==void 0)return s instanceof J&&!s.objId&&(s.objId=e.toString()),s;let r=this.getEntry(i);if(r===null)return r;if(this._pendingRefs.has(e))return this._pendingRefs.remove(e),W(`Ignoring circular reference: ${e}.`),vne;this._pendingRefs.put(e);try{r=r.uncompressed?this.fetchUncompressed(e,r,n):this.fetchCompressed(e,r,n),this._pendingRefs.remove(e)}catch(a){throw this._pendingRefs.remove(e),a}return r instanceof J?r.objId=e.toString():r instanceof _t&&(r.dict.objId=e.toString()),r}fetchUncompressed(e,n,i=!1){const s=e.gen;let r=e.num;if(n.gen!==s){const d=`Inconsistent generation in XRef: ${e}`;if(this._generationFallback&&n.gen<s)return W(d),this.fetchUncompressed(Be.get(r,n.gen),n,i);throw new wu(d)}const a=this.stream.makeSubStream(n.offset+this.stream.start),o=new E0({lexer:new To(a),xref:this,allowStreams:!0}),l=o.getObj(),c=o.getObj(),u=o.getObj();if(l!==r||c!==s||!(u instanceof gi))throw new wu(`Bad (uncompressed) XRef entry: ${e}`);if(u.cmd!=="obj"){if(u.cmd.startsWith("obj")&&(r=parseInt(u.cmd.substring(3),10),!Number.isNaN(r)))return r;throw new wu(`Bad (uncompressed) XRef entry: ${e}`)}return n=this.encrypt&&!i?o.getObj(this.encrypt.createCipherTransform(r,s)):o.getObj(),n instanceof _t||this._cacheMap.set(r,n),n}fetchCompressed(e,n,i=!1){const s=n.offset,r=this.fetch(Be.get(s,0));if(!(r instanceof _t))throw new me("bad ObjStm stream");const a=r.dict.get("First"),o=r.dict.get("N");if(!Number.isInteger(a)||!Number.isInteger(o))throw new me("invalid first and n parameters for ObjStm stream");let l=new E0({lexer:new To(r),xref:this,allowStreams:!0});const c=new Array(o),u=new Array(o);for(let g=0;g<o;++g){const m=l.getObj();if(!Number.isInteger(m))throw new me(`invalid object number in the ObjStm stream: ${m}`);const b=l.getObj();if(!Number.isInteger(b))throw new me(`invalid object offset in the ObjStm stream: ${b}`);c[g]=m,u[g]=b}const d=(r.start||0)+a,p=new Array(o);for(let g=0;g<o;++g){const m=g<o-1?u[g+1]-u[g]:void 0;if(m<0)throw new me("Invalid offset in the ObjStm stream.");l=new E0({lexer:new To(r.makeSubStream(d+u[g],m,r.dict)),xref:this,allowStreams:!0});const b=l.getObj();if(p[g]=b,b instanceof _t)continue;const v=c[g],S=this.entries[v];S&&S.offset===s&&S.gen===g&&this._cacheMap.set(v,b)}if(n=p[n.gen],n===void 0)throw new wu(`Bad (compressed) XRef entry: ${e}`);return n}async fetchIfRefAsync(e,n){return e instanceof Be?this.fetchAsync(e,n):e}async fetchAsync(e,n){try{return this.fetch(e,n)}catch(i){if(!(i instanceof En))throw i;return await this.pdfManager.requestRange(i.begin,i.end),this.fetchAsync(e,n)}}getCatalogObj(){return this.root}}$9=new WeakMap;const cde=[0,0,612,792];var U9,QA;class pR{constructor({pdfManager:e,xref:n,pageIndex:i,pageDict:s,ref:r,globalIdFactory:a,fontCache:o,builtInCMapCache:l,standardFontDataCache:c,globalColorSpaceCache:u,globalImageCache:d,systemFontCache:p,nonBlendModesSet:g,xfaFactory:m}){L(this,U9);this.pdfManager=e,this.pageIndex=i,this.pageDict=s,this.xref=n,this.ref=r,this.fontCache=o,this.builtInCMapCache=l,this.standardFontDataCache=c,this.globalColorSpaceCache=u,this.globalImageCache=d,this.systemFontCache=p,this.nonBlendModesSet=g,this.evaluatorOptions=e.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=m;const b={obj:0};this._localIdFactory=class extends a{static createObjId(){return`p${i}_${++b.obj}`}static getPageObjId(){return`p${r.toString()}`}}}_getInheritableProperty(e,n=!1){const i=Ga({dict:this.pageDict,key:e,getArray:n,stopWhenFound:!1});return Array.isArray(i)?i.length===1||!(i[0]instanceof J)?i[0]:J.merge({xref:this.xref,dictArray:i}):i}get content(){return this.pageDict.getArray("Contents")}get resources(){const e=this._getInheritableProperty("Resources");return Fe(this,"resources",e instanceof J?e:J.empty)}_getBoundingBox(e){if(this.xfaData)return this.xfaData.bbox;const n=Tl(this._getInheritableProperty(e,!0),null);if(n){if(n[2]-n[0]>0&&n[3]-n[1]>0)return n;W(`Empty, or invalid, /${e} entry.`)}return null}get mediaBox(){return Fe(this,"mediaBox",this._getBoundingBox("MediaBox")||cde)}get cropBox(){return Fe(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){const e=this.pageDict.get("UserUnit");return Fe(this,"userUnit",typeof e=="number"&&e>0?e:1)}get view(){const{cropBox:e,mediaBox:n}=this;if(e!==n&&!Ux(e,n)){const i=rn.intersect(e,n);if(i&&i[2]-i[0]>0&&i[3]-i[1]>0)return Fe(this,"view",i);W("Empty /CropBox and /MediaBox intersection.")}return Fe(this,"view",n)}get rotate(){let e=this._getInheritableProperty("Rotate")||0;return e%90!==0?e=0:e>=360?e%=360:e<0&&(e=(e%360+360)%360),Fe(this,"rotate",e)}_onSubStreamError(e,n){if(this.evaluatorOptions.ignoreErrors){W(`getContentStream - ignoring sub-stream (${n}): "${e}".`);return}throw e}async getContentStream(){const e=await this.pdfManager.ensure(this,"content");return e instanceof _t?e:Array.isArray(e)?new oie(e,this._onSubStreamError.bind(this)):new pA}get xfaData(){return Fe(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}async saveNewAnnotations(e,n,i,s,r){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const a=new Cl({xref:this.xref,handler:e,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalColorSpaceCache:this.globalColorSpaceCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),o=new Nr,l=new Bi;await M(this,U9,QA).call(this,i,o,l);const c=this.pageDict,u=this.annotations.filter(g=>!(g instanceof Be&&o.has(g))),d=await F0.saveNewAnnotations(a,n,i,s,r);for(const{ref:g}of d.annotations)g instanceof Be&&!l.has(g)&&u.push(g);const p=c.clone();p.set("Annots",u),r.put(this.ref,{data:p});for(const g of o)r.put(g,{data:null})}async save(e,n,i,s){const r=new Cl({xref:this.xref,handler:e,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalColorSpaceCache:this.globalColorSpaceCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),a=await this._parsedAnnotations,o=[];for(const l of a)o.push(l.save(r,n,i,s).catch(function(c){return W(`save - ignoring annotation data during "${n.name}" task: "${c}".`),null}));return Promise.all(o)}async loadResources(e){await(this.resourcesPromise??(this.resourcesPromise=this.pdfManager.ensure(this,"resources"))),await new a8(this.resources,e,this.xref).load()}async getOperatorList({handler:e,sink:n,task:i,intent:s,cacheKey:r,annotationStorage:a=null,modifiedIds:o=null}){const l=this.getContentStream(),c=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),u=new Cl({xref:this.xref,handler:e,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalColorSpaceCache:this.globalColorSpaceCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),d=this.xfaFactory?null:AO(a),p=d==null?void 0:d.get(this.pageIndex);let g=Promise.resolve(null),m=null;if(p){const U=this.pdfManager.ensureDoc("annotationGlobals");let V;const ee=new Set;for(const{bitmapId:G,bitmap:$}of p)G&&!$&&!ee.has(G)&&ee.add(G);const{isOffscreenCanvasSupported:Q}=this.evaluatorOptions;if(ee.size>0){const G=p.slice();for(const[$,ie]of a)$.startsWith(pO)&&ie.bitmap&&ee.has(ie.bitmapId)&&G.push(ie);V=F0.generateImages(G,this.xref,Q)}else V=F0.generateImages(p,this.xref,Q);m=new Bi,g=Promise.all([U,M(this,U9,QA).call(this,p,m,null)]).then(([G])=>G?F0.printNewAnnotations(G,u,i,p,V):null)}const b=Promise.all([l,c]).then(async([U])=>{const V=new Dr(s,n);return e.send("StartRenderPage",{transparency:u.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:r}),await u.getOperatorList({stream:U,task:i,resources:this.resources,operatorList:V}),V});let[v,S,C]=await Promise.all([b,this._parsedAnnotations,g]);if(C){S=S.filter(U=>!(U.ref&&m.has(U.ref)));for(let U=0,V=C.length;U<V;U++){const ee=C[U];if(ee.refToReplace){const Q=S.findIndex(G=>G.ref&&J5(G.ref,ee.refToReplace));Q>=0&&(S.splice(Q,1,ee),C.splice(U--,1),V--)}}S=S.concat(C)}if(S.length===0||s&nr.ANNOTATIONS_DISABLE)return v.flush(!0),{length:v.totalLength};const E=!!(s&nr.ANNOTATIONS_FORMS),w=!!(s&nr.IS_EDITING),A=!!(s&nr.ANY),T=!!(s&nr.DISPLAY),P=!!(s&nr.PRINT),R=[];for(const U of S)(A||T&&U.mustBeViewed(a,E)&&U.mustBeViewedWhenEditing(w,o)||P&&U.mustBePrinted(a))&&R.push(U.getOperatorList(u,i,s,a).catch(function(V){return W(`getOperatorList - ignoring annotation data during "${i.name}" task: "${V}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));const D=await Promise.all(R);let O=!1,B=!1;for(const{opList:U,separateForm:V,separateCanvas:ee}of D)v.addOpList(U),O||(O=V),B||(B=ee);return v.flush(!0,{form:O,canvas:B}),{length:v.totalLength}}async extractTextContent({handler:e,task:n,includeMarkedContent:i,disableNormalization:s,sink:r}){const a=this.getContentStream(),o=this.loadResources(["ExtGState","Font","Properties","XObject"]),l=this.pdfManager.ensureCatalog("lang"),[c,,u]=await Promise.all([a,o,l]);return new Cl({xref:this.xref,handler:e,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalColorSpaceCache:this.globalColorSpaceCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:c,task:n,resources:this.resources,includeMarkedContent:i,disableNormalization:s,sink:r,viewBox:this.view,lang:u})}async getStructTree(){const e=await this.pdfManager.ensureCatalog("structTreeRoot");if(!e)return null;await this._parsedAnnotations;const n=await this.pdfManager.ensure(this,"_parseStructTree",[e]);return this.pdfManager.ensure(n,"serializable")}_parseStructTree(e){const n=new vB(e,this.pageDict);return n.parse(this.ref),n}async getAnnotationsData(e,n,i){const s=await this._parsedAnnotations;if(s.length===0)return s;const r=[],a=[];let o;const l=!!(i&nr.ANY),c=!!(i&nr.DISPLAY),u=!!(i&nr.PRINT);for(const d of s){const p=l||c&&d.viewable;(p||u&&d.printable)&&r.push(d.data),d.hasTextContent&&p&&(o||(o=new Cl({xref:this.xref,handler:e,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalColorSpaceCache:this.globalColorSpaceCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions})),a.push(d.extractTextContent(o,n,[-1/0,-1/0,1/0,1/0]).catch(function(g){W(`getAnnotationsData - ignoring textContent during "${n.name}" task: "${g}".`)})))}return await Promise.all(a),r}get annotations(){const e=this._getInheritableProperty("Annots");return Fe(this,"annotations",Array.isArray(e)?e:[])}get _parsedAnnotations(){const e=this.pdfManager.ensure(this,"annotations").then(async n=>{if(n.length===0)return n;const[i,s]=await Promise.all([this.pdfManager.ensureDoc("annotationGlobals"),this.pdfManager.ensureDoc("fieldObjects")]);if(!i)return[];const r=s==null?void 0:s.orphanFields,a=[];for(const u of n)a.push(F0.create(this.xref,u,i,this._localIdFactory,!1,r,this.ref).catch(function(d){return W(`_parsedAnnotations: "${d}".`),null}));const o=[];let l,c;for(const u of await Promise.all(a))if(u){if(u instanceof Bo){(c||(c=[])).push(u);continue}if(u instanceof oj){(l||(l=[])).push(u);continue}o.push(u)}return c&&o.push(...c),l&&o.push(...l),o});return Fe(this,"_parsedAnnotations",e)}get jsActions(){const e=P6(this.xref,this.pageDict,une);return Fe(this,"jsActions",e)}}U9=new WeakSet,QA=async function(e,n,i){const s=[];for(const r of e)if(r.id){const a=Be.fromString(r.id);if(!a){W(`A non-linked annotation cannot be modified: ${r.id}`);continue}if(r.deleted){if(n.put(a,a),r.popupRef){const o=Be.fromString(r.popupRef);o&&n.put(o,o)}continue}i==null||i.put(a),r.ref=a,s.push(this.xref.fetchAsync(a).then(o=>{o instanceof J&&(r.oldAnnotation=o.clone())},()=>{W(`Cannot fetch \`oldAnnotation\` for: ${a}.`)})),delete r.id}await Promise.all(s)};const gR=new Uint8Array([37,80,68,70,45]),mR=new Uint8Array([115,116,97,114,116,120,114,101,102]),ude=new Uint8Array([101,110,100,111,98,106]);function Jw(t,e,n=1024,i=!1){const s=e.length,r=t.peekBytes(n),a=r.length-s;if(a<=0)return!1;if(i){const o=s-1;let l=r.length-1;for(;l>=o;){let c=0;for(;c<s&&r[l-c]===e[o-c];)c++;if(c>=s)return t.pos+=l-o,!0;l--}}else{let o=0;for(;o<=a;){let l=0;for(;l<s&&r[o+l]===e[l];)l++;if(l>=s)return t.pos+=o,!0;o++}}return!1}var z9,ek;class mj{constructor(e,n){L(this,z9);if(n.length<=0)throw new jx("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=e,this.stream=n,this.xref=new lde(n,e),this._pagePromises=new Map,this._version=null;const i={font:0};this._globalIdFactory=class{static getDocId(){return`g_${e.docId}`}static createFontId(){return`f${++i.font}`}static createObjId(){Ot("Abstract method `createObjId` called.")}static getPageObjId(){Ot("Abstract method `getPageObjId` called.")}}}parse(e){this.xref.parse(e),this.catalog=new Zx(this.pdfManager,this.xref)}get linearization(){let e=null;try{e=Zie.create(this.stream)}catch(n){if(n instanceof En)throw n;Pt(n)}return Fe(this,"linearization",e)}get startXRef(){const e=this.stream;let n=0;if(this.linearization){if(e.reset(),Jw(e,ude)){e.skip(6);let i=e.peekByte();for(;pa(i);)e.pos++,i=e.peekByte();n=e.pos-e.start}}else{const s=mR.length;let r=!1,a=e.end;for(;!r&&a>0;)a-=1024-s,a<0&&(a=0),e.pos=a,r=Jw(e,mR,1024,!0);if(r){e.skip(9);let o;do o=e.getByte();while(pa(o));let l="";for(;o>=32&&o<=57;)l+=String.fromCharCode(o),o=e.getByte();n=parseInt(l,10),isNaN(n)&&(n=0)}}return Fe(this,"startXRef",n)}checkHeader(){const e=this.stream;if(e.reset(),!Jw(e,gR))return;e.moveStart(),e.skip(gR.length);let n="",i;for(;(i=e.getByte())>32&&n.length<7;)n+=String.fromCharCode(i);yO.test(n)?this._version=n:W(`Invalid PDF header version: ${n}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let e=0;return this.catalog.hasActualNumPages?e=this.catalog.numPages:this.xfaFactory?e=this.xfaFactory.getNumPages():this.linearization?e=this.linearization.numPages:e=this.catalog.numPages,Fe(this,"numPages",e)}_hasOnlyDocumentSignatures(e,n=0){return Array.isArray(e)?e.every(s=>{if(s=this.xref.fetchIfRef(s),!(s instanceof J))return!1;if(s.has("Kids"))return++n>10?(W("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(s.get("Kids"),n);const r=ti(s.get("FT"),"Sig"),a=s.get("Rect"),o=Array.isArray(a)&&a.every(l=>l===0);return r&&o}):!1}get _xfaStreams(){const e=this.catalog.acroForm;if(!e)return null;const n=e.get("XFA"),i={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(n instanceof _t&&!n.isEmpty)return i["xdp:xdp"]=n,i;if(!Array.isArray(n)||n.length===0)return null;for(let s=0,r=n.length;s<r;s+=2){let a;if(s===0?a="xdp:xdp":s===r-2?a="/xdp:xdp":a=n[s],!i.hasOwnProperty(a))continue;const o=this.xref.fetchIfRef(n[s+1]);!(o instanceof _t)||o.isEmpty||(i[a]=o)}return i}get xfaDatasets(){const e=this._xfaStreams;if(!e)return Fe(this,"xfaDatasets",null);for(const n of["datasets","xdp:xdp"]){const i=e[n];if(i)try{const s=$x(i.getString()),r={[n]:s};return Fe(this,"xfaDatasets",new zhe(r))}catch{W("XFA - Invalid utf-8 string.");break}}return Fe(this,"xfaDatasets",null)}get xfaData(){const e=this._xfaStreams;if(!e)return null;const n=Object.create(null);for(const[i,s]of Object.entries(e))if(s)try{n[i]=$x(s.getString())}catch{return W("XFA - Invalid utf-8 string."),null}return n}get xfaFactory(){let e;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(e=this.xfaData),Fe(this,"xfaFactory",e?new l3(e):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const e=await this.pdfManager.ensureCatalog("xfaImages");if(!e)return;const n=e.getKeys();await new a8(e,n,this.xref).load();const s=new Map;for(const r of n){const a=e.get(r);a instanceof _t&&s.set(r,a.getBytes())}this.xfaFactory.setImages(s)}async loadXfaFonts(e,n){const i=await this.pdfManager.ensureCatalog("acroForm");if(!i)return;const s=await i.getAsync("DR");if(!(s instanceof J))return;await new a8(s,["Font"],this.xref).load();const a=s.get("Font");if(!(a instanceof J))return;const o=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);o.useSystemFonts=!1;const l=new Cl({xref:this.xref,handler:e,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:o}),c=new Dr,u=[],d={get font(){return u.at(-1)},set font(b){u.push(b)},clone(){return this}},p=[];for(const[b,v]of a){const S=v.get("FontDescriptor");if(!(S instanceof J))continue;let C=S.get("FontFamily");C=C.replaceAll(/[ ]+(\d)/g,"$1");const E=S.get("FontWeight"),w=-S.get("ItalicAngle"),A={fontFamily:C,fontWeight:E,italicAngle:w};Ine(A)&&p.push(l.handleSetFont(s,[le.get(b),1],null,c,n,d,null,A).catch(function(T){return W(`loadXfaFonts: "${T}".`),null}))}await Promise.all(p);const g=this.xfaFactory.setFonts(u);if(!g)return;o.ignoreErrors=!0,p.length=0,u.length=0;const m=new Set;for(const b of g)oC(`${b}-Regular`)||m.add(b);m.size&&g.push("PdfJS-Fallback");for(const b of g)if(!m.has(b))for(const v of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const S=`${b}-${v.name}`,C=aB(S);p.push(l.handleSetFont(s,[le.get(S),1],null,c,n,d,C,{fontFamily:b,fontWeight:v.fontWeight,italicAngle:v.italicAngle}).catch(function(E){return W(`loadXfaFonts: "${E}".`),null}))}await Promise.all(p),this.xfaFactory.appendFonts(u,m)}async serializeXfaData(e){return this.xfaFactory?this.xfaFactory.serializeData(e):null}get version(){return this.catalog.version||this._version}get formInfo(){const e={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},n=this.catalog.acroForm;if(!n)return Fe(this,"formInfo",e);try{const i=n.get("Fields"),s=Array.isArray(i)&&i.length>0;e.hasFields=s;const r=n.get("XFA");e.hasXfa=Array.isArray(r)&&r.length>0||r instanceof _t&&!r.isEmpty;const o=!!(n.get("SigFlags")&1),l=o&&this._hasOnlyDocumentSignatures(i);e.hasAcroForm=s&&!l,e.hasSignatures=o}catch(i){if(i instanceof En)throw i;W(`Cannot fetch form information: "${i}".`)}return Fe(this,"formInfo",e)}get documentInfo(){const e={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let n;try{n=this.xref.trailer.get("Info")}catch(i){if(i instanceof En)throw i;Pt("The document information dictionary is invalid.")}if(!(n instanceof J))return Fe(this,"documentInfo",e);for(const[i,s]of n){switch(i){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof s=="string"){e[i]=Wt(s);continue}break;case"Trapped":if(s instanceof le){e[i]=s;continue}break;default:let r;switch(typeof s){case"string":r=Wt(s);break;case"number":case"boolean":r=s;break;default:s instanceof le&&(r=s);break}if(r===void 0){W(`Bad value, for custom key "${i}", in Info: ${s}.`);continue}e.Custom||(e.Custom=Object.create(null)),e.Custom[i]=r;continue}W(`Bad value, for key "${i}", in Info: ${s}.`)}return Fe(this,"documentInfo",e)}get fingerprints(){const n="\0".repeat(16);function i(o){return typeof o=="string"&&o.length===16&&o!==n}const s=this.xref.trailer.get("ID");let r,a;return Array.isArray(s)&&i(s[0])?(r=xs(s[0]),s[1]!==s[0]&&i(s[1])&&(a=xs(s[1]))):r=T0(this.stream.getByteRange(0,1024),0,1024),Fe(this,"fingerprints",[qP(r),a?qP(a):null])}async _getLinearizationPage(e){const{catalog:n,linearization:i,xref:s}=this,r=Be.get(i.objectNumberFirst,0);try{const a=await s.fetchAsync(r);if(a instanceof J){let o=a.getRaw("Type");if(o instanceof Be&&(o=await s.fetchAsync(o)),ti(o,"Page")||!a.has("Type")&&!a.has("Kids")&&a.has("Contents"))return n.pageKidsCountCache.has(r)||n.pageKidsCountCache.put(r,1),n.pageIndexCache.has(r)||n.pageIndexCache.put(r,0),[a,r]}throw new me("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(a){return W(`_getLinearizationPage: "${a.message}".`),n.getPageDict(e)}}getPage(e){const n=this._pagePromises.get(e);if(n)return n;const{catalog:i,linearization:s,xfaFactory:r}=this;let a;return r?a=Promise.resolve([J.empty,null]):(s==null?void 0:s.pageFirst)===e?a=this._getLinearizationPage(e):a=i.getPageDict(e),a=a.then(([o,l])=>new pR({pdfManager:this.pdfManager,xref:this.xref,pageIndex:e,pageDict:o,ref:l,globalIdFactory:this._globalIdFactory,fontCache:i.fontCache,builtInCMapCache:i.builtInCMapCache,standardFontDataCache:i.standardFontDataCache,globalColorSpaceCache:i.globalColorSpaceCache,globalImageCache:i.globalImageCache,systemFontCache:i.systemFontCache,nonBlendModesSet:i.nonBlendModesSet,xfaFactory:r})),this._pagePromises.set(e,a),a}async checkFirstPage(e=!1){if(!e)try{await this.getPage(0)}catch(n){if(n instanceof wu)throw this._pagePromises.delete(0),await this.cleanup(),new M1}}async checkLastPage(e=!1){const{catalog:n,pdfManager:i}=this;n.setActualNumPages();let s;try{if(await Promise.all([i.ensureDoc("xfaFactory"),i.ensureDoc("linearization"),i.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?s=this.linearization.numPages:s=n.numPages,Number.isInteger(s)){if(s<=1)return}else throw new me("Page count is not an integer.");await this.getPage(s-1)}catch(r){if(this._pagePromises.delete(s-1),await this.cleanup(),r instanceof wu&&!e)throw new M1;W(`checkLastPage - invalid /Pages tree /Count: ${s}.`);let a;try{a=await n.getAllPageDicts(e)}catch(o){if(o instanceof wu&&!e)throw new M1;n.setActualNumPages(1);return}for(const[o,[l,c]]of a){let u;l instanceof Error?(u=Promise.reject(l),u.catch(()=>{})):u=Promise.resolve(new pR({pdfManager:i,xref:this.xref,pageIndex:o,pageDict:l,ref:c,globalIdFactory:this._globalIdFactory,fontCache:n.fontCache,builtInCMapCache:n.builtInCMapCache,standardFontDataCache:n.standardFontDataCache,globalColorSpaceCache:this.globalColorSpaceCache,globalImageCache:n.globalImageCache,systemFontCache:n.systemFontCache,nonBlendModesSet:n.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(o,u)}n.setActualNumPages(a.size)}}async fontFallback(e,n){const{catalog:i,pdfManager:s}=this;for(const r of await Promise.all(i.fontCache))if(r.loadedName===e){r.fallback(n,s.evaluatorOptions);return}}async cleanup(e=!1){return this.catalog?this.catalog.cleanup(e):uC()}get fieldObjects(){const e=this.pdfManager.ensureDoc("formInfo").then(async n=>{if(!n.hasFields)return null;const[i,s]=await Promise.all([this.pdfManager.ensureDoc("annotationGlobals"),this.pdfManager.ensureCatalog("acroForm")]);if(!i)return null;const r=new Bi,a=Object.create(null),o=new Map,l=new Nr;for(const u of await s.getAsync("Fields"))await M(this,z9,ek).call(this,"",null,u,o,i,r,l);const c=[];for(const[u,d]of o)c.push(Promise.all(d).then(p=>{p=p.filter(g=>!!g),p.length>0&&(a[u]=p)}));return await Promise.all(c),{allFields:Wk(a)>0?a:null,orphanFields:l}});return Fe(this,"fieldObjects",e)}get hasJSActions(){const e=this.pdfManager.ensureDoc("_parseHasJSActions");return Fe(this,"hasJSActions",e)}async _parseHasJSActions(){const[e,n]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return e?!0:n!=null&&n.allFields?Object.values(n.allFields).some(i=>i.some(s=>s.actions!==null)):!1}get calculationOrderIds(){var i;const e=(i=this.catalog.acroForm)==null?void 0:i.get("CO");if(!Array.isArray(e)||e.length===0)return Fe(this,"calculationOrderIds",null);const n=[];for(const s of e)s instanceof Be&&n.push(s.toString());return Fe(this,"calculationOrderIds",n.length?n:null)}get annotationGlobals(){return Fe(this,"annotationGlobals",F0.createGlobals(this.pdfManager))}}z9=new WeakSet,ek=async function(e,n,i,s,r,a,o){const{xref:l}=this;if(!(i instanceof Be)||a.has(i))return;a.put(i);const c=await l.fetchAsync(i);if(!(c instanceof J))return;let u=await c.getAsync("Subtype");switch(u=u instanceof le?u.name:null,u){case"Link":return}if(c.has("T")){const p=Wt(await c.getAsync("T"));e=e===""?p:`${e}.${p}`}else{let p=c;for(;;){if(p=p.getRaw("Parent")||n,p instanceof Be){if(a.has(p))break;p=await l.fetchAsync(p)}if(!(p instanceof J))break;if(p.has("T")){const g=Wt(await p.getAsync("T"));e=e===""?g:`${e}.${g}`;break}}}if(n&&!c.has("Parent")&&ti(c.get("Subtype"),"Widget")&&o.put(i,n),s.has(e)||s.set(e,[]),s.get(e).push(F0.create(l,i,r,null,!0,o,null).then(p=>p==null?void 0:p.getFieldObject()).catch(function(p){return W(`#collectFieldObjects: "${p}".`),null})),!c.has("Kids"))return;const d=await c.getAsync("Kids");if(Array.isArray(d))for(const p of d)await M(this,z9,ek).call(this,e,i,p,s,r,a,o)};function hde(t){if(t){const e=Z5(t);if(e)return e.href;W(`Invalid absolute docBaseUrl: "${t}".`)}return null}class xj{constructor({docBaseUrl:e,docId:n,enableXfa:i,evaluatorOptions:s,handler:r,password:a}){this._docBaseUrl=hde(e),this._docId=n,this._password=a,this.enableXfa=i,s.isOffscreenCanvasSupported&&(s.isOffscreenCanvasSupported=Lr.isOffscreenCanvasSupported),s.isImageDecoderSupported&&(s.isImageDecoderSupported=Lr.isImageDecoderSupported),this.evaluatorOptions=Object.freeze(s),il.setOptions(s),cg.setOptions(s);const o={...s,handler:r};Co.setOptions(o),df.setOptions(o),zx.setOptions(o)}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(e,n){return this.ensure(this.pdfDocument,e,n)}ensureXRef(e,n){return this.ensure(this.pdfDocument.xref,e,n)}ensureCatalog(e,n){return this.ensure(this.pdfDocument.catalog,e,n)}getPage(e){return this.pdfDocument.getPage(e)}fontFallback(e,n){return this.pdfDocument.fontFallback(e,n)}loadXfaFonts(e,n){return this.pdfDocument.loadXfaFonts(e,n)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(e){return this.pdfDocument.serializeXfaData(e)}cleanup(e=!1){return this.pdfDocument.cleanup(e)}async ensure(e,n,i){Ot("Abstract method `ensure` called")}requestRange(e,n){Ot("Abstract method `requestRange` called")}requestLoadedStream(e=!1){Ot("Abstract method `requestLoadedStream` called")}sendProgressiveData(e){Ot("Abstract method `sendProgressiveData` called")}updatePassword(e){this._password=e}terminate(e){Ot("Abstract method `terminate` called")}}class xR extends xj{constructor(e){super(e);const n=new Vn(e.source);this.pdfDocument=new mj(this,n),this._loadedStreamPromise=Promise.resolve(n)}async ensure(e,n,i){const s=e[n];return typeof s=="function"?s.apply(e,i):s}requestRange(e,n){return Promise.resolve()}requestLoadedStream(e=!1){return this._loadedStreamPromise}terminate(e){}}class dde extends xj{constructor(e){super(e),this.streamManager=new nie(e.source,{msgHandler:e.handler,length:e.length,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize}),this.pdfDocument=new mj(this,this.streamManager.getStream())}async ensure(e,n,i){try{const s=e[n];return typeof s=="function"?s.apply(e,i):s}catch(s){if(!(s instanceof En))throw s;return await this.requestRange(s.begin,s.end),this.ensure(e,n,i)}}requestRange(e,n){return this.streamManager.requestRange(e,n)}requestLoadedStream(e=!1){return this.streamManager.requestAllChunks(e)}sendProgressiveData(e){this.streamManager.onReceiveData({chunk:e})}terminate(e){this.streamManager.abort(e)}}const hy={DATA:1,ERROR:2},vi={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function bR(){}function Gr(t){if(t instanceof hs||t instanceof jx||t instanceof Bx||t instanceof zP||t instanceof Cw)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Ot('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new hs(t.message);case"InvalidPDFException":return new jx(t.message);case"PasswordException":return new Bx(t.message,t.code);case"ResponseException":return new zP(t.message,t.status,t.missing);case"UnknownErrorException":return new Cw(t.message,t.details)}return new Cw(t.message,t.toString())}var Qp,Ya,bj,yj,wj,A5;class yR{constructor(e,n,i){L(this,Ya);L(this,Qp,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",M(this,Ya,bj).bind(this),{signal:x(this,Qp).signal})}on(e,n){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=n}send(e,n,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},i)}sendWithPromise(e,n,i){const s=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[s]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:n},i)}catch(a){r.reject(a)}return r.promise}sendWithStream(e,n,i,s){const r=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[r]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:r,data:n,desiredSize:c.desiredSize},s),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[r].pullCall=u,l.postMessage({sourceName:a,targetName:o,stream:vi.PULL,streamId:r,desiredSize:c.desiredSize}),u.promise},cancel:c=>{bs(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[r].cancelCall=u,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:vi.CANCEL,streamId:r,reason:Gr(c)}),u.promise}},i)}destroy(){var e;(e=x(this,Qp))==null||e.abort(),F(this,Qp,null)}}Qp=new WeakMap,Ya=new WeakSet,bj=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){M(this,Ya,wj).call(this,e);return}if(e.callback){const i=e.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===hy.DATA)s.resolve(e.data);else if(e.callback===hy.ERROR)s.reject(Gr(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,s=e.sourceName,r=this.comObj;Promise.try(n,e.data).then(function(a){r.postMessage({sourceName:i,targetName:s,callback:hy.DATA,callbackId:e.callbackId,data:a})},function(a){r.postMessage({sourceName:i,targetName:s,callback:hy.ERROR,callbackId:e.callbackId,reason:Gr(a)})});return}if(e.streamId){M(this,Ya,yj).call(this,e);return}n(e.data)},yj=function(e){const n=e.streamId,i=this.sourceName,s=e.sourceName,r=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=u,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:i,targetName:s,stream:vi.ENQUEUE,streamId:n,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:vi.CLOSE,streamId:n}),delete a.streamSinks[n])},error(c){bs(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:i,targetName:s,stream:vi.ERROR,streamId:n,reason:Gr(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(o,e.data,l).then(function(){r.postMessage({sourceName:i,targetName:s,stream:vi.START_COMPLETE,streamId:n,success:!0})},function(c){r.postMessage({sourceName:i,targetName:s,stream:vi.START_COMPLETE,streamId:n,reason:Gr(c)})})},wj=function(e){const n=e.streamId,i=this.sourceName,s=e.sourceName,r=this.comObj,a=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case vi.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Gr(e.reason));break;case vi.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Gr(e.reason));break;case vi.PULL:if(!o){r.postMessage({sourceName:i,targetName:s,stream:vi.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||bR).then(function(){r.postMessage({sourceName:i,targetName:s,stream:vi.PULL_COMPLETE,streamId:n,success:!0})},function(c){r.postMessage({sourceName:i,targetName:s,stream:vi.PULL_COMPLETE,streamId:n,reason:Gr(c)})});break;case vi.ENQUEUE:if(bs(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case vi.CLOSE:if(bs(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),M(this,Ya,A5).call(this,a,n);break;case vi.ERROR:bs(a,"error should have stream controller"),a.controller.error(Gr(e.reason)),M(this,Ya,A5).call(this,a,n);break;case vi.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Gr(e.reason)),M(this,Ya,A5).call(this,a,n);break;case vi.CANCEL:if(!o)break;const l=Gr(e.reason);Promise.try(o.onCancel||bR,l).then(function(){r.postMessage({sourceName:i,targetName:s,stream:vi.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){r.postMessage({sourceName:i,targetName:s,stream:vi.CANCEL_COMPLETE,streamId:n,reason:Gr(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},A5=async function(e,n){var i,s,r;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(s=e.pullCall)==null?void 0:s.promise,(r=e.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[n]};async function vj(t,e,n,{encrypt:i=null}){const s=i==null?void 0:i.createCipherTransform(t.num,t.gen);n.push(`${t.num} ${t.gen} obj
`),e instanceof J?await W6(e,n,s):e instanceof _t?await Sj(e,n,s):(Array.isArray(e)||ArrayBuffer.isView(e))&&await Aj(e,n,s),n.push(`
endobj
`)}async function W6(t,e,n){e.push("<<");for(const i of t.getKeys())e.push(` /${Xk(i)} `),await kj(t.getRaw(i),e,n);e.push(">>")}async function Sj(t,e,n){let i=t.getBytes();const{dict:s}=t,[r,a]=await Promise.all([s.getAsync("Filter"),s.getAsync("DecodeParms")]),o=Array.isArray(r)?await s.xref.fetchIfRefAsync(r[0]):r,l=ti(o,"FlateDecode");if(i.length>=256||l)try{const d=new CompressionStream("deflate"),p=d.writable.getWriter();await p.ready,p.write(i).then(async()=>{await p.ready,await p.close()}).catch(()=>{});const g=await new Response(d.readable).arrayBuffer();i=new Uint8Array(g);let m,b;r?l||(m=Array.isArray(r)?[le.get("FlateDecode"),...r]:[le.get("FlateDecode"),r],a&&(b=Array.isArray(a)?[null,...a]:[null,a])):m=le.get("FlateDecode"),m&&s.set("Filter",m),b&&s.set("DecodeParms",b)}catch(d){Pt(`writeStream - cannot compress data: "${d}".`)}let u=Mr(i);n&&(u=n.encryptString(u)),s.set("Length",u.length),await W6(s,e,n),e.push(` stream
`,u,`
endstream`)}async function Aj(t,e,n){e.push("[");let i=!0;for(const s of t)i?i=!1:e.push(" "),await kj(s,e,n);e.push("]")}async function kj(t,e,n){t instanceof le?e.push(`/${Xk(t.name)}`):t instanceof Be?e.push(`${t.num} ${t.gen} R`):Array.isArray(t)||ArrayBuffer.isView(t)?await Aj(t,e,n):typeof t=="string"?(n&&(t=n.encryptString(t)),e.push(`(${lg(t)})`)):typeof t=="number"?e.push(Lt(t)):typeof t=="boolean"?e.push(t.toString()):t instanceof J?await W6(t,e,n):t instanceof _t?await Sj(t,e,n):t===null?e.push("null"):W(`Unhandled value in writer: ${typeof t}, please file a bug.`)}function Qw(t,e,n,i){for(let s=e+n-1;s>n-1;s--)i[s]=t&255,t>>=8;return n+e}function Cj(t,e,n){const i=t.length;for(let s=0;s<i;s++)n[e+s]=t.charCodeAt(s)&255;return e+i}function fde(t,e){const n=Math.floor(Date.now()/1e3),i=e.filename||"",s=[n.toString(),i,t.toString(),...Object.values(e.info)],r=Math.sumPrecise(s.map(l=>l.length)),a=new Uint8Array(r);let o=0;for(const l of s)o=Cj(l,o,a);return Mr(T0(a,0,a.length))}function pde(t,e){const n=new D6({hasAttributes:!0}).parseFromString(t);for(const{xfa:s}of e){if(!s)continue;const{path:r,value:a}=s;if(!r)continue;const o=vO(r);let l=n.documentElement.searchNode(o,0);!l&&o.length>1&&(l=n.documentElement.searchNode([o.at(-1)],0)),l?l.childNodes=Array.isArray(a)?a.map(c=>new bx("value",c)):[new bx("#text",a)]:W(`Node not found for path: ${r}`)}const i=[];return n.documentElement.dump(i),i.join("")}async function gde({xref:t,acroForm:e,acroFormRef:n,hasXfa:i,hasXfaDatasetsEntry:s,xfaDatasetsRef:r,needAppearances:a,changes:o}){if(i&&!s&&!r&&W("XFA - Cannot save it"),!a&&(!i||!r||s))return;const l=e.clone();if(i&&!s){const c=e.get("XFA").slice();c.splice(2,0,"datasets"),c.splice(3,0,r),l.set("XFA",c)}a&&l.set("NeedAppearances",!0),o.put(n,{data:l})}function mde({xfaData:t,xfaDatasetsRef:e,changes:n,xref:i}){if(t===null){const r=i.fetchIfRef(e);t=pde(r.getString(),n)}const s=new hr(t);s.dict=new J(i),s.dict.set("Type",le.get("EmbeddedFile")),n.put(e,{data:s})}async function xde(t,e,n,i,s){s.push(`xref
`);const r=Ej(n);let a=0;for(const{ref:o,data:l}of n)o.num===r[a]&&(s.push(`${r[a]} ${r[a+1]}
`),a+=2),l!==null?(s.push(`${e.toString().padStart(10,"0")} ${Math.min(o.gen,65535).toString().padStart(5,"0")} n\r
`),e+=l.length):s.push(`0000000000 ${Math.min(o.gen+1,65535).toString().padStart(5,"0")} f\r
`);_j(e,t,i),s.push(`trailer
`),await W6(i,s),s.push(`
startxref
`,e.toString(),`
%%EOF
`)}function Ej(t){const e=[];for(const{ref:n}of t)n.num===e.at(-2)+e.at(-1)?e[e.length-1]+=1:e.push(n.num,1);return e}async function bde(t,e,n,i,s){const r=[];let a=0,o=0;for(const{ref:b,data:v}of n){let S;a=Math.max(a,e),v!==null?(S=Math.min(b.gen,65535),r.push([1,e,S]),e+=v.length):(S=Math.min(b.gen+1,65535),r.push([0,0,S])),o=Math.max(o,S)}i.set("Index",Ej(n));const l=GP(a),c=GP(o),u=[1,l,c];i.set("W",u),_j(e,t,i);const d=Math.sumPrecise(u),p=new Uint8Array(d*r.length),g=new Vn(p);g.dict=i;let m=0;for(const[b,v,S]of r)m=Qw(b,u[0],m,p),m=Qw(v,u[1],m,p),m=Qw(S,u[2],m,p);await vj(t.newRef,g,s,{}),s.push(`startxref
`,e.toString(),`
%%EOF
`)}function _j(t,e,n){if(Array.isArray(e.fileIds)&&e.fileIds.length>0){const i=fde(t,e);n.set("ID",[e.fileIds[0],i])}}function yde(t,e,n){const i=new J(null);i.set("Prev",t.startXRef);const s=t.newRef;return n?(e.put(s,{data:""}),i.set("Size",s.num+1),i.set("Type",le.get("XRef"))):i.set("Size",s.num),t.rootRef!==null&&i.set("Root",t.rootRef),t.infoRef!==null&&i.set("Info",t.infoRef),t.encryptRef!==null&&i.set("Encrypt",t.encryptRef),i}async function wde(t,e,n=[]){const i=[];for(const[s,{data:r}]of t.items()){if(r===null||typeof r=="string"){i.push({ref:s,data:r});continue}await vj(s,r,n,e),i.push({ref:s,data:n.join("")}),n.length=0}return i.sort((s,r)=>s.ref.num-r.ref.num)}async function vde({originalData:t,xrefInfo:e,changes:n,xref:i=null,hasXfa:s=!1,xfaDatasetsRef:r=null,hasXfaDatasetsEntry:a=!1,needAppearances:o,acroFormRef:l=null,acroForm:c=null,xfaData:u=null,useXrefStream:d=!1}){await gde({xref:i,acroForm:c,acroFormRef:l,hasXfa:s,hasXfaDatasetsEntry:a,xfaDatasetsRef:r,needAppearances:o,changes:n}),s&&mde({xfaData:u,xfaDatasetsRef:r,changes:n,xref:i});const p=yde(e,n,d),g=[],m=await wde(n,i,g);let b=t.length;const v=t.at(-1);v!==10&&v!==13&&(g.push(`
`),b+=1);for(const{data:w}of m)w!==null&&g.push(w);await(d?bde(e,b,m,p,g):xde(e,b,m,p,g));const S=t.length+Math.sumPrecise(g.map(w=>w.length)),C=new Uint8Array(S);C.set(t);let E=t.length;for(const w of g)E=Cj(w,E,C);return C}class Sde{constructor(e){this._msgHandler=e,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return bs(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new Ade(this._msgHandler),this._fullRequestReader}getRangeReader(e,n){const i=new kde(e,n,this._msgHandler);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Ade{constructor(e){this._msgHandler=e,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const n=this._msgHandler.sendWithStream("GetReader");this._reader=n.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(i=>{this._isStreamingSupported=i.isStreamingSupported,this._isRangeSupported=i.isRangeSupported,this._contentLength=i.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:e,done:n}=await this._reader.read();return n?{value:void 0,done:!0}:{value:e.buffer,done:!1}}cancel(e){this._reader.cancel(e)}}class kde{constructor(e,n,i){this._msgHandler=i,this.onProgress=null;const s=this._msgHandler.sendWithStream("GetRangeReader",{begin:e,end:n});this._reader=s.getReader()}get isStreamingSupported(){return!1}async read(){const{value:e,done:n}=await this._reader.read();return n?{value:void 0,done:!0}:{value:e.buffer,done:!1}}cancel(e){this._reader.cancel(e)}}class yh{constructor(e){this.name=e,this.terminated=!1,this._capability=Promise.withResolvers()}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}const FC=class FC{static setup(e,n){let i=!1;e.on("test",s=>{i||(i=!0,e.send("test",s instanceof Uint8Array))}),e.on("configure",s=>{hne(s.verbosity)}),e.on("GetDocRequest",s=>this.createDocumentHandler(s,n))}static createDocumentHandler(e,n){let i,s=!1,r=null;const a=new Set,o=dne(),{docId:l,apiVersion:c}=e,u="5.1.91";if(c!==u)throw new Error(`The API version "${c}" does not match the Worker version "${u}".`);const d=[];for(const w in[])d.push(w);if(d.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+d.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const p=l+"_worker";let g=new yR(p,l,n);function m(){if(s)throw new Error("Worker was terminated")}function b(w){a.add(w)}function v(w){w.finish(),a.delete(w)}async function S(w){await i.ensureDoc("checkHeader"),await i.ensureDoc("parseStartXRef"),await i.ensureDoc("parse",[w]),await i.ensureDoc("checkFirstPage",[w]),await i.ensureDoc("checkLastPage",[w]);const A=await i.ensureDoc("isPureXfa");if(A){const D=new yh("loadXfaFonts");b(D),await Promise.all([i.loadXfaFonts(g,D).catch(O=>{}).then(()=>v(D)),i.loadXfaImages()])}const[T,P]=await Promise.all([i.ensureDoc("numPages"),i.ensureDoc("fingerprints")]),R=A?await i.ensureDoc("htmlForXfa"):null;return{numPages:T,fingerprints:P,htmlForXfa:R}}async function C({data:w,password:A,disableAutoFetch:T,rangeChunkSize:P,length:R,docBaseUrl:D,enableXfa:O,evaluatorOptions:B}){const U={source:null,disableAutoFetch:T,docBaseUrl:D,docId:l,enableXfa:O,evaluatorOptions:B,handler:g,length:R,password:A,rangeChunkSize:P};if(w)return U.source=w,new xR(U);const V=new Sde(g),ee=V.getFullReader(),Q=Promise.withResolvers();let G,$=[],ie=0;return ee.headersReady.then(function(){if(ee.isRangeSupported){U.source=V,U.length=ee.contentLength,U.disableAutoFetch||(U.disableAutoFetch=ee.isStreamingSupported),G=new dde(U);for(const he of $)G.sendProgressiveData(he);$=[],Q.resolve(G),r=null}}).catch(function(he){Q.reject(he),r=null}),new Promise(function(he,pe){const X=function({value:te,done:re}){try{if(m(),re){if(!G){const Ee=wO($);$=[],R&&Ee.length!==R&&W("reported HTTP length is different from actual"),U.source=Ee,G=new xR(U),Q.resolve(G)}r=null;return}ie+=te.byteLength,ee.isStreamingSupported||g.send("DocProgress",{loaded:ie,total:Math.max(ie,ee.contentLength||0)}),G?G.sendProgressiveData(te):$.push(te),ee.read().then(X,pe)}catch(Ee){pe(Ee)}};ee.read().then(X,pe)}).catch(function(he){Q.reject(he),r=null}),r=he=>{V.cancelAllRequests(he)},Q.promise}function E(w){function A(R){m(),g.send("GetDoc",{pdfInfo:R})}function T(R){if(m(),R instanceof Bx){const D=new yh(`PasswordException: response ${R.code}`);b(D),g.sendWithPromise("PasswordRequest",R).then(function({password:O}){v(D),i.updatePassword(O),P()}).catch(function(){v(D),g.send("DocException",R)})}else g.send("DocException",Gr(R))}function P(){m(),S(!1).then(A,function(R){if(m(),!(R instanceof M1)){T(R);return}i.requestLoadedStream().then(function(){m(),S(!0).then(A,T)})})}m(),C(w).then(function(R){if(s)throw R.terminate(new hs("Worker was terminated.")),new Error("Worker was terminated");i=R,i.requestLoadedStream(!0).then(D=>{g.send("DataLoaded",{length:D.bytes.byteLength})})}).then(P,T)}return g.on("GetPage",function(w){return i.getPage(w.pageIndex).then(function(A){return Promise.all([i.ensure(A,"rotate"),i.ensure(A,"ref"),i.ensure(A,"userUnit"),i.ensure(A,"view")]).then(function([T,P,R,D]){return{rotate:T,ref:P,refStr:(P==null?void 0:P.toString())??null,userUnit:R,view:D}})})}),g.on("GetPageIndex",function(w){const A=Be.get(w.num,w.gen);return i.ensureCatalog("getPageIndex",[A])}),g.on("GetDestinations",function(w){return i.ensureCatalog("destinations")}),g.on("GetDestination",function(w){return i.ensureCatalog("getDestination",[w.id])}),g.on("GetPageLabels",function(w){return i.ensureCatalog("pageLabels")}),g.on("GetPageLayout",function(w){return i.ensureCatalog("pageLayout")}),g.on("GetPageMode",function(w){return i.ensureCatalog("pageMode")}),g.on("GetViewerPreferences",function(w){return i.ensureCatalog("viewerPreferences")}),g.on("GetOpenAction",function(w){return i.ensureCatalog("openAction")}),g.on("GetAttachments",function(w){return i.ensureCatalog("attachments")}),g.on("GetDocJSActions",function(w){return i.ensureCatalog("jsActions")}),g.on("GetPageJSActions",function({pageIndex:w}){return i.getPage(w).then(A=>i.ensure(A,"jsActions"))}),g.on("GetOutline",function(w){return i.ensureCatalog("documentOutline")}),g.on("GetOptionalContentConfig",function(w){return i.ensureCatalog("optionalContentConfig")}),g.on("GetPermissions",function(w){return i.ensureCatalog("permissions")}),g.on("GetMetadata",function(w){return Promise.all([i.ensureDoc("documentInfo"),i.ensureCatalog("metadata")])}),g.on("GetMarkInfo",function(w){return i.ensureCatalog("markInfo")}),g.on("GetData",function(w){return i.requestLoadedStream().then(A=>A.bytes)}),g.on("GetAnnotations",function({pageIndex:w,intent:A}){return i.getPage(w).then(function(T){const P=new yh(`GetAnnotations: page ${w}`);return b(P),T.getAnnotationsData(g,P,A).then(R=>(v(P),R),R=>{throw v(P),R})})}),g.on("GetFieldObjects",function(w){return i.ensureDoc("fieldObjects").then(A=>(A==null?void 0:A.allFields)||null)}),g.on("HasJSActions",function(w){return i.ensureDoc("hasJSActions")}),g.on("GetCalculationOrderIds",function(w){return i.ensureDoc("calculationOrderIds")}),g.on("SaveDocument",async function({isPureXfa:w,numPages:A,annotationStorage:T,filename:P}){const R=[i.requestLoadedStream(),i.ensureCatalog("acroForm"),i.ensureCatalog("acroFormRef"),i.ensureDoc("startXRef"),i.ensureDoc("xref"),i.ensureDoc("linearization"),i.ensureCatalog("structTreeRoot")],D=new Nr,O=[],B=w?null:AO(T),[U,V,ee,Q,G,$,ie]=await Promise.all(R),he=G.trailer.getRaw("Root")||null;let pe;if(B){ie?await ie.canUpdateStructTree({pdfManager:i,newAnnotationsByPage:B})&&(pe=ie):await Yx.canCreateStructureTree({catalogRef:he,pdfManager:i,newAnnotationsByPage:B})&&(pe=null);const Z=F0.generateImages(T.values(),G,i.evaluatorOptions.isOffscreenCanvasSupported),oe=pe===void 0?O:[];for(const[de,Ie]of B)oe.push(i.getPage(de).then(ye=>{const xe=new yh(`Save (editor): page ${de}`);return b(xe),ye.saveNewAnnotations(g,xe,Ie,Z,D).finally(function(){v(xe)})}));pe===null?O.push(Promise.all(oe).then(async()=>{await Yx.createStructureTree({newAnnotationsByPage:B,xref:G,catalogRef:he,pdfManager:i,changes:D})})):pe&&O.push(Promise.all(oe).then(async()=>{await pe.updateStructureTree({newAnnotationsByPage:B,pdfManager:i,changes:D})}))}if(w)O.push(i.serializeXfaData(T));else for(let Z=0;Z<A;Z++)O.push(i.getPage(Z).then(function(oe){const de=new yh(`Save: page ${Z}`);return b(de),oe.save(g,de,T,D).finally(function(){v(de)})}));const X=await Promise.all(O);let te=null;if(w){if(te=X[0],!te)return U.bytes}else if(D.size===0)return U.bytes;const re=ee&&V instanceof J&&D.values().some(Z=>Z.needAppearances),Ee=V instanceof J&&V.get("XFA")||null;let Re=null,we=!1;if(Array.isArray(Ee)){for(let Z=0,oe=Ee.length;Z<oe;Z+=2)Ee[Z]==="datasets"&&(Re=Ee[Z+1],we=!0);Re===null&&(Re=G.getNewTemporaryRef())}else Ee&&W("Unsupported XFA type.");let K=Object.create(null);if(G.trailer){const Z=Object.create(null),oe=G.trailer.get("Info")||null;if(oe instanceof J)for(const[de,Ie]of oe)typeof Ie=="string"&&(Z[de]=Wt(Ie));K={rootRef:he,encryptRef:G.trailer.getRaw("Encrypt")||null,newRef:G.getNewTemporaryRef(),infoRef:G.trailer.getRaw("Info")||null,info:Z,fileIds:G.trailer.get("ID")||null,startXRef:$?Q:G.lastXRefStreamPos??Q,filename:P}}return vde({originalData:U.bytes,xrefInfo:K,changes:D,xref:G,hasXfa:!!Ee,xfaDatasetsRef:Re,hasXfaDatasetsEntry:we,needAppearances:re,acroFormRef:ee,acroForm:V,xfaData:te,useXrefStream:bO(G.topDict,"XRef")}).finally(()=>{G.resetNewTemporaryRef()})}),g.on("GetOperatorList",function(w,A){const T=w.pageIndex;i.getPage(T).then(function(P){const R=new yh(`GetOperatorList: page ${T}`);b(R);const D=o>=Ox.INFOS?Date.now():0;P.getOperatorList({handler:g,sink:A,task:R,intent:w.intent,cacheKey:w.cacheKey,annotationStorage:w.annotationStorage,modifiedIds:w.modifiedIds}).then(function(O){v(R),D&&Pt(`page=${T+1} - getOperatorList: time=${Date.now()-D}ms, len=${O.length}`),A.close()},function(O){v(R),!R.terminated&&A.error(O)})})}),g.on("GetTextContent",function(w,A){const{pageIndex:T,includeMarkedContent:P,disableNormalization:R}=w;i.getPage(T).then(function(D){const O=new yh("GetTextContent: page "+T);b(O);const B=o>=Ox.INFOS?Date.now():0;D.extractTextContent({handler:g,task:O,sink:A,includeMarkedContent:P,disableNormalization:R}).then(function(){v(O),B&&Pt(`page=${T+1} - getTextContent: time=${Date.now()-B}ms`),A.close()},function(U){v(O),!O.terminated&&A.error(U)})})}),g.on("GetStructTree",function(w){return i.getPage(w.pageIndex).then(A=>i.ensure(A,"getStructTree"))}),g.on("FontFallback",function(w){return i.fontFallback(w.id,g)}),g.on("Cleanup",function(w){return i.cleanup(!0)}),g.on("Terminate",function(w){s=!0;const A=[];if(i){i.terminate(new hs("Worker was terminated."));const T=i.cleanup();A.push(T),i=null}else uC();r==null||r(new hs("Worker was terminated."));for(const T of a)A.push(T.finished),T.terminate();return Promise.all(A).then(function(){g.destroy(),g=null})}),g.on("Ready",function(w){E(e),e=null}),p}static initializeFromPort(e){const n=new yR("worker","main",e);this.setup(n,e),n.send("ready",null)}};typeof window>"u"&&!lne&&typeof self<"u"&&typeof self.postMessage=="function"&&"onmessage"in self&&FC.initializeFromPort(self);let tk=FC;fO.WorkerMessageHandler;const Cde=()=>{const[t,e]=H.useState([]),[n,i]=H.useState(!0),[s,r]=H.useState(""),a=H.useRef(),o="https://raw.githubusercontent.com/Rafiquzzaman420/Free-Programming-Books/4c4222930e89e7d39b4f4f913a73491d18ff7ad1/Java/Basic%20to%20advance%20concepts/Java%20Quick%20Syntax%20Reference.pdf";H.useEffect(()=>{(async()=>{try{const p=await one(o).promise,g=p.numPages,m=[];for(let b=1;b<=g;b++){const v=await p.getPage(b),S=v.getViewport({scale:1.5}),C=document.createElement("canvas"),E=C.getContext("2d");C.width=S.width,C.height=S.height,await v.render({canvasContext:E,viewport:S}).promise,m.push(C.toDataURL())}e(m),i(!1)}catch(p){console.error("PDF loading error:",p)}})()},[]);const l=()=>{const d=parseInt(s);!isNaN(d)&&d>=1&&d<=t.length&&a.current.pageFlip().flip(d-1)},c=()=>{a.current.pageFlip().flipNext()},u=()=>{a.current.pageFlip().flipPrev()};return n?_.jsx("div",{className:"min-h-screen flex items-center justify-center text-xl font-medium",children:"Loading your book..."}):_.jsx("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center px-4 py-6",children:_.jsxs("div",{className:"container",children:[_.jsxs("div",{className:"book-info mb-6 max-w-[1200px] mx-auto",children:[_.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Book Title"}),_.jsx("p",{className:"text-gray-600 mt-2",children:"Author Name"}),_.jsx("p",{className:"text-gray-600 mt-2",children:"Published Year"}),_.jsx("p",{className:"text-gray-600 mt-2",children:"Category"}),_.jsx("p",{className:"text-gray-600 mt-2",children:"Description of the book goes here. This is a brief overview of what the book is about."})]}),_.jsxs("div",{className:"relative w-full max-w-[1200px] flex items-center justify-center mx-auto",children:[_.jsx("button",{onClick:u,className:"hidden md:flex absolute h-full left-0 z-10 px-4 py-2",children:_.jsx("span",{className:"my-auto ",children:_.jsx(LK,{className:"text-2xl"})})}),_.jsx(pee,{width:450,height:500,size:"stretch",minWidth:315,maxWidth:1e3,minHeight:400,maxHeight:1533,maxShadowOpacity:.5,showCover:!1,className:"shadow-lg border mx-auto",mobileScrollSupport:!0,ref:a,children:t.map((d,p)=>_.jsx("div",{className:"page bg-white mx-auto",children:_.jsx("img",{src:d,alt:`Page ${p+1}`,className:"w-full h-full object-contain mx-auto"})},p))}),_.jsx("button",{onClick:c,className:"hidden md:flex absolute h-full right-0 z-10 px-4 py-2",children:_.jsx("span",{className:"my-auto",children:_.jsx(OK,{className:"text-2xl"})})})]}),_.jsxs("div",{className:"mt-6 text-center",children:[_.jsx("input",{type:"number",min:"1",max:t.length,value:s,onChange:d=>r(d.target.value),className:"border px-3 py-2 rounded mr-2 w-40 border-gray-300 focus:outline-none focus:ring focus:ring-blue-600",placeholder:"Page number"}),_.jsx("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Jump to"})]})]})})},Ede=()=>{const t=l6();return H.useEffect(()=>{if(t){const e=Iy("http://localhost:3000",{query:{userId:t}});return()=>{e.disconnect()}}},[]),_.jsx("div",{className:"bg-gray-100",children:_.jsx(zK,{clientId:"63340453936-kb9rrqgog7dnihbu53p7quedj9a3u7vt.apps.googleusercontent.com",children:_.jsx(QK,{enableAnimation:!0,children:_.jsxs(_z,{children:[_.jsx(XM,{noRenderPaths:["/signin","/signup","/forget-password","/reset-password","/email-verified","/privacy-policies"],children:_.jsx(eY,{})}),_.jsx(jl,{}),_.jsx("main",{className:"app-body",children:_.jsxs(bz,{children:[_.jsx(di,{path:"/",element:_.jsx(oY,{})}),_.jsx(di,{path:"/signup",element:_.jsx(VK,{})}),_.jsx(di,{path:"/signin",element:_.jsx(lY,{})}),_.jsx(di,{path:"/profile/:username",element:_.jsx(SZ,{})}),_.jsx(di,{path:"/uploads",element:_.jsx(Cy,{component:_.jsx(HJ,{})})}),_.jsx(di,{path:"/settings",element:_.jsx(Cy,{component:_.jsx(PJ,{})})}),_.jsx(di,{path:"/:username/:userId/document/:filename/:fileId/view",element:_.jsx(WJ,{})}),_.jsx(di,{path:"/document-search",element:_.jsx(QJ,{})}),_.jsx(di,{path:"/books",element:_.jsx(sQ,{})}),_.jsx(di,{path:"/book/view",element:_.jsx(Cde,{})}),_.jsx(di,{path:"/solve-doubt",element:_.jsx(Cy,{component:_.jsx(JJ,{})})}),_.jsx(di,{path:"/tools",element:_.jsx(oee,{})}),_.jsx(di,{path:"/docx-to-pdf",element:_.jsx(lee,{})}),_.jsx(di,{path:"/pdf-to-docx",element:_.jsx(cee,{})}),_.jsx(di,{path:"/leaderboard",element:_.jsx(see,{})}),_.jsx(di,{path:"/email-verified/",element:_.jsx(rQ,{})}),_.jsx(di,{path:"/forget-password",element:_.jsx(aQ,{})}),_.jsx(di,{path:"/reset-password/",element:_.jsx(oQ,{})}),_.jsx(di,{path:"/privacy-policies",element:_.jsx(lQ,{})}),_.jsx(di,{path:"*",element:_.jsx(VJ,{})})]})}),_.jsx(qJ,{})]})})})})},_de=cX({reducer:{auth:jX,user:mY,chatbot:KJ,documents:aY,books:iQ,leaderboard:iee}});TU.createRoot(document.getElementById("root")).render(_.jsx(eK,{store:_de,children:_.jsx(Ede,{})}));
